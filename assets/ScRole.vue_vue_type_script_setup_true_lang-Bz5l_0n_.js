var e=Object.defineProperty,o=(o,l,s)=>((o,l,s)=>l in o?e(o,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[l]=s)(o,"symbol"!=typeof l?l+"":l,s);import{u as l}from"./store-module/user/userStore-8LCsejjm.js";import{_ as s}from"./ScTag.vue_vue_type_script_setup_true_lang-DsxShMn2.js";import{v as t,U as r,f as a,B as u,I as n,o as v,F as i,y as p,D as f,J as x,A as c,C as m}from"./lucide-vue-next-Cfi51zEF.js";const d=new class g{constructor(e=100,l=1.5,s=0){o(this,"baseExp"),o(this,"exponent"),o(this,"offset"),this.baseExp=e,this.exponent=l,this.offset=s}getExpForLevel(e){return Math.floor(this.baseExp*Math.pow(e,this.exponent)+this.offset)}getTotalExpForLevel(e){let o=0;for(let l=1;l<e;l++)o+=this.getExpForLevel(l);return o}getLevelFromExp(e){let o=1;for(;this.getTotalExpForLevel(o+1)<=e;)o++;return o}}(10,1.7,50),h={key:0},y={key:1},b=t({__name:"ScRole",props:{user:{},size:{default:"md"},isAll:{type:Boolean,default:!1},noRole:{type:Boolean,default:!1},noLevel:{type:Boolean,default:!1}},setup(e){const o=l(),t=e,g=r(()=>{const e=t.user??o.userInfo;return e.roles&&e.roles.sort((e,o)=>e.id-o.id),e});return(e,o)=>{var l;return t.isAll&&g.value.roles&&g.value.roles.length>0?(v(!0),a(i,{key:0},p(g.value.roles,e=>(v(),u(s,{key:e.id,bgColor:e.color,size:t.size},{default:f(()=>[t.noRole?n("",!0):(v(),a(i,{key:0},[x(c(e.name),1)],64))]),_:2},1032,["bgColor","size"]))),128)):t.isAll&&g.value.roles?(v(),u(s,{key:1,bgColor:(null==(l=g.value.roles[0])?void 0:l.color)??"var(--color-active)",size:t.size,status:g.value.roles[0]?"":"info"},{default:f(()=>{var e;return[!t.noLevel&&(g.value.level??m(d).getLevelFromExp(g.value.exp))?(v(),a("span",h," Lv"+c(g.value.level?g.value.level:m(d).getLevelFromExp(g.value.exp)),1)):n("",!0),t.noRole?n("",!0):(v(),a("span",y,c((null==(e=g.value.roles[0])?void 0:e.name)??g.value.rank),1))]}),_:1},8,["bgColor","size","status"])):n("",!0)}}});export{b as _};
