import{v as e,U as a,x as t,f as s,o as n,q as l,g as u,C as o,D as r,J as i,A as c,F as d,y as p,B as m,Y as g,ay as _,Z as b}from"./lucide-vue-next-DYmFLWJU.js";import{_ as v}from"./ScButton.vue_vue_type_script_setup_true_lang-BX58BrIO.js";import{_ as f}from"./PopupBox.vue_vue_type_script_setup_true_lang-BdPrsjnz.js";import{_ as x}from"./Card.vue_vue_type_script_setup_true_lang-bjhPCac0.js";import{_ as y}from"./ScInput.vue_vue_type_script_setup_true_lang-BGlwauwP.js";import{u as h,C as P}from"./vendor-lucide-DYSNolYz.js";const C={class:"flex items-center justify-between px-4 py-3 sm:px-6"},k={class:"flex flex-1 items-center justify-between sm:hidden"},w={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},j={class:"pr-4"},z={class:"text-sm text-background-content"},B={class:"isolate inline-flex rounded-md shadow-sm"},V=["placeholder","onKeydown","max"],$=e({__name:"Pagination",props:{currentPage:{type:Number,required:!0,default:1},totalItems:{type:Number,required:!0,default:0},pageSize:{type:Number,required:!0,default:10},maxVisiblePages:{type:Number,default:5}},emits:["page-change"],setup(e,{emit:$}){const I=e,M=$,S=a(()=>Math.ceil(I.totalItems/I.pageSize)),N=a(()=>{const e=[],a=Math.floor(I.maxVisiblePages/2);let t=Math.max(I.currentPage-a,1),s=Math.min(t+I.maxVisiblePages-1,S.value);s-t+1<I.maxVisiblePages&&(t=Math.max(s-I.maxVisiblePages+1,1)),t>1&&(e.push(1),t>2&&e.push("..."));for(let n=t;n<=s;n++)e.push(n);return s<S.value&&(s<S.value-1&&e.push("..."),e.push(S.value)),e}),q=t(I.currentPage),T=e=>{(e=Number(e))<1||e>S.value||e===I.currentPage||M("page-change",e)};return(a,t)=>(n(),s("div",C,[l("div",k,[u(v,{variant:"ghost",disabled:e.currentPage<=1,icon:o(h),noBg:"",onClick:t[0]||(t[0]=a=>T(e.currentPage-1))},{default:r(()=>[i(c(a.$t("b.shang-yi-ye")),1)]),_:1},8,["disabled","icon"]),u(f,{ref:"popupBox",buttonText:a.$t("b.di-currentpage-totalpages-ye",[e.currentPage,S.value]),position:"top"},{default:r(({close:e})=>[u(x,{noCol:"",noPg:"",class:"p-2"},{default:r(()=>[u(y,{modelValue:q.value,"onUpdate:modelValue":t[1]||(t[1]=e=>q.value=e),class:"w-20 text-center",type:"number",placeholder:a.$t("b.ye-ma"),min:"1",max:S.value},null,8,["modelValue","placeholder","max"]),u(v,{Border:"",onClick:a=>(T(q.value),e())},{default:r(()=>[i(c(a.$t("b.tiao-zhuan")),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:1},8,["buttonText"]),u(v,{variant:"ghost",disabled:e.currentPage>=S.value,noBg:"",onClick:t[2]||(t[2]=a=>T(e.currentPage+1))},{endIcon:r(()=>[u(o(P),{size:16})]),default:r(()=>[i(" "+c(a.$t("b.xia-yi-ye")),1)]),_:1},8,["disabled"])]),l("div",w,[l("div",j,[l("p",z,c(a.$t("b.xian-shi-currentpage-1-pagesize-1-dao-mathmincurrentpage-pagesize-totalitems-tiao-gong-totalitems-tiao",[(e.currentPage-1)*e.pageSize+1,Math.min(e.currentPage*e.pageSize,e.totalItems),e.totalItems])),1)]),l("div",null,[l("nav",B,[u(v,{class:"rounded-l-md w-10",disabled:e.currentPage<=1,icon:o(h),onClick:t[3]||(t[3]=a=>T(e.currentPage-1))},null,8,["disabled","icon"]),(n(!0),s(d,null,p(N.value,o=>(n(),s(d,{key:o},["..."===o?(n(),m(f,{key:0,buttonText:"...",position:"top"},{default:r(({close:e})=>[u(x,{noCol:"",noPd:"",class:"flex items-center justify-center w-40 p-2 gap-2 rounded-md"},{default:r(()=>[g(l("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>q.value=e),class:"w-20 text-center border border-gray-content/50 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:a.$t("b.ye-ma"),onKeydown:[_(a=>(T(q.value),e()),["enter"]),_(a=>e(),["esc"])],min:"1",max:S.value},null,40,V),[[b,q.value]]),u(v,{class:"border-gray-content/50 w-20",Border:"",noPd:"",onClick:a=>(T(q.value),e())},{default:r(()=>[i(c(a.$t("b.tiao-zhuan")),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:1})):(n(),m(v,{key:1,class:"h-10 w-10",activation:o==e.currentPage,onClick:e=>T(o)},{default:r(()=>[i(c(o),1)]),_:2},1032,["activation","onClick"]))],64))),128)),u(v,{class:"rounded-r-md w-8",disabled:e.currentPage>=S.value,noBg:"",icon:o(P),onClick:t[5]||(t[5]=a=>T(+e.currentPage+1))},null,8,["disabled","icon"])])])])]))}});export{$ as _};
