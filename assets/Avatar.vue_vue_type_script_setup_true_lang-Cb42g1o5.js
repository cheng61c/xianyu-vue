import{k as e}from"./store-module/admin/service-B8wAbs3A.js";import{v as s,x as a,N as t,f as l,o as r,z as o,E as c,A as i}from"./lucide-vue-next-DYmFLWJU.js";const n=["src","alt"],u={key:1},f=s({__name:"Avatar",props:{src:{},alt:{},size:{default:26},isLocal:{type:Boolean,default:!1}},setup(s){const f=s,v=a(!1),d=a(f.isLocal?f.src:e(f.src)),p=a(!1);t(()=>f.src,()=>{v.value=!1,p.value=!1,d.value=f.isLocal?f.src:e(f.src)});const m=()=>{if(!p.value&&"string"==typeof f.src){const s=/!\/fwfh\/\d+x\d+$/;if(s.test(f.src)){p.value=!0;const a=f.src.replace(s,"");return void(d.value=f.isLocal?a:e(a))}}v.value=!0};return(e,a)=>(r(),l("div",{class:c(["flex items-center justify-center text-gray-content font-bold overflow-hidden rounded-md flex-shrink-0",{"bg-gray":v.value}]),style:o({width:s.size+"px",height:s.size+"px",fontSize:s.size/2+"px"})},[v.value?(r(),l("span",u,i(s.alt?.charAt(0)||"?"),1)):(r(),l("img",{key:0,class:"w-full h-full object-cover",src:d.value,alt:s.alt,onError:m},null,40,n))],6))}});export{f as _};
