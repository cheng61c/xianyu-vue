import{e as t,i as e,f as a,j as d,m as n}from"../admin/service-Dq4pkIEc.js";import{u as r}from"./MessageStore-C08lLcDa.js";const s=r(),p=n=>{t().then(t=>{if(200===t.data.code){const d=t.data.data;s.replyUnread=d.filter(t=>1===t.type).map(t=>(t.content=e(t.content??""),t.createdAt=a(t.createdAt,n),t.updatedAt=a(t.updatedAt,n),t)),s.likesUnread=d.filter(t=>2===t.type).map(t=>(t.content=e(t.content??""),t.createdAt=a(t.createdAt,n),t.updatedAt=a(t.updatedAt,n),t)),s.systemUnread=d.filter(t=>3===t.type).map(t=>(t.content=e(t.content??""),t.createdAt=a(t.createdAt,n),t.updatedAt=a(t.updatedAt,n),t))}}),d({status:1}).then(t=>{if(200===t.data.code){const d=t.data.data;s.replyRead=d.filter(t=>1===t.type).map(t=>(t.content=e(t.content??""),t.createdAt=a(t.createdAt,n),t.updatedAt=a(t.updatedAt,n),t)),s.likesRead=d.filter(t=>2===t.type).map(t=>(t.content=e(t.content??""),t.createdAt=a(t.createdAt,n),t.updatedAt=a(t.updatedAt,n),t)),s.systemRead=d.filter(t=>3===t.type).map(t=>(t.content=e(t.content??""),t.createdAt=a(t.createdAt,n),t.updatedAt=a(t.updatedAt,n),t))}})},c=()=>{n().then(t=>{200===t.data.code&&(s.replyRead.push(...s.replyUnread),s.replyUnread=[],s.likesRead.push(...s.likesUnread),s.likesUnread=[],s.systemRead.push(...s.systemUnread),s.systemUnread=[])})};export{p as g,c as m};
