import{_ as e}from"./ScSelector.vue_vue_type_script_setup_true_lang-DdvKffTA.js";import{_ as a}from"./Card.vue_vue_type_script_setup_true_lang-CKUt07f3.js";import{_ as l}from"./ScInput.vue_vue_type_script_setup_true_lang-mHghoQCQ.js";import{_ as t}from"./ScButton.vue_vue_type_script_setup_true_lang-Ef9ZHzzG.js";import{_ as u}from"./EmptyState.vue_vue_type_script_setup_true_lang-Bg-k0MPd.js";import{ae as s,f as n,af as o}from"./store-module/admin/service-Dq4pkIEc.js";import{_ as i}from"./Pagination.vue_vue_type_script_setup_true_lang-DhJQJgY1.js";import{_ as r}from"./ScModal.vue_vue_type_script_setup_true_lang-Go71FWDS.js";import{v as c,w as d,x as v,H as p,f as m,o as b,g,B as f,I as x,D as _,q as h,J as y,A as j,F as $,y as k,C as w}from"./lucide-vue-next-Cfi51zEF.js";import{_ as z}from"./ScRole.vue_vue_type_script_setup_true_lang-Bz5l_0n_.js";import{$ as V,a0 as C}from"./vendor-lucide-BLqUBl1f.js";import"./store-global/configStore-BTeIPwoA.js";import"./store-module/user/userStore-8LCsejjm.js";import"./store-module/post/postStore-D6edmGvH.js";import"./PopupBox.vue_vue_type_script_setup_true_lang-8C3JL_QJ.js";import"./ScTag.vue_vue_type_script_setup_true_lang-DsxShMn2.js";const q={class:"flex gap-4"},I={class:"flex gap-4"},S={class:"flex gap-4"},B={class:"flex items-center gap-2 w-full"},A={class:"flex items-center gap-2 w-full"},U={class:"overflow-x-auto"},D={class:"table"},T={class:"flex items-center gap-2 flex-wrap"},P={class:"flex items-center gap-2 flex-wrap"},E={class:"flex items-center gap-2 flex-wrap"},F={class:"text-xl mb-4"},M={class:"flex items-center gap-2"},R={class:"text-gray-content"},H={class:"flex items-center gap-2"},J={class:"text-gray-content"},G={class:"text-gray-content"},K={class:"flex items-center gap-2"},L={class:"text-gray-content"},N={class:"flex items-center gap-2 flex-wrap"},O={class:"flex items-center gap-2"},Q={class:"text-gray-content"},W={class:"flex items-center gap-2 flex-wrap"},X={class:"flex items-center gap-2"},Y={class:"text-gray-content"},Z={class:"text-gray-content"},ee={class:"flex gap-4 justify-end"},ae={class:"text-xl mb-4"},le={class:"flex items-center gap-2"},te={class:"text-gray-content"},ue={class:"flex items-center gap-2"},se={class:"text-gray-content"},ne={class:"text-gray-content"},oe={class:"flex items-center gap-2"},ie={class:"text-gray-content"},re={class:"flex items-center gap-2 flex-wrap"},ce={class:"flex items-center gap-2"},de={class:"text-gray-content"},ve={class:"text-gray-content"},pe={class:"flex items-center gap-2"},me={class:"text-gray-content"},be={class:"flex items-center gap-2 flex-wrap"},ge={class:"flex items-center gap-2"},fe={class:"text-gray-content"},xe={class:"flex gap-4 justify-end"},_e=c({__name:"MobileAdminReport",setup(c){const{t:_e}=d(),he=v(""),ye=v(0),je=v(0),$e=[{value:0,label:_e("b.quan-bu")},{value:1,label:_e("b.wei-chu-li")},{value:2,label:_e("b.feng-jin")},{value:3,label:_e("b.bu-feng-jin")}],ke={0:_e("b.quan-bu"),1:_e("b.wei-chu-li"),2:_e("b.feng-jin"),3:_e("b.bu-feng-jin")},we=v(0),ze=[{value:0,label:_e("b.sou-suo-ju-bao-zhe-id")},{value:1,label:_e("b.sou-suo-ju-bao-mu-biao-id")},{value:2,label:_e("b.sou-suo-chu-li-ren-id")}],Ve=v(0),Ce=[{value:0,label:_e("b.quan-bu")},{value:1,label:_e("nav.tie-zi")},{value:2,label:_e("nav.ping-lun")},{value:3,label:_e("nav.fu-wu-qi")},{value:4,label:_e("b.yong-hu")}],qe={0:_e("b.quan-bu"),1:_e("nav.tie-zi"),2:_e("nav.ping-lun"),3:_e("nav.fu-wu-qi"),4:_e("b.yong-hu")},Ie=v({page:1,total:0,limit:10}),Se=v([]),Be=v(!1),Ae=v(-1),Ue=v(""),De=v(!1),Te=e=>{Ie.value.page=e,Ee()},Pe=()=>{Ie.value.page=1,Ee()},Ee=()=>{const e={},a="object"==typeof ye.value?ye.value.value:ye.value,l="object"==typeof Ve.value?Ve.value.value:Ve.value,t="object"==typeof we.value?we.value.value:we.value;if(e.page=Ie.value.page,e.limit=Ie.value.limit,0!==t&&he.value)switch(t){case 0:e.userId=he.value;break;case 1:e.targetId=he.value;break;case 2:e.handlerId=he.value}0!==a&&(e.status=a),0!==l&&(e.targetType=l),s(e).then(e=>{200===e.data.code&&(Se.value=e.data.data.list.map(e=>(e.createdAt=n(e.createdAt,_e),e.updatedAt=n(e.updatedAt,_e),e)),Ie.value.limit=e.data.data.limit||10,Ie.value.page=e.data.data.page||1,Ie.value.total=e.data.data.total||0)}).catch(e=>{})},Fe=e=>{const a=Se.value[e],l="object"==typeof je.value?je.value.value:je.value;if(!De.value)return Ae.value=e,Ue.value=a.result||"",je.value=a.status,void(De.value=!0);o({id:a.id,result:Ue.value,status:l}).then(e=>{200===e.data.code&&(Ee(),De.value=!1)}).catch(e=>{})};return p(()=>{Ee()}),(s,n)=>(b(),m($,null,[g(a,{class:"mb-4"},{default:_(()=>[h("div",q,[g(l,{modelValue:he.value,"onUpdate:modelValue":n[0]||(n[0]=e=>he.value=e),placeholder:s.$t("b.sou-suo"),class:"w-full"},null,8,["modelValue","placeholder"])]),h("div",I,[g(e,{modelValue:we.value,"onUpdate:modelValue":n[1]||(n[1]=e=>we.value=e),options:ze,placeholder:s.$t("b.sou-suo-ju-bao-zhe-id"),class:"flex-1"},null,8,["modelValue","placeholder"]),g(t,{class:"px-4",Border:"",onClick:Pe},{default:_(()=>[y(j(s.$t("b.sou-suo")),1)]),_:1}),g(t,{class:"px-4",Border:"",onClick:Ee},{default:_(()=>[y(j(s.$t("b.shua-xin")),1)]),_:1})]),h("div",S,[h("label",B,[h("span",null,j(s.$t("d.ju-bao-lei-xing")),1),g(e,{modelValue:Ve.value,"onUpdate:modelValue":n[2]||(n[2]=e=>Ve.value=e),options:Ce,placeholder:s.$t("b.quan-bu"),class:"flex-1"},null,8,["modelValue","placeholder"])]),h("label",A,[h("span",null,j(s.$t("b.zhuang-tai")),1),g(e,{modelValue:ye.value,"onUpdate:modelValue":n[3]||(n[3]=e=>ye.value=e),options:$e,placeholder:s.$t("b.quan-bu"),class:"flex-1"},null,8,["modelValue","placeholder"])])])]),_:1}),Se.value.length?(b(),f(a,{key:0,class:"mb-4"},{default:_(()=>[h("div",U,[h("table",D,[h("thead",null,[h("tr",null,[n[13]||(n[13]=h("th",null,"ID",-1)),h("th",null,j(s.$t("b.mu-biao-lei-xing")),1),h("th",null,j(s.$t("b.mu-biao-id")),1),h("th",null,j(s.$t("b.ju-bao-zhe")),1),h("th",null,j(s.$t("b.chu-li-ren")),1),h("th",null,j(s.$t("b.chu-li-zhuang-tai")),1),h("th",null,j(s.$t("b.chu-li-bei-zhu")),1),h("th",null,j(s.$t("b.chuang-jian-shi-jian")),1),h("th",null,j(s.$t("b.geng-xin-shi-jian")),1),h("th",null,j(s.$t("b.cao-zuo")),1)])]),h("tbody",null,[(b(!0),m($,null,k(Se.value,(e,a)=>{var l;return b(),m("tr",{key:e.id},[h("th",null,j(e.id),1),h("td",null,j(qe[e.targetType]),1),h("td",null,j(e.targetId),1),h("td",null,[h("div",T,[y(j(e.creator.nickname)+" ",1),g(z,{size:"xs",user:e.creator},null,8,["user"])])]),h("td",null,[h("div",P,[y(j((null==(l=e.handler)?void 0:l.nickname)??"null")+" ",1),g(z,{size:"xs",user:e.handler},null,8,["user"])])]),h("td",null,j(ke[e.status]),1),h("td",null,j(e.result),1),h("td",null,j(e.createdAt),1),h("td",null,j(e.updatedAt),1),h("td",null,[h("div",E,[g(t,{onClick:e=>(e=>{Ae.value=e,Be.value=!0})(a),Border:""},{default:_(()=>[y(j(s.$t("b.cha-kan-xiang-qing")),1)]),_:1},8,["onClick"]),g(t,{onClick:e=>Fe(a),Border:""},{default:_(()=>[y(j(s.$t("b.shen-he")),1)]),_:1},8,["onClick"])])])])}),128))])])])]),_:1})):x("",!0),Se.value.length?(b(),f(i,{key:1,"current-page":Ie.value.page,"total-items":Ie.value.total,"page-size":Ie.value.limit,onPageChange:Te},null,8,["current-page","total-items","page-size"])):(b(),f(u,{key:2,title:s.$t("t.zan-wu-tie-zi"),iconSize:"64",iconColor:"#ccc",icon:w(C),class:"mt-8",action:"点击刷新",actionIcon:w(V),onActionClick:Te},null,8,["title","icon","actionIcon"])),g(r,{modelValue:Be.value,"onUpdate:modelValue":n[6]||(n[6]=e=>Be.value=e)},{default:_(()=>[g(a,{class:"w-[95vw] max-h-[80vh] overflow-y-auto"},{default:_(()=>{var e;return[h("div",F,j(s.$t("d.ju-bao-xiang-qing")),1),h("div",M,[h("span",R,j(s.$t("d.ju-bao-mu-biao-id")),1),h("span",{class:"text-active link",onClick:n[4]||(n[4]=e=>s.$router.push({name:"postDetails",params:{postId:Se.value[Ae.value].targetId}}))},j(Se.value[Ae.value].targetId),1)]),h("div",H,[h("span",J,j(s.$t("d.ju-bao-mu-biao-lei-xing")),1),h("span",G,j(qe[Se.value[Ae.value].targetType]),1)]),h("div",K,[h("span",L,j(s.$t("d.ju-bao-zhe-id")),1),h("div",N,[y(j(Se.value[Ae.value].creator.nickname)+" ",1),g(z,{size:"xs",user:Se.value[Ae.value].creator},null,8,["user"])])]),h("div",O,[h("span",Q,j(s.$t("d.chu-li-ren-id")),1),h("div",W,[y(j((null==(e=Se.value[Ae.value].handler)?void 0:e.nickname)??"未知")+" ",1),g(z,{size:"xs",user:Se.value[Ae.value].handler},null,8,["user"])])]),h("div",X,[h("span",Y,j(s.$t("d.ju-bao-li-you")),1),h("div",Z,j(Se.value[Ae.value].reason),1)]),h("div",ee,[g(t,{class:"px-4",onClick:n[5]||(n[5]=e=>Be.value=!1),Border:""},{default:_(()=>[y(j(s.$t("b.qu-xiao")),1)]),_:1})])]}),_:1})]),_:1},8,["modelValue"]),g(r,{modelValue:De.value,"onUpdate:modelValue":n[12]||(n[12]=e=>De.value=e)},{default:_(()=>[g(a,{class:"w-[95vw] max-h-[80vh] overflow-y-auto"},{default:_(()=>[h("div",ae,j(s.$t("b.shen-he")),1),h("div",le,[h("span",te,j(s.$t("d.ju-bao-mu-biao-id")),1),h("span",{class:"text-active link",onClick:n[7]||(n[7]=e=>s.$router.push({name:"postDetails",params:{postId:Se.value[Ae.value].targetId}}))},j(Se.value[Ae.value].targetId),1)]),h("div",ue,[h("span",se,j(s.$t("d.ju-bao-mu-biao-lei-xing")),1),h("span",ne,j(qe[Se.value[Ae.value].targetType]),1)]),h("div",oe,[h("span",ie,j(s.$t("d.ju-bao-zhe-id")),1),h("div",re,[y(j(Se.value[Ae.value].creator.nickname)+" ",1),g(z,{size:"xs",user:Se.value[Ae.value].creator},null,8,["user"])])]),h("div",ce,[h("span",de,j(s.$t("d.ju-bao-li-you")),1),h("div",ve,j(Se.value[Ae.value].reason),1)]),n[14]||(n[14]=h("div",{class:"border border-gray/60 mb-4"},null,-1)),h("div",pe,[h("span",me,j(s.$t("d.she-zhi-zhuang-tai")),1),h("div",be,[g(e,{modelValue:je.value,"onUpdate:modelValue":n[8]||(n[8]=e=>je.value=e),options:$e,placeholder:s.$t("b.quan-bu"),class:"w-40"},null,8,["modelValue","placeholder"])])]),h("div",ge,[h("span",fe,j(s.$t("d.chu-li-bei-zhu")),1)]),g(l,{modelValue:Ue.value,"onUpdate:modelValue":n[9]||(n[9]=e=>Ue.value=e),placeholder:s.$t("d.qing-shu-ru-chu-li-bei-zhu"),multiline:"",rows:5,resizable:!1,class:"mt-2 mb-4"},null,8,["modelValue","placeholder"]),h("div",xe,[g(t,{class:"px-4",onClick:n[10]||(n[10]=e=>Fe(Ae.value)),Border:""},{default:_(()=>[y(j(s.$t("b.ti-jiao")),1)]),_:1}),g(t,{class:"px-4",onClick:n[11]||(n[11]=e=>De.value=!1),Border:""},{default:_(()=>[y(j(s.$t("b.qu-xiao")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue"])],64))}});export{_e as default};
