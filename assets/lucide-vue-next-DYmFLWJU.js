function e(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}const t={},n=[],i=()=>{},r=()=>!1,o=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),a=e=>e.startsWith("onUpdate:"),s=Object.assign,l=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},c=Object.prototype.hasOwnProperty,u=(e,t)=>c.call(e,t),h=Array.isArray,d=e=>"[object Map]"===_(e),p=e=>"[object Set]"===_(e),f=e=>"[object Date]"===_(e),g=e=>"function"==typeof e,m=e=>"string"==typeof e,v=e=>"symbol"==typeof e,y=e=>null!==e&&"object"==typeof e,b=e=>(y(e)||g(e))&&g(e.then)&&g(e.catch),x=Object.prototype.toString,_=e=>x.call(e),w=e=>"[object Object]"===_(e),S=e=>m(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,M=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),k=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},C=/-\w/g,T=k(e=>e.replace(C,e=>e.slice(1).toUpperCase())),A=/\B([A-Z])/g,I=k(e=>e.replace(A,"-$1").toLowerCase()),D=k(e=>e.charAt(0).toUpperCase()+e.slice(1)),O=k(e=>e?`on${D(e)}`:""),E=(e,t)=>!Object.is(e,t),L=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},R=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},N=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let P;const z=()=>P||(P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function B(e){if(h(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=m(i)?W(i):B(i);if(r)for(const e in r)t[e]=r[e]}return t}if(m(e)||y(e))return e}const V=/;(?![^(]*\))/g,F=/:([^]+)/,H=/\/\*[^]*?\*\//g;function W(e){const t={};return e.replace(H,"").split(V).forEach(e=>{if(e){const n=e.split(F);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function $(e){let t="";if(m(e))t=e;else if(h(e))for(let n=0;n<e.length;n++){const i=$(e[n]);i&&(t+=i+" ")}else if(y(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const j=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function G(e){return!!e||""===e}function U(e,t){if(e===t)return!0;let n=f(e),i=f(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=v(e),i=v(t),n||i)return e===t;if(n=h(e),i=h(t),n||i)return!(!n||!i)&&function r(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=U(e[i],t[i]);return n}(e,t);if(n=y(e),i=y(t),n||i){if(!n||!i)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const i=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(i&&!r||!i&&r||!U(e[n],t[n]))return!1}}return String(e)===String(t)}function X(e,t){return e.findIndex(e=>U(e,t))}const q=e=>!(!e||!0!==e.__v_isRef),Y=e=>m(e)?e:null==e?"":h(e)||y(e)&&(e.toString===x||!g(e.toString))?q(e)?Y(e.value):JSON.stringify(e,Z,2):String(e),Z=(e,t)=>q(t)?Z(e,t.value):d(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],i)=>(e[K(t,i)+" =>"]=n,e),{})}:p(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>K(e))}:v(t)?K(t):!y(t)||h(t)||w(t)?t:String(t),K=(e,t="")=>{var n;return v(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};let J,Q;class ee{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=J,!e&&J&&(this.index=(J.scopes||(J.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=J;try{return J=this,e()}finally{J=t}}}on(){1===++this._on&&(this.prevScope=J,J=this)}off(){this._on>0&&0===--this._on&&(J=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function te(e){return new ee(e)}function ne(){return J}const ie=new WeakSet;class re{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,J&&J.active&&J.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,ie.has(this)&&(ie.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||le(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,_e(this),he(this);const e=Q,t=ve;Q=this,ve=!0;try{return this.fn()}finally{de(this),Q=e,ve=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)ge(e);this.deps=this.depsTail=void 0,_e(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?ie.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){pe(this)&&this.run()}get dirty(){return pe(this)}}let oe,ae,se=0;function le(e,t=!1){if(e.flags|=8,t)return e.next=ae,void(ae=e);e.next=oe,oe=e}function ce(){se++}function ue(){if(--se>0)return;if(ae){let e=ae;for(ae=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;oe;){let n=oe;for(oe=void 0;n;){const i=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=i}}if(e)throw e}function he(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function de(e){let t,n=e.depsTail,i=n;for(;i;){const e=i.prevDep;-1===i.version?(i===n&&(n=e),ge(i),me(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=e}e.deps=t,e.depsTail=n}function pe(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(fe(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function fe(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===we)return;if(e.globalVersion=we,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!pe(e)))return;e.flags|=2;const t=e.dep,n=Q,i=ve;Q=e,ve=!0;try{he(e);const n=e.fn(e._value);(0===t.version||E(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(r){throw t.version++,r}finally{Q=n,ve=i,de(e),e.flags&=-3}}function ge(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)ge(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function me(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ve=!0;const ye=[];function be(){ye.push(ve),ve=!1}function xe(){const e=ye.pop();ve=void 0===e||e}function _e(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=Q;Q=void 0;try{t()}finally{Q=e}}}let we=0,Se=class e{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Me{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Q||!ve||Q===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==Q)t=this.activeLink=new Se(Q,this),Q.deps?(t.prevDep=Q.depsTail,Q.depsTail.nextDep=t,Q.depsTail=t):Q.deps=Q.depsTail=t,ke(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=Q.depsTail,t.nextDep=void 0,Q.depsTail.nextDep=t,Q.depsTail=t,Q.deps===t&&(Q.deps=e)}return t}trigger(e){this.version++,we++,this.notify(e)}notify(e){ce();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{ue()}}}function ke(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)ke(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ce=new WeakMap,Te=Symbol(""),Ae=Symbol(""),Ie=Symbol("");function De(e,t,n){if(ve&&Q){let t=Ce.get(e);t||Ce.set(e,t=new Map);let i=t.get(n);i||(t.set(n,i=new Me),i.map=t,i.key=n),i.track()}}function Oe(e,t,n,i,r,o){const a=Ce.get(e);if(!a)return void we++;const s=e=>{e&&e.trigger()};if(ce(),"clear"===t)a.forEach(s);else{const r=h(e),o=r&&S(n);if(r&&"length"===n){const e=Number(i);a.forEach((t,n)=>{("length"===n||n===Ie||!v(n)&&n>=e)&&s(t)})}else switch((void 0!==n||a.has(void 0))&&s(a.get(n)),o&&s(a.get(Ie)),t){case"add":r?o&&s(a.get("length")):(s(a.get(Te)),d(e)&&s(a.get(Ae)));break;case"delete":r||(s(a.get(Te)),d(e)&&s(a.get(Ae)));break;case"set":d(e)&&s(a.get(Te))}}ue()}function Ee(e){const t=yt(e);return t===e?t:(De(t,0,Ie),mt(e)?t:t.map(xt))}function Le(e){return De(e=yt(e),0,Ie),e}function Re(e,t){return gt(e)?ft(e)?_t(xt(t)):_t(t):xt(t)}const Ne={__proto__:null,[Symbol.iterator](){return Pe(this,Symbol.iterator,e=>Re(this,e))},concat(...e){return Ee(this).concat(...e.map(e=>h(e)?Ee(e):e))},entries(){return Pe(this,"entries",e=>(e[1]=Re(this,e[1]),e))},every(e,t){return Be(this,"every",e,t,void 0,arguments)},filter(e,t){return Be(this,"filter",e,t,e=>e.map(e=>Re(this,e)),arguments)},find(e,t){return Be(this,"find",e,t,e=>Re(this,e),arguments)},findIndex(e,t){return Be(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Be(this,"findLast",e,t,e=>Re(this,e),arguments)},findLastIndex(e,t){return Be(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Be(this,"forEach",e,t,void 0,arguments)},includes(...e){return Fe(this,"includes",e)},indexOf(...e){return Fe(this,"indexOf",e)},join(e){return Ee(this).join(e)},lastIndexOf(...e){return Fe(this,"lastIndexOf",e)},map(e,t){return Be(this,"map",e,t,void 0,arguments)},pop(){return He(this,"pop")},push(...e){return He(this,"push",e)},reduce(e,...t){return Ve(this,"reduce",e,t)},reduceRight(e,...t){return Ve(this,"reduceRight",e,t)},shift(){return He(this,"shift")},some(e,t){return Be(this,"some",e,t,void 0,arguments)},splice(...e){return He(this,"splice",e)},toReversed(){return Ee(this).toReversed()},toSorted(e){return Ee(this).toSorted(e)},toSpliced(...e){return Ee(this).toSpliced(...e)},unshift(...e){return He(this,"unshift",e)},values(){return Pe(this,"values",e=>Re(this,e))}};function Pe(e,t,n){const i=Le(e),r=i[t]();return i===e||mt(e)||(r._next=r.next,r.next=()=>{const e=r._next();return e.done||(e.value=n(e.value)),e}),r}const ze=Array.prototype;function Be(e,t,n,i,r,o){const a=Le(e),s=a!==e&&!mt(e),l=a[t];if(l!==ze[t]){const t=l.apply(e,o);return s?xt(t):t}let c=n;a!==e&&(s?c=function(t,i){return n.call(this,Re(e,t),i,e)}:n.length>2&&(c=function(t,i){return n.call(this,t,i,e)}));const u=l.call(a,c,i);return s&&r?r(u):u}function Ve(e,t,n,i){const r=Le(e);let o=n;return r!==e&&(mt(e)?n.length>3&&(o=function(t,i,r){return n.call(this,t,i,r,e)}):o=function(t,i,r){return n.call(this,t,Re(e,i),r,e)}),r[t](o,...i)}function Fe(e,t,n){const i=yt(e);De(i,0,Ie);const r=i[t](...n);return-1!==r&&!1!==r||!vt(n[0])?r:(n[0]=yt(n[0]),i[t](...n))}function He(e,t,n=[]){be(),ce();const i=yt(e)[t].apply(e,n);return ue(),xe(),i}const We=e("__proto__,__v_isRef,__isVue"),$e=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(v));function je(e){v(e)||(e=String(e));const t=yt(this);return De(t,0,e),t.hasOwnProperty(e)}class Ge{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if("__v_isReactive"===t)return!i;if("__v_isReadonly"===t)return i;if("__v_isShallow"===t)return r;if("__v_raw"===t)return n===(i?r?lt:st:r?at:ot).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=h(e);if(!i){let e;if(o&&(e=Ne[t]))return e;if("hasOwnProperty"===t)return je}const a=Reflect.get(e,t,wt(e)?e:n);if(v(t)?$e.has(t):We(t))return a;if(i||De(e,0,t),r)return a;if(wt(a)){const e=o&&S(t)?a:a.value;return i&&y(e)?dt(e):e}return y(a)?i?dt(a):ut(a):a}}class Ue extends Ge{constructor(e=!1){super(!1,e)}set(e,t,n,i){let r=e[t];const o=h(e)&&S(t);if(!this._isShallow){const e=gt(r);if(mt(n)||gt(n)||(r=yt(r),n=yt(n)),!o&&wt(r)&&!wt(n))return e||(r.value=n),!0}const a=o?Number(t)<e.length:u(e,t),s=Reflect.set(e,t,n,wt(e)?e:i);return e===yt(i)&&(a?E(n,r)&&Oe(e,"set",t,n):Oe(e,"add",t,n)),s}deleteProperty(e,t){const n=u(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Oe(e,"delete",t,void 0),i}has(e,t){const n=Reflect.has(e,t);return v(t)&&$e.has(t)||De(e,0,t),n}ownKeys(e){return De(e,0,h(e)?"length":Te),Reflect.ownKeys(e)}}class Xe extends Ge{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const qe=new Ue,Ye=new Xe,Ze=new Ue(!0),Ke=e=>e,Je=e=>Reflect.getPrototypeOf(e);function Qe(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function et(e,t){const n={get(n){const i=this.__v_raw,r=yt(i),o=yt(n);e||(E(n,o)&&De(r,0,n),De(r,0,o));const{has:a}=Je(r),s=t?Ke:e?_t:xt;return a.call(r,n)?s(i.get(n)):a.call(r,o)?s(i.get(o)):void(i!==r&&i.get(n))},get size(){const t=this.__v_raw;return!e&&De(yt(t),0,Te),t.size},has(t){const n=this.__v_raw,i=yt(n),r=yt(t);return e||(E(t,r)&&De(i,0,t),De(i,0,r)),t===r?n.has(t):n.has(t)||n.has(r)},forEach(n,i){const r=this,o=r.__v_raw,a=yt(o),s=t?Ke:e?_t:xt;return!e&&De(a,0,Te),o.forEach((e,t)=>n.call(i,s(e),s(t),r))}};s(n,e?{add:Qe("add"),set:Qe("set"),delete:Qe("delete"),clear:Qe("clear")}:{add(e){t||mt(e)||gt(e)||(e=yt(e));const n=yt(this);return Je(n).has.call(n,e)||(n.add(e),Oe(n,"add",e,e)),this},set(e,n){t||mt(n)||gt(n)||(n=yt(n));const i=yt(this),{has:r,get:o}=Je(i);let a=r.call(i,e);a||(e=yt(e),a=r.call(i,e));const s=o.call(i,e);return i.set(e,n),a?E(n,s)&&Oe(i,"set",e,n):Oe(i,"add",e,n),this},delete(e){const t=yt(this),{has:n,get:i}=Je(t);let r=n.call(t,e);r||(e=yt(e),r=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return r&&Oe(t,"delete",e,void 0),o},clear(){const e=yt(this),t=0!==e.size,n=e.clear();return t&&Oe(e,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=function r(e,t,n){return function(...i){const r=this.__v_raw,o=yt(r),a=d(o),s="entries"===e||e===Symbol.iterator&&a,l="keys"===e&&a,c=r[e](...i),u=n?Ke:t?_t:xt;return!t&&De(o,0,l?Ae:Te),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}(i,e,t)}),n}function tt(e,t){const n=et(e,t);return(t,i,r)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(u(n,i)&&i in t?n:t,i,r)}const nt={get:tt(!1,!1)},it={get:tt(!1,!0)},rt={get:tt(!0,!1)},ot=new WeakMap,at=new WeakMap,st=new WeakMap,lt=new WeakMap;function ct(e){return e.__v_skip||!Object.isExtensible(e)?0:function t(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>_(e).slice(8,-1))(e))}function ut(e){return gt(e)?e:pt(e,!1,qe,nt,ot)}function ht(e){return pt(e,!1,Ze,it,at)}function dt(e){return pt(e,!0,Ye,rt,st)}function pt(e,t,n,i,r){if(!y(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=ct(e);if(0===o)return e;const a=r.get(e);if(a)return a;const s=new Proxy(e,2===o?i:n);return r.set(e,s),s}function ft(e){return gt(e)?ft(e.__v_raw):!(!e||!e.__v_isReactive)}function gt(e){return!(!e||!e.__v_isReadonly)}function mt(e){return!(!e||!e.__v_isShallow)}function vt(e){return!!e&&!!e.__v_raw}function yt(e){const t=e&&e.__v_raw;return t?yt(t):e}function bt(e){return!u(e,"__v_skip")&&Object.isExtensible(e)&&R(e,"__v_skip",!0),e}const xt=e=>y(e)?ut(e):e,_t=e=>y(e)?dt(e):e;function wt(e){return!!e&&!0===e.__v_isRef}function St(e){return kt(e,!1)}function Mt(e){return kt(e,!0)}function kt(e,t){return wt(e)?e:new Ct(e,t)}class Ct{constructor(e,t){this.dep=new Me,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:yt(e),this._value=t?e:xt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||mt(e)||gt(e);e=n?e:yt(e),E(e,t)&&(this._rawValue=e,this._value=n?e:xt(e),this.dep.trigger())}}function Tt(e){return wt(e)?e.value:e}const At={get:(e,t,n)=>"__v_raw"===t?e:Tt(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return wt(r)&&!wt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function It(e){return ft(e)?e:new Proxy(e,At)}class Dt{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new Me,{get:n,set:i}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}class Ot{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=yt(e);let i=!0,r=e;if(!h(e)||!S(String(t)))do{i=!vt(r)||mt(r)}while(i&&(r=r.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=Tt(e)),this._value=void 0===e?this._defaultValue:e}set value(e){if(this._shallow&&wt(this._raw[this._key])){const t=this._object[this._key];if(wt(t))return void(t.value=e)}this._object[this._key]=e}get dep(){return function e(t,n){const i=Ce.get(t);return i&&i.get(n)}(this._raw,this._key)}}function Et(e,t,n){return new Ot(e,t,n)}class Lt{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Me(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=we-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&Q!==this)return le(this,!0),!0}get value(){const e=this.dep.track();return fe(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const Rt={},Nt=new WeakMap;let Pt;function zt(e,n,r=t){const{immediate:o,deep:a,once:s,scheduler:c,augmentJob:u,call:d}=r,p=e=>a?e:mt(e)||!1===a||0===a?Bt(e,1):Bt(e);let f,m,v,y,b=!1,x=!1;if(wt(e)?(m=()=>e.value,b=mt(e)):ft(e)?(m=()=>p(e),b=!0):h(e)?(x=!0,b=e.some(e=>ft(e)||mt(e)),m=()=>e.map(e=>wt(e)?e.value:ft(e)?p(e):g(e)?d?d(e,2):e():void 0)):m=g(e)?n?d?()=>d(e,2):e:()=>{if(v){be();try{v()}finally{xe()}}const t=Pt;Pt=f;try{return d?d(e,3,[y]):e(y)}finally{Pt=t}}:i,n&&a){const e=m,t=!0===a?1/0:a;m=()=>Bt(e(),t)}const _=ne(),w=()=>{f.stop(),_&&_.active&&l(_.effects,f)};if(s&&n){const e=n;n=(...t)=>{e(...t),w()}}let S=x?new Array(e.length).fill(Rt):Rt;const M=e=>{if(1&f.flags&&(f.dirty||e))if(n){const e=f.run();if(a||b||(x?e.some((e,t)=>E(e,S[t])):E(e,S))){v&&v();const t=Pt;Pt=f;try{const t=[e,S===Rt?void 0:x&&S[0]===Rt?[]:S,y];S=e,d?d(n,3,t):n(...t)}finally{Pt=t}}}else f.run()};return u&&u(M),f=new re(m),f.scheduler=c?()=>c(M,!1):M,y=e=>function t(e,n=!1,i=Pt){if(i){let t=Nt.get(i);t||Nt.set(i,t=[]),t.push(e)}}(e,!1,f),v=f.onStop=()=>{const e=Nt.get(f);if(e){if(d)d(e,4);else for(const t of e)t();Nt.delete(f)}},n?o?M(!0):S=f.run():c?c(M.bind(null,!0),!0):f.run(),w.pause=f.pause.bind(f),w.resume=f.resume.bind(f),w.stop=w,w}function Bt(e,t=1/0,n){if(t<=0||!y(e)||e.__v_skip)return e;if(((n=n||new Map).get(e)||0)>=t)return e;if(n.set(e,t),t--,wt(e))Bt(e.value,t,n);else if(h(e))for(let i=0;i<e.length;i++)Bt(e[i],t,n);else if(p(e)||d(e))e.forEach(e=>{Bt(e,t,n)});else if(w(e)){for(const i in e)Bt(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Bt(e[i],t,n)}return e}function Vt(e,t,n,i){try{return i?e(...i):e()}catch(r){Ht(r,t,n)}}function Ft(e,t,n,i){if(g(e)){const r=Vt(e,t,n,i);return r&&b(r)&&r.catch(e=>{Ht(e,t,n)}),r}if(h(e)){const r=[];for(let o=0;o<e.length;o++)r.push(Ft(e[o],t,n,i));return r}}function Ht(e,n,i,r=!0){n&&n.vnode;const{errorHandler:o,throwUnhandledErrorInProduction:a}=n&&n.appContext.config||t;if(n){let t=n.parent;const r=n.proxy,a=`https://vuejs.org/error-reference/#runtime-${i}`;for(;t;){const n=t.ec;if(n)for(let t=0;t<n.length;t++)if(!1===n[t](e,r,a))return;t=t.parent}if(o)return be(),Vt(o,null,10,[e,r,a]),void xe()}!function s(e,t,n,i=!0,r=!1){if(r)throw e}(e,0,0,r,a)}const Wt=[];let $t=-1;const jt=[];let Gt=null,Ut=0;const Xt=Promise.resolve();let qt=null;function Yt(e){const t=qt||Xt;return e?t.then(this?e.bind(this):e):t}function Zt(e){if(!(1&e.flags)){const t=en(e),n=Wt[Wt.length-1];!n||!(2&e.flags)&&t>=en(n)?Wt.push(e):Wt.splice(function i(e){let t=$t+1,n=Wt.length;for(;t<n;){const i=t+n>>>1,r=Wt[i],o=en(r);o<e||o===e&&2&r.flags?t=i+1:n=i}return t}(t),0,e),e.flags|=1,Kt()}}function Kt(){qt||(qt=Xt.then(tn))}function Jt(e,t,n=$t+1){for(;n<Wt.length;n++){const t=Wt[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;Wt.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function Qt(e){if(jt.length){const e=[...new Set(jt)].sort((e,t)=>en(e)-en(t));if(jt.length=0,Gt)return void Gt.push(...e);for(Gt=e,Ut=0;Ut<Gt.length;Ut++){const e=Gt[Ut];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}Gt=null,Ut=0}}const en=e=>null==e.id?2&e.flags?-1:1/0:e.id;function tn(e){try{for($t=0;$t<Wt.length;$t++){const e=Wt[$t];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Vt(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;$t<Wt.length;$t++){const e=Wt[$t];e&&(e.flags&=-2)}$t=-1,Wt.length=0,Qt(),qt=null,(Wt.length||jt.length)&&tn()}}let nn=null,rn=null;function on(e){const t=nn;return nn=e,rn=e&&e.type.__scopeId||null,t}function an(e,t=nn,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&Lr(-1);const r=on(t);let o;try{o=e(...n)}finally{on(r),i._d&&Lr(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function sn(e,n){if(null===nn)return e;const i=po(nn),r=e.dirs||(e.dirs=[]);for(let o=0;o<n.length;o++){let[e,a,s,l=t]=n[o];e&&(g(e)&&(e={mounted:e,updated:e}),e.deep&&Bt(a),r.push({dir:e,instance:i,value:a,oldValue:void 0,arg:s,modifiers:l}))}return e}function ln(e,t,n,i){const r=e.dirs,o=t&&t.dirs;for(let a=0;a<r.length;a++){const s=r[a];o&&(s.oldValue=o[a].value);let l=s.dir[i];l&&(be(),Ft(l,n,8,[e.el,s,e,t]),xe())}}const cn=Symbol("_vte"),un=e=>e.__isTeleport,hn=e=>e&&(e.disabled||""===e.disabled),dn=e=>e&&(e.defer||""===e.defer),pn=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,fn=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,gn=(e,t)=>{const n=e&&e.to;if(m(n)){if(t){return t(n)}return null}return n},mn={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,o,a,s,l,c){const{mc:u,pc:h,pbc:d,o:{insert:p,querySelector:f,createText:g,createComment:m}}=c,v=hn(t.props);let{shapeFlag:y,children:b,dynamicChildren:x}=t;if(null==e){const e=t.el=g(""),c=t.anchor=g("");p(e,n,i),p(c,n,i);const h=(e,t)=>{16&y&&u(b,e,t,r,o,a,s,l)},d=()=>{const e=t.target=gn(t.props,f),n=_n(e,t,g,p);e&&("svg"!==a&&pn(e)?a="svg":"mathml"!==a&&fn(e)&&(a="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(e),v||(h(e,n),xn(t,!1)))};v&&(h(n,c),xn(t,!0)),dn(t.props)?(t.el.__isMounted=!1,mr(()=>{d(),delete t.el.__isMounted},o)):d()}else{if(dn(t.props)&&!1===e.el.__isMounted)return void mr(()=>{mn.process(e,t,n,i,r,o,a,s,l,c)},o);t.el=e.el,t.targetStart=e.targetStart;const u=t.anchor=e.anchor,p=t.target=e.target,g=t.targetAnchor=e.targetAnchor,m=hn(e.props),y=m?n:p,b=m?u:g;if("svg"===a||pn(p)?a="svg":("mathml"===a||fn(p))&&(a="mathml"),x?(d(e.dynamicChildren,x,y,r,o,a,s),_r(e,t,!0)):l||h(e,t,y,b,r,o,a,s,!1),v)m?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):yn(t,n,u,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=gn(t.props,f);e&&yn(t,e,null,c,0)}else m&&yn(t,p,g,c,1);xn(t,v)}},remove(e,t,n,{um:i,o:{remove:r}},o){const{shapeFlag:a,children:s,anchor:l,targetStart:c,targetAnchor:u,target:h,props:d}=e;if(h&&(r(c),r(u)),o&&r(l),16&a){const e=o||!hn(d);for(let r=0;r<s.length;r++){const o=s[r];i(o,t,n,e,!!o.dynamicChildren)}}},move:yn,hydrate:function vn(e,t,n,i,r,o,{o:{nextSibling:a,parentNode:s,querySelector:l,insert:c,createText:u}},h){function d(e,t,l,c){t.anchor=h(a(e),t,s(e),n,i,r,o),t.targetStart=l,t.targetAnchor=c}const p=t.target=gn(t.props,l),f=hn(t.props);if(p){const s=p._lpa||p.firstChild;if(16&t.shapeFlag)if(f)d(e,t,s,s&&a(s));else{t.anchor=a(e);let l=s;for(;l;){if(l&&8===l.nodeType)if("teleport start anchor"===l.data)t.targetStart=l;else if("teleport anchor"===l.data){t.targetAnchor=l,p._lpa=t.targetAnchor&&a(t.targetAnchor);break}l=a(l)}t.targetAnchor||_n(p,t,u,c),h(s&&a(s),t,p,n,i,r,o)}xn(t,f)}else f&&16&t.shapeFlag&&d(e,t,e,a(e));return t.anchor&&a(t.anchor)}};function yn(e,t,n,{o:{insert:i},m:r},o=2){0===o&&i(e.targetAnchor,t,n);const{el:a,anchor:s,shapeFlag:l,children:c,props:u}=e,h=2===o;if(h&&i(a,t,n),(!h||hn(u))&&16&l)for(let d=0;d<c.length;d++)r(c[d],t,n,2);h&&i(s,t,n)}const bn=mn;function xn(e,t){const n=e.ctx;if(n&&n.ut){let i,r;for(t?(i=e.el,r=e.anchor):(i=e.targetStart,r=e.targetAnchor);i&&i!==r;)1===i.nodeType&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function _n(e,t,n,i){const r=t.targetStart=n(""),o=t.targetAnchor=n("");return r[cn]=o,e&&(i(r,e),i(o,e)),o}const wn=Symbol("_leaveCb"),Sn=Symbol("_enterCb");function Mn(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zn(()=>{e.isMounted=!0}),Qn(()=>{e.isUnmounting=!0}),e}const kn=[Function,Array],Cn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kn,onEnter:kn,onAfterEnter:kn,onEnterCancelled:kn,onBeforeLeave:kn,onLeave:kn,onAfterLeave:kn,onLeaveCancelled:kn,onBeforeAppear:kn,onAppear:kn,onAfterAppear:kn,onAppearCancelled:kn},Tn=e=>{const t=e.subTree;return t.component?Tn(t.component):t};function An(e){let t=e[0];if(e.length>1)for(const n of e)if(n.type!==Tr){t=n;break}return t}const In={name:"BaseTransition",props:Cn,setup(e,{slots:t}){const n=no(),i=Mn();return()=>{const r=t.default&&Nn(t.default(),!0);if(!r||!r.length)return;const o=An(r),a=yt(e),{mode:s}=a;if(i.isLeaving)return En(o);const l=Ln(o);if(!l)return En(o);let c=On(l,a,i,n,e=>c=e);l.type!==Tr&&Rn(l,c);let u=n.subTree&&Ln(n.subTree);if(u&&u.type!==Tr&&!Br(u,l)&&Tn(n).type!==Tr){let e=On(u,a,i,n);if(Rn(u,e),"out-in"===s&&l.type!==Tr)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,u=void 0},En(o);"in-out"===s&&l.type!==Tr?e.delayLeave=(e,t,n)=>{Dn(i,u)[String(u.key)]=u,e[wn]=()=>{t(),e[wn]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{n(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function Dn(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function On(e,t,n,i,r){const{appear:o,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:x}=t,_=String(e.key),w=Dn(n,e),S=(e,t)=>{e&&Ft(e,i,9,t)},M=(e,t)=>{const n=t[1];S(e,t),h(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},k={mode:a,persisted:s,beforeEnter(t){let i=l;if(!n.isMounted){if(!o)return;i=v||l}t[wn]&&t[wn](!0);const r=w[_];r&&Br(e,r)&&r.el[wn]&&r.el[wn](),S(i,[t])},enter(e){let t=c,i=u,r=d;if(!n.isMounted){if(!o)return;t=y||c,i=b||u,r=x||d}let a=!1;const s=e[Sn]=t=>{a||(a=!0,S(t?r:i,[e]),k.delayedLeave&&k.delayedLeave(),e[Sn]=void 0)};t?M(t,[e,s]):s()},leave(t,i){const r=String(e.key);if(t[Sn]&&t[Sn](!0),n.isUnmounting)return i();S(p,[t]);let o=!1;const a=t[wn]=n=>{o||(o=!0,i(),S(n?m:g,[t]),t[wn]=void 0,w[r]===e&&delete w[r])};w[r]=e,f?M(f,[t,a]):a()},clone(e){const o=On(e,t,n,i,r);return r&&r(o),o}};return k}function En(e){if(Wn(e))return(e=jr(e)).children=null,e}function Ln(e){if(!Wn(e))return un(e.type)&&e.children?An(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&g(n.default))return n.default()}}function Rn(e,t){6&e.shapeFlag&&e.component?(e.transition=t,Rn(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Nn(e,t=!1,n){let i=[],r=0;for(let o=0;o<e.length;o++){let a=e[o];const s=null==n?a.key:String(n)+String(null!=a.key?a.key:o);a.type===kr?(128&a.patchFlag&&r++,i=i.concat(Nn(a.children,t,s))):(t||a.type!==Tr)&&i.push(null!=s?jr(a,{key:s}):a)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function Pn(e,t){return g(e)?(()=>s({name:e.name},t,{setup:e}))():e}function zn(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Bn=new WeakMap;function Vn(e,n,i,o,a=!1){if(h(e))return void e.forEach((e,t)=>Vn(e,n&&(h(n)?n[t]:n),i,o,a));if(Hn(o)&&!a)return void(512&o.shapeFlag&&o.type.__asyncResolved&&o.component.subTree.component&&Vn(e,n,i,o.component.subTree));const s=4&o.shapeFlag?po(o.component):o.el,c=a?null:s,{i:d,r:p}=e,f=n&&n.r,v=d.refs===t?d.refs={}:d.refs,y=d.setupState,b=yt(y),x=y===t?r:e=>u(b,e);if(null!=f&&f!==p)if(Fn(n),m(f))v[f]=null,x(f)&&(y[f]=null);else if(wt(f)){f.value=null;const e=n;e.k&&(v[e.k]=null)}if(g(p))Vt(p,d,12,[c,v]);else{const t=m(p),n=wt(p);if(t||n){const r=()=>{if(e.f){const n=t?x(p)?y[p]:v[p]:p.value;if(a)h(n)&&l(n,s);else if(h(n))n.includes(s)||n.push(s);else if(t)v[p]=[s],x(p)&&(y[p]=v[p]);else{const t=[s];p.value=t,e.k&&(v[e.k]=t)}}else t?(v[p]=c,x(p)&&(y[p]=c)):n&&(p.value=c,e.k&&(v[e.k]=c))};if(c){const t=()=>{r(),Bn.delete(e)};t.id=-1,Bn.set(e,t),mr(t,i)}else Fn(e),r()}}}function Fn(e){const t=Bn.get(e);t&&(t.flags|=8,Bn.delete(e))}z().requestIdleCallback,z().cancelIdleCallback;const Hn=e=>!!e.type.__asyncLoader,Wn=e=>e.type.__isKeepAlive;function $n(e,t){Gn(e,"a",t)}function jn(e,t){Gn(e,"da",t)}function Gn(e,t,n=to){const i=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Xn(t,i,n),n){let e=n.parent;for(;e&&e.parent;)Wn(e.parent.vnode)&&Un(i,t,n,e),e=e.parent}}function Un(e,t,n,i){const r=Xn(t,e,i,!0);ei(()=>{l(i[t],r)},n)}function Xn(e,t,n=to,i=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{be();const r=oo(n),o=Ft(t,n,e,i);return r(),xe(),o});return i?r.unshift(o):r.push(o),o}}const qn=e=>(t,n=to)=>{lo&&"sp"!==e||Xn(e,(...e)=>t(...e),n)},Yn=qn("bm"),Zn=qn("m"),Kn=qn("bu"),Jn=qn("u"),Qn=qn("bum"),ei=qn("um"),ti=qn("sp"),ni=qn("rtg"),ii=qn("rtc");function ri(e,t=to){Xn("ec",e,t)}const oi="components";function ai(e,t){return ci(oi,e,!0,t)||e}const si=Symbol.for("v-ndc");function li(e){return m(e)?ci(oi,e,!1)||e:e||si}function ci(e,t,n=!0,i=!1){const r=nn||to;if(r){const n=r.type;{const e=fo(n,!1);if(e&&(e===t||e===T(t)||e===D(T(t))))return n}const o=ui(r[e]||n[e],t)||ui(r.appContext[e],t);return!o&&i?n:o}}function ui(e,t){return e&&(e[t]||e[T(t)]||e[D(T(t))])}function hi(e,t,n,i){let r;const o=n,a=h(e);if(a||m(e)){let n=!1,i=!1;a&&ft(e)&&(n=!mt(e),i=gt(e),e=Le(e)),r=new Array(e.length);for(let a=0,s=e.length;a<s;a++)r[a]=t(n?i?_t(xt(e[a])):xt(e[a]):e[a],a,void 0,o)}else if("number"==typeof e){r=new Array(e);for(let n=0;n<e;n++)r[n]=t(n+1,n,void 0,o)}else if(y(e))if(e[Symbol.iterator])r=Array.from(e,(e,n)=>t(e,n,void 0,o));else{const n=Object.keys(e);r=new Array(n.length);for(let i=0,a=n.length;i<a;i++){const a=n[i];r[i]=t(e[a],a,i,o)}}else r=[];return r}function di(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(h(i))for(let t=0;t<i.length;t++)e[i[t].name]=i[t].fn;else i&&(e[i.name]=i.key?(...e)=>{const t=i.fn(...e);return t&&(t.key=i.key),t}:i.fn)}return e}function pi(e,t,n={},i,r){if(nn.ce||nn.parent&&Hn(nn.parent)&&nn.parent.ce){const e=Object.keys(n).length>0;return"default"!==t&&(n.name=t),Or(),Pr(kr,null,[Wr("slot",n,i&&i())],e?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),Or();const a=o&&fi(o(n)),s=n.key||a&&a.key,l=Pr(kr,{key:(s&&!v(s)?s:`_${t}`)+(!a&&i?"_fb":"")},a||(i?i():[]),a&&1===e._?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function fi(e){return e.some(e=>!zr(e)||e.type!==Tr&&!(e.type===kr&&!fi(e.children)))?e:null}function gi(e,t){const n={};for(const i in e)n[O(i)]=e[i];return n}const mi=e=>e?so(e)?po(e):mi(e.parent):null,vi=s(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>mi(e.parent),$root:e=>mi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ki(e),$forceUpdate:e=>e.f||(e.f=()=>{Zt(e.update)}),$nextTick:e=>e.n||(e.n=Yt.bind(e.proxy)),$watch:e=>Ui.bind(e)}),yi=(e,n)=>e!==t&&!e.__isScriptSetup&&u(e,n),bi={get({_:e},n){if("__v_skip"===n)return!0;const{ctx:i,setupState:r,data:o,props:a,accessCache:s,type:l,appContext:c}=e;if("$"!==n[0]){const e=s[n];if(void 0!==e)switch(e){case 1:return r[n];case 2:return o[n];case 4:return i[n];case 3:return a[n]}else{if(yi(r,n))return s[n]=1,r[n];if(o!==t&&u(o,n))return s[n]=2,o[n];if(u(a,n))return s[n]=3,a[n];if(i!==t&&u(i,n))return s[n]=4,i[n];_i&&(s[n]=0)}}const h=vi[n];let d,p;return h?("$attrs"===n&&De(e.attrs,0,""),h(e)):(d=l.__cssModules)&&(d=d[n])?d:i!==t&&u(i,n)?(s[n]=4,i[n]):(p=c.config.globalProperties,u(p,n)?p[n]:void 0)},set({_:e},n,i){const{data:r,setupState:o,ctx:a}=e;return yi(o,n)?(o[n]=i,!0):r!==t&&u(r,n)?(r[n]=i,!0):!u(e.props,n)&&(("$"!==n[0]||!(n.slice(1)in e))&&(a[n]=i,!0))},has({_:{data:e,setupState:n,accessCache:i,ctx:r,appContext:o,props:a,type:s}},l){let c;return!!(i[l]||e!==t&&"$"!==l[0]&&u(e,l)||yi(n,l)||u(a,l)||u(r,l)||u(vi,l)||u(o.config.globalProperties,l)||(c=s.__cssModules)&&c[l])},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:u(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function xi(e){return h(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}let _i=!0;function wi(e){const t=ki(e),n=e.proxy,r=e.ctx;_i=!1,t.beforeCreate&&Si(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:s,watch:l,provide:c,inject:u,created:d,beforeMount:p,mounted:f,beforeUpdate:m,updated:v,activated:b,deactivated:x,beforeDestroy:_,beforeUnmount:w,destroyed:S,unmounted:M,render:k,renderTracked:C,renderTriggered:T,errorCaptured:A,serverPrefetch:I,expose:D,inheritAttrs:O,components:E,directives:L,filters:R}=t;if(u&&function N(e,t,n=i){h(e)&&(e=Oi(e));for(const i in e){const n=e[i];let r;r=y(n)?"default"in n?Fi(n.from||i,n.default,!0):Fi(n.from||i):Fi(n),wt(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):t[i]=r}}(u,r,null),s)for(const i in s){const e=s[i];g(e)&&(r[i]=e.bind(n))}if(o){const t=o.call(n,n);y(t)&&(e.data=ut(t))}if(_i=!0,a)for(const h in a){const e=a[h],t=g(e)?e.bind(n,n):g(e.get)?e.get.bind(n,n):i,o=!g(e)&&g(e.set)?e.set.bind(n):i,s=go({get:t,set:o});Object.defineProperty(r,h,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(l)for(const i in l)Mi(l[i],r,n,i);if(c){const e=g(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{Vi(t,e[t])})}function P(e,t){h(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(d&&Si(d,e,"c"),P(Yn,p),P(Zn,f),P(Kn,m),P(Jn,v),P($n,b),P(jn,x),P(ri,A),P(ii,C),P(ni,T),P(Qn,w),P(ei,M),P(ti,I),h(D))if(D.length){const t=e.exposed||(e.exposed={});D.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||(e.exposed={});k&&e.render===i&&(e.render=k),null!=O&&(e.inheritAttrs=O),E&&(e.components=E),L&&(e.directives=L),I&&zn(e)}function Si(e,t,n){Ft(h(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Mi(e,t,n,i){let r=i.includes(".")?Xi(n,i):()=>n[i];if(m(e)){const n=t[e];g(n)&&ji(r,n)}else if(g(e))ji(r,e.bind(n));else if(y(e))if(h(e))e.forEach(e=>Mi(e,t,n,i));else{const i=g(e.handler)?e.handler.bind(n):t[e.handler];g(i)&&ji(r,i,e)}}function ki(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,s=o.get(t);let l;return s?l=s:r.length||n||i?(l={},r.length&&r.forEach(e=>Ci(l,e,a,!0)),Ci(l,t,a)):l=t,y(t)&&o.set(t,l),l}function Ci(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&Ci(e,o,n,!0),r&&r.forEach(t=>Ci(e,t,n,!0));for(const a in t)if(i&&"expose"===a);else{const i=Ti[a]||n&&n[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const Ti={data:Di,props:Ri,emits:Ri,methods:Li,computed:Li,beforeCreate:Ei,created:Ei,beforeMount:Ei,mounted:Ei,beforeUpdate:Ei,updated:Ei,beforeDestroy:Ei,beforeUnmount:Ei,destroyed:Ei,unmounted:Ei,activated:Ei,deactivated:Ei,errorCaptured:Ei,serverPrefetch:Ei,components:Li,directives:Li,watch:function Ai(e,t){if(!e)return t;if(!t)return e;const n=s(Object.create(null),e);for(const i in t)n[i]=Ei(e[i],t[i]);return n},provide:Di,inject:function Ii(e,t){return Li(Oi(e),Oi(t))}};function Di(e,t){return t?e?function n(){return s(g(e)?e.call(this,this):e,g(t)?t.call(this,this):t)}:t:e}function Oi(e){if(h(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ei(e,t){return e?[...new Set([].concat(e,t))]:t}function Li(e,t){return e?s(Object.create(null),e,t):t}function Ri(e,t){return e?h(e)&&h(t)?[...new Set([...e,...t])]:s(Object.create(null),xi(e),xi(null!=t?t:{})):t}function Ni(){return{app:null,config:{isNativeTag:r,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pi=0;function zi(e,t){return function t(n,i=null){g(n)||(n=s({},n)),null==i||y(i)||(i=null);const r=Ni(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:Pi++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:vo,get config(){return r.config},set config(e){},use:(e,...t)=>(o.has(e)||(e&&g(e.install)?(o.add(e),e.install(c,...t)):g(e)&&(o.add(e),e(c,...t))),c),mixin:e=>(r.mixins.includes(e)||r.mixins.push(e),c),component:(e,t)=>t?(r.components[e]=t,c):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,c):r.directives[e],mount(t,o,a){if(!l){const o=c._ceVNode||Wr(n,i);return o.appContext=r,!0===a?a="svg":!1===a&&(a=void 0),e(o,t,a),l=!0,c._container=t,t.__vue_app__=c,po(o.component)}},onUnmount(e){a.push(e)},unmount(){l&&(Ft(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,c),runWithContext(e){const t=Bi;Bi=c;try{return e()}finally{Bi=t}}};return c}}let Bi=null;function Vi(e,t){if(to){let n=to.provides;const i=to.parent&&to.parent.provides;i===n&&(n=to.provides=Object.create(i)),n[e]=t}}function Fi(e,t,n=!1){const i=no();if(i||Bi){let r=Bi?Bi._context.provides:i?null==i.parent||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&g(t)?t.call(i&&i.proxy):t}}const Hi=Symbol.for("v-scx"),Wi=()=>Fi(Hi);function $i(e,t){return Gi(e,null,t)}function ji(e,t,n){return Gi(e,t,n)}function Gi(e,n,r=t){const{immediate:o,deep:a,flush:l,once:c}=r,u=s({},r),h=n&&o||!n&&"post"!==l;let d;if(lo)if("sync"===l){const e=Wi();d=e.__watcherHandles||(e.__watcherHandles=[])}else if(!h){const e=()=>{};return e.stop=i,e.resume=i,e.pause=i,e}const p=to;u.call=(e,t,n)=>Ft(e,p,t,n);let f=!1;"post"===l?u.scheduler=e=>{mr(e,p&&p.suspense)}:"sync"!==l&&(f=!0,u.scheduler=(e,t)=>{t?e():Zt(e)}),u.augmentJob=e=>{n&&(e.flags|=4),f&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};const g=zt(e,n,u);return lo&&(d?d.push(g):h&&g()),g}function Ui(e,t,n){const i=this.proxy,r=m(e)?e.includes(".")?Xi(i,e):()=>i[e]:e.bind(i,i);let o;g(t)?o=t:(o=t.handler,n=t);const a=oo(this),s=Gi(r,o.bind(i),n);return a(),s}function Xi(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function qi(e,n,...i){if(e.isUnmounted)return;const r=e.vnode.props||t;let o=i;const a=n.startsWith("update:"),s=a&&((e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${T(t)}Modifiers`]||e[`${I(t)}Modifiers`])(r,n.slice(7));let l;s&&(s.trim&&(o=i.map(e=>m(e)?e.trim():e)),s.number&&(o=i.map(N)));let c=r[l=O(n)]||r[l=O(T(n))];!c&&a&&(c=r[l=O(I(n))]),c&&Ft(c,e,6,o);const u=r[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,Ft(u,e,6,o)}}const Yi=new WeakMap;function Zi(e,t,n=!1){const i=n?Yi:t.emitsCache,r=i.get(e);if(void 0!==r)return r;const o=e.emits;let a={},l=!1;if(!g(e)){const i=e=>{const n=Zi(e,t,!0);n&&(l=!0,s(a,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return o||l?(h(o)?o.forEach(e=>a[e]=null):s(a,o),y(e)&&i.set(e,a),a):(y(e)&&i.set(e,null),null)}function Ki(e,t){return!(!e||!o(t))&&(t=t.slice(2).replace(/Once$/,""),u(e,t[0].toLowerCase()+t.slice(1))||u(e,I(t))||u(e,t))}function Ji(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[o],slots:s,attrs:l,emit:c,render:u,renderCache:h,props:d,data:p,setupState:f,ctx:g,inheritAttrs:m}=e,v=on(e);let y,b;try{if(4&n.shapeFlag){const e=r||i,t=e;y=qr(u.call(t,e,h,d,f,p,g)),b=l}else{const e=t;0,y=qr(e.length>1?e(d,{attrs:l,slots:s,emit:c}):e(d,null)),b=t.props?l:Qi(l)}}catch(_){Ir.length=0,Ht(_,e,1),y=Wr(Tr)}let x=y;if(b&&!1!==m){const e=Object.keys(b),{shapeFlag:t}=x;e.length&&7&t&&(o&&e.some(a)&&(b=er(b,o)),x=jr(x,b,!1,!0))}return n.dirs&&(x=jr(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&Rn(x,n.transition),y=x,on(v),y}const Qi=e=>{let t;for(const n in e)("class"===n||"style"===n||o(n))&&((t||(t={}))[n]=e[n]);return t},er=(e,t)=>{const n={};for(const i in e)a(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function tr(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!Ki(n,o))return!0}return!1}const nr={},ir=()=>Object.create(nr),rr=e=>Object.getPrototypeOf(e)===nr;function or(e,n,i,r){const[o,a]=e.propsOptions;let s,l=!1;if(n)for(let t in n){if(M(t))continue;const c=n[t];let h;o&&u(o,h=T(t))?a&&a.includes(h)?(s||(s={}))[h]=c:i[h]=c:Ki(e.emitsOptions,t)||t in r&&c===r[t]||(r[t]=c,l=!0)}if(a){const n=yt(i),r=s||t;for(let t=0;t<a.length;t++){const s=a[t];i[s]=ar(o,n,s,r[s],e,!u(r,s))}}return l}function ar(e,t,n,i,r,o){const a=e[n];if(null!=a){const e=u(a,"default");if(e&&void 0===i){const e=a.default;if(a.type!==Function&&!a.skipFactory&&g(e)){const{propsDefaults:o}=r;if(n in o)i=o[n];else{const a=oo(r);i=o[n]=e.call(null,t),a()}}else i=e;r.ce&&r.ce._setProp(n,i)}a[0]&&(o&&!e?i=!1:!a[1]||""!==i&&i!==I(n)||(i=!0))}return i}const sr=new WeakMap;function lr(e,i,r=!1){const o=r?sr:i.propsCache,a=o.get(e);if(a)return a;const l=e.props,c={},d=[];let p=!1;if(!g(e)){const t=e=>{p=!0;const[t,n]=lr(e,i,!0);s(c,t),n&&d.push(...n)};!r&&i.mixins.length&&i.mixins.forEach(t),e.extends&&t(e.extends),e.mixins&&e.mixins.forEach(t)}if(!l&&!p)return y(e)&&o.set(e,n),n;if(h(l))for(let n=0;n<l.length;n++){const e=T(l[n]);cr(e)&&(c[e]=t)}else if(l)for(const t in l){const e=T(t);if(cr(e)){const n=l[t],i=c[e]=h(n)||g(n)?{type:n}:s({},n),r=i.type;let o=!1,a=!0;if(h(r))for(let e=0;e<r.length;++e){const t=r[e],n=g(t)&&t.name;if("Boolean"===n){o=!0;break}"String"===n&&(a=!1)}else o=g(r)&&"Boolean"===r.name;i[0]=o,i[1]=a,(o||u(i,"default"))&&d.push(e)}}const f=[c,d];return y(e)&&o.set(e,f),f}function cr(e){return"$"!==e[0]&&!M(e)}const ur=e=>"_"===e||"_ctx"===e||"$stable"===e,hr=e=>h(e)?e.map(qr):[qr(e)],dr=(e,t,n)=>{if(t._n)return t;const i=an((...e)=>hr(t(...e)),n);return i._c=!1,i},pr=(e,t,n)=>{const i=e._ctx;for(const r in e){if(ur(r))continue;const n=e[r];if(g(n))t[r]=dr(0,n,i);else if(null!=n){const e=hr(n);t[r]=()=>e}}},fr=(e,t)=>{const n=hr(t);e.slots.default=()=>n},gr=(e,t,n)=>{for(const i in t)!n&&ur(i)||(e[i]=t[i])},mr=function vr(e,t){t&&t.pendingBranch?h(e)?t.effects.push(...e):t.effects.push(e):function n(e){h(e)?jt.push(...e):Gt&&-1===e.id?Gt.splice(Ut+1,0,e):1&e.flags||(jt.push(e),e.flags|=1),Kt()}(e)};function yr(e){return function r(e,o){z().__VUE__=!0;const{insert:a,remove:s,patchProp:l,createElement:c,createText:h,createComment:d,setText:p,setElementText:f,parentNode:g,nextSibling:m,setScopeId:v=i,insertStaticContent:y}=e,x=(e,t,n,i=null,r=null,o=null,a=void 0,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Br(e,t)&&(i=te(e),Y(e,r,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case Cr:_(e,t,n,i);break;case Tr:w(e,t,n,i);break;case Ar:null==e&&S(t,n,i,a);break;case kr:V(e,t,n,i,r,o,a,s,l);break;default:1&h?A(e,t,n,i,r,o,a,s,l):6&h?F(e,t,n,i,r,o,a,s,l):(64&h||128&h)&&c.process(e,t,n,i,r,o,a,s,l,oe)}null!=u&&r?Vn(u,e&&e.ref,o,t||e,!t):null==u&&e&&null!=e.ref&&Vn(e.ref,null,o,e,!0)},_=(e,t,n,i)=>{if(null==e)a(t.el=h(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&p(n,t.children)}},w=(e,t,n,i)=>{null==e?a(t.el=d(t.children||""),n,i):t.el=e.el},S=(e,t,n,i)=>{[e.el,e.anchor]=y(e.children,t,n,i,e.el,e.anchor)},k=({el:e,anchor:t},n,i)=>{let r;for(;e&&e!==t;)r=m(e),a(e,n,i),e=r;a(t,n,i)},C=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),s(e),e=n;s(t)},A=(e,t,n,i,r,o,a,s,l)=>{if("svg"===t.type?a="svg":"math"===t.type&&(a="mathml"),null==e)D(t,n,i,r,o,a,s,l);else{const n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),N(e,t,r,o,a,s,l)}finally{n&&n._endPatch()}}},D=(e,t,n,i,r,o,s,u)=>{let h,d;const{props:p,shapeFlag:g,transition:m,dirs:v}=e;if(h=e.el=c(e.type,o,p&&p.is,p),8&g?f(h,e.children):16&g&&E(e.children,h,null,i,r,br(e,o),s,u),v&&ln(e,null,i,"created"),O(h,e,e.scopeId,s,i),p){for(const e in p)"value"===e||M(e)||l(h,e,null,p[e],o,i);"value"in p&&l(h,"value",null,p.value,o),(d=p.onVnodeBeforeMount)&&Jr(d,i,e)}v&&ln(e,null,i,"beforeMount");const y=function b(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(r,m);y&&m.beforeEnter(h),a(h,t,n),((d=p&&p.onVnodeMounted)||y||v)&&mr(()=>{d&&Jr(d,i,e),y&&m.enter(h),v&&ln(e,null,i,"mounted")},r)},O=(e,t,n,i,r)=>{if(n&&v(e,n),i)for(let o=0;o<i.length;o++)v(e,i[o]);if(r){let n=r.subTree;if(t===n||Mr(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=r.vnode;O(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},E=(e,t,n,i,r,o,a,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=s?Yr(e[c]):qr(e[c]);x(null,l,t,n,i,r,o,a,s)}},N=(e,n,i,r,o,a,s)=>{const c=n.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:d}=n;u|=16&e.patchFlag;const p=e.props||t,g=n.props||t;let m;if(i&&xr(i,!1),(m=g.onVnodeBeforeUpdate)&&Jr(m,i,n,e),d&&ln(n,e,i,"beforeUpdate"),i&&xr(i,!0),(p.innerHTML&&null==g.innerHTML||p.textContent&&null==g.textContent)&&f(c,""),h?P(e.dynamicChildren,h,c,i,r,br(n,o),a):s||G(e,n,c,null,i,r,br(n,o),a,!1),u>0){if(16&u)B(c,p,g,i,o);else if(2&u&&p.class!==g.class&&l(c,"class",null,g.class,o),4&u&&l(c,"style",p.style,g.style,o),8&u){const e=n.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t],r=p[n],a=g[n];a===r&&"value"!==n||l(c,n,r,a,o,i)}}1&u&&e.children!==n.children&&f(c,n.children)}else s||null!=h||B(c,p,g,i,o);((m=g.onVnodeUpdated)||d)&&mr(()=>{m&&Jr(m,i,n,e),d&&ln(n,e,i,"updated")},r)},P=(e,t,n,i,r,o,a)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],u=l.el&&(l.type===kr||!Br(l,c)||198&l.shapeFlag)?g(l.el):n;x(l,c,u,null,i,r,o,a,!0)}},B=(e,n,i,r,o)=>{if(n!==i){if(n!==t)for(const t in n)M(t)||t in i||l(e,t,n[t],null,o,r);for(const t in i){if(M(t))continue;const a=i[t],s=n[t];a!==s&&"value"!==t&&l(e,t,s,a,o,r)}"value"in i&&l(e,"value",n.value,i.value,o)}},V=(e,t,n,i,r,o,s,l,c)=>{const u=t.el=e?e.el:h(""),d=t.anchor=e?e.anchor:h("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:g}=t;g&&(l=l?l.concat(g):g),null==e?(a(u,n,i),a(d,n,i),E(t.children||[],n,d,r,o,s,l,c)):p>0&&64&p&&f&&e.dynamicChildren?(P(e.dynamicChildren,f,n,r,o,s,l),(null!=t.key||r&&t===r.subTree)&&_r(e,t,!0)):G(e,t,n,d,r,o,s,l,c)},F=(e,t,n,i,r,o,a,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,a,l):H(t,n,i,r,o,a,l):W(e,t,l)},H=(e,n,i,r,o,a,s)=>{const l=e.component=function c(e,n,i){const r=e.type,o=(n?n.appContext:e.appContext)||Qr,a={uid:eo++,vnode:e,type:r,parent:n,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ee(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(o.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lr(r,o),emitsOptions:Zi(r,o),emit:null,emitted:null,propsDefaults:t,inheritAttrs:r.inheritAttrs,ctx:t,data:t,props:t,attrs:t,slots:t,refs:t,setupState:t,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};a.ctx={_:a},a.root=n?n.root:a,a.emit=qi.bind(null,a),e.ce&&e.ce(a);return a}(e,r,o);if(Wn(e)&&(l.ctx.renderer=oe),function u(e,t=!1,n=!1){t&&ro(t);const{props:i,children:r}=e.vnode,o=so(e);(function a(e,t,n,i=!1){const r={},o=ir();e.propsDefaults=Object.create(null),or(e,t,r,o);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=i?r:ht(r):e.type.props?e.props=r:e.props=o,e.attrs=o})(e,i,o,t),((e,t,n)=>{const i=e.slots=ir();if(32&e.vnode.shapeFlag){const e=t._;e?(gr(i,t,n),n&&R(i,"_",e,!0)):pr(t,i)}else t&&fr(e,t)})(e,r,n||t);const s=o?function l(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,bi);const{setup:i}=n;if(i){be();const n=e.setupContext=i.length>1?function r(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,ho),slots:e.slots,emit:e.emit,expose:t}}(e):null,o=oo(e),a=Vt(i,e,0,[e.props,n]),s=b(a);if(xe(),o(),!s&&!e.sp||Hn(e)||zn(e),s){if(a.then(ao,ao),t)return a.then(t=>{co(e,t)}).catch(t=>{Ht(t,e,0)});e.asyncDep=a}else co(e,a)}else uo(e)}(e,t):void 0;return t&&ro(!1),s}(l,!1,s),l.asyncDep){if(o&&o.registerDep(l,$,s),!e.el){const t=l.subTree=Wr(Tr);w(null,t,n,i),e.placeholder=t.el}}else $(l,e,n,i,o,a,s)},W=(e,t,n)=>{const i=t.component=e.component;if(function r(e,t,n){const{props:i,children:r,component:o}=e,{props:a,children:s,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!s||s&&s.$stable)||i!==a&&(i?!a||tr(i,a,c):!!a);if(1024&l)return!0;if(16&l)return i?tr(i,a,c):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==i[n]&&!Ki(c,n))return!0}}return!1}(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void j(i,t,n);i.next=t,i.update()}else t.el=e.el,i.vnode=t},$=(e,t,n,i,r,o,a)=>{const s=()=>{if(e.isMounted){let{next:t,bu:n,u:i,parent:l,vnode:c}=e;{const n=wr(e);if(n)return t&&(t.el=c.el,j(e,t,a)),void n.asyncDep.then(()=>{e.isUnmounted||s()})}let u,h=t;xr(e,!1),t?(t.el=c.el,j(e,t,a)):t=c,n&&L(n),(u=t.props&&t.props.onVnodeBeforeUpdate)&&Jr(u,l,t,c),xr(e,!0);const d=Ji(e),p=e.subTree;e.subTree=d,x(p,d,g(p.el),te(p),e,r,o),t.el=d.el,null===h&&function f({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i!==e)break;(e=t.vnode).el=n,t=t.parent}}(e,d.el),i&&mr(i,r),(u=t.props&&t.props.onVnodeUpdated)&&mr(()=>Jr(u,l,t,c),r)}else{let a;const{el:s,props:l}=t,{bm:c,m:u,parent:h,root:d,type:p}=e,f=Hn(t);xr(e,!1),c&&L(c),!f&&(a=l&&l.onVnodeBeforeMount)&&Jr(a,h,t),xr(e,!0);{d.ce&&!1!==d.ce._def.shadowRoot&&d.ce._injectChildStyle(p);const a=e.subTree=Ji(e);x(null,a,n,i,e,r,o),t.el=a.el}if(u&&mr(u,r),!f&&(a=l&&l.onVnodeMounted)){const e=t;mr(()=>Jr(a,h,e),r)}(256&t.shapeFlag||h&&Hn(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&mr(e.a,r),e.isMounted=!0,t=n=i=null}};e.scope.on();const l=e.effect=new re(s);e.scope.off();const c=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>Zt(u),xr(e,!0),c()},j=(e,n,i)=>{n.component=e;const r=e.vnode.props;e.vnode=n,e.next=null,function o(e,t,n,i){const{props:r,attrs:o,vnode:{patchFlag:a}}=e,s=yt(r),[l]=e.propsOptions;let c=!1;if(!(i||a>0)||16&a){let i;or(e,t,r,o)&&(c=!0);for(const o in s)t&&(u(t,o)||(i=I(o))!==o&&u(t,i))||(l?!n||void 0===n[o]&&void 0===n[i]||(r[o]=ar(l,s,o,void 0,e,!0)):delete r[o]);if(o!==s)for(const e in o)t&&u(t,e)||(delete o[e],c=!0)}else if(8&a){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let a=n[i];if(Ki(e.emitsOptions,a))continue;const h=t[a];if(l)if(u(o,a))h!==o[a]&&(o[a]=h,c=!0);else{const t=T(a);r[t]=ar(l,s,t,h,e,!1)}else h!==o[a]&&(o[a]=h,c=!0)}}c&&Oe(e.attrs,"set","")}(e,n.props,r,i),((e,n,i)=>{const{vnode:r,slots:o}=e;let a=!0,s=t;if(32&r.shapeFlag){const e=n._;e?i&&1===e?a=!1:gr(o,n,i):(a=!n.$stable,pr(n,o)),s=n}else n&&(fr(e,n),s={default:1});if(a)for(const t in o)ur(t)||null!=s[t]||delete o[t]})(e,n.children,i),be(),Jt(e),xe()},G=(e,t,n,i,r,o,a,s,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:d,shapeFlag:p}=t;if(d>0){if(128&d)return void X(c,h,n,i,r,o,a,s,l);if(256&d)return void U(c,h,n,i,r,o,a,s,l)}8&p?(16&u&&Q(c,r,o),h!==c&&f(n,h)):16&u?16&p?X(c,h,n,i,r,o,a,s,l):Q(c,r,o,!0):(8&u&&f(n,""),16&p&&E(h,n,i,r,o,a,s,l))},U=(e,t,i,r,o,a,s,l,c)=>{t=t||n;const u=(e=e||n).length,h=t.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const n=t[p]=c?Yr(t[p]):qr(t[p]);x(e[p],n,i,null,o,a,s,l,c)}u>h?Q(e,o,a,!0,!1,d):E(t,i,r,o,a,s,l,c,d)},X=(e,t,i,r,o,a,s,l,c)=>{let u=0;const h=t.length;let d=e.length-1,p=h-1;for(;u<=d&&u<=p;){const n=e[u],r=t[u]=c?Yr(t[u]):qr(t[u]);if(!Br(n,r))break;x(n,r,i,null,o,a,s,l,c),u++}for(;u<=d&&u<=p;){const n=e[d],r=t[p]=c?Yr(t[p]):qr(t[p]);if(!Br(n,r))break;x(n,r,i,null,o,a,s,l,c),d--,p--}if(u>d){if(u<=p){const e=p+1,n=e<h?t[e].el:r;for(;u<=p;)x(null,t[u]=c?Yr(t[u]):qr(t[u]),i,n,o,a,s,l,c),u++}}else if(u>p)for(;u<=d;)Y(e[u],o,a,!0),u++;else{const f=u,g=u,m=new Map;for(u=g;u<=p;u++){const e=t[u]=c?Yr(t[u]):qr(t[u]);null!=e.key&&m.set(e.key,u)}let v,y=0;const b=p-g+1;let _=!1,w=0;const S=new Array(b);for(u=0;u<b;u++)S[u]=0;for(u=f;u<=d;u++){const n=e[u];if(y>=b){Y(n,o,a,!0);continue}let r;if(null!=n.key)r=m.get(n.key);else for(v=g;v<=p;v++)if(0===S[v-g]&&Br(n,t[v])){r=v;break}void 0===r?Y(n,o,a,!0):(S[r-g]=u+1,r>=w?w=r:_=!0,x(n,t[r],i,null,o,a,s,l,c),y++)}const M=_?function k(e){const t=e.slice(),n=[0];let i,r,o,a,s;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}for(o=0,a=n.length-1;o<a;)s=o+a>>1,e[n[s]]<l?o=s+1:a=s;l<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}o=n.length,a=n[o-1];for(;o-- >0;)n[o]=a,a=t[a];return n}(S):n;for(v=M.length-1,u=b-1;u>=0;u--){const e=g+u,n=t[e],d=t[e+1],p=e+1<h?d.el||d.placeholder:r;0===S[u]?x(null,n,i,p,o,a,s,l,c):_&&(v<0||u!==M[v]?q(n,i,p,2):v--)}}},q=(e,t,n,i,r=null)=>{const{el:o,type:l,transition:c,children:u,shapeFlag:h}=e;if(6&h)return void q(e.component.subTree,t,n,i);if(128&h)return void e.suspense.move(t,n,i);if(64&h)return void l.move(e,t,n,oe);if(l===kr){a(o,t,n);for(let e=0;e<u.length;e++)q(u[e],t,n,i);return void a(e.anchor,t,n)}if(l===Ar)return void k(e,t,n);if(2!==i&&1&h&&c)if(0===i)c.beforeEnter(o),a(o,t,n),mr(()=>c.enter(o),r);else{const{leave:i,delayLeave:r,afterLeave:l}=c,u=()=>{e.ctx.isUnmounted?s(o):a(o,t,n)},h=()=>{o._isLeaving&&o[wn](!0),i(o,()=>{u(),l&&l()})};r?r(o,u,h):h()}else a(o,t,n)},Y=(e,t,n,i=!1,r=!1)=>{const{type:o,props:a,ref:s,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d,cacheIndex:p}=e;if(-2===h&&(r=!1),null!=s&&(be(),Vn(s,null,n,e,!0),xe()),null!=p&&(t.renderCache[p]=void 0),256&u)return void t.ctx.deactivate(e);const f=1&u&&d,g=!Hn(e);let m;if(g&&(m=a&&a.onVnodeBeforeUnmount)&&Jr(m,t,e),6&u)J(e.component,n,i);else{if(128&u)return void e.suspense.unmount(n,i);f&&ln(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,oe,i):c&&!c.hasOnce&&(o!==kr||h>0&&64&h)?Q(c,t,n,!1,!0):(o===kr&&384&h||!r&&16&u)&&Q(l,t,n),i&&Z(e)}(g&&(m=a&&a.onVnodeUnmounted)||f)&&mr(()=>{m&&Jr(m,t,e),f&&ln(e,null,t,"unmounted")},n)},Z=e=>{const{type:t,el:n,anchor:i,transition:r}=e;if(t===kr)return void K(n,i);if(t===Ar)return void C(e);const o=()=>{s(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,a=()=>t(n,o);i?i(e.el,o,a):a()}else o()},K=(e,t)=>{let n;for(;e!==t;)n=m(e),s(e),e=n;s(t)},J=(e,t,n)=>{const{bum:i,scope:r,job:o,subTree:a,um:s,m:l,a:c}=e;Sr(l),Sr(c),i&&L(i),r.stop(),o&&(o.flags|=8,Y(a,e,t,n)),s&&mr(s,t),mr(()=>{e.isUnmounted=!0},t)},Q=(e,t,n,i=!1,r=!1,o=0)=>{for(let a=o;a<e.length;a++)Y(e[a],t,n,i,r)},te=e=>{if(6&e.shapeFlag)return te(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=m(e.anchor||e.el),n=t&&t[cn];return n?m(n):t};let ne=!1;const ie=(e,t,n)=>{null==e?t._vnode&&Y(t._vnode,null,null,!0):x(t._vnode||null,e,t,null,null,null,n),t._vnode=e,ne||(ne=!0,Jt(),Qt(),ne=!1)},oe={p:x,um:Y,m:q,r:Z,mt:H,mc:E,pc:G,pbc:P,n:te,o:e};let ae;return{render:ie,hydrate:ae,createApp:zi(ie)}}(e)}function br({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function xr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function _r(e,t,n=!1){const i=e.children,r=t.children;if(h(i)&&h(r))for(let o=0;o<i.length;o++){const e=i[o];let t=r[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=r[o]=Yr(r[o]),t.el=e.el),n||-2===t.patchFlag||_r(e,t)),t.type===Cr&&-1!==t.patchFlag&&(t.el=e.el),t.type!==Tr||t.el||(t.el=e.el)}}function wr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:wr(t)}function Sr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Mr=e=>e.__isSuspense;const kr=Symbol.for("v-fgt"),Cr=Symbol.for("v-txt"),Tr=Symbol.for("v-cmt"),Ar=Symbol.for("v-stc"),Ir=[];let Dr=null;function Or(e=!1){Ir.push(Dr=e?null:[])}let Er=1;function Lr(e,t=!1){Er+=e,e<0&&Dr&&t&&(Dr.hasOnce=!0)}function Rr(e){return e.dynamicChildren=Er>0?Dr||n:null,function t(){Ir.pop(),Dr=Ir[Ir.length-1]||null}(),Er>0&&Dr&&Dr.push(e),e}function Nr(e,t,n,i,r,o){return Rr(Hr(e,t,n,i,r,o,!0))}function Pr(e,t,n,i,r){return Rr(Wr(e,t,n,i,r,!0))}function zr(e){return!!e&&!0===e.__v_isVNode}function Br(e,t){return e.type===t.type&&e.key===t.key}const Vr=({key:e})=>null!=e?e:null,Fr=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?m(e)||wt(e)||g(e)?{i:nn,r:e,k:t,f:!!n}:e:null);function Hr(e,t=null,n=null,i=0,r=null,o=(e===kr?0:1),a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vr(t),ref:t&&Fr(t),scopeId:rn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:nn};return s?(Zr(l,n),128&o&&e.normalize(l)):n&&(l.shapeFlag|=m(n)?8:16),Er>0&&!a&&Dr&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&Dr.push(l),l}const Wr=function $r(e,t=null,n=null,i=0,r=null,o=!1){e&&e!==si||(e=Tr);if(zr(e)){const i=jr(e,t,!0);return n&&Zr(i,n),Er>0&&!o&&Dr&&(6&i.shapeFlag?Dr[Dr.indexOf(e)]=i:Dr.push(i)),i.patchFlag=-2,i}(function a(e){return g(e)&&"__vccOpts"in e})(e)&&(e=e.__vccOpts);if(t){t=function e(t){return t?vt(t)||rr(t)?s({},t):t:null}(t);let{class:n,style:i}=t;n&&!m(n)&&(t.class=$(n)),y(i)&&(vt(i)&&!h(i)&&(i=s({},i)),t.style=B(i))}const l=m(e)?1:Mr(e)?128:un(e)?64:y(e)?4:g(e)?2:0;return Hr(e,t,n,i,r,l,o,!0)};function jr(e,t,n=!1,i=!1){const{props:r,ref:o,patchFlag:a,children:s,transition:l}=e,c=t?Kr(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Vr(c),ref:t&&t.ref?n&&o?h(o)?o.concat(Fr(t)):[o,Fr(t)]:Fr(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==kr?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&jr(e.ssContent),ssFallback:e.ssFallback&&jr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&Rn(u,l.clone(u)),u}function Gr(e=" ",t=0){return Wr(Cr,null,e,t)}function Ur(e,t){const n=Wr(Ar,null,e);return n.staticCount=t,n}function Xr(e="",t=!1){return t?(Or(),Pr(Tr,null,e)):Wr(Tr,null,e)}function qr(e){return null==e||"boolean"==typeof e?Wr(Tr):h(e)?Wr(kr,null,e.slice()):zr(e)?Yr(e):Wr(Cr,null,String(e))}function Yr(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:jr(e)}function Zr(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(h(t))n=16;else if("object"==typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),Zr(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||rr(t)?3===i&&nn&&(1===nn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=nn}}else g(t)?(t={default:t,_ctx:nn},n=32):(t=String(t),64&i?(n=16,t=[Gr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Kr(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=$([t.class,i.class]));else if("style"===e)t.style=B([t.style,i.style]);else if(o(e)){const n=t[e],r=i[e];!r||n===r||h(n)&&n.includes(r)||(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=i[e])}return t}function Jr(e,t,n,i=null){Ft(e,t,7,[n,i])}const Qr=Ni();let eo=0;let to=null;const no=()=>to||nn;let io,ro;{const e=z(),t=(t,n)=>{let i;return(i=e[t])||(i=e[t]=[]),i.push(n),e=>{i.length>1?i.forEach(t=>t(e)):i[0](e)}};io=t("__VUE_INSTANCE_SETTERS__",e=>to=e),ro=t("__VUE_SSR_SETTERS__",e=>lo=e)}const oo=e=>{const t=to;return io(e),e.scope.on(),()=>{e.scope.off(),io(t)}},ao=()=>{to&&to.scope.off(),io(null)};function so(e){return 4&e.vnode.shapeFlag}let lo=!1;function co(e,t,n){g(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:y(t)&&(e.setupState=It(t)),uo(e)}function uo(e,t,n){const r=e.type;e.render||(e.render=r.render||i);{const t=oo(e);be();try{wi(e)}finally{xe(),t()}}}const ho={get:(e,t)=>(De(e,0,""),e[t])};function po(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(It(bt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in vi?vi[n](e):void 0,has:(e,t)=>t in e||t in vi})):e.proxy}function fo(e,t=!0){return g(e)?e.displayName||e.name:e.name||t&&e.__name}const go=(e,t)=>{const n=function i(e,t,n=!1){let i,r;return g(e)?i=e:(i=e.get,r=e.set),new Lt(i,r,n)}(e,0,lo);return n};function mo(e,t,n){try{Lr(-1);const i=arguments.length;return 2===i?y(t)&&!h(t)?zr(t)?Wr(e,null,[t]):Wr(e,t):Wr(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&zr(n)&&(n=[n]),Wr(e,t,n))}finally{Lr(1)}}const vo="3.5.25";let yo;const bo="undefined"!=typeof window&&window.trustedTypes;if(bo)try{yo=bo.createPolicy("vue",{createHTML:e=>e})}catch(kLe){}const xo=yo?e=>yo.createHTML(e):e=>e,_o="undefined"!=typeof document?document:null,wo=_o&&_o.createElement("template"),So={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r="svg"===t?_o.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?_o.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?_o.createElement(e,{is:n}):_o.createElement(e);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>_o.createTextNode(e),createComment:e=>_o.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_o.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,o){const a=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),r!==o&&(r=r.nextSibling););else{wo.innerHTML=xo("svg"===i?`<svg>${e}</svg>`:"mathml"===i?`<math>${e}</math>`:e);const r=wo.content;if("svg"===i||"mathml"===i){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Mo="transition",ko="animation",Co=Symbol("_vtc"),To={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ao=s({},Cn,To),Io=(e=>(e.displayName="Transition",e.props=Ao,e))((e,{slots:t})=>mo(In,Eo(e),t)),Do=(e,t=[])=>{h(e)?e.forEach(e=>e(...t)):e&&e(...t)},Oo=e=>!!e&&(h(e)?e.some(e=>e.length>1):e.length>1);function Eo(e){const t={};for(const s in e)s in To||(t[s]=e[s]);if(!1===e.css)return t;const{name:n="v",type:i,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,g=function m(e){if(null==e)return null;if(y(e))return[Lo(e.enter),Lo(e.leave)];{const t=Lo(e);return[t,t]}}(r),v=g&&g[0],b=g&&g[1],{onBeforeEnter:x,onEnter:_,onEnterCancelled:w,onLeave:S,onLeaveCancelled:M,onBeforeAppear:k=x,onAppear:C=_,onAppearCancelled:T=w}=t,A=(e,t,n,i)=>{e._enterCancelled=i,No(e,t?h:l),No(e,t?u:a),n&&n()},I=(e,t)=>{e._isLeaving=!1,No(e,d),No(e,f),No(e,p),t&&t()},D=e=>(t,n)=>{const r=e?C:_,a=()=>A(t,e,n);Do(r,[t,a]),Po(()=>{No(t,e?c:o),Ro(t,e?h:l),Oo(r)||Bo(t,i,v,a)})};return s(t,{onBeforeEnter(e){Do(x,[e]),Ro(e,o),Ro(e,a)},onBeforeAppear(e){Do(k,[e]),Ro(e,c),Ro(e,u)},onEnter:D(!1),onAppear:D(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>I(e,t);Ro(e,d),e._enterCancelled?(Ro(e,p),Wo(e)):(Wo(e),Ro(e,p)),Po(()=>{e._isLeaving&&(No(e,d),Ro(e,f),Oo(S)||Bo(e,i,b,n))}),Do(S,[e,n])},onEnterCancelled(e){A(e,!1,void 0,!0),Do(w,[e])},onAppearCancelled(e){A(e,!0,void 0,!0),Do(T,[e])},onLeaveCancelled(e){I(e),Do(M,[e])}})}function Lo(e){const t=(e=>{const t=m(e)?Number(e):NaN;return isNaN(t)?e:t})(e);return t}function Ro(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[Co]||(e[Co]=new Set)).add(t)}function No(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const n=e[Co];n&&(n.delete(t),n.size||(e[Co]=void 0))}function Po(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let zo=0;function Bo(e,t,n,i){const r=e._endId=++zo,o=()=>{r===e._endId&&i()};if(null!=n)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=Vo(e,t);if(!a)return i();const c=a+"end";let u=0;const h=()=>{e.removeEventListener(c,d),o()},d=t=>{t.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},s+1),e.addEventListener(c,d)}function Vo(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i(`${Mo}Delay`),o=i(`${Mo}Duration`),a=Fo(r,o),s=i(`${ko}Delay`),l=i(`${ko}Duration`),c=Fo(s,l);let u=null,h=0,d=0;t===Mo?a>0&&(u=Mo,h=a,d=o.length):t===ko?c>0&&(u=ko,h=c,d=l.length):(h=Math.max(a,c),u=h>0?a>c?Mo:ko:null,d=u?u===Mo?o.length:l.length:0);return{type:u,timeout:h,propCount:d,hasTransform:u===Mo&&/\b(?:transform|all)(?:,|$)/.test(i(`${Mo}Property`).toString())}}function Fo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,n)=>Ho(t)+Ho(e[n])))}function Ho(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function Wo(e){return(e?e.ownerDocument:document).body.offsetHeight}const $o=Symbol("_vod"),jo=Symbol("_vsh"),Go={name:"show",beforeMount(e,{value:t},{transition:n}){e[$o]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Uo(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Uo(e,!0),i.enter(e)):i.leave(e,()=>{Uo(e,!1)}):Uo(e,t))},beforeUnmount(e,{value:t}){Uo(e,t)}};function Uo(e,t){e.style.display=t?e[$o]:"none",e[jo]=!t}const Xo=Symbol(""),qo=/(?:^|;)\s*display\s*:/;const Yo=/\s*!important$/;function Zo(e,t,n){if(h(n))n.forEach(n=>Zo(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=function r(e,t){const n=Jo[t];if(n)return n;let i=T(t);if("filter"!==i&&i in e)return Jo[t]=i;i=D(i);for(let r=0;r<Ko.length;r++){const n=Ko[r]+i;if(n in e)return Jo[t]=n}return t}(e,t);Yo.test(n)?e.setProperty(I(i),n.replace(Yo,""),"important"):e[i]=n}}const Ko=["Webkit","Moz","ms"],Jo={};const Qo="http://www.w3.org/1999/xlink";function ea(e,t,n,i,r,o=j(t)){i&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(Qo,t.slice(6,t.length)):e.setAttributeNS(Qo,t,n):null==n||o&&!G(n)?e.removeAttribute(t):e.setAttribute(t,o?"":v(n)?String(n):n)}function ta(e,t,n,i,r){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?xo(n):n));const o=e.tagName;if("value"===t&&"PROGRESS"!==o&&!o.includes("-")){const i="OPTION"===o?e.getAttribute("value")||"":e.value,r=null==n?"checkbox"===e.type?"on":"":String(n);return i===r&&"_value"in e||(e.value=r),null==n&&e.removeAttribute(t),void(e._value=n)}let a=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=G(n):null==n&&"string"===i?(n="",a=!0):"number"===i&&(n=0,a=!0)}try{e[t]=n}catch(kLe){}a&&e.removeAttribute(r||t)}function na(e,t,n,i){e.addEventListener(t,n,i)}const ia=Symbol("_vei");function ra(e,t,n,i,r=null){const o=e[ia]||(e[ia]={}),a=o[t];if(i&&a)a.value=i;else{const[n,s]=function l(e){let t;if(oa.test(e)){let n;for(t={};n=e.match(oa);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):I(e.slice(2));return[n,t]}(t);if(i){const a=o[t]=function l(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Ft(function i(e,t){if(h(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=la(),n}(i,r);na(e,n,a,s)}else a&&(!function c(e,t,n,i){e.removeEventListener(t,n,i)}(e,n,a,s),o[t]=void 0)}}const oa=/(?:Once|Passive|Capture)$/;let aa=0;const sa=Promise.resolve(),la=()=>aa||(sa.then(()=>aa=0),aa=Date.now());const ca=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const ua=new WeakMap,ha=new WeakMap,da=Symbol("_moveCb"),pa=Symbol("_enterCb"),fa=(e=>(delete e.props.mode,e))({name:"TransitionGroup",props:s({},Ao,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=no(),i=Mn();let r,o;return Jn(()=>{if(!r.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function i(e,t,n){const i=e.cloneNode(),r=e[Co];r&&r.forEach(e=>{e.split(/\s+/).forEach(e=>e&&i.classList.remove(e))});n.split(/\s+/).forEach(e=>e&&i.classList.add(e)),i.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(i);const{hasTransform:a}=Vo(i);return o.removeChild(i),a}(r[0].el,n.vnode.el,t))return void(r=[]);r.forEach(ma),r.forEach(va);const o=r.filter(ya);Wo(n.vnode.el),o.forEach(e=>{const n=e.el,i=n.style;Ro(n,t),i.transform=i.webkitTransform=i.transitionDuration="";const r=n[da]=e=>{e&&e.target!==n||e&&!e.propertyName.endsWith("transform")||(n.removeEventListener("transitionend",r),n[da]=null,No(n,t))};n.addEventListener("transitionend",r)}),r=[]}),()=>{const a=yt(e),s=Eo(a);let l=a.tag||kr;if(r=[],o)for(let e=0;e<o.length;e++){const t=o[e];t.el&&t.el instanceof Element&&(r.push(t),Rn(t,On(t,s,i,n)),ua.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop}))}o=t.default?Nn(t.default()):[];for(let e=0;e<o.length;e++){const t=o[e];null!=t.key&&Rn(t,On(t,s,i,n))}return Wr(l,null,o)}}}),ga=fa;function ma(e){const t=e.el;t[da]&&t[da](),t[pa]&&t[pa]()}function va(e){ha.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function ya(e){const t=ua.get(e),n=ha.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${i}px,${r}px)`,t.transitionDuration="0s",e}}const ba=e=>{const t=e.props["onUpdate:modelValue"]||!1;return h(t)?e=>L(t,e):t};function xa(e){e.target.composing=!0}function _a(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const wa=Symbol("_assign");function Sa(e,t,n){return t&&(e=e.trim()),n&&(e=N(e)),e}const Ma={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[wa]=ba(r);const o=i||r.props&&"number"===r.props.type;na(e,t?"change":"input",t=>{t.target.composing||e[wa](Sa(e.value,n,o))}),(n||o)&&na(e,"change",()=>{e.value=Sa(e.value,n,o)}),t||(na(e,"compositionstart",xa),na(e,"compositionend",_a),na(e,"change",_a))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:o}},a){if(e[wa]=ba(a),e.composing)return;const s=null==t?"":t;if((!o&&"number"!==e.type||/^0\d/.test(e.value)?e.value:N(e.value))!==s){if(document.activeElement===e&&"range"!==e.type){if(i&&t===n)return;if(r&&e.value.trim()===s)return}e.value=s}}},ka={deep:!0,created(e,t,n){e[wa]=ba(n),na(e,"change",()=>{const t=e._modelValue,n=Ia(e),i=e.checked,r=e[wa];if(h(t)){const e=X(t,n),o=-1!==e;if(i&&!o)r(t.concat(n));else if(!i&&o){const n=[...t];n.splice(e,1),r(n)}}else if(p(t)){const e=new Set(t);i?e.add(n):e.delete(n),r(e)}else r(Da(e,i))})},mounted:Ca,beforeUpdate(e,t,n){e[wa]=ba(n),Ca(e,t,n)}};function Ca(e,{value:t,oldValue:n},i){let r;if(e._modelValue=t,h(t))r=X(t,i.props.value)>-1;else if(p(t))r=t.has(i.props.value);else{if(t===n)return;r=U(t,Da(e,!0))}e.checked!==r&&(e.checked=r)}const Ta={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=p(t);na(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?N(Ia(e)):Ia(e));e[wa](e.multiple?r?new Set(t):t:t[0]),e._assigning=!0,Yt(()=>{e._assigning=!1})}),e[wa]=ba(i)},mounted(e,{value:t}){Aa(e,t)},beforeUpdate(e,t,n){e[wa]=ba(n)},updated(e,{value:t}){e._assigning||Aa(e,t)}};function Aa(e,t){const n=e.multiple,i=h(t);if(!n||i||p(t)){for(let r=0,o=e.options.length;r<o;r++){const o=e.options[r],a=Ia(o);if(n)if(i){const e=typeof a;o.selected="string"===e||"number"===e?t.some(e=>String(e)===String(a)):X(t,a)>-1}else o.selected=t.has(a);else if(U(Ia(o),t))return void(e.selectedIndex!==r&&(e.selectedIndex=r))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Ia(e){return"_value"in e?e._value:e.value}function Da(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Oa=["ctrl","shift","alt","meta"],Ea={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Oa.some(n=>e[`${n}Key`]&&!t.includes(n))},La=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(n,...i)=>{for(let e=0;e<t.length;e++){const i=Ea[t[e]];if(i&&i(n,t))return}return e(n,...i)})},Ra={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Na=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=n=>{if(!("key"in n))return;const i=I(n.key);return t.some(e=>e===i||Ra[e]===i)?e(n):void 0})},Pa=s({patchProp:(e,t,n,i,r,s)=>{const l="svg"===r;"class"===t?function c(e,t,n){const i=e[Co];i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,l):"style"===t?function u(e,t,n){const i=e.style,r=m(n);let o=!1;if(n&&!r){if(t)if(m(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&Zo(i,t,"")}else for(const e in t)null==n[e]&&Zo(i,e,"");for(const e in n)"display"===e&&(o=!0),Zo(i,e,n[e])}else if(r){if(t!==n){const e=i[Xo];e&&(n+=";"+e),i.cssText=n,o=qo.test(n)}}else t&&e.removeAttribute("style");$o in e&&(e[$o]=o?i.display:"",e[jo]&&(i.display="none"))}(e,n,i):o(t)?a(t)||ra(e,t,0,i,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function h(e,t,n,i){if(i)return"innerHTML"===t||"textContent"===t||!!(t in e&&ca(t)&&g(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("sandbox"===t&&"IFRAME"===e.tagName)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(ca(t)&&m(n))return!1;return t in e}(e,t,i,l))?(ta(e,t,i),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||ea(e,t,i,l,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&m(i)?("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),ea(e,t,i,l)):ta(e,T(t),i,0,t)}},So);let za;function Ba(){return za||(za=yr(Pa))}const Va=(...e)=>{Ba().render(...e)},Fa=(...e)=>{const t=Ba().createApp(...e),{mount:n}=t;return t.mount=e=>{const i=function r(e){if(m(e)){return document.querySelector(e)}return e}(e);if(!i)return;const o=t._component;g(o)||o.render||o.template||(o.template=i.innerHTML),1===i.nodeType&&(i.textContent="");const a=n(i,!1,function s(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};let Ha;const Wa=e=>Ha=e,$a=Symbol();function ja(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var Ga,Ua;function Xa(){const e=te(!0),t=e.run(()=>St({}));let n=[],i=[];const r=bt({install(e){Wa(r),r._a=e,e.provide($a,r),e.config.globalProperties.$pinia=r,i.forEach(e=>n.push(e)),i=[]},use(e){return this._a?n.push(e):i.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}(Ua=Ga||(Ga={})).direct="direct",Ua.patchObject="patch object",Ua.patchFunction="patch function";const qa=()=>{};function Ya(e,t,n,i=qa){e.add(t);const r=()=>{e.delete(t)&&i()};return!n&&ne()&&function o(e,t=!1){J&&J.cleanups.push(e)}(r),r}function Za(e,...t){e.forEach(e=>{e(...t)})}const Ka=e=>e(),Ja=Symbol(),Qa=Symbol();function es(e,t){e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],r=e[n];ja(r)&&ja(i)&&e.hasOwnProperty(n)&&!wt(i)&&!ft(i)?e[n]=es(r,i):e[n]=i}return e}const ts=Symbol();function ns(e){return!ja(e)||!Object.prototype.hasOwnProperty.call(e,ts)}const{assign:is}=Object;function rs(e){return!(!wt(e)||!e.effect)}function as(e,t,n,i){const{state:r,actions:o,getters:a}=t,s=n.state.value[e];let l;return l=ss(e,function c(){s||(n.state.value[e]=r?r():{});const t=function i(e){const t=h(e)?new Array(e.length):{};for(const n in e)t[n]=Et(e,n);return t}(n.state.value[e]);return is(t,o,Object.keys(a||{}).reduce((t,i)=>(t[i]=bt(go(()=>{Wa(n);const t=n._s.get(e);return a[i].call(t,t)})),t),{}))},t,n,i,!0),l}function ss(e,t,n={},i,r,o){let a;const s=is({actions:{}},n),l={deep:!0};let c,u,h,d=new Set,p=new Set;const f=i.state.value[e];let g;function m(t){let n;c=u=!1,"function"==typeof t?(t(i.state.value[e]),n={type:Ga.patchFunction,storeId:e,events:h}):(es(i.state.value[e],t),n={type:Ga.patchObject,payload:t,storeId:e,events:h});const r=g=Symbol();Yt().then(()=>{g===r&&(c=!0)}),u=!0,Za(d,n,i.state.value[e])}o||f||(i.state.value[e]={}),St({});const v=o?function e(){const{state:t}=n,i=t?t():{};this.$patch(e=>{is(e,i)})}:qa;const y=(t,n="")=>{if(Ja in t)return t[Qa]=n,t;const r=function(){Wa(i);const n=Array.from(arguments),o=new Set,a=new Set;let s;Za(p,{args:n,name:r[Qa],store:b,after:function l(e){o.add(e)},onError:function c(e){a.add(e)}});try{s=t.apply(this&&this.$id===e?this:b,n)}catch(u){throw Za(a,u),u}return s instanceof Promise?s.then(e=>(Za(o,e),e)).catch(e=>(Za(a,e),Promise.reject(e))):(Za(o,s),s)};return r[Ja]=!0,r[Qa]=n,r},b=ut({_p:i,$id:e,$onAction:Ya.bind(null,p),$patch:m,$reset:v,$subscribe(t,n={}){const r=Ya(d,t,n.detached,()=>o()),o=a.run(()=>ji(()=>i.state.value[e],i=>{("sync"===n.flush?u:c)&&t({storeId:e,type:Ga.direct,events:h},i)},is({},l,n)));return r},$dispose:function x(){a.stop(),d.clear(),p.clear(),i._s.delete(e)}});i._s.set(e,b);const _=(i._a&&i._a.runWithContext||Ka)(()=>i._e.run(()=>(a=te()).run(()=>t({action:y}))));for(const w in _){const t=_[w];if(wt(t)&&!rs(t)||ft(t))o||(f&&ns(t)&&(wt(t)?t.value=f[w]:es(t,f[w])),i.state.value[e][w]=t);else if("function"==typeof t){const e=y(t,w);_[w]=e,s.actions[w]=t}}return is(b,_),is(yt(b),_),Object.defineProperty(b,"$state",{get:()=>i.state.value[e],set:e=>{m(t=>{is(t,e)})}}),i._p.forEach(e=>{is(b,a.run(()=>e({store:b,app:i._a,pinia:i,options:s})))}),f&&o&&n.hydrate&&n.hydrate(b.$state,f),c=!0,u=!0,b}function defineStore(e,t,n){let i;const r="function"==typeof t;function o(n,o){const a=function s(){return!(!no()&&!Bi)}();(n=n||(a?Fi($a,null):null))&&Wa(n),(n=Ha)._s.has(e)||(r?ss(e,t,i,n):as(e,i,n));return n._s.get(e)}return i=r?n:t,o.$id=e,o}const ls="undefined"!=typeof document;function cs(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const us=Object.assign;function hs(e,t){const n={};for(const i in t){const r=t[i];n[i]=ps(r)?r.map(e):e(r)}return n}const ds=()=>{},ps=Array.isArray;function fs(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}const gs=/#/g,ms=/&/g,vs=/\//g,ys=/=/g,bs=/\?/g,xs=/\+/g,_s=/%5B/g,ws=/%5D/g,Ss=/%5E/g,Ms=/%60/g,ks=/%7B/g,Cs=/%7C/g,Ts=/%7D/g,As=/%20/g;function Is(e){return null==e?"":encodeURI(""+e).replace(Cs,"|").replace(_s,"[").replace(ws,"]")}function Ds(e){return Is(e).replace(xs,"%2B").replace(As,"+").replace(gs,"%23").replace(ms,"%26").replace(Ms,"`").replace(ks,"{").replace(Ts,"}").replace(Ss,"^")}function Os(e){return Ds(e).replace(ys,"%3D")}function Es(e){return function t(e){return Is(e).replace(gs,"%23").replace(bs,"%3F")}(e).replace(vs,"%2F")}function Ls(e){if(null==e)return null;try{return decodeURIComponent(""+e)}catch(t){}return""+e}const Rs=/\/$/;function Ns(e,t,n="/"){let i,r={},o="",a="";const s=t.indexOf("#");let l=t.indexOf("?");return l=s>=0&&l>s?-1:l,l>=0&&(i=t.slice(0,l),o=t.slice(l,s>0?s:t.length),r=e(o.slice(1))),s>=0&&(i=i||t.slice(0,s),a=t.slice(s,t.length)),i=function c(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];".."!==r&&"."!==r||i.push("");let o,a,s=n.length-1;for(o=0;o<i.length;o++)if(a=i[o],"."!==a){if(".."!==a)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}(null!=i?i:t,n),{fullPath:i+o+a,path:i,query:r,hash:Ls(a)}}function Ps(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function zs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Bs(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Vs(e[n],t[n]))return!1;return!0}function Vs(e,t){return ps(e)?Fs(e,t):ps(t)?Fs(t,e):e===t}function Fs(e,t){return ps(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}const Hs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ws=function(e){return e.pop="pop",e.push="push",e}({}),$s=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function js(e){if(!e)if(ls){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Rs,"")}const Gs=/^[^#]+#/;function Us(e,t){return e.replace(Gs,"#")+t}const Xs=()=>({left:window.scrollX,top:window.scrollY});function qs(e){let t;if("el"in e){const n=e.el,i="string"==typeof n&&n.startsWith("#"),r="string"==typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=function o(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function Ys(e,t){return(history.state?history.state.position-t:-1)+e}const Zs=new Map;function Ks(e){return"string"==typeof e||"symbol"==typeof e}let Js=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Qs=Symbol("");function el(e,t){return us(new Error,{type:e,[Qs]:!0},t)}function tl(e,t){return e instanceof Error&&Qs in e&&(null==t||!!(e.type&t))}Js.MATCHER_NOT_FOUND,Js.NAVIGATION_GUARD_REDIRECT,Js.NAVIGATION_ABORTED,Js.NAVIGATION_CANCELLED,Js.NAVIGATION_DUPLICATED;function nl(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const e=n[i].replace(xs," "),r=e.indexOf("="),o=Ls(r<0?e:e.slice(0,r)),a=r<0?null:Ls(e.slice(r+1));if(o in t){let e=t[o];ps(e)||(e=t[o]=[e]),e.push(a)}else t[o]=a}return t}function il(e){let t="";for(let n in e){const i=e[n];n=Os(n),null!=i?(ps(i)?i.map(e=>e&&Ds(e)):[i&&Ds(i)]).forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}):void 0!==i&&(t+=(t.length?"&":"")+n)}return t}function rl(e){const t={};for(const n in e){const i=e[n];void 0!==i&&(t[n]=ps(i)?i.map(e=>null==e?null:""+e):null==i?i:""+i)}return t}const ol=Symbol(""),al=Symbol(""),sl=Symbol(""),ll=Symbol(""),cl=Symbol("");function ul(){let e=[];return{add:function t(n){return e.push(n),()=>{const t=e.indexOf(n);t>-1&&e.splice(t,1)}},list:()=>e.slice(),reset:function n(){e=[]}}}function hl(e,t,n,i,r,o=e=>e()){const a=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((s,l)=>{const c=e=>{!1===e?l(el(Js.NAVIGATION_ABORTED,{from:n,to:t})):e instanceof Error?l(e):!function o(e){return"string"==typeof e||e&&"object"==typeof e}(e)?(a&&i.enterCallbacks[r]===a&&"function"==typeof e&&a.push(e),s()):l(el(Js.NAVIGATION_GUARD_REDIRECT,{from:t,to:e}))},u=o(()=>e.call(i&&i.instances[r],t,n,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(e=>l(e))})}function dl(e,t,n,i,r=e=>e()){const o=[];for(const a of e)for(const e in a.components){let s=a.components[e];if("beforeRouteEnter"===t||a.instances[e])if(cs(s)){const l=(s.__vccOpts||s)[t];l&&o.push(hl(l,n,i,a,e,r))}else{let l=s();o.push(()=>l.then(o=>{if(!o)throw new Error(`Couldn't resolve component "${e}" at "${a.path}"`);const s=(l=o).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&cs(l.default)?o.default:o;var l;a.mods[e]=o,a.components[e]=s;const c=(s.__vccOpts||s)[t];return c&&hl(c,n,i,a,e,r)()}))}}return o}function pl(e,t){const{pathname:n,search:i,hash:r}=t,o=e.indexOf("#");if(o>-1){let t=r.includes(e.slice(o))?e.slice(o).length:1,n=r.slice(t);return"/"!==n[0]&&(n="/"+n),Ps(n,"")}return Ps(n,e)+i+r}function fl(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?Xs():null}}function gl(e){const{history:t,location:n}=window,i={value:pl(e,n)},r={value:t.state};function o(i,o,a){const s=e.indexOf("#"),l=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+i:location.protocol+"//"+location.host+e+i;try{t[a?"replaceState":"pushState"](o,"",l),r.value=o}catch(c){n[a?"replace":"assign"](l)}}return r.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:function a(e,n){const a=us({},r.value,t.state,{forward:e,scroll:Xs()});o(a.current,a,!0),o(e,us({},fl(i.value,e,null),{position:a.position+1},n),!1),i.value=e},replace:function s(e,n){o(e,us({},t.state,fl(r.value.back,e,r.value.forward,!0),n,{position:r.value.position}),!0),i.value=e}}}function ml(e){const t=gl(e=js(e)),n=function i(e,t,n,r){let o=[],a=[],s=null;const l=({state:i})=>{const a=pl(e,location),l=n.value,c=t.value;let u=0;if(i){if(n.value=a,t.value=i,s&&s===l)return void(s=null);u=c?i.position-c.position:0}else r(a);o.forEach(e=>{e(n.value,l,{delta:u,type:Ws.pop,direction:u?u>0?$s.forward:$s.back:$s.unknown})})};function c(){if("hidden"===document.visibilityState){const{history:e}=window;if(!e.state)return;e.replaceState(us({},e.state,{scroll:Xs()}),"")}}return window.addEventListener("popstate",l),window.addEventListener("pagehide",c),document.addEventListener("visibilitychange",c),{pauseListeners:function u(){s=n.value},listen:function h(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return a.push(t),t},destroy:function d(){for(const e of a)e();a=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",c),document.removeEventListener("visibilitychange",c)}}}(e,t.state,t.location,t.replace);const r=us({location:"",base:e,go:function o(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:Us.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function vl(e){return(e=location.host?e||location.pathname+location.search:"").includes("#")||(e+="#"),ml(e)}let yl=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var bl=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(bl||{});const xl={type:yl.Static,value:""},_l=/[a-zA-Z0-9_]/;const wl="[^/]+?",Sl={sensitive:!1,strict:!1,start:!0,end:!0};var Ml=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(Ml||{});const kl=/[.+*?^${}()[\]/\\]/g;function Cl(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?1===e.length&&e[0]===Ml.Static+Ml.Segment?-1:1:e.length>t.length?1===t.length&&t[0]===Ml.Static+Ml.Segment?1:-1:0}function Tl(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const e=Cl(i[n],r[n]);if(e)return e;n++}if(1===Math.abs(r.length-i.length)){if(Al(i))return 1;if(Al(r))return-1}return r.length-i.length}function Al(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Il={strict:!1,end:!0,sensitive:!1};function Dl(e,t,n){const i=function o(e,t){const n=us({},Sl,t),i=[];let r=n.start?"^":"";const o=[];for(const c of e){const e=c.length?[]:[Ml.Root];n.strict&&!c.length&&(r+="/");for(let t=0;t<c.length;t++){const i=c[t];let a=Ml.Segment+(n.sensitive?Ml.BonusCaseSensitive:0);if(i.type===yl.Static)t||(r+="/"),r+=i.value.replace(kl,"\\$&"),a+=Ml.Static;else if(i.type===yl.Param){const{value:e,repeatable:n,optional:s,regexp:l}=i;o.push({name:e,repeatable:n,optional:s});const u=l||wl;u!==wl&&(a+=Ml.BonusCustomRegExp);let h=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;t||(h=s&&c.length<2?`(?:/${h})`:"/"+h),s&&(h+="?"),r+=h,a+=Ml.Dynamic,s&&(a+=Ml.BonusOptional),n&&(a+=Ml.BonusRepeatable),".*"===u&&(a+=Ml.BonusWildcard)}e.push(a)}i.push(e)}if(n.strict&&n.end){const e=i.length-1;i[e][i[e].length-1]+=Ml.BonusStrict}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");return{re:a,score:i,keys:o,parse:function s(e){const t=e.match(a),n={};if(!t)return null;for(let i=1;i<t.length;i++){const e=t[i]||"",r=o[i-1];n[r.name]=e&&r.repeatable?e.split("/"):e}return n},stringify:function l(t){let n="",i=!1;for(const r of e){i&&n.endsWith("/")||(n+="/"),i=!1;for(const e of r)if(e.type===yl.Static)n+=e.value;else if(e.type===yl.Param){const{value:o,repeatable:a,optional:s}=e,l=o in t?t[o]:"";if(ps(l)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=ps(l)?l.join("/"):l;if(!c){if(!s)throw new Error(`Missing required param "${o}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=c}}return n||"/"}}}(function r(e){if(!e)return[[]];if("/"===e)return[[xl]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=bl.Static,i=n;const r=[];let o;function a(){o&&r.push(o),o=[]}let s,l=0,c="",u="";function h(){c&&(n===bl.Static?o.push({type:yl.Static,value:c}):n===bl.Param||n===bl.ParamRegExp||n===bl.ParamRegExpEnd?(o.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:yl.Param,value:c,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function d(){c+=s}for(;l<e.length;)if(s=e[l++],"\\"!==s||n===bl.ParamRegExp)switch(n){case bl.Static:"/"===s?(c&&h(),a()):":"===s?(h(),n=bl.Param):d();break;case bl.EscapeNext:d(),n=i;break;case bl.Param:"("===s?n=bl.ParamRegExp:_l.test(s)?d():(h(),n=bl.Static,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case bl.ParamRegExp:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:n=bl.ParamRegExpEnd:u+=s;break;case bl.ParamRegExpEnd:h(),n=bl.Static,"*"!==s&&"?"!==s&&"+"!==s&&l--,u="";break;default:t("Unknown state")}else i=n,n=bl.EscapeNext;return n===bl.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),h(),a(),r}(e.path),n),a=us(i,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Ol(e,t){const n=[],i=new Map;function r(e,n,i){const s=!i,l=Ll(e);l.aliasOf=i&&i.record;const c=fs(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(Ll(us({},l,{components:i?i.record.components:l.components,path:e,aliasOf:i?i.record:l})))}let h,d;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,i="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&i+u)}if(h=Dl(t,n,c),i?i.alias.push(h):(d=d||h,d!==h&&d.alias.push(h),s&&e.name&&!Nl(h)&&o(e.name)),zl(h)&&a(h),l.children){const e=l.children;for(let t=0;t<e.length;t++)r(e[t],h,i&&i.children[t])}i=i||h}return d?()=>{o(d)}:ds}function o(e){if(Ks(e)){const t=i.get(e);t&&(i.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&i.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function a(e){const t=function r(e,t){let n=0,i=t.length;for(;n!==i;){const r=n+i>>1;Tl(e,t[r])<0?i=r:n=r+1}const r=function o(e){let t=e;for(;t=t.parent;)if(zl(t)&&0===Tl(e,t))return t}(e);r&&(i=t.lastIndexOf(r,i-1));return i}(e,n);n.splice(t,0,e),e.record.name&&!Nl(e)&&i.set(e.record.name,e)}return t=fs(Il,t),e.forEach(e=>r(e)),{addRoute:r,resolve:function s(e,t){let r,o,a,s={};if("name"in e&&e.name){if(r=i.get(e.name),!r)throw el(Js.MATCHER_NOT_FOUND,{location:e});a=r.record.name,s=us(El(t.params,r.keys.filter(e=>!e.optional).concat(r.parent?r.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&El(e.params,r.keys.map(e=>e.name))),o=r.stringify(s)}else if(null!=e.path)o=e.path,r=n.find(e=>e.re.test(o)),r&&(s=r.parse(o),a=r.record.name);else{if(r=t.name?i.get(t.name):n.find(e=>e.re.test(t.path)),!r)throw el(Js.MATCHER_NOT_FOUND,{location:e,currentLocation:t});a=r.record.name,s=us({},t.params,e.params),o=r.stringify(s)}const l=[];let c=r;for(;c;)l.unshift(c.record),c=c.parent;return{name:a,path:o,params:s,matched:l,meta:Pl(l)}},removeRoute:o,clearRoutes:function l(){n.length=0,i.clear()},getRoutes:function c(){return n},getRecordMatcher:function u(e){return i.get(e)}}}function El(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Ll(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Rl(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Rl(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]="object"==typeof n?n[i]:n;return t}function Nl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Pl(e){return e.reduce((e,t)=>us(e,t.meta),{})}function zl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Bl(e){const t=Fi(sl),n=Fi(ll),i=go(()=>{const n=Tt(e.to);return t.resolve(n)}),r=go(()=>{const{matched:e}=i.value,{length:t}=e,r=e[t-1],o=n.matched;if(!r||!o.length)return-1;const a=o.findIndex(zs.bind(null,r));if(a>-1)return a;const s=Fl(e[t-2]);return t>1&&Fl(r)===s&&o[o.length-1].path!==s?o.findIndex(zs.bind(null,e[t-2])):a}),o=go(()=>r.value>-1&&function e(t,n){for(const e in n){const i=n[e],r=t[e];if("string"==typeof i){if(i!==r)return!1}else if(!ps(r)||r.length!==i.length||i.some((e,t)=>e!==r[t]))return!1}return!0}(n.params,i.value.params)),a=go(()=>r.value>-1&&r.value===n.matched.length-1&&Bs(n.params,i.value.params));return{route:i,href:go(()=>i.value.href),isActive:o,isExactActive:a,navigate:function s(n={}){if(function i(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)){const n=t[Tt(e.replace)?"replace":"push"](Tt(e.to)).catch(ds);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}}}const Vl=Pn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Bl,setup(e,{slots:t}){const n=ut(Bl(e)),{options:i}=Fi(sl),r=go(()=>({[Hl(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Hl(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&function o(e){return 1===e.length?e[0]:e}(t.default(n));return e.custom?i:mo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}});function Fl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Hl=(e,t,n)=>null!=e?e:null!=t?t:n;function Wl(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const $l=Pn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Fi(cl),r=go(()=>e.route||i.value),o=Fi(al,0),a=go(()=>{let e=Tt(o);const{matched:t}=r.value;let n;for(;(n=t[e])&&!n.components;)e++;return e}),s=go(()=>r.value.matched[a.value]);Vi(al,go(()=>a.value+1)),Vi(ol,s),Vi(cl,r);const l=St();return ji(()=>[l.value,s.value,e.name],([e,t,n],[i,r,o])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===i&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&zs(t,r)&&i||(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const i=r.value,o=e.name,a=s.value,c=a&&a.components[o];if(!c)return Wl(n.default,{Component:c,route:i});const u=a.props[o],h=u?!0===u?i.params:"function"==typeof u?u(i):u:null,d=mo(c,us({},h,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(a.instances[o]=null)},ref:l}));return Wl(n.default,{Component:d,route:i})||d}}});function jl(e){const t=Ol(e.routes,e),n=e.parseQuery||nl,i=e.stringifyQuery||il,r=e.history,o=ul(),a=ul(),s=ul(),l=Mt(Hs);let c=Hs;ls&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=hs.bind(null,e=>""+e),h=hs.bind(null,Es),d=hs.bind(null,Ls);function p(e,o){if(o=us({},o||l.value),"string"==typeof e){const i=Ns(n,e,o.path),a=t.resolve({path:i.path},o),s=r.createHref(i.fullPath);return us(i,a,{params:d(a.params),hash:Ls(i.hash),redirectedFrom:void 0,href:s})}let a;if(null!=e.path)a=us({},e,{path:Ns(n,e.path,o.path).path});else{const t=us({},e.params);for(const e in t)null==t[e]&&delete t[e];a=us({},e,{params:h(t)}),o.params=h(o.params)}const s=t.resolve(a,o),c=e.hash||"";s.params=u(d(s.params));const p=function f(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(i,us({},e,{hash:(g=c,Is(g).replace(ks,"{").replace(Ts,"}").replace(Ss,"^")),path:s.path}));var g;const m=r.createHref(p);return us({fullPath:p,hash:c,query:i===il?rl(e.query):e.query||{}},s,{redirectedFrom:void 0,href:m})}function f(e){return"string"==typeof e?Ns(n,e,l.value.path):us({},e)}function g(e,t){if(c!==e)return el(Js.NAVIGATION_CANCELLED,{from:t,to:e})}function m(e){return y(e)}function v(e,t){const n=e.matched[e.matched.length-1];if(n&&n.redirect){const{redirect:i}=n;let r="function"==typeof i?i(e,t):i;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=f(r):{path:r},r.params={}),us({query:e.query,hash:e.hash,params:null!=r.path?{}:e.params},r)}}function y(e,t){const n=c=p(e),r=l.value,o=e.state,a=e.force,s=!0===e.replace,u=v(n,r);if(u)return y(us(f(u),{state:"object"==typeof u?us({},o,u.state):o,force:a,replace:s}),t||n);const h=n;let d;return h.redirectedFrom=t,!a&&function g(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&zs(t.matched[i],n.matched[r])&&Bs(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(i,r,n)&&(d=el(Js.NAVIGATION_DUPLICATED,{to:h,from:r}),O(r,r,!0,!1)),(d?Promise.resolve(d):_(h,r)).catch(e=>tl(e)?tl(e,Js.NAVIGATION_GUARD_REDIRECT)?e:D(e):I(e,h,r)).then(e=>{if(e){if(tl(e,Js.NAVIGATION_GUARD_REDIRECT))return y(us({replace:s},f(e.to),{state:"object"==typeof e.to?us({},o,e.to.state):o,force:a}),t||h)}else e=S(h,r,!0,s,o);return w(h,r,e),e})}function b(e,t){const n=g(e,t);return n?Promise.reject(n):Promise.resolve()}function x(e){const t=R.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function _(e,t){let n;const[i,r,s]=function l(e,t){const n=[],i=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const o=t.matched[a];o&&(e.matched.find(e=>zs(e,o))?i.push(o):n.push(o));const s=e.matched[a];s&&(t.matched.find(e=>zs(e,s))||r.push(s))}return[n,i,r]}(e,t);n=dl(i.reverse(),"beforeRouteLeave",e,t);for(const o of i)o.leaveGuards.forEach(i=>{n.push(hl(i,e,t))});const c=b.bind(null,e,t);return n.push(c),W(n).then(()=>{n=[];for(const i of o.list())n.push(hl(i,e,t));return n.push(c),W(n)}).then(()=>{n=dl(r,"beforeRouteUpdate",e,t);for(const i of r)i.updateGuards.forEach(i=>{n.push(hl(i,e,t))});return n.push(c),W(n)}).then(()=>{n=[];for(const i of s)if(i.beforeEnter)if(ps(i.beforeEnter))for(const r of i.beforeEnter)n.push(hl(r,e,t));else n.push(hl(i.beforeEnter,e,t));return n.push(c),W(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=dl(s,"beforeRouteEnter",e,t,x),n.push(c),W(n))).then(()=>{n=[];for(const i of a.list())n.push(hl(i,e,t));return n.push(c),W(n)}).catch(e=>tl(e,Js.NAVIGATION_CANCELLED)?e:Promise.reject(e))}function w(e,t,n){s.list().forEach(i=>x(()=>i(e,t,n)))}function S(e,t,n,i,o){const a=g(e,t);if(a)return a;const s=t===Hs,c=ls?history.state:{};n&&(i||s?r.replace(e.fullPath,us({scroll:s&&c&&c.scroll},o)):r.push(e.fullPath,o)),l.value=e,O(e,t,n,s),D()}let M;function k(){M||(M=r.listen((e,t,n)=>{if(!N.listening)return;const i=p(e),o=v(i,N.currentRoute.value);if(o)return void y(us(o,{replace:!0,force:!0}),i).catch(ds);c=i;const a=l.value;ls&&function s(e,t){Zs.set(e,t)}(Ys(a.fullPath,n.delta),Xs()),_(i,a).catch(e=>tl(e,Js.NAVIGATION_ABORTED|Js.NAVIGATION_CANCELLED)?e:tl(e,Js.NAVIGATION_GUARD_REDIRECT)?(y(us(f(e.to),{force:!0}),i).then(e=>{tl(e,Js.NAVIGATION_ABORTED|Js.NAVIGATION_DUPLICATED)&&!n.delta&&n.type===Ws.pop&&r.go(-1,!1)}).catch(ds),Promise.reject()):(n.delta&&r.go(-n.delta,!1),I(e,i,a))).then(e=>{(e=e||S(i,a,!1))&&(n.delta&&!tl(e,Js.NAVIGATION_CANCELLED)?r.go(-n.delta,!1):n.type===Ws.pop&&tl(e,Js.NAVIGATION_ABORTED|Js.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),w(i,a,e)}).catch(ds)}))}let C,T=ul(),A=ul();function I(e,t,n){D(e);const i=A.list();return i.length&&i.forEach(i=>i(e,t,n)),Promise.reject(e)}function D(e){return C||(C=!e,k(),T.list().forEach(([t,n])=>e?n(e):t()),T.reset()),e}function O(t,n,i,r){const{scrollBehavior:o}=e;if(!ls||!o)return Promise.resolve();const a=!i&&function s(e){const t=Zs.get(e);return Zs.delete(e),t}(Ys(t.fullPath,0))||(r||!i)&&history.state&&history.state.scroll||null;return Yt().then(()=>o(t,n,a)).then(e=>e&&qs(e)).catch(e=>I(e,t,n))}const E=e=>r.go(e);let L;const R=new Set,N={currentRoute:l,listening:!0,addRoute:function P(e,n){let i,r;return Ks(e)?(i=t.getRecordMatcher(e),r=n):r=e,t.addRoute(r,i)},removeRoute:function z(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},clearRoutes:t.clearRoutes,hasRoute:function B(e){return!!t.getRecordMatcher(e)},getRoutes:function V(){return t.getRoutes().map(e=>e.record)},resolve:p,options:e,push:m,replace:function F(e){return m(us(f(e),{replace:!0}))},go:E,back:()=>E(-1),forward:()=>E(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:A.add,isReady:function H(){return C&&l.value!==Hs?Promise.resolve():new Promise((e,t)=>{T.add([e,t])})},install(e){e.component("RouterLink",Vl),e.component("RouterView",$l),e.config.globalProperties.$router=N,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Tt(l)}),ls&&!L&&l.value===Hs&&(L=!0,m(r.location).catch(e=>{}));const t={};for(const i in Hs)Object.defineProperty(t,i,{get:()=>l.value[i],enumerable:!0});e.provide(sl,N),e.provide(ll,ht(t)),e.provide(cl,l);const n=e.unmount;R.add(e),e.unmount=function(){R.delete(e),R.size<1&&(c=Hs,M&&M(),M=null,l.value=Hs,L=!1,C=!1),n()}}};function W(e){return e.reduce((e,t)=>e.then(()=>x(t)),Promise.resolve())}return N}function Gl(){return Fi(sl)}function Ul(e){return Fi(ll)}function Xl(e,t){if(null==e)return;let n=e;for(let i=0;i<t.length;i++){if(void 0===n||void 0===n[t[i]])return;if(null===n||null===n[t[i]])return null;n=n[t[i]]}return n}function ql(e,t,n){if(0===n.length)return t;const i=n[0];return n.length>1&&(t=ql("object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,i)?e[i]:Number.isInteger(Number(n[1]))?[]:{},t,Array.prototype.slice.call(n,1))),Number.isInteger(Number(i))&&Array.isArray(e)?e.slice()[i]:Object.assign({},e,{[i]:t})}function Yl(e,t){if(null==e||0===t.length)return e;if(1===t.length){if(null==e)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const n={};for(const t in e)n[t]=e[t];return delete n[t[0]],n}if(null==e[t[0]]){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const n={};for(const t in e)n[t]=e[t];return n}return ql(e,Yl(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function Zl(e,t){return t.map(e=>e.split(".")).map(t=>[t,Xl(e,t)]).filter(e=>void 0!==e[1]).reduce((e,t)=>ql(e,t[1],t[0]),{})}function Kl(e,t){return t.map(e=>e.split(".")).reduce((e,t)=>Yl(e,t),e)}function Jl(e,{storage:t,serializer:n,key:i,debug:r,pick:o,omit:a,beforeHydrate:s,afterHydrate:l},c,u=!0){try{u&&s?.(c);const r=t.getItem(i);if(r){const t=n.deserialize(r),i=o?Zl(t,o):t,s=a?Kl(i,a):i;e.$patch(s)}u&&l?.(c)}catch(h){}}function Ql(e,{storage:t,serializer:n,key:i,debug:r,pick:o,omit:a}){try{const r=o?Zl(e,o):e,s=a?Kl(r,a):r,l=n.serialize(s);t.setItem(i,l)}catch(s){}}var ec=function tc(e={}){return function(t){!function n(e,t,i){const{pinia:r,store:o,options:{persist:a=i}}=e;if(!a)return;if(!(o.$id in r.state.value)){const e=r._s.get(o.$id.replace("__hot:",""));return void(e&&Promise.resolve().then(()=>e.$persist()))}const s=(Array.isArray(a)?a:!0===a?[{}]:[a]).map(t);o.$hydrate=({runHooks:t=!0}={})=>{s.forEach(n=>{Jl(o,n,e,t)})},o.$persist=()=>{s.forEach(e=>{Ql(o.$state,e)})},s.forEach(t=>{Jl(o,t,e),o.$subscribe((e,n)=>Ql(n,t),{detached:!0})})}(t,n=>{const i=function r(e,t){return"function"==typeof e?e(t):"string"==typeof e?e:t}(n.key,t.store.$id);return{key:(e.key?e.key:e=>e)(i),debug:n.debug??e.debug??!1,serializer:n.serializer??e.serializer??{serialize:e=>JSON.stringify(e),deserialize:e=>JSON.parse(e)},storage:n.storage??e.storage??window.localStorage,beforeHydrate:n.beforeHydrate??e.beforeHydrate,afterHydrate:n.afterHydrate??e.afterHydrate,pick:n.pick,omit:n.omit}},e.auto??!1)}}();function nc(e,t){}const ic="undefined"!=typeof window,rc=(e,t=!1)=>t?Symbol.for(e):Symbol(e),oc=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ac=e=>"number"==typeof e&&isFinite(e),sc=e=>"[object RegExp]"===Mc(e),lc=e=>kc(e)&&0===Object.keys(e).length,cc=Object.assign,uc=Object.create,hc=(e=null)=>uc(e);let dc;const pc=()=>dc||(dc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:hc());function fc(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function gc(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}const mc=Object.prototype.hasOwnProperty;function vc(e,t){return mc.call(e,t)}const yc=Array.isArray,bc=e=>"function"==typeof e,xc=e=>"string"==typeof e,_c=e=>"boolean"==typeof e,wc=e=>null!==e&&"object"==typeof e,Sc=Object.prototype.toString,Mc=e=>Sc.call(e),kc=e=>"[object Object]"===Mc(e);function Cc(e,t=""){return e.reduce((e,n,i)=>0===i?e+n:e+t+n,"")}const Tc=e=>!wc(e)||yc(e);function Ac(e,t){if(Tc(e)||Tc(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:e,des:t}=n.pop();Object.keys(e).forEach(i=>{"__proto__"!==i&&(wc(e[i])&&!wc(t[i])&&(t[i]=Array.isArray(e[i])?[]:hc()),Tc(t[i])||Tc(e[i])?t[i]=e[i]:n.push({src:e[i],des:t[i]}))})}}function Ic(e,t,n){return{start:e,end:t}}const Dc=1,Oc=2,Ec=3,Lc=4,Rc=5,Nc=6,Pc=7,zc=8,Bc=9,Vc=10,Fc=11,Hc=12,Wc=13,$c=14;function jc(e,t,n={}){const{domain:i,messages:r,args:o}=n,a=new SyntaxError(String(e));return a.code=e,t&&(a.location=t),a.domain=i,a}function Gc(e){throw e}const Uc=" ",Xc="\n",qc=String.fromCharCode(8232),Yc=String.fromCharCode(8233);function Zc(e){const t=e;let n=0,i=1,r=1,o=0;const a=e=>"\r"===t[e]&&t[e+1]===Xc,s=e=>t[e]===Yc,l=e=>t[e]===qc,c=e=>a(e)||(e=>t[e]===Xc)(e)||s(e)||l(e),u=e=>a(e)||s(e)||l(e)?Xc:t[e];function h(){return o=0,c(n)&&(i++,r=0),a(n)&&n++,n++,r++,t[n]}return{index:()=>n,line:()=>i,column:()=>r,peekOffset:()=>o,charAt:u,currentChar:()=>u(n),currentPeek:()=>u(n+o),next:h,peek:function d(){return a(n+o)&&o++,o++,t[n+o]},reset:function p(){n=0,i=1,r=1,o=0},resetPeek:function f(e=0){o=e},skipToPeek:function g(){const e=n+o;for(;e!==n;)h();o=0}}}const Kc=void 0;function Jc(e,t={}){const n=!1!==t.location,i=Zc(e),r=()=>i.index(),o=()=>function e(t,n,i){return{line:t,column:n,offset:i}}(i.line(),i.column(),i.index()),a=o(),s=r(),l={currentType:13,offset:s,startLoc:a,endLoc:a,lastType:13,lastOffset:s,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function h(e,t,i,...r){const o=c();if(t.column+=i,t.offset+=i,u){const i=jc(e,n?Ic(o.startLoc,t):null,{domain:"tokenizer",args:r});u(i)}}function d(e,t,i){e.endLoc=o(),e.currentType=t;const r={type:t};return n&&(r.loc=Ic(e.startLoc,e.endLoc)),null!=i&&(r.value=i),r}const p=e=>d(e,13);function f(e,t){return e.currentChar()===t?(e.next(),t):(h(Dc,o(),0,t),"")}function g(e){let t="";for(;e.currentPeek()===Uc||e.currentPeek()===Xc;)t+=e.currentPeek(),e.peek();return t}function m(e){const t=g(e);return e.skipToPeek(),t}function v(e){if(e===Kc)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function y(e,t){const{currentType:n}=t;if(2!==n)return!1;g(e);const i=function r(e){if(e===Kc)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),i}function b(e){g(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function x(e,t=!0){const n=(t=!1,i="")=>{const r=e.currentPeek();return"{"===r?t:"@"!==r&&r?"|"===r?!(i===Uc||i===Xc):r===Uc?(e.peek(),n(!0,Uc)):r!==Xc||(e.peek(),n(!0,Xc)):t},i=n();return t&&e.resetPeek(),i}function _(e,t){const n=e.currentChar();return n===Kc?Kc:t(n)?(e.next(),n):null}function w(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}function S(e){return _(e,w)}function M(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t||45===t}function k(e){return _(e,M)}function C(e){const t=e.charCodeAt(0);return t>=48&&t<=57}function T(e){return _(e,C)}function A(e){const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function I(e){return _(e,A)}function D(e){let t="",n="";for(;t=T(e);)n+=t;return n}function O(e){return"'"!==e&&e!==Xc}function E(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return L(e,t,4);case"U":return L(e,t,6);default:return h(Lc,o(),0,t),""}}function L(e,t,n){f(e,t);let i="";for(let r=0;r<n;r++){const n=I(e);if(!n){h(Rc,o(),0,`\\${t}${i}${e.currentChar()}`);break}i+=n}return`\\${t}${i}`}function R(e){return"{"!==e&&"}"!==e&&e!==Uc&&e!==Xc}function N(e){m(e);let t="",n="";for(;t=_(e,R);)n+=t;return n}function P(e){m(e);const t=f(e,"|");return m(e),t}function z(e,t){let n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&h(Bc,o(),0),e.next(),n=d(t,2,"{"),m(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&h(zc,o(),0),e.next(),n=d(t,3,"}"),t.braceNest--,t.braceNest>0&&m(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&h(Pc,o(),0),n=B(e,t)||p(t),t.braceNest=0,n;default:{let i=!0,r=!0,a=!0;if(b(e))return t.braceNest>0&&h(Pc,o(),0),n=d(t,1,P(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(4===t.currentType||5===t.currentType||6===t.currentType))return h(Pc,o(),0),t.braceNest=0,V(e,t);if(i=function s(e,t){const{currentType:n}=t;if(2!==n)return!1;g(e);const i=v(e.currentPeek());return e.resetPeek(),i}(e,t))return n=d(t,4,function l(e){m(e);let t="",n="";for(;t=k(e);)n+=t;const i=e.currentChar();if(i&&"}"!==i&&i!==Kc&&i!==Uc&&i!==Xc&&""!==i){const t=N(e);return h(Oc,o(),0,n+t),n+t}return e.currentChar()===Kc&&h(Pc,o(),0),n}(e)),m(e),n;if(r=y(e,t))return n=d(t,5,function c(e){m(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${D(e)}`):t+=D(e),e.currentChar()===Kc&&h(Pc,o(),0),t}(e)),m(e),n;if(a=function u(e,t){const{currentType:n}=t;if(2!==n)return!1;g(e);const i="'"===e.currentPeek();return e.resetPeek(),i}(e,t))return n=d(t,6,function p(e){m(e),f(e,"'");let t="",n="";for(;t=_(e,O);)n+="\\"===t?E(e):t;const i=e.currentChar();return i===Xc||i===Kc?(h(Ec,o(),0),i===Xc&&(e.next(),f(e,"'")),n):(f(e,"'"),n)}(e)),m(e),n;if(!i&&!r&&!a)return n=d(t,12,N(e)),h(Oc,o(),0,n.value),m(e),n;break}}return n}function B(e,t){const{currentType:n}=t;let i=null;const r=e.currentChar();switch(7!==n&&8!==n&&11!==n&&9!==n||r!==Xc&&r!==Uc||h(Vc,o(),0),r){case"@":return e.next(),i=d(t,7,"@"),t.inLinked=!0,i;case".":return m(e),e.next(),d(t,8,".");case":":return m(e),e.next(),d(t,9,":");default:return b(e)?(i=d(t,1,P(e)),t.braceNest=0,t.inLinked=!1,i):function a(e,t){const{currentType:n}=t;if(7!==n)return!1;g(e);const i="."===e.currentPeek();return e.resetPeek(),i}(e,t)||function s(e,t){const{currentType:n}=t;if(7!==n&&11!==n)return!1;g(e);const i=":"===e.currentPeek();return e.resetPeek(),i}(e,t)?(m(e),B(e,t)):function l(e,t){const{currentType:n}=t;if(8!==n)return!1;g(e);const i=v(e.currentPeek());return e.resetPeek(),i}(e,t)?(m(e),d(t,11,function c(e){let t="",n="";for(;t=S(e);)n+=t;return n}(e))):function u(e,t){const{currentType:n}=t;if(9!==n)return!1;const i=()=>{const t=e.currentPeek();return"{"===t?v(e.peek()):!("@"===t||"|"===t||":"===t||"."===t||t===Uc||!t)&&(t===Xc?(e.peek(),i()):x(e,!1))},r=i();return e.resetPeek(),r}(e,t)?(m(e),"{"===r?z(e,t)||i:d(t,10,function p(e){const t=n=>{const i=e.currentChar();return"{"!==i&&"@"!==i&&"|"!==i&&"("!==i&&")"!==i&&i?i===Uc?n:(n+=i,e.next(),t(n)):n};return t("")}(e))):(7===n&&h(Vc,o(),0),t.braceNest=0,t.inLinked=!1,V(e,t))}}function V(e,t){let n={type:13};if(t.braceNest>0)return z(e,t)||p(t);if(t.inLinked)return B(e,t)||p(t);switch(e.currentChar()){case"{":return z(e,t)||p(t);case"}":return h(Nc,o(),0),e.next(),d(t,3,"}");case"@":return B(e,t)||p(t);default:if(b(e))return n=d(t,1,P(e)),t.braceNest=0,t.inLinked=!1,n;if(x(e))return d(t,0,function i(e){let t="";for(;;){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if(n===Uc||n===Xc)if(x(e))t+=n,e.next();else{if(b(e))break;t+=n,e.next()}else t+=n,e.next()}return t}(e))}return n}return{nextToken:function F(){const{currentType:e,offset:t,startLoc:n,endLoc:a}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=a,l.offset=r(),l.startLoc=o(),i.currentChar()===Kc?d(l,13):V(i,l)},currentOffset:r,currentPosition:o,context:c}}const Qc=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function eu(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):""}}}function tu(e={}){const t=!1!==e.location,{onError:n}=e;function i(e,i,r,o,...a){const s=e.currentPosition();if(s.offset+=o,s.column+=o,n){const e=jc(i,t?Ic(r,s):null,{domain:"parser",args:a});n(e)}}function r(e,n,i){const r={type:e};return t&&(r.start=n,r.end=n,r.loc={start:i,end:i}),r}function o(e,n,i,r){t&&(e.end=n,e.loc&&(e.loc.end=i))}function a(e,t){const n=e.context(),i=r(3,n.offset,n.startLoc);return i.value=t,o(i,e.currentOffset(),e.currentPosition()),i}function s(e,t){const n=e.context(),{lastOffset:i,lastStartLoc:a}=n,s=r(5,i,a);return s.index=parseInt(t,10),e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function l(e,t){const n=e.context(),{lastOffset:i,lastStartLoc:a}=n,s=r(4,i,a);return s.key=t,e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function c(e,t){const n=e.context(),{lastOffset:i,lastStartLoc:a}=n,s=r(9,i,a);return s.value=t.replace(Qc,eu),e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function u(e){const t=e.context(),n=r(6,t.offset,t.startLoc);let a=e.nextToken();if(8===a.type){const t=function s(e){const t=e.nextToken(),n=e.context(),{lastOffset:a,lastStartLoc:s}=n,l=r(8,a,s);return 11!==t.type?(i(e,Hc,n.lastStartLoc,0),l.value="",o(l,a,s),{nextConsumeToken:t,node:l}):(null==t.value&&i(e,$c,n.lastStartLoc,0,nu(t)),l.value=t.value||"",o(l,e.currentOffset(),e.currentPosition()),{node:l})}(e);n.modifier=t.node,a=t.nextConsumeToken||e.nextToken()}switch(9!==a.type&&i(e,$c,t.lastStartLoc,0,nu(a)),a=e.nextToken(),2===a.type&&(a=e.nextToken()),a.type){case 10:null==a.value&&i(e,$c,t.lastStartLoc,0,nu(a)),n.key=function u(e,t){const n=e.context(),i=r(7,n.offset,n.startLoc);return i.value=t,o(i,e.currentOffset(),e.currentPosition()),i}(e,a.value||"");break;case 4:null==a.value&&i(e,$c,t.lastStartLoc,0,nu(a)),n.key=l(e,a.value||"");break;case 5:null==a.value&&i(e,$c,t.lastStartLoc,0,nu(a)),n.key=s(e,a.value||"");break;case 6:null==a.value&&i(e,$c,t.lastStartLoc,0,nu(a)),n.key=c(e,a.value||"");break;default:{i(e,Wc,t.lastStartLoc,0);const s=e.context(),l=r(7,s.offset,s.startLoc);return l.value="",o(l,s.offset,s.startLoc),n.key=l,o(n,s.offset,s.startLoc),{nextConsumeToken:a,node:n}}}return o(n,e.currentOffset(),e.currentPosition()),{node:n}}function h(e){const t=e.context(),n=r(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);n.items=[];let h=null;do{const r=h||e.nextToken();switch(h=null,r.type){case 0:null==r.value&&i(e,$c,t.lastStartLoc,0,nu(r)),n.items.push(a(e,r.value||""));break;case 5:null==r.value&&i(e,$c,t.lastStartLoc,0,nu(r)),n.items.push(s(e,r.value||""));break;case 4:null==r.value&&i(e,$c,t.lastStartLoc,0,nu(r)),n.items.push(l(e,r.value||""));break;case 6:null==r.value&&i(e,$c,t.lastStartLoc,0,nu(r)),n.items.push(c(e,r.value||""));break;case 7:{const t=u(e);n.items.push(t.node),h=t.nextConsumeToken||null;break}}}while(13!==t.currentType&&1!==t.currentType);return o(n,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),n}function d(e){const t=e.context(),{offset:n,startLoc:a}=t,s=h(e);return 13===t.currentType?s:function l(e,t,n,a){const s=e.context();let l=0===a.items.length;const c=r(1,t,n);c.cases=[],c.cases.push(a);do{const t=h(e);l||(l=0===t.items.length),c.cases.push(t)}while(13!==s.currentType);return l&&i(e,Fc,n,0),o(c,e.currentOffset(),e.currentPosition()),c}(e,n,a,s)}return{parse:function p(n){const a=Jc(n,cc({},e)),s=a.context(),l=r(0,s.offset,s.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=d(a),e.onCacheKey&&(l.cacheKey=e.onCacheKey(n)),13!==s.currentType&&i(a,$c,s.lastStartLoc,0,n[s.offset]||""),o(l,a.currentOffset(),a.currentPosition()),l}}}function nu(e){if(13===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function iu(e,t){for(let n=0;n<e.length;n++)ru(e[n],t)}function ru(e,t){switch(e.type){case 1:iu(e.cases,t),t.helper("plural");break;case 2:iu(e.items,t);break;case 6:ru(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function ou(e,t={}){const n=function i(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:e=>(n.helpers.add(e),e)}}(e);n.helper("normalize"),e.body&&ru(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function au(e){if(1===e.items.length){const t=e.items[0];3!==t.type&&9!==t.type||(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];if(3!==i.type&&9!==i.type)break;if(null==i.value)break;t.push(i.value)}if(t.length===e.items.length){e.static=Cc(t);for(let t=0;t<e.items.length;t++){const n=e.items[t];3!==n.type&&9!==n.type||delete n.value}}}}function su(e){switch(e.t=e.type,e.type){case 0:{const t=e;su(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let e=0;e<n.length;e++)su(n[e]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let e=0;e<n.length;e++)su(n[e]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;su(t.key),t.k=t.key,delete t.key,t.modifier&&(su(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function lu(e,t){const{helper:n}=e;switch(t.type){case 0:!function i(e,t){t.body?lu(e,t.body):e.push("null")}(e,t);break;case 1:!function r(e,t){const{helper:n,needIndent:i}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(i());const r=t.cases.length;for(let n=0;n<r&&(lu(e,t.cases[n]),n!==r-1);n++)e.push(", ");e.deindent(i()),e.push("])")}}(e,t);break;case 2:!function o(e,t){const{helper:n,needIndent:i}=e;e.push(`${n("normalize")}([`),e.indent(i());const r=t.items.length;for(let o=0;o<r&&(lu(e,t.items[o]),o!==r-1);o++)e.push(", ");e.deindent(i()),e.push("])")}(e,t);break;case 6:!function a(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),lu(e,t.key),t.modifier?(e.push(", "),lu(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}(e,t);break;case 8:case 7:case 9:case 3:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t)}}function cu(e,t={}){const n=cc({},t),i=!!n.jit,r=!!n.minify,o=null==n.optimize||n.optimize,a=tu(n).parse(e);return i?(o&&function s(e){const t=e.body;return 2===t.type?au(t):t.cases.forEach(e=>au(e)),e}(a),r&&su(a),{ast:a,code:""}):(ou(a,n),((e,t={})=>{const n=xc(t.mode)?t.mode:"normal",i=xc(t.filename)?t.filename:"message.intl";t.sourceMap;const r=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",o=t.needIndent?t.needIndent:"arrow"!==n,a=e.helpers||[],s=function l(e,t){const{filename:n,breakLineCode:i,needIndent:r}=t,o=!1!==t.location,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:r,indentLevel:0};function s(e,t){a.code+=e}function l(e,t=!0){const n=t?i:"";s(r?n+"  ".repeat(e):n)}return o&&e.loc&&(a.source=e.loc.source),{context:()=>a,push:s,indent:function c(e=!0){const t=++a.indentLevel;e&&l(t)},deindent:function u(e=!0){const t=--a.indentLevel;e&&l(t)},newline:function h(){l(a.indentLevel)},helper:e=>`_${e}`,needIndent:()=>a.needIndent}}(e,{filename:i,breakLineCode:r,needIndent:o});s.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),s.indent(o),a.length>0&&(s.push(`const { ${Cc(a.map(e=>`${e}: _${e}`),", ")} } = ctx`),s.newline()),s.push("return "),lu(s,e),s.deindent(o),s.push("}"),delete e.helpers;const{code:c,map:u}=s.context();return{ast:e,code:c,map:u?u.toJSON():void 0}})(a,n))}function uu(e){return wc(e)&&0===mu(e)&&(vc(e,"b")||vc(e,"body"))}const hu=["b","body"];const du=["c","cases"];const pu=["s","static"];const fu=["i","items"];const gu=["t","type"];function mu(e){return _u(e,gu)}const vu=["v","value"];function yu(e,t){const n=_u(e,vu);if(null!=n)return n;throw Su(t)}const bu=["m","modifier"];const xu=["k","key"];function _u(e,t,n){for(let i=0;i<t.length;i++){const n=t[i];if(vc(e,n)&&null!=e[n])return e[n]}return n}const wu=[...hu,...du,...pu,...fu,...xu,...bu,...vu,...gu];function Su(e){return new Error(`unhandled node type: ${e}`)}function Mu(e){return t=>function n(e,t){const n=function i(e){return _u(e,hu)}(t);if(null==n)throw Su(0);if(1===mu(n)){const t=function i(e){return _u(e,du,[])}(n);return e.plural(t.reduce((t,n)=>[...t,ku(e,n)],[]))}return ku(e,n)}(t,e)}function ku(e,t){const n=function i(e){return _u(e,pu)}(t);if(null!=n)return"text"===e.type?n:e.normalize([n]);{const n=function i(e){return _u(e,fu,[])}(t).reduce((t,n)=>[...t,Cu(e,n)],[]);return e.normalize(n)}}function Cu(e,t){const n=mu(t);switch(n){case 3:case 9:case 7:case 8:return yu(t,n);case 4:{const i=t;if(vc(i,"k")&&i.k)return e.interpolate(e.named(i.k));if(vc(i,"key")&&i.key)return e.interpolate(e.named(i.key));throw Su(n)}case 5:{const i=t;if(vc(i,"i")&&ac(i.i))return e.interpolate(e.list(i.i));if(vc(i,"index")&&ac(i.index))return e.interpolate(e.list(i.index));throw Su(n)}case 6:{const n=t,i=function r(e){return _u(e,bu)}(n),o=function a(e){const t=_u(e,xu);if(t)return t;throw Su(6)}(n);return e.linked(Cu(e,o),i?Cu(e,i):void 0,e.type)}default:throw new Error(`unhandled node on format message part: ${n}`)}}const Tu=e=>e;let Au=hc();let Iu=null;const Du=Ou("function:translate");function Ou(e){return t=>Iu&&Iu.emit(e,t)}const Eu=17,Lu=18,Ru=19,Nu=21,Pu=22,zu=23;function Bu(e){return jc(e,null,void 0)}function Vu(e,t){return null!=t.locale?Hu(t.locale):Hu(e.locale)}let Fu;function Hu(e){if(xc(e))return e;if(bc(e)){if(e.resolvedOnce&&null!=Fu)return Fu;if("Function"===e.constructor.name){const n=e();if(wc(t=n)&&bc(t.then)&&bc(t.catch))throw Bu(Nu);return Fu=n}throw Bu(Pu)}throw Bu(zu);var t}function Wu(e,t,n){return[...new Set([n,...yc(t)?t:wc(t)?Object.keys(t):xc(t)?[t]:[n]])]}function $u(e,t,n){const i=xc(n)?n:Qu,r=e;r.__localeChainCache||(r.__localeChainCache=new Map);let o=r.__localeChainCache.get(i);if(!o){o=[];let e=[n];for(;yc(e);)e=ju(o,e,t);const a=yc(t)||!kc(t)?t:t.default?t.default:null;e=xc(a)?[a]:a,yc(e)&&ju(o,e,!1),r.__localeChainCache.set(i,o)}return o}function ju(e,t,n){let i=!0;for(let r=0;r<t.length&&_c(i);r++){const o=t[r];xc(o)&&(i=Gu(e,t[r],n))}return i}function Gu(e,t,n){let i;const r=t.split("-");do{i=Uu(e,r.join("-"),n),r.splice(-1,1)}while(r.length&&!0===i);return i}function Uu(e,t,n){let i=!1;if(!e.includes(t)&&(i=!0,t)){i="!"!==t[t.length-1];const r=t.replace(/!/g,"");e.push(r),(yc(n)||kc(n))&&n[r]&&(i=n[r])}return i}const Xu=[];Xu[0]={w:[0],i:[3,0],"[":[4],o:[7]},Xu[1]={w:[1],".":[2],"[":[4],o:[7]},Xu[2]={w:[2],i:[3,0],0:[3,0]},Xu[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Xu[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Xu[5]={"'":[4,0],o:8,l:[5,0]},Xu[6]={'"':[4,0],o:8,l:[6,0]};const qu=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Yu(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Zu(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(function n(e){return qu.test(e)}(t)?function i(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t)}const Ku=new Map;function Ju(e,t){return wc(e)?e[t]:null}const Qu="en-US",eh=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;let th,nh,ih;let rh=null;const oh=()=>rh;let ah=null;const sh=e=>{ah=e};let lh=0;function ch(e={}){const t=bc(e.onWarn)?e.onWarn:nc,n=xc(e.version)?e.version:"11.2.2",i=xc(e.locale)||bc(e.locale)?e.locale:Qu,r=bc(i)?Qu:i,o=yc(e.fallbackLocale)||kc(e.fallbackLocale)||xc(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:r,a=kc(e.messages)?e.messages:uh(r),s=kc(e.datetimeFormats)?e.datetimeFormats:uh(r),l=kc(e.numberFormats)?e.numberFormats:uh(r),c=cc(hc(),e.modifiers,function u(){return{upper:(e,t)=>"text"===t&&xc(e)?e.toUpperCase():"vnode"===t&&wc(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&xc(e)?e.toLowerCase():"vnode"===t&&wc(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&xc(e)?eh(e):"vnode"===t&&wc(e)&&"__v_isVNode"in e?eh(e.children):e}}()),h=e.pluralRules||hc(),d=bc(e.missing)?e.missing:null,p=!_c(e.missingWarn)&&!sc(e.missingWarn)||e.missingWarn,f=!_c(e.fallbackWarn)&&!sc(e.fallbackWarn)||e.fallbackWarn,g=!!e.fallbackFormat,m=!!e.unresolving,v=bc(e.postTranslation)?e.postTranslation:null,y=kc(e.processor)?e.processor:null,b=!_c(e.warnHtmlMessage)||e.warnHtmlMessage,x=!!e.escapeParameter,_=bc(e.messageCompiler)?e.messageCompiler:th,w=bc(e.messageResolver)?e.messageResolver:nh||Ju,S=bc(e.localeFallbacker)?e.localeFallbacker:ih||Wu,M=wc(e.fallbackContext)?e.fallbackContext:void 0,k=e,C=wc(k.__datetimeFormatters)?k.__datetimeFormatters:new Map,T=wc(k.__numberFormatters)?k.__numberFormatters:new Map,A=wc(k.__meta)?k.__meta:{};lh++;const I={version:n,cid:lh,locale:i,fallbackLocale:o,messages:a,modifiers:c,pluralRules:h,missing:d,missingWarn:p,fallbackWarn:f,fallbackFormat:g,unresolving:m,postTranslation:v,processor:y,warnHtmlMessage:b,escapeParameter:x,messageCompiler:_,messageResolver:w,localeFallbacker:S,fallbackContext:M,onWarn:t,__meta:A};return I.datetimeFormats=s,I.numberFormats=l,I.__datetimeFormatters=C,I.__numberFormatters=T,__INTLIFY_PROD_DEVTOOLS__&&function D(e,t,n){Iu&&Iu.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}(I,n,A),I}const uh=e=>({[e]:hc()});function hh(e,t,n,i,r){const{missing:o,onWarn:a}=e;if(null!==o){const i=o(e,n,t,r);return xc(i)?i:t}return t}function dh(e,t,n){e.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function ph(e,t){return e!==t&&e.split("-")[0]===t.split("-")[0]}function fh(e,t){const n=t.indexOf(e);if(-1===n)return!1;for(let i=n+1;i<t.length;i++)if(ph(e,t[i]))return!0;return!1}function gh(e,...t){const{datetimeFormats:n,unresolving:i,fallbackLocale:r,onWarn:o,localeFallbacker:a}=e,{__datetimeFormatters:s}=e,[l,c,u,h]=vh(...t);_c(u.missingWarn)?u.missingWarn:e.missingWarn;_c(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,p=Vu(e,u),f=a(e,r,p);if(!xc(l)||""===l)return new Intl.DateTimeFormat(p,h).format(c);let g,m={},v=null;for(let x=0;x<f.length&&(g=f[x],m=n[g]||{},v=m[l],!kc(v));x++)hh(e,l,g,0,"datetime format");if(!kc(v)||!xc(g))return i?-1:l;let y=`${g}__${l}`;lc(h)||(y=`${y}__${JSON.stringify(h)}`);let b=s.get(y);return b||(b=new Intl.DateTimeFormat(g,cc({},v,h)),s.set(y,b)),d?b.formatToParts(c):b.format(c)}const mh=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function vh(...e){const[t,n,i,r]=e,o=hc();let a,s=hc();if(xc(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw Bu(Ru);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();a=new Date(n);try{a.toISOString()}catch{throw Bu(Ru)}}else if("[object Date]"===Mc(t)){if(isNaN(t.getTime()))throw Bu(Lu);a=t}else{if(!ac(t))throw Bu(Eu);a=t}return xc(n)?o.key=n:kc(n)&&Object.keys(n).forEach(e=>{mh.includes(e)?s[e]=n[e]:o[e]=n[e]}),xc(i)?o.locale=i:kc(i)&&(s=i),kc(r)&&(s=r),[o.key||"",a,o,s]}function yh(e,t,n){const i=e;for(const r in n){const e=`${t}__${r}`;i.__datetimeFormatters.has(e)&&i.__datetimeFormatters.delete(e)}}function bh(e,...t){const{numberFormats:n,unresolving:i,fallbackLocale:r,onWarn:o,localeFallbacker:a}=e,{__numberFormatters:s}=e,[l,c,u,h]=_h(...t);_c(u.missingWarn)?u.missingWarn:e.missingWarn;_c(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,p=Vu(e,u),f=a(e,r,p);if(!xc(l)||""===l)return new Intl.NumberFormat(p,h).format(c);let g,m={},v=null;for(let x=0;x<f.length&&(g=f[x],m=n[g]||{},v=m[l],!kc(v));x++)hh(e,l,g,0,"number format");if(!kc(v)||!xc(g))return i?-1:l;let y=`${g}__${l}`;lc(h)||(y=`${y}__${JSON.stringify(h)}`);let b=s.get(y);return b||(b=new Intl.NumberFormat(g,cc({},v,h)),s.set(y,b)),d?b.formatToParts(c):b.format(c)}const xh=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function _h(...e){const[t,n,i,r]=e,o=hc();let a=hc();if(!ac(t))throw Bu(Eu);const s=t;return xc(n)?o.key=n:kc(n)&&Object.keys(n).forEach(e=>{xh.includes(e)?a[e]=n[e]:o[e]=n[e]}),xc(i)?o.locale=i:kc(i)&&(a=i),kc(r)&&(a=r),[o.key||"",s,o,a]}function wh(e,t,n){const i=e;for(const r in n){const e=`${t}__${r}`;i.__numberFormatters.has(e)&&i.__numberFormatters.delete(e)}}const Sh=e=>e,Mh=e=>"",kh=e=>0===e.length?"":Cc(e),Ch=e=>null==e?"":yc(e)||kc(e)&&e.toString===Sc?JSON.stringify(e,null,2):String(e);function Th(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function Ah(e={}){const t=e.locale,n=function i(e){const t=ac(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(ac(e.named.count)||ac(e.named.n))?ac(e.named.count)?e.named.count:ac(e.named.n)?e.named.n:t:t}(e),r=wc(e.pluralRules)&&xc(t)&&bc(e.pluralRules[t])?e.pluralRules[t]:Th,o=wc(e.pluralRules)&&xc(t)&&bc(e.pluralRules[t])?Th:void 0,a=e.list||[],s=e.named||hc();ac(e.pluralIndex)&&function l(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,s);function c(t,n){const i=bc(e.messages)?e.messages(t,!!n):!!wc(e.messages)&&e.messages[t];return i||(e.parent?e.parent.message(t):Mh)}const u=kc(e.processor)&&bc(e.processor.normalize)?e.processor.normalize:kh,h=kc(e.processor)&&bc(e.processor.interpolate)?e.processor.interpolate:Ch,d={list:e=>a[e],named:e=>s[e],plural:e=>e[r(n,e.length,o)],linked:(t,...n)=>{const[i,r]=n;let o="text",a="";1===n.length?wc(i)?(a=i.modifier||a,o=i.type||o):xc(i)&&(a=i||a):2===n.length&&(xc(i)&&(a=i||a),xc(r)&&(o=r||o));const s=c(t,!0)(d),l="vnode"===o&&yc(s)&&a?s[0]:s;return a?(u=a,e.modifiers?e.modifiers[u]:Sh)(l,o):l;var u},message:c,type:kc(e.processor)&&xc(e.processor.type)?e.processor.type:"text",interpolate:h,normalize:u,values:cc(hc(),a,s)};return d}const Ih=()=>"",Dh=e=>bc(e);function Oh(e,...t){const{fallbackFormat:n,postTranslation:i,unresolving:r,messageCompiler:o,fallbackLocale:a,messages:s}=e,[l,c]=Rh(...t),u=_c(c.missingWarn)?c.missingWarn:e.missingWarn,h=_c(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,d=_c(c.escapeParameter)?c.escapeParameter:e.escapeParameter,p=!!c.resolvedMessage,f=xc(c.default)||_c(c.default)?_c(c.default)?o?l:()=>l:c.default:n?o?l:()=>l:null,g=n||null!=f&&(xc(f)||bc(f)),m=Vu(e,c);d&&function v(e){yc(e.list)?e.list=e.list.map(e=>xc(e)?fc(e):e):wc(e.named)&&Object.keys(e.named).forEach(t=>{xc(e.named[t])&&(e.named[t]=fc(e.named[t]))})}(c);let[y,b,x]=p?[l,m,s[m]||hc()]:Eh(e,l,m,a,h,u),_=y,w=l;if(p||xc(_)||uu(_)||Dh(_)||g&&(_=f,w=_),!(p||(xc(_)||uu(_)||Dh(_))&&xc(b)))return r?-1:l;let S=!1;const M=Dh(_)?_:Lh(e,l,b,_,w,()=>{S=!0});if(S)return _;const k=function C(e,t,n,i){const{modifiers:r,pluralRules:o,messageResolver:a,fallbackLocale:s,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,h=(i,r)=>{let o=a(n,i);if(null==o&&(u||r)){const[,,n]=Eh(u||e,i,t,s,l,c);o=a(n,i)}if(xc(o)||uu(o)){let n=!1;const r=Lh(e,i,t,o,i,()=>{n=!0});return n?Ih:r}return Dh(o)?o:Ih},d={locale:t,modifiers:r,pluralRules:o,messages:h};e.processor&&(d.processor=e.processor);i.list&&(d.list=i.list);i.named&&(d.named=i.named);ac(i.plural)&&(d.pluralIndex=i.plural);return d}(e,b,x,c),T=function A(e,t,n){const i=t(n);return i}(0,M,Ah(k));let I=i?i(T,l):T;if(d&&xc(I)&&(I=function D(e){return e=(e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(e,t,n)=>`${t}="${gc(n)}"`)).replace(/(\w+)\s*=\s*'([^']*)'/g,(e,t,n)=>`${t}='${gc(n)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(t=>{e=e.replace(t,"$1javascript&#58;")}),e}(I)),__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:xc(l)?l:Dh(_)?_.key:"",locale:b||(Dh(_)?_.locale:""),format:xc(_)?_:Dh(_)?_.source:"",message:I};t.meta=cc({},e.__meta,oh()||{}),Du(t)}return I}function Eh(e,t,n,i,r,o){const{messages:a,onWarn:s,messageResolver:l,localeFallbacker:c}=e,u=c(e,i,n);let h,d=hc(),p=null;for(let f=0;f<u.length&&(h=u[f],d=a[h]||hc(),null===(p=l(d,t))&&(p=d[t]),!(xc(p)||uu(p)||Dh(p)));f++)if(!fh(h,u)){const n=hh(e,t,h,0,"translate");n!==t&&(p=n)}return[p,h,d]}function Lh(e,t,n,i,r,o){const{messageCompiler:a,warnHtmlMessage:s}=e;if(Dh(i)){const e=i;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==a){const e=()=>i;return e.locale=n,e.key=t,e}const l=a(i,function c(e,t,n,i,r,o){return{locale:t,key:n,warnHtmlMessage:r,onError:e=>{throw o&&o(e),e},onCacheKey:e=>((e,t,n)=>oc({l:e,k:t,s:n}))(t,n,e)}}(0,n,r,0,s,o));return l.locale=n,l.key=t,l.source=i,l}function Rh(...e){const[t,n,i]=e,r=hc();if(!(xc(t)||ac(t)||Dh(t)||uu(t)))throw Bu(Eu);const o=ac(t)?String(t):(Dh(t),t);return ac(n)?r.plural=n:xc(n)?r.default=n:kc(n)&&!lc(n)?r.named=n:yc(n)&&(r.list=n),ac(i)?r.plural=i:xc(i)?r.default=i:kc(i)&&cc(r,i),[o,r]}!function Nh(){"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(pc().__INTLIFY_PROD_DEVTOOLS__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(pc().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}();const Ph=24,zh=25,Bh=26,Vh=27,Fh=28,Hh=29,Wh=31,$h=32;function jh(e,...t){return jc(e,null,void 0)}const Gh=rc("__translateVNode"),Uh=rc("__datetimeParts"),Xh=rc("__numberParts"),qh=rc("__setPluralRules"),Yh=rc("__injectWithOption"),Zh=rc("__dispose");function Kh(e){if(!wc(e))return e;if(uu(e))return e;for(const t in e)if(vc(e,t))if(t.includes(".")){const n=t.split("."),i=n.length-1;let r=e,o=!1;for(let e=0;e<i;e++){if("__proto__"===n[e])throw new Error(`unsafe key: ${n[e]}`);if(n[e]in r||(r[n[e]]=hc()),!wc(r[n[e]])){o=!0;break}r=r[n[e]]}if(o||(uu(r)?wu.includes(n[i])||delete e[t]:(r[n[i]]=e[t],delete e[t])),!uu(r)){const e=r[n[i]];wc(e)&&Kh(e)}}else wc(e[t])&&Kh(e[t]);return e}function Jh(e,t){const{messages:n,__i18n:i,messageResolver:r,flatJson:o}=t,a=kc(n)?n:yc(i)?hc():{[e]:hc()};if(yc(i)&&i.forEach(e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(a[t]=a[t]||hc(),Ac(n,a[t])):Ac(n,a)}else xc(e)&&Ac(JSON.parse(e),a)}),null==r&&o)for(const s in a)vc(a,s)&&Kh(a[s]);return a}function Qh(e){return e.type}function ed(e,t,n){let i=wc(t.messages)?t.messages:hc();"__i18nGlobal"in n&&(i=Jh(e.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const r=Object.keys(i);if(r.length&&r.forEach(t=>{e.mergeLocaleMessage(t,i[t])}),wc(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])})}if(wc(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(n=>{e.mergeNumberFormat(n,t.numberFormats[n])})}}function td(e){return Wr(Cr,null,e,0)}function nd(){return no()}const id=()=>[],rd=()=>!1;let od=0;function ad(e){return(t,n,i,r)=>e(n,i,nd()||void 0,r)}function sd(e={}){const{__root:t,__injectWithOption:n}=e,i=void 0===t,r=e.flatJson,o=ic?St:Mt;let a=!_c(e.inheritLocale)||e.inheritLocale;const s=o(t&&a?t.locale.value:xc(e.locale)?e.locale:Qu),l=o(t&&a?t.fallbackLocale.value:xc(e.fallbackLocale)||yc(e.fallbackLocale)||kc(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:s.value),c=o(Jh(s.value,e)),u=o(kc(e.datetimeFormats)?e.datetimeFormats:{[s.value]:{}}),h=o(kc(e.numberFormats)?e.numberFormats:{[s.value]:{}});let d=t?t.missingWarn:!_c(e.missingWarn)&&!sc(e.missingWarn)||e.missingWarn,p=t?t.fallbackWarn:!_c(e.fallbackWarn)&&!sc(e.fallbackWarn)||e.fallbackWarn,f=t?t.fallbackRoot:!_c(e.fallbackRoot)||e.fallbackRoot,g=!!e.fallbackFormat,m=bc(e.missing)?e.missing:null,v=bc(e.missing)?ad(e.missing):null,y=bc(e.postTranslation)?e.postTranslation:null,b=t?t.warnHtmlMessage:!_c(e.warnHtmlMessage)||e.warnHtmlMessage,x=!!e.escapeParameter;const _=t?t.modifiers:kc(e.modifiers)?e.modifiers:{};let w,S=e.pluralRules||t&&t.pluralRules;w=(()=>{i&&sh(null);const t={version:"11.2.2",locale:s.value,fallbackLocale:l.value,messages:c.value,modifiers:_,pluralRules:S,missing:null===v?void 0:v,missingWarn:d,fallbackWarn:p,fallbackFormat:g,unresolving:!0,postTranslation:null===y?void 0:y,warnHtmlMessage:b,escapeParameter:x,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};t.datetimeFormats=u.value,t.numberFormats=h.value,t.__datetimeFormatters=kc(w)?w.__datetimeFormatters:void 0,t.__numberFormatters=kc(w)?w.__numberFormatters:void 0;const n=ch(t);return i&&sh(n),n})(),dh(w,s.value,l.value);const M=go({get:()=>s.value,set:e=>{w.locale=e,s.value=e}}),k=go({get:()=>l.value,set:e=>{w.fallbackLocale=e,l.value=e,dh(w,s.value,e)}}),C=go(()=>c.value),T=go(()=>u.value),A=go(()=>h.value);const I=(e,n,r,o,a,d)=>{let p;!function g(){return[s.value,l.value,c.value,u.value,h.value]}();try{__INTLIFY_PROD_DEVTOOLS__,i||(w.fallbackContext=t?ah:void 0),p=e(w)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(w.fallbackContext=void 0)}if("translate exists"!==r&&ac(p)&&-1===p||"translate exists"===r&&!p){const[e,i]=n();return t&&f?o(t):a(e)}if(d(p))return p;throw jh(Ph)};function D(...e){return I(t=>Reflect.apply(Oh,null,[t,...e]),()=>Rh(...e),"translate",t=>Reflect.apply(t.t,t,[...e]),e=>e,e=>xc(e))}const O={normalize:function E(e){return e.map(e=>xc(e)||ac(e)||_c(e)?td(String(e)):e)},interpolate:e=>e,type:"vnode"};function L(e){return c.value[e]||{}}od++,t&&ic&&(ji(t.locale,e=>{a&&(s.value=e,w.locale=e,dh(w,s.value,l.value))}),ji(t.fallbackLocale,e=>{a&&(l.value=e,w.fallbackLocale=e,dh(w,s.value,l.value))}));const R={id:od,locale:M,fallbackLocale:k,get inheritLocale(){return a},set inheritLocale(e){a=e,e&&t&&(s.value=t.locale.value,l.value=t.fallbackLocale.value,dh(w,s.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:C,get modifiers(){return _},get pluralRules(){return S||{}},get isGlobal(){return i},get missingWarn(){return d},set missingWarn(e){d=e,w.missingWarn=d},get fallbackWarn(){return p},set fallbackWarn(e){p=e,w.fallbackWarn=p},get fallbackRoot(){return f},set fallbackRoot(e){f=e},get fallbackFormat(){return g},set fallbackFormat(e){g=e,w.fallbackFormat=g},get warnHtmlMessage(){return b},set warnHtmlMessage(e){b=e,w.warnHtmlMessage=e},get escapeParameter(){return x},set escapeParameter(e){x=e,w.escapeParameter=e},t:D,getLocaleMessage:L,setLocaleMessage:function N(e,t){if(r){const n={[e]:t};for(const e in n)vc(n,e)&&Kh(n[e]);t=n[e]}c.value[e]=t,w.messages=c.value},mergeLocaleMessage:function P(e,t){c.value[e]=c.value[e]||{};const n={[e]:t};if(r)for(const i in n)vc(n,i)&&Kh(n[i]);Ac(t=n[e],c.value[e]),w.messages=c.value},getPostTranslationHandler:function z(){return bc(y)?y:null},setPostTranslationHandler:function B(e){y=e,w.postTranslation=e},getMissingHandler:function V(){return m},setMissingHandler:function F(e){null!==e&&(v=ad(e)),m=e,w.missing=v},[qh]:function H(e){S=e,w.pluralRules=S}};return R.datetimeFormats=T,R.numberFormats=A,R.rt=function W(...e){const[t,n,i]=e;if(i&&!wc(i))throw jh(zh);return D(t,n,cc({resolvedMessage:!0},i||{}))},R.te=function $(e,t){return I(()=>{if(!e)return!1;const n=L(xc(t)?t:s.value),i=w.messageResolver(n,e);return uu(i)||Dh(i)||xc(i)},()=>[e],"translate exists",n=>Reflect.apply(n.te,n,[e,t]),rd,e=>_c(e))},R.tm=function j(e){const n=function i(e){let t=null;const n=$u(w,l.value,s.value);for(let i=0;i<n.length;i++){const r=c.value[n[i]]||{},o=w.messageResolver(r,e);if(null!=o){t=o;break}}return t}(e);return null!=n?n:t&&t.tm(e)||{}},R.d=function G(...e){return I(t=>Reflect.apply(gh,null,[t,...e]),()=>vh(...e),"datetime format",t=>Reflect.apply(t.d,t,[...e]),()=>"",e=>xc(e)||yc(e))},R.n=function U(...e){return I(t=>Reflect.apply(bh,null,[t,...e]),()=>_h(...e),"number format",t=>Reflect.apply(t.n,t,[...e]),()=>"",e=>xc(e)||yc(e))},R.getDateTimeFormat=function X(e){return u.value[e]||{}},R.setDateTimeFormat=function q(e,t){u.value[e]=t,w.datetimeFormats=u.value,yh(w,e,t)},R.mergeDateTimeFormat=function Y(e,t){u.value[e]=cc(u.value[e]||{},t),w.datetimeFormats=u.value,yh(w,e,t)},R.getNumberFormat=function Z(e){return h.value[e]||{}},R.setNumberFormat=function K(e,t){h.value[e]=t,w.numberFormats=h.value,wh(w,e,t)},R.mergeNumberFormat=function J(e,t){h.value[e]=cc(h.value[e]||{},t),w.numberFormats=h.value,wh(w,e,t)},R[Yh]=n,R[Gh]=function Q(...e){return I(t=>{let n;const i=t;try{i.processor=O,n=Reflect.apply(Oh,null,[i,...e])}finally{i.processor=null}return n},()=>Rh(...e),"translate",t=>t[Gh](...e),e=>[td(e)],e=>yc(e))},R[Uh]=function ee(...e){return I(t=>Reflect.apply(gh,null,[t,...e]),()=>vh(...e),"datetime format",t=>t[Uh](...e),id,e=>xc(e)||yc(e))},R[Xh]=function te(...e){return I(t=>Reflect.apply(bh,null,[t,...e]),()=>_h(...e),"number format",t=>t[Xh](...e),id,e=>xc(e)||yc(e))},R}function ld(e={}){const t=sd(function n(e){const t=xc(e.locale)?e.locale:Qu,n=xc(e.fallbackLocale)||yc(e.fallbackLocale)||kc(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,i=bc(e.missing)?e.missing:void 0,r=!_c(e.silentTranslationWarn)&&!sc(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!_c(e.silentFallbackWarn)&&!sc(e.silentFallbackWarn)||!e.silentFallbackWarn,a=!_c(e.fallbackRoot)||e.fallbackRoot,s=!!e.formatFallbackMessages,l=kc(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=bc(e.postTranslation)?e.postTranslation:void 0,h=!xc(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,d=!!e.escapeParameterHtml,p=!_c(e.sync)||e.sync;let f=e.messages;if(kc(e.sharedMessages)){const t=e.sharedMessages;f=Object.keys(t).reduce((e,n)=>{const i=e[n]||(e[n]={});return cc(i,t[n]),e},f||{})}const{__i18n:g,__root:m,__injectWithOption:v}=e,y=e.datetimeFormats,b=e.numberFormats;return{locale:t,fallbackLocale:n,messages:f,flatJson:e.flatJson,datetimeFormats:y,numberFormats:b,missing:i,missingWarn:r,fallbackWarn:o,fallbackRoot:a,fallbackFormat:s,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:h,escapeParameter:d,messageResolver:e.messageResolver,inheritLocale:p,__i18n:g,__root:m,__injectWithOption:v}}(e)),{__extender:i}=e,r={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return _c(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=_c(e)?!e:e},get silentFallbackWarn(){return _c(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=_c(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t:(...e)=>Reflect.apply(t.t,t,[...e]),rt:(...e)=>Reflect.apply(t.rt,t,[...e]),te:(e,n)=>t.te(e,n),tm:e=>t.tm(e),getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d:(...e)=>Reflect.apply(t.d,t,[...e]),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n:(...e)=>Reflect.apply(t.n,t,[...e]),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)}};return r.__extender=i,r}function cd(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[qh](t.pluralizationRules||e.pluralizationRules);const n=Jh(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(t=>e.mergeLocaleMessage(t,n[t])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n])),t.numberFormats&&Object.keys(t.numberFormats).forEach(n=>e.mergeNumberFormat(n,t.numberFormats[n])),e}const ud={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function hd(){return kr}const dd=Pn({name:"i18n-t",props:cc({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>ac(e)||!isNaN(e)}},ud),setup(e,t){const{slots:n,attrs:i}=t,r=e.i18n||_d({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter(e=>"_"!==e[0]),a=hc();e.locale&&(a.locale=e.locale),void 0!==e.plural&&(a.plural=xc(e.plural)?+e.plural:e.plural);const s=function l({slots:e},t){if(1===t.length&&"default"===t[0])return(e.default?e.default():[]).reduce((e,t)=>[...e,...t.type===kr?t.children:[t]],[]);return t.reduce((t,n)=>{const i=e[n];return i&&(t[n]=i()),t},hc())}(t,o),c=r[Gh](e.keypath,s,a),u=cc(hc(),i);return mo(xc(e.tag)||wc(e.tag)?e.tag:hd(),u,c)}}}),pd=dd;function fd(e,t,n,i){const{slots:r,attrs:o}=t;return()=>{const t={part:!0};let a=hc();e.locale&&(t.locale=e.locale),xc(e.format)?t.key=e.format:wc(e.format)&&(xc(e.format.key)&&(t.key=e.format.key),a=Object.keys(e.format).reduce((t,i)=>n.includes(i)?cc(hc(),t,{[i]:e.format[i]}):t,hc()));const s=i(e.value,t,a);let l=[t.key];yc(s)?l=s.map((e,t)=>{const n=r[e.type],i=n?n({[e.type]:e.value,index:t,parts:s}):[e.value];return function o(e){return yc(e)&&!xc(e[0])}(i)&&(i[0].key=`${e.type}-${t}`),i}):xc(s)&&(l=[s]);const c=cc(hc(),o);return mo(xc(e.tag)||wc(e.tag)?e.tag:hd(),c,l)}}const gd=Pn({name:"i18n-n",props:cc({value:{type:Number,required:!0},format:{type:[String,Object]}},ud),setup(e,t){const n=e.i18n||_d({useScope:e.scope,__useComponent:!0});return fd(e,t,xh,(...e)=>n[Xh](...e))}});function md(e){if(xc(e))return{path:e};if(kc(e)){if(!("path"in e))throw jh(Fh);return e}throw jh(Hh)}function vd(e){const{path:t,locale:n,args:i,choice:r,plural:o}=e,a={},s=i||{};return xc(n)&&(a.locale=n),ac(r)&&(a.plural=r),ac(o)&&(a.plural=o),[t,s,a]}function yd(e,t,...n){const i=kc(n[0])?n[0]:{};(!_c(i.globalInstall)||i.globalInstall)&&([pd.name,"I18nT"].forEach(t=>e.component(t,pd)),[gd.name,"I18nN"].forEach(t=>e.component(t,gd)),[Md.name,"I18nD"].forEach(t=>e.component(t,Md))),e.directive("t",function r(e){const t=t=>{const{instance:n,value:i}=t;if(!n||!n.$)throw jh($h);const r=function o(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const i=n.__getInstance(t);return null!=i?i.__composer:e.global.__composer}}(e,n.$),a=md(i);return[Reflect.apply(r.t,r,[...vd(a)]),r]};return{created:(n,i)=>{const[r,o]=t(i);ic&&e.global===o&&(n.__i18nWatcher=ji(o.locale,()=>{i.instance&&i.instance.$forceUpdate()})),n.__composer=o,n.textContent=r},unmounted:e=>{ic&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},beforeUpdate:(e,{value:t})=>{if(e.__composer){const n=e.__composer,i=md(t);e.textContent=Reflect.apply(n.t,n,[...vd(i)])}},getSSRProps:e=>{const[n]=t(e);return{textContent:n}}}}(t))}const bd=rc("global-vue-i18n");function xd(e={}){const t=__VUE_I18N_LEGACY_API__&&_c(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=!_c(e.globalInjection)||e.globalInjection,i=new Map,[r,o]=function a(e,t){const n=te(),i=__VUE_I18N_LEGACY_API__&&t?n.run(()=>ld(e)):n.run(()=>sd(e));if(null==i)throw jh($h);return[n,i]}(e,t),s=rc("");const l={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(e,...i){if(e.__VUE_I18N_SYMBOL__=s,e.provide(e.__VUE_I18N_SYMBOL__,l),kc(i[0])){const e=i[0];l.__composerExtend=e.__composerExtend,l.__vueI18nExtend=e.__vueI18nExtend}let r=null;!t&&n&&(r=function a(e,t){const n=Object.create(null);wd.forEach(e=>{const i=Object.getOwnPropertyDescriptor(t,e);if(!i)throw jh($h);const r=wt(i.value)?{get:()=>i.value.value,set(e){i.value.value=e}}:{get:()=>i.get&&i.get()};Object.defineProperty(n,e,r)}),e.config.globalProperties.$i18n=n,Sd.forEach(n=>{const i=Object.getOwnPropertyDescriptor(t,n);if(!i||!i.value)throw jh($h);Object.defineProperty(e.config.globalProperties,`$${n}`,i)});const i=()=>{delete e.config.globalProperties.$i18n,Sd.forEach(t=>{delete e.config.globalProperties[`$${t}`]})};return i}(e,l.global)),__VUE_I18N_FULL_INSTALL__&&yd(e,l,...i),__VUE_I18N_LEGACY_API__&&t&&e.mixin(function c(e,t,n){return{beforeCreate(){const i=nd();if(!i)throw jh($h);const r=this.$options;if(r.i18n){const i=r.i18n;if(r.__i18n&&(i.__i18n=r.__i18n),i.__root=t,this===this.$root)this.$i18n=cd(e,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=ld(i);const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=cd(e,r);else{this.$i18n=ld({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}else this.$i18n=e;r.__i18nGlobal&&ed(t,r,r),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e),n.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const e=nd();if(!e)throw jh($h);const t=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,t.__disposer&&(t.__disposer(),delete t.__disposer,delete t.__extender),n.__deleteInstance(e),delete this.$i18n}}}(o,o.__composer,l));const u=e.unmount;e.unmount=()=>{r&&r(),l.dispose(),u()}},get global(){return o},dispose(){r.stop()},__instances:i,__getInstance:function c(e){return i.get(e)||null},__setInstance:function u(e,t){i.set(e,t)},__deleteInstance:function h(e){i.delete(e)}};return l}function _d(e={}){const t=nd();if(null==t)throw jh(Bh);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw jh(Vh);const n=function i(e){const t=Fi(e.isCE?bd:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw jh(e.isCE?Wh:$h);return t}(t),r=function o(e){return"composition"===e.mode?e.global:e.global.__composer}(n),a=Qh(t),s=function l(e,t){return lc(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}(e,a);if("global"===s)return ed(r,e,a),r;if("parent"===s){let i=function o(e,t,n=!1){let i=null;const r=t.root;let o=function a(e,t=!1){if(null==e)return null;return t&&e.vnode.ctx||e.parent}(t,n);for(;null!=o;){const t=e;if("composition"===e.mode)i=t.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(o);null!=e&&(i=e.__composer,n&&i&&!i[Yh]&&(i=null))}if(null!=i)break;if(r===o)break;o=o.parent}return i}(n,t,e.__useComponent);return null==i&&(i=r),i}const c=n;let u=c.__getInstance(t);if(null==u){const n=cc({},e);"__i18n"in a&&(n.__i18n=a.__i18n),r&&(n.__root=r),u=sd(n),c.__composerExtend&&(u[Zh]=c.__composerExtend(u)),function i(e,t,n){Zn(()=>{},t),ei(()=>{const i=n;e.__deleteInstance(t);const r=i[Zh];r&&(r(),delete i[Zh])},t)}(c,t,u),c.__setInstance(t,u)}return u}const wd=["locale","fallbackLocale","availableLocales"],Sd=["t","rt","d","n","tm","te"];const Md=Pn({name:"i18n-d",props:cc({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ud),setup(e,t){const n=e.i18n||_d({useScope:e.scope,__useComponent:!0});return fd(e,t,mh,(...e)=>n[Uh](...e))}});if(function kd(){"boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(pc().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(pc().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(pc().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(pc().__INTLIFY_PROD_DEVTOOLS__=!1)}(),function Td(e){th=e}(function Cd(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&xc(e)){!_c(t.warnHtmlMessage)||t.warnHtmlMessage;const n=(t.onCacheKey||Tu)(e),i=Au[n];if(i)return i;const{ast:r,detectError:o}=function a(e,t={}){let n=!1;const i=t.onError||Gc;return t.onError=e=>{n=!0,i(e)},{...cu(e,t),detectError:n}}(e,{...t,location:!1,jit:!0}),s=Mu(r);return o?s:Au[n]=s}{const t=e.cacheKey;if(t){const n=Au[t];return n||(Au[t]=Mu(e))}return Mu(e)}}),function Id(e){nh=e}(function Ad(e,t){if(!wc(e))return null;let n=Ku.get(t);if(n||(n=function i(e){const t=[];let n,i,r,o,a,s,l,c=-1,u=0,h=0;const d=[];function p(){const t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,r="\\"+t,d[0](),!0}for(d[0]=()=>{void 0===i?i=r:i+=r},d[1]=()=>{void 0!==i&&(t.push(i),i=void 0)},d[2]=()=>{d[0](),h++},d[3]=()=>{if(h>0)h--,u=4,d[0]();else{if(h=0,void 0===i)return!1;if(i=Zu(i),!1===i)return!1;d[1]()}};null!==u;)if(c++,n=e[c],"\\"!==n||!p()){if(o=Yu(n),l=Xu[u],a=l[o]||l.l||8,8===a)return;if(u=a[0],void 0!==a[1]&&(s=d[a[1]],s&&(r=n,!1===s())))return;if(7===u)return t}}(t),n&&Ku.set(t,n)),!n)return null;const r=n.length;let o=e,a=0;for(;a<r;){const e=n[a];if(wu.includes(e)&&uu(o))return null;const t=o[e];if(void 0===t)return null;if(bc(o))return null;o=t,a++}return o}),function Dd(e){ih=e}($u),__INTLIFY_PROD_DEVTOOLS__){const e=pc();e.__INTLIFY__=!0,function t(e){Iu=e}(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}!function(){var e;try{if(typeof document<"u"){var t=document.createElement("style");t.nonce=null==(e=document.head.querySelector("meta[property=csp-nonce]"))?void 0:e.content,t.appendChild(document.createTextNode(".vue-notification-group{display:block;position:fixed;z-index:5000}.vue-notification-wrapper{display:block;overflow:hidden;width:100%;margin:0;padding:0}.notification-title{font-weight:600}.vue-notification-template{display:block;box-sizing:border-box;background:#fff;text-align:left}.vue-notification{display:block;box-sizing:border-box;text-align:left;font-size:12px;padding:10px;margin:0 5px 5px;color:#fff;background:#44a4fc;border-left:5px solid #187FE7}.vue-notification.warn{background:#ffb648;border-left-color:#f48a06}.vue-notification.error{background:#e54d42;border-left-color:#b82e24}.vue-notification.success{background:#68cd86;border-left-color:#42a85f}.vn-fade-enter-active,.vn-fade-leave-active,.vn-fade-move{transition:all .5s}.vn-fade-enter-from,.vn-fade-leave-to{opacity:0}")),document.head.appendChild(t)}}catch(v_){}}();const Od=new Map;const Ed=function Ld(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(e){e(n)}),(i=e.get("*"))&&i.slice().map(function(e){e(t,n)})}}}(),Rd="[-+]?[0-9]*.?[0-9]+",Nd=[{name:"px",regexp:new RegExp(`^${Rd}px$`)},{name:"%",regexp:new RegExp(`^${Rd}%$`)},{name:"px",regexp:new RegExp(`^${Rd}$`)}],Pd=e=>{switch(typeof e){case"number":return{type:"px",value:e};case"string":return(e=>{if("auto"===e)return{type:e,value:0};for(let t=0;t<Nd.length;t++){const n=Nd[t];if(n.regexp.test(e))return{type:n.name,value:parseFloat(e)}}return{type:"",value:e}})(e);default:return{type:"",value:e}}},zd={x:new Set(["left","center","right"]),y:new Set(["top","bottom"])},Bd=(e=>()=>e++)(0),Vd=e=>{"string"==typeof e&&(e=(e=>"string"!=typeof e?[]:e.split(/\s+/gi).filter(Boolean))(e));let t=null,n=null;return e.forEach(e=>{zd.y.has(e)&&(n=e),zd.x.has(e)&&(t=e)}),{x:t,y:n}},Fd=["top","right"],Hd={enter:e=>({height:[e.clientHeight,0],opacity:[1,0]}),leave:{height:0,opacity:[0,1]}};function Wd(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!zr(e)}const $d=0,jd=2,Gd=Pn({name:"notifications",props:{group:{type:String,default:""},width:{type:[Number,String],default:300},reverse:{type:Boolean,default:!1},position:{type:[String,Array],default:()=>Fd},classes:{type:[String,Array],default:"vue-notification"},animationType:{type:String,default:"css",validator:e=>"css"===e||"velocity"===e},animation:{type:Object,default:()=>Hd},animationName:{type:String,default:"vn-fade"},speed:{type:Number,default:300},duration:{type:Number,default:3e3},delay:{type:Number,default:0},max:{type:Number,default:1/0},ignoreDuplicates:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!1},dangerouslySetInnerHtml:{type:Boolean,default:!1}},emits:{click:e=>!0,destroy:e=>!0,start:e=>!0},slots:Object,setup:(e,{emit:t,slots:n,expose:i})=>{const r=St([]),o=Od.get("velocity"),a=go(()=>"velocity"===e.animationType),s=go(()=>r.value.filter(e=>e.state!==jd)),l=go(()=>Pd(e.width)),c=go(()=>{const{x:t,y:n}=Vd(e.position),i=l.value.value,r=l.value.type,o={width:i+r};return n&&(o[n]="0px"),t&&("center"===t?o.left=`calc(50% - ${+i/2}${r})`:o[t]="0px"),o}),u=go(()=>a.value?{onEnter:b,onLeave:x,onAfterLeave:_}:{}),h=(n={})=>{if(n.group||(n.group=""),n.data||(n.data={}),e.group!==n.group)return;if(n.clean||n.clear)return void v();const i="number"==typeof n.duration?n.duration:e.duration,o="number"==typeof n.speed?n.speed:e.speed,a="boolean"==typeof n.ignoreDuplicates?n.ignoreDuplicates:e.ignoreDuplicates,{title:l,text:u,type:h,data:d,id:p}=n,f={id:p||Bd(),title:l,text:u,type:h,state:$d,speed:o,length:i+2*o,data:d,duplicates:0};i>=0&&(f.timer=((e,t)=>{let n,i,r=t;const o=()=>{i=Date.now(),n=setTimeout(e,r)};return o(),{start:o,stop:()=>{clearTimeout(n),r-=Date.now()-i}}})(()=>g(f),f.length));const m="bottom"in c.value,y=e.reverse?!m:m;let b=-1;const x=s.value.find(e=>e.title===n.title&&e.text===n.text);a&&x?x.duplicates++:(y?(r.value.push(f),t("start",f),s.value.length>e.max&&(b=0)):(r.value.unshift(f),t("start",f),s.value.length>e.max&&(b=s.value.length-1)),-1!==b&&g(s.value[b]))},d=e=>{m(e)},p=t=>["vue-notification-template",e.classes,t.type||""],f=e=>a.value?void 0:{transition:`all ${e.speed}ms`},g=e=>{var n;null==(n=e.timer)||n.stop(),e.state=jd,_(),t("destroy",e)},m=e=>{const t=r.value.find(t=>t.id===e);t&&g(t)},v=()=>{s.value.forEach(g)},y=(t,n)=>{var i;const r=null==(i=e.animation)?void 0:i[t];return"function"==typeof r?r(n):r},b=(t,n)=>{const i=y("enter",t);o(t,i,{duration:e.speed,complete:n})},x=(t,n)=>{const i=y("leave",t);o(t,i,{duration:e.speed,complete:n})};function _(){r.value=r.value.filter(e=>e.state!==jd)}return Zn(()=>{Ed.on("add",h),Ed.on("close",d)}),ei(()=>{Ed.off("add",h),Ed.off("close",d)}),()=>{let i;return Wr("div",{class:"vue-notification-group",style:c.value},[Wr(ga,Kr(u.value,{tag:"div",css:!a.value,name:e.animationName}),Wd(i=s.value.map(i=>Wr("div",{key:i.id,class:"vue-notification-wrapper",style:f(i),"data-id":i.id,onMouseenter:()=>(t=>{var n;e.pauseOnHover&&(null==(n=t.timer)||n.stop())})(i),onMouseleave:()=>(t=>{var n;e.pauseOnHover&&(null==(n=t.timer)||n.start())})(i)},[n.body?n.body({item:i,class:[e.classes,i.type],close:()=>g(i)}):Wr("div",{class:p(i),onClick:()=>(n=>{t("click",n),e.closeOnClick&&g(n)})(i)},[e.dangerouslySetInnerHtml?Wr(kr,null,[i.title?Wr("div",{class:"notification-title",innerHTML:i.title},null):null,Wr("div",{class:"notification-content",innerHTML:i.text},null)]):Wr(kr,null,[i.title?Wr("div",{class:"notification-title"},[i.title]):null,Wr("div",{class:"notification-content"},[i.text])])])])))?i:{default:()=>[i]})])}}}),Ud=e=>{"string"==typeof e&&(e={title:"",text:e}),"object"==typeof e&&Ed.emit("add",e)};Ud.close=e=>{Ed.emit("close",e)};const Xd={install:function qd(e,t={}){Object.entries(t).forEach(e=>Od.set(...e));const n=t.name||"notify";e.config.globalProperties["$"+n]=Ud,e.component(t.componentName||"Notifications",Gd)}};var Yd=Object.defineProperty,Zd=Object.getOwnPropertySymbols,Kd=Object.prototype.hasOwnProperty,Jd=Object.prototype.propertyIsEnumerable,Qd=(e,t,n)=>t in e?Yd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ep=(e,t)=>{for(var n in t||(t={}))Kd.call(t,n)&&Qd(e,n,t[n]);if(Zd)for(var n of Zd(t))Jd.call(t,n)&&Qd(e,n,t[n]);return e},tp=e=>"function"==typeof e,np=e=>"string"==typeof e,ip=e=>np(e)&&e.trim().length>0,rp=e=>void 0===e,op=e=>"object"==typeof e&&null!==e,ap=e=>window.TouchEvent&&e instanceof TouchEvent,sp=e=>up(e,"component")&&lp(e.component),lp=e=>{return!rp(e)&&(np(e)||(tp(t=e)||op(t))||sp(e));var t},cp=e=>op(e)&&["height","width","right","left","top","bottom"].every(t=>"number"==typeof e[t]),up=(e,t)=>(op(e)||tp(e))&&t in e,hp=(e=>()=>e++)(0);function dp(e){return ap(e)?e.targetTouches[0].clientX:e.clientX}function pp(e){return ap(e)?e.targetTouches[0].clientY:e.clientY}var fp,gp,mp,vp,yp,bp,xp=e=>sp(e)?xp(e.component):(e=>up(e,"tag")&&ip(e.tag))(e)?Pn({render:()=>e}):"string"==typeof e?e:yt(Tt(e)),_p=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(e=>e(t))}};(gp=fp||(fp={})).SUCCESS="success",gp.ERROR="error",gp.WARNING="warning",gp.INFO="info",gp.DEFAULT="default",(vp=mp||(mp={})).TOP_LEFT="top-left",vp.TOP_CENTER="top-center",vp.TOP_RIGHT="top-right",vp.BOTTOM_LEFT="bottom-left",vp.BOTTOM_CENTER="bottom-center",vp.BOTTOM_RIGHT="bottom-right",(bp=yp||(yp={})).ADD="add",bp.DISMISS="dismiss",bp.UPDATE="update",bp.CLEAR="clear",bp.UPDATE_DEFAULTS="update_defaults";var wp="Vue-Toastification",Sp={type:{type:String,default:fp.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},Mp={type:Sp.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},kp={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Sp.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Cp={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},Tp={transition:{type:[Object,String],default:`${wp}__bounce`}},Ap={CORE_TOAST:{position:{type:String,default:mp.TOP_RIGHT},draggable:Sp.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Sp.trueBoolean,pauseOnHover:Sp.trueBoolean,closeOnClick:Sp.trueBoolean,timeout:Cp.timeout,hideProgressBar:Cp.hideProgressBar,toastClassName:Sp.classNames,bodyClassName:Sp.classNames,icon:Mp.customIcon,closeButton:kp.component,closeButtonClassName:kp.classNames,showCloseButtonOnHover:kp.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new _p}},TOAST:{id:{type:[String,Number],required:!0,default:0},type:Sp.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},CONTAINER:{container:{type:[Object,Function],default:()=>document.body},newestOnTop:Sp.trueBoolean,maxToasts:{type:Number,default:20},transition:Tp.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:Sp.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},PROGRESS_BAR:Cp,ICON:Mp,TRANSITION:Tp,CLOSE_BUTTON:kp},Ip=Pn({name:"VtProgressBar",props:Ap.PROGRESS_BAR,data:()=>({hasClass:!0}),computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${wp}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});Ip.render=function Dp(e,t){return Or(),Nr("div",{style:B(e.style),class:$(e.cpClass)},null,6)};var Op=Ip,Ep=Pn({name:"VtCloseButton",props:Ap.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?xp(this.component):"button"},classes(){const e=[`${wp}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),Lp=Gr("  ");Ep.render=function Rp(e,t){return Or(),Pr(li(e.buttonComponent),Kr({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:an(()=>[Lp]),_:1},16,["aria-label","class"])};var Np=Ep,Pp={},zp={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Bp=[Hr("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1)];Pp.render=function Vp(e,t){return Or(),Nr("svg",zp,Bp)};var Fp=Pp,Hp={},Wp={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},$p=[Hr("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1)];Hp.render=function jp(e,t){return Or(),Nr("svg",Wp,$p)};var Gp=Hp,Up={},Xp={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},qp=[Hr("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];Up.render=function Yp(e,t){return Or(),Nr("svg",Xp,qp)};var Zp=Up,Kp={},Jp={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Qp=[Hr("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];Kp.render=function ef(e,t){return Or(),Nr("svg",Jp,Qp)};var tf=Kp,nf=Pn({name:"VtIcon",props:Ap.ICON,computed:{customIconChildren(){return up(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return np(this.customIcon)?this.trimValue(this.customIcon):up(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return up(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:lp(this.customIcon)?xp(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[fp.DEFAULT]:Gp,[fp.INFO]:Gp,[fp.SUCCESS]:Fp,[fp.ERROR]:tf,[fp.WARNING]:Zp}[this.type]},iconClasses(){const e=[`${wp}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue:(e,t="")=>ip(e)?e.trim():t}});nf.render=function rf(e,t){return Or(),Pr(li(e.component),{class:$(e.iconClasses)},{default:an(()=>[Gr(Y(e.customIconChildren),1)]),_:1},8,["class"])};var of=Pn({name:"VtToast",components:{ProgressBar:Op,CloseButton:Np,Icon:nf},inheritAttrs:!1,props:Object.assign({},Ap.CORE_TOAST,Ap.TOAST),data:()=>({isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}),computed:{classes(){const e=[`${wp}__toast`,`${wp}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${wp}__toast--rtl`),e},bodyClasses(){return[`${wp}__toast-${np(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return cp(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:up,getVueComponentFromObj:xp,closeToast(){this.eventBus.emit(yp.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:dp(e),y:pp(e)},this.dragStart=dp(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:dp(e),y:pp(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,cp(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),af=["role"];of.render=function sf(e,t){const n=ai("Icon"),i=ai("CloseButton"),r=ai("ProgressBar");return Or(),Nr("div",{class:$(e.classes),style:B(e.draggableStyle),onClick:t[0]||(t[0]=(...t)=>e.clickHandler&&e.clickHandler(...t)),onMouseenter:t[1]||(t[1]=(...t)=>e.hoverPause&&e.hoverPause(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.hoverPlay&&e.hoverPlay(...t))},[e.icon?(Or(),Pr(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):Xr("v-if",!0),Hr("div",{role:e.accessibility.toastRole||"alert",class:$(e.bodyClasses)},["string"==typeof e.content?(Or(),Nr(kr,{key:0},[Gr(Y(e.content),1)],2112)):(Or(),Pr(li(e.getVueComponentFromObj(e.content)),Kr({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},gi(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,af),e.closeButton?(Or(),Pr(i,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:La(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Xr("v-if",!0),e.timeout?(Or(),Pr(r,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Xr("v-if",!0)],38)};var lf=of,cf=Pn({name:"VtTransition",props:Ap.TRANSITION,emits:["leave"],methods:{hasProp:up,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});cf.render=function uf(e,t){return Or(),Pr(ga,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:an(()=>[pi(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])};var hf=Pn({name:"VueToastification",devtools:{hide:!0},components:{Toast:lf,VtTransition:cf},props:Object.assign({},Ap.CORE_TOAST,Ap.CONTAINER,Ap.TRANSITION),data:()=>({count:0,positions:Object.values(mp),toasts:{},defaults:{}}),computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(yp.ADD,this.addToast),e.on(yp.CLEAR,this.clearToasts),e.on(yp.DISMISS,this.dismissToast),e.on(yp.UPDATE,this.updateToast),e.on(yp.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){var t;tp(e)&&(e=await e()),t=this.$el,rp(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove(),e.appendChild(this.$el)},setToast(e){rp(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=(e=>{if("string"==typeof e)return e;const t=up(e,"props")&&op(e.props)?e.props:{},n=up(e,"listeners")&&op(e.listeners)?e.listeners:{};return{component:xp(e),props:t,listeners:n}})(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];rp(t)||rp(t.onClose)||t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(t=>t.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){rp(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${wp}__container`,e].concat(this.defaults.containerClassName)}}});hf.render=function df(e,t){const n=ai("Toast"),i=ai("VtTransition");return Or(),Nr("div",null,[(Or(!0),Nr(kr,null,hi(e.positions,t=>(Or(),Nr("div",{key:t},[Wr(i,{transition:e.defaults.transition,class:$(e.getClasses(t))},{default:an(()=>[(Or(!0),Nr(kr,null,hi(e.getPositionToasts(t),e=>(Or(),Pr(n,Kr({key:e.id},e),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])};var pf=hf,ff=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new _p;t&&Yt(()=>{const t=Fa(pf,ep({},e)),n=t.mount(document.createElement("div")),i=e.onMounted;if(rp(i)||i(n,t),e.shareAppContext){const n=e.shareAppContext;!0===n||(t._context.components=n._context.components,t._context.directives=n._context.directives,t._context.mixins=n._context.mixins,t._context.provides=n._context.provides,t.config.globalProperties=n.config.globalProperties)}});const i=(e,t)=>{const i=Object.assign({},{id:hp(),type:fp.DEFAULT},t,{content:e});return n.emit(yp.ADD,i),i.id};return i.clear=()=>n.emit(yp.CLEAR,void 0),i.updateDefaults=e=>{n.emit(yp.UPDATE_DEFAULTS,e)},i.dismiss=e=>{n.emit(yp.DISMISS,e)},i.update=function r(e,{content:t,options:i},o=!1){const a=Object.assign({},i,{content:t});n.emit(yp.UPDATE,{id:e,options:a,create:o})},i.success=(e,t)=>i(e,Object.assign({},t,{type:fp.SUCCESS})),i.info=(e,t)=>i(e,Object.assign({},t,{type:fp.INFO})),i.error=(e,t)=>i(e,Object.assign({},t,{type:fp.ERROR})),i.warning=(e,t)=>i(e,Object.assign({},t,{type:fp.WARNING})),i};function gf(e){return"undefined"==typeof window?(()=>{const e=()=>{};return new Proxy(e,{get:()=>e})})():(t=e,["on","off","emit"].every(e=>up(t,e)&&tp(t[e]))?ff({eventBus:e},!1):ff(e,!0));var t}var mf=Symbol("VueToastification"),vf=new _p,yf=e=>{const t=no()?Fi(mf,void 0):void 0;return t||gf(vf)},bf=(e,t)=>{!0===(null==t?void 0:t.shareAppContext)&&(t.shareAppContext=e);const n=gf(ep({eventBus:vf},t));e.provide(mf,n)};function xf(e,t){return function n(){return e.apply(t,arguments)}}const{toString:_f}=Object.prototype,{getPrototypeOf:wf}=Object,{iterator:Sf,toStringTag:Mf}=Symbol,kf=(e=>t=>{const n=_f.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cf=e=>(e=e.toLowerCase(),t=>kf(t)===e),Tf=e=>t=>typeof t===e,{isArray:Af}=Array,If=Tf("undefined");function Df(e){return null!==e&&!If(e)&&null!==e.constructor&&!If(e.constructor)&&Lf(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Of=Cf("ArrayBuffer");const Ef=Tf("string"),Lf=Tf("function"),Rf=Tf("number"),Nf=e=>null!==e&&"object"==typeof e,Pf=e=>{if("object"!==kf(e))return!1;const t=wf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Mf in e||Sf in e)},zf=Cf("Date"),Bf=Cf("File"),Vf=Cf("Blob"),Ff=Cf("FileList"),Hf=Cf("URLSearchParams"),[Wf,$f,jf,Gf]=["ReadableStream","Request","Response","Headers"].map(Cf);function Uf(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let i,r;if("object"!=typeof e&&(e=[e]),Af(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{if(Df(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(i=0;i<o;i++)a=r[i],t.call(null,e[a],a,e)}}function Xf(e,t){if(Df(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const qf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Yf=e=>!If(e)&&e!==qf;const Zf=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&wf(Uint8Array)),Kf=Cf("HTMLFormElement"),Jf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Qf=Cf("RegExp"),eg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Uf(n,(n,r)=>{let o;!1!==(o=t(n,r,e))&&(i[r]=o||n)}),Object.defineProperties(e,i)};const tg=Cf("AsyncFunction"),ng=(ig="function"==typeof setImmediate,rg=Lf(qf.postMessage),ig?setImmediate:rg?(og=`axios@${Math.random()}`,ag=[],qf.addEventListener("message",({source:e,data:t})=>{e===qf&&t===og&&ag.length&&ag.shift()()},!1),e=>{ag.push(e),qf.postMessage(og,"*")}):e=>setTimeout(e));var ig,rg,og,ag;const sg="undefined"!=typeof queueMicrotask?queueMicrotask.bind(qf):"undefined"!=typeof process&&process.nextTick||ng,lg={isArray:Af,isArrayBuffer:Of,isBuffer:Df,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Lf(e.append)&&("formdata"===(t=kf(e))||"object"===t&&Lf(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function cg(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Of(e.buffer),t},isString:Ef,isNumber:Rf,isBoolean:e=>!0===e||!1===e,isObject:Nf,isPlainObject:Pf,isEmptyObject:e=>{if(!Nf(e)||Df(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(kLe){return!1}},isReadableStream:Wf,isRequest:$f,isResponse:jf,isHeaders:Gf,isUndefined:If,isDate:zf,isFile:Bf,isBlob:Vf,isRegExp:Qf,isFunction:Lf,isStream:e=>Nf(e)&&Lf(e.pipe),isURLSearchParams:Hf,isTypedArray:Zf,isFileList:Ff,forEach:Uf,merge:function e(){const{caseless:t,skipUndefined:n}=Yf(this)&&this||{},i={},r=(r,o)=>{const a=t&&Xf(i,o)||o;Pf(i[a])&&Pf(r)?i[a]=e(i[a],r):Pf(r)?i[a]=e({},r):Af(r)?i[a]=r.slice():n&&If(r)||(i[a]=r)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Uf(arguments[o],r);return i},extend:(e,t,n,{allOwnKeys:i}={})=>(Uf(t,(t,i)=>{n&&Lf(t)?e[i]=xf(t,n):e[i]=t},{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,o,a;const s={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)a=r[o],i&&!i(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&wf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:kf,kindOfTest:Cf,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(Af(e))return e;let t=e.length;if(!Rf(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Sf]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:Kf,hasOwnProperty:Jf,hasOwnProp:Jf,reduceDescriptors:eg,freezeMethods:e=>{eg(e,(t,n)=>{if(Lf(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];Lf(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach(e=>{n[e]=!0})};return Af(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function e(t,n,i){return n.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Xf,global:qf,isContextDefined:Yf,isSpecCompliantForm:function ug(e){return!!(e&&Lf(e.append)&&"FormData"===e[Mf]&&e[Sf])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(Nf(e)){if(t.indexOf(e)>=0)return;if(Df(e))return e;if(!("toJSON"in e)){t[i]=e;const r=Af(e)?[]:{};return Uf(e,(e,t)=>{const o=n(e,i+1);!If(o)&&(r[t]=o)}),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:tg,isThenable:e=>e&&(Nf(e)||Lf(e))&&Lf(e.then)&&Lf(e.catch),setImmediate:ng,asap:sg,isIterable:e=>null!=e&&Lf(e[Sf])};function hg(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}lg.inherits(hg,Error,{toJSON:function e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:lg.toJSONObject(this.config),code:this.code,status:this.status}}});const dg=hg.prototype,pg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{pg[e]={value:e}}),Object.defineProperties(hg,pg),Object.defineProperty(dg,"isAxiosError",{value:!0}),hg.from=(e,t,n,i,r,o)=>{const a=Object.create(dg);lg.toFlatObject(e,a,function e(t){return t!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return hg.call(a,s,l,n,i,r),e&&null==a.cause&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",o&&Object.assign(a,o),a};function fg(e){return lg.isPlainObject(e)||lg.isArray(e)}function gg(e){return lg.endsWith(e,"[]")?e.slice(0,-2):e}function mg(e,t,n){return e?e.concat(t).map(function e(t,i){return t=gg(t),!n&&i?"["+t+"]":t}).join(n?".":""):t}const vg=lg.toFlatObject(lg,{},null,function e(t){return/^is[A-Z]/.test(t)});function yg(e,t,n){if(!lg.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=lg.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function e(t,n){return!lg.isUndefined(n[t])})).metaTokens,r=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&lg.isSpecCompliantForm(t);if(!lg.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(lg.isDate(e))return e.toISOString();if(lg.isBoolean(e))return e.toString();if(!s&&lg.isBlob(e))throw new hg("Blob is not supported. Use a Buffer instead.");return lg.isArrayBuffer(e)||lg.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let s=e;if(e&&!r&&"object"==typeof e)if(lg.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(lg.isArray(e)&&function c(e){return lg.isArray(e)&&!e.some(fg)}(e)||(lg.isFileList(e)||lg.endsWith(n,"[]"))&&(s=lg.toArray(e)))return n=gg(n),s.forEach(function e(i,r){!lg.isUndefined(i)&&null!==i&&t.append(!0===a?mg([n],r,o):null===a?n:n+"[]",l(i))}),!1;return!!fg(e)||(t.append(mg(r,n,o),l(e)),!1)}const u=[],h=Object.assign(vg,{defaultVisitor:c,convertValue:l,isVisitable:fg});if(!lg.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!lg.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),lg.forEach(n,function n(o,a){!0===(!(lg.isUndefined(o)||null===o)&&r.call(t,o,lg.isString(a)?a.trim():a,i,h))&&e(o,i?i.concat(a):[a])}),u.pop()}}(e),t}function bg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function e(n){return t[n]})}function xg(e,t){this._pairs=[],e&&yg(e,this,t)}const _g=xg.prototype;function wg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sg(e,t,n){if(!t)return e;const i=n&&n.encode||wg;lg.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(o=r?r(t,n):lg.isURLSearchParams(t)?t.toString():new xg(t,n).toString(i),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}_g.append=function e(t,n){this._pairs.push([t,n])},_g.toString=function e(t){const n=t?function(e){return t.call(this,e,bg)}:bg;return this._pairs.map(function e(t){return n(t[0])+"="+n(t[1])},"").join("&")};class Mg{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){lg.forEach(this.handlers,function t(n){null!==n&&e(n)})}}const kg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cg={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:xg,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Tg="undefined"!=typeof window&&"undefined"!=typeof document,Ag="object"==typeof navigator&&navigator||void 0,Ig=Tg&&(!Ag||["ReactNative","NativeScript","NS"].indexOf(Ag.product)<0),Dg="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Og=Tg&&window.location.href||"http://localhost",Eg={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tg,hasStandardBrowserEnv:Ig,hasStandardBrowserWebWorkerEnv:Dg,navigator:Ag,origin:Og},Symbol.toStringTag,{value:"Module"})),...Cg};function Lg(e){function t(e,n,i,r){let o=e[r++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=r>=e.length;if(o=!o&&lg.isArray(i)?i.length:o,s)return lg.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a;i[o]&&lg.isObject(i[o])||(i[o]=[]);return t(e,n,i[o],r)&&lg.isArray(i[o])&&(i[o]=function l(e){const t={},n=Object.keys(e);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],t[o]=e[o];return t}(i[o])),!a}if(lg.isFormData(e)&&lg.isFunction(e.entries)){const n={};return lg.forEachEntry(e,(e,i)=>{t(function r(e){return lg.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),i,n,0)}),n}return null}const Rg={transitional:kg,adapter:["xhr","http","fetch"],transformRequest:[function e(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=lg.isObject(t);o&&lg.isHTMLForm(t)&&(t=new FormData(t));if(lg.isFormData(t))return r?JSON.stringify(Lg(t)):t;if(lg.isArrayBuffer(t)||lg.isBuffer(t)||lg.isStream(t)||lg.isFile(t)||lg.isBlob(t)||lg.isReadableStream(t))return t;if(lg.isArrayBufferView(t))return t.buffer;if(lg.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function e(t,n){return yg(t,new Eg.classes.URLSearchParams,{visitor:function(e,t,n,i){return Eg.isNode&&lg.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...n})}(t,this.formSerializer).toString();if((a=lg.isFileList(t))||i.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return yg(a?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),function s(e,t,n){if(lg.isString(e))try{return(t||JSON.parse)(e),lg.trim(e)}catch(kLe){if("SyntaxError"!==kLe.name)throw kLe}return(n||JSON.stringify)(e)}(t)):t}],transformResponse:[function e(t){const n=this.transitional||Rg.transitional,i=n&&n.forcedJSONParsing,r="json"===this.responseType;if(lg.isResponse(t)||lg.isReadableStream(t))return t;if(t&&lg.isString(t)&&(i&&!this.responseType||r)){const e=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(kLe){if(e){if("SyntaxError"===kLe.name)throw hg.from(kLe,hg.ERR_BAD_RESPONSE,this,null,this.response);throw kLe}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Eg.classes.FormData,Blob:Eg.classes.Blob},validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};lg.forEach(["delete","get","head","post","put","patch"],e=>{Rg.headers[e]={}});const Ng=lg.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pg=Symbol("internals");function zg(e){return e&&String(e).trim().toLowerCase()}function Bg(e){return!1===e||null==e?e:lg.isArray(e)?e.map(Bg):String(e)}function Vg(e,t,n,i,r){return lg.isFunction(i)?i.call(this,t,n):(r&&(t=n),lg.isString(t)?lg.isString(i)?-1!==t.indexOf(i):lg.isRegExp(i)?i.test(t):void 0:void 0)}let Fg=class e{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=zg(t);if(!r)throw new Error("header name must be a non-empty string");const o=lg.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||t]=Bg(e))}const o=(e,t)=>lg.forEach(e,(e,n)=>r(e,n,t));if(lg.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(lg.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach(function e(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!n||t[n]&&Ng[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t})(e),t);else if(lg.isObject(e)&&lg.isIterable(e)){let n,i,r={};for(const t of e){if(!lg.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?lg.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=zg(e)){const n=lg.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function i(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(lg.isFunction(t))return t.call(this,e,n);if(lg.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=zg(e)){const n=lg.findKey(this,e);return!(!n||void 0===this[n]||t&&!Vg(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=zg(e)){const r=lg.findKey(n,e);!r||t&&!Vg(0,n[r],r,t)||(delete n[r],i=!0)}}return lg.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!Vg(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return lg.forEach(this,(i,r)=>{const o=lg.findKey(n,r);if(o)return t[o]=Bg(i),void delete t[r];const a=e?function s(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();a!==r&&delete t[r],t[a]=Bg(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return lg.forEach(this,(n,i)=>{null!=n&&!1!==n&&(t[i]=e&&lg.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[Pg]=this[Pg]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=zg(e);t[i]||(!function r(e,t){const n=lg.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[i]=!0)}return lg.isArray(e)?e.forEach(i):i(e),this}};function Hg(e,t){const n=this||Rg,i=t||n,r=Fg.from(i.headers);let o=i.data;return lg.forEach(e,function e(i){o=i.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function Wg(e){return!(!e||!e.__CANCEL__)}function $g(e,t,n){hg.call(this,null==e?"canceled":e,hg.ERR_CANCELED,t,n),this.name="CanceledError"}function jg(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new hg("Request failed with status code "+n.status,[hg.ERR_BAD_REQUEST,hg.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}Fg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),lg.reduceDescriptors(Fg.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),lg.freezeMethods(Fg),lg.inherits($g,hg,{__CANCEL__:!0});const Gg=(e,t,n=3)=>{let i=0;const r=function o(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,o=0,a=0;return t=void 0!==t?t:1e3,function s(l){const c=Date.now(),u=i[a];r||(r=c),n[o]=l,i[o]=c;let h=a,d=0;for(;h!==o;)d+=n[h++],h%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-r<t)return;const p=u&&c-u;return p?Math.round(1e3*d/p):void 0}}(50,250);return function a(e,t){let n,i,r=0,o=1e3/t;const a=(t,o=Date.now())=>{r=o,n=null,i&&(clearTimeout(i),i=null),e(...t)};return[(...e)=>{const t=Date.now(),s=t-r;s>=o?a(e,t):(n=e,i||(i=setTimeout(()=>{i=null,a(n)},o-s)))},()=>n&&a(n)]}(n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-i,l=r(s);i=o;e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})},n)},Ug=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Xg=e=>(...t)=>lg.asap(()=>e(...t)),qg=Eg.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Eg.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Eg.origin),Eg.navigator&&/(msie|trident)/i.test(Eg.navigator.userAgent)):()=>!0,Yg=Eg.hasStandardBrowserEnv?{write(e,t,n,i,r,o,a){if("undefined"==typeof document)return;const s=[`${e}=${encodeURIComponent(t)}`];lg.isNumber(n)&&s.push(`expires=${new Date(n).toUTCString()}`),lg.isString(i)&&s.push(`path=${i}`),lg.isString(r)&&s.push(`domain=${r}`),!0===o&&s.push("secure"),lg.isString(a)&&s.push(`SameSite=${a}`),document.cookie=s.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Zg(e,t,n){let i=!function r(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(i||0==n)?function o(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Kg=e=>e instanceof Fg?{...e}:e;function Jg(e,t){t=t||{};const n={};function i(e,t,n,i){return lg.isPlainObject(e)&&lg.isPlainObject(t)?lg.merge.call({caseless:i},e,t):lg.isPlainObject(t)?lg.merge({},t):lg.isArray(t)?t.slice():t}function r(e,t,n,r){return lg.isUndefined(t)?lg.isUndefined(e)?void 0:i(void 0,e,0,r):i(e,t,0,r)}function o(e,t){if(!lg.isUndefined(t))return i(void 0,t)}function a(e,t){return lg.isUndefined(t)?lg.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function s(n,r,o){return o in t?i(n,r):o in e?i(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>r(Kg(e),Kg(t),0,!0)};return lg.forEach(Object.keys({...e,...t}),function i(o){const a=l[o]||r,c=a(e[o],t[o],o);lg.isUndefined(c)&&a!==s||(n[o]=c)}),n}const Qg=e=>{const t=Jg({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:o,headers:a,auth:s}=t;if(t.headers=a=Fg.from(a),t.url=Sg(Zg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),lg.isFormData(n))if(Eg.hasStandardBrowserEnv||Eg.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(lg.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&a.set(e,n)})}if(Eg.hasStandardBrowserEnv&&(i&&lg.isFunction(i)&&(i=i(t)),i||!1!==i&&qg(t.url))){const e=r&&o&&Yg.read(o);e&&a.set(r,e)}return t},em="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function t(n,i){const r=Qg(e);let o=r.data;const a=Fg.from(r.headers).normalize();let s,l,c,u,h,{responseType:d,onUploadProgress:p,onDownloadProgress:f}=r;function g(){u&&u(),h&&h(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function v(){if(!m)return;const t=Fg.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());jg(function e(t){n(t),g()},function e(t){i(t),g()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:t,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=v:m.onreadystatechange=function e(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(v)},m.onabort=function t(){m&&(i(new hg("Request aborted",hg.ECONNABORTED,e,m)),m=null)},m.onerror=function t(n){const r=new hg(n&&n.message?n.message:"Network Error",hg.ERR_NETWORK,e,m);r.event=n||null,i(r),m=null},m.ontimeout=function t(){let n=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||kg;r.timeoutErrorMessage&&(n=r.timeoutErrorMessage),i(new hg(n,o.clarifyTimeoutError?hg.ETIMEDOUT:hg.ECONNABORTED,e,m)),m=null},void 0===o&&a.setContentType(null),"setRequestHeader"in m&&lg.forEach(a.toJSON(),function e(t,n){m.setRequestHeader(n,t)}),lg.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([c,h]=Gg(f,!0),m.addEventListener("progress",c)),p&&m.upload&&([l,u]=Gg(p),m.upload.addEventListener("progress",l),m.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(s=t=>{m&&(i(!t||t.type?new $g(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const y=function b(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Eg.protocols.indexOf(y)?i(new hg("Unsupported protocol "+y+":",hg.ERR_BAD_REQUEST,e)):m.send(o||null)})},tm=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const r=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;i.abort(t instanceof hg?t:new $g(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,r(new hg(`timeout ${t} of ms exceeded`,hg.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:s}=i;return s.unsubscribe=()=>lg.asap(a),s}},nm=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let i,r=0;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},im=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},rm=(e,t,n,i)=>{const r=async function*(e,t){for await(const n of im(e))yield*nm(n,t)}(e,t);let o,a=0,s=e=>{o||(o=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await r.next();if(t)return s(),void e.close();let o=i.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw s(t),t}},cancel:e=>(s(e),r.return())},{highWaterMark:2})},{isFunction:om}=lg,am=(({Request:e,Response:t})=>({Request:e,Response:t}))(lg.global),{ReadableStream:sm,TextEncoder:lm}=lg.global,cm=(e,...t)=>{try{return!!e(...t)}catch(kLe){return!1}},um=e=>{e=lg.merge.call({skipUndefined:!0},am,e);const{fetch:t,Request:n,Response:i}=e,r=t?om(t):"function"==typeof fetch,o=om(n),a=om(i);if(!r)return!1;const s=r&&om(sm),l=r&&("function"==typeof lm?(e=>t=>e.encode(t))(new lm):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=o&&s&&cm(()=>{let e=!1;const t=new n(Eg.origin,{body:new sm,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=a&&s&&cm(()=>lg.isReadableStream(new i("").body)),h={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let i=t&&t[e];if(i)return i.call(t);throw new hg(`Response type '${e}' is not supported`,hg.ERR_NOT_SUPPORT,n)})});const d=async(e,t)=>{const i=lg.toFiniteNumber(e.getContentLength());return null==i?(async e=>{if(null==e)return 0;if(lg.isBlob(e))return e.size;if(lg.isSpecCompliantForm(e)){const t=new n(Eg.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return lg.isArrayBufferView(e)||lg.isArrayBuffer(e)?e.byteLength:(lg.isURLSearchParams(e)&&(e+=""),lg.isString(e)?(await l(e)).byteLength:void 0)})(t):i};return async e=>{let{url:r,method:a,data:s,signal:l,cancelToken:p,timeout:f,onDownloadProgress:g,onUploadProgress:m,responseType:v,headers:y,withCredentials:b="same-origin",fetchOptions:x}=Qg(e),_=t||fetch;v=v?(v+"").toLowerCase():"text";let w=tm([l,p&&p.toAbortSignal()],f),S=null;const M=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let k;try{if(m&&c&&"get"!==a&&"head"!==a&&0!==(k=await d(y,s))){let e,t=new n(r,{method:"POST",body:s,duplex:"half"});if(lg.isFormData(s)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=Ug(k,Gg(Xg(m)));s=rm(t.body,65536,e,n)}}lg.isString(b)||(b=b?"include":"omit");const t=o&&"credentials"in n.prototype,l={...x,signal:w,method:a.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:t?b:void 0};S=o&&new n(r,l);let p=await(o?_(S,x):_(r,l));const f=u&&("stream"===v||"response"===v);if(u&&(g||f&&M)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=p[t]});const t=lg.toFiniteNumber(p.headers.get("content-length")),[n,r]=g&&Ug(t,Gg(Xg(g),!0))||[];p=new i(rm(p.body,65536,n,()=>{r&&r(),M&&M()}),e)}v=v||"text";let C=await h[lg.findKey(h,v)||"text"](p,e);return!f&&M&&M(),await new Promise((t,n)=>{jg(t,n,{data:C,headers:Fg.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:S})})}catch(C){if(M&&M(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new hg("Network Error",hg.ERR_NETWORK,e,S),{cause:C.cause||C});throw hg.from(C,C&&C.code,e,S)}}},hm=new Map,dm=e=>{let t=e&&e.env||{};const{fetch:n,Request:i,Response:r}=t,o=[i,r,n];let a,s,l=o.length,c=hm;for(;l--;)a=o[l],s=c.get(a),void 0===s&&c.set(a,s=l?new Map:um(t)),c=s;return s};dm();const pm={http:null,xhr:em,fetch:{get:dm}};lg.forEach(pm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(kLe){}Object.defineProperty(e,"adapterName",{value:t})}});const fm=e=>`- ${e}`,gm=e=>lg.isFunction(e)||null===e||!1===e;const mm={getAdapter:function vm(e,t){e=lg.isArray(e)?e:[e];const{length:n}=e;let i,r;const o={};for(let a=0;a<n;a++){let n;if(i=e[a],r=i,!gm(i)&&(r=pm[(n=String(i)).toLowerCase()],void 0===r))throw new hg(`Unknown adapter '${n}'`);if(r&&(lg.isFunction(r)||(r=r.get(t))))break;o[n||"#"+a]=r}if(!r){const e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new hg("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(fm).join("\n"):" "+fm(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:pm};function ym(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $g(null,e)}function bm(e){ym(e),e.headers=Fg.from(e.headers),e.data=Hg.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return mm.getAdapter(e.adapter||Rg.adapter,e)(e).then(function t(n){return ym(e),n.data=Hg.call(e,e.transformResponse,n),n.headers=Fg.from(n.headers),n},function t(n){return Wg(n)||(ym(e),n&&n.response&&(n.response.data=Hg.call(e,e.transformResponse,n.response),n.response.headers=Fg.from(n.response.headers))),Promise.reject(n)})}const xm="1.13.2",_m={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_m[e]=function n(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const wm={};_m.transitional=function e(t,n,i){return(e,r,o)=>{if(!1===t)throw new hg(function a(e,t){return"[Axios v"+xm+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}(r," has been removed"+(n?" in "+n:"")),hg.ERR_DEPRECATED);return n&&!wm[r]&&(wm[r]=!0),!t||t(e,r,o)}},_m.spelling=function e(t){return(e,t)=>!0};const Sm={assertOptions:function Mm(e,t,n){if("object"!=typeof e)throw new hg("options must be an object",hg.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const o=i[r],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new hg("option "+o+" must be "+n,hg.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new hg("Unknown option "+o,hg.ERR_BAD_OPTION)}},validators:_m},km=Sm.validators;let Cm=class e{constructor(e){this.defaults=e||{},this.interceptors={request:new Mg,response:new Mg}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(kLe){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Jg(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&Sm.assertOptions(n,{silentJSONParsing:km.transitional(km.boolean),forcedJSONParsing:km.transitional(km.boolean),clarifyTimeoutError:km.transitional(km.boolean)},!1),null!=i&&(lg.isFunction(i)?t.paramsSerializer={serialize:i}:Sm.assertOptions(i,{encode:km.function,serialize:km.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Sm.assertOptions(t,{baseUrl:km.spelling("baseURL"),withXsrfToken:km.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&lg.merge(r.common,r[t.method]);r&&lg.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Fg.concat(o,r);const a=[];let s=!0;this.interceptors.request.forEach(function e(n){"function"==typeof n.runWhen&&!1===n.runWhen(t)||(s=s&&n.synchronous,a.unshift(n.fulfilled,n.rejected))});const l=[];let c;this.interceptors.response.forEach(function e(t){l.push(t.fulfilled,t.rejected)});let u,h=0;if(!s){const e=[bm.bind(this),void 0];for(e.unshift(...a),e.push(...l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=a.length;let d=t;for(;h<u;){const e=a[h++],t=a[h++];try{d=e(d)}catch(p){t.call(this,p);break}}try{c=bm.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return Sg(Zg((e=Jg(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};lg.forEach(["delete","get","head","options"],function e(t){Cm.prototype[t]=function(e,n){return this.request(Jg(n||{},{method:t,url:e,data:(n||{}).data}))}}),lg.forEach(["post","put","patch"],function e(t){function n(e){return function n(i,r,o){return this.request(Jg(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:r}))}}Cm.prototype[t]=n(),Cm.prototype[t+"Form"]=n(!0)});const Tm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Tm).forEach(([e,t])=>{Tm[t]=e});const Am=function e(t){const n=new Cm(t),i=xf(Cm.prototype.request,n);return lg.extend(i,Cm.prototype,n,{allOwnKeys:!0}),lg.extend(i,n,null,{allOwnKeys:!0}),i.create=function n(i){return e(Jg(t,i))},i}(Rg);Am.Axios=Cm,Am.CanceledError=$g,Am.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function e(n){t=n});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const i=new Promise(e=>{n.subscribe(e),t=e}).then(e);return i.cancel=function e(){n.unsubscribe(t)},i},e(function e(i,r,o){n.reason||(n.reason=new $g(i,r,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function e(n){t=n}),cancel:t}}},Am.isCancel=Wg,Am.VERSION=xm,Am.toFormData=yg,Am.AxiosError=hg,Am.Cancel=Am.CanceledError,Am.all=function e(t){return Promise.all(t)},Am.spread=function Im(e){return function t(n){return e.apply(null,n)}},Am.isAxiosError=function Dm(e){return lg.isObject(e)&&!0===e.isAxiosError},Am.mergeConfig=Jg,Am.AxiosHeaders=Fg,Am.formToJSON=e=>Lg(lg.isHTMLForm(e)?new FormData(e):e),Am.getAdapter=mm.getAdapter,Am.HttpStatusCode=Tm,Am.default=Am;const{Axios:Om,AxiosError:Em,CanceledError:Lm,isCancel:Rm,CancelToken:Nm,VERSION:Pm,all:zm,Cancel:Bm,isAxiosError:Vm,spread:Fm,toFormData:Hm,AxiosHeaders:Wm,HttpStatusCode:$m,formToJSON:jm,getAdapter:Gm,mergeConfig:Um}=Am,Xm=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];let qm=class e{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}};function Ym(e,t){const n={},i={};for(const r of e)Object.assign(n,r.property),Object.assign(i,r.normal);return new qm(n,i,t)}function Zm(e){return e.toLowerCase()}qm.prototype.normal={},qm.prototype.property={},qm.prototype.space=void 0;class Km{constructor(e,t){this.attribute=t,this.property=e}}Km.prototype.attribute="",Km.prototype.booleanish=!1,Km.prototype.boolean=!1,Km.prototype.commaOrSpaceSeparated=!1,Km.prototype.commaSeparated=!1,Km.prototype.defined=!1,Km.prototype.mustUseProperty=!1,Km.prototype.number=!1,Km.prototype.overloadedBoolean=!1,Km.prototype.property="",Km.prototype.spaceSeparated=!1,Km.prototype.space=void 0;let Jm=0;const Qm=av(),ev=av(),tv=av(),nv=av(),iv=av(),rv=av(),ov=av();function av(){return 2**++Jm}const sv=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qm,booleanish:ev,commaOrSpaceSeparated:ov,commaSeparated:rv,number:nv,overloadedBoolean:tv,spaceSeparated:iv},Symbol.toStringTag,{value:"Module"})),lv=Object.keys(sv);class cv extends Km{constructor(e,t,n,i){let r=-1;if(super(e,t),uv(this,"space",i),"number"==typeof n)for(;++r<lv.length;){const e=lv[r];uv(this,lv[r],(n&sv[e])===sv[e])}}}function uv(e,t,n){n&&(e[t]=n)}function hv(e){const t={},n={};for(const[i,r]of Object.entries(e.properties)){const o=new cv(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),t[i]=o,n[Zm(i)]=i,n[Zm(o.attribute)]=i}return new qm(t,n,e.space)}cv.prototype.defined=!0;const dv=hv({properties:{ariaActiveDescendant:null,ariaAtomic:ev,ariaAutoComplete:null,ariaBusy:ev,ariaChecked:ev,ariaColCount:nv,ariaColIndex:nv,ariaColSpan:nv,ariaControls:iv,ariaCurrent:null,ariaDescribedBy:iv,ariaDetails:null,ariaDisabled:ev,ariaDropEffect:iv,ariaErrorMessage:null,ariaExpanded:ev,ariaFlowTo:iv,ariaGrabbed:ev,ariaHasPopup:null,ariaHidden:ev,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:iv,ariaLevel:nv,ariaLive:null,ariaModal:ev,ariaMultiLine:ev,ariaMultiSelectable:ev,ariaOrientation:null,ariaOwns:iv,ariaPlaceholder:null,ariaPosInSet:nv,ariaPressed:ev,ariaReadOnly:ev,ariaRelevant:null,ariaRequired:ev,ariaRoleDescription:iv,ariaRowCount:nv,ariaRowIndex:nv,ariaRowSpan:nv,ariaSelected:ev,ariaSetSize:nv,ariaSort:null,ariaValueMax:nv,ariaValueMin:nv,ariaValueNow:nv,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function pv(e,t){return t in e?e[t]:t}function fv(e,t){return pv(e,t.toLowerCase())}const gv=hv({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rv,acceptCharset:iv,accessKey:iv,action:null,allow:null,allowFullScreen:Qm,allowPaymentRequest:Qm,allowUserMedia:Qm,alt:null,as:null,async:Qm,autoCapitalize:null,autoComplete:iv,autoFocus:Qm,autoPlay:Qm,blocking:iv,capture:null,charSet:null,checked:Qm,cite:null,className:iv,cols:nv,colSpan:null,content:null,contentEditable:ev,controls:Qm,controlsList:iv,coords:nv|rv,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qm,defer:Qm,dir:null,dirName:null,disabled:Qm,download:tv,draggable:ev,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qm,formTarget:null,headers:iv,height:nv,hidden:tv,high:nv,href:null,hrefLang:null,htmlFor:iv,httpEquiv:iv,id:null,imageSizes:null,imageSrcSet:null,inert:Qm,inputMode:null,integrity:null,is:null,isMap:Qm,itemId:null,itemProp:iv,itemRef:iv,itemScope:Qm,itemType:iv,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qm,low:nv,manifest:null,max:null,maxLength:nv,media:null,method:null,min:null,minLength:nv,multiple:Qm,muted:Qm,name:null,nonce:null,noModule:Qm,noValidate:Qm,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qm,optimum:nv,pattern:null,ping:iv,placeholder:null,playsInline:Qm,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qm,referrerPolicy:null,rel:iv,required:Qm,reversed:Qm,rows:nv,rowSpan:nv,sandbox:iv,scope:null,scoped:Qm,seamless:Qm,selected:Qm,shadowRootClonable:Qm,shadowRootDelegatesFocus:Qm,shadowRootMode:null,shape:null,size:nv,sizes:null,slot:null,span:nv,spellCheck:ev,src:null,srcDoc:null,srcLang:null,srcSet:null,start:nv,step:null,style:null,tabIndex:nv,target:null,title:null,translate:null,type:null,typeMustMatch:Qm,useMap:null,value:ev,width:nv,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:iv,axis:null,background:null,bgColor:null,border:nv,borderColor:null,bottomMargin:nv,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qm,declare:Qm,event:null,face:null,frame:null,frameBorder:null,hSpace:nv,leftMargin:nv,link:null,longDesc:null,lowSrc:null,marginHeight:nv,marginWidth:nv,noResize:Qm,noHref:Qm,noShade:Qm,noWrap:Qm,object:null,profile:null,prompt:null,rev:null,rightMargin:nv,rules:null,scheme:null,scrolling:ev,standby:null,summary:null,text:null,topMargin:nv,valueType:null,version:null,vAlign:null,vLink:null,vSpace:nv,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qm,disableRemotePlayback:Qm,prefix:null,property:null,results:nv,security:null,unselectable:null},space:"html",transform:fv}),mv=hv({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ov,accentHeight:nv,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:nv,amplitude:nv,arabicForm:null,ascent:nv,attributeName:null,attributeType:null,azimuth:nv,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:nv,by:null,calcMode:null,capHeight:nv,className:iv,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:nv,diffuseConstant:nv,direction:null,display:null,dur:null,divisor:nv,dominantBaseline:null,download:Qm,dx:null,dy:null,edgeMode:null,editable:null,elevation:nv,enableBackground:null,end:null,event:null,exponent:nv,externalResourcesRequired:null,fill:null,fillOpacity:nv,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rv,g2:rv,glyphName:rv,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:nv,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:nv,horizOriginX:nv,horizOriginY:nv,id:null,ideographic:nv,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:nv,k:nv,k1:nv,k2:nv,k3:nv,k4:nv,kernelMatrix:ov,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:nv,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:nv,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:nv,overlineThickness:nv,paintOrder:null,panose1:null,path:null,pathLength:nv,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:iv,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:nv,pointsAtY:nv,pointsAtZ:nv,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ov,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ov,rev:ov,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ov,requiredFeatures:ov,requiredFonts:ov,requiredFormats:ov,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:nv,specularExponent:nv,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:nv,strikethroughThickness:nv,string:null,stroke:null,strokeDashArray:ov,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:nv,strokeOpacity:nv,strokeWidth:null,style:null,surfaceScale:nv,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ov,tabIndex:nv,tableValues:null,target:null,targetX:nv,targetY:nv,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ov,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:nv,underlineThickness:nv,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:nv,values:null,vAlphabetic:nv,vMathematical:nv,vectorEffect:null,vHanging:nv,vIdeographic:nv,version:null,vertAdvY:nv,vertOriginX:nv,vertOriginY:nv,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:nv,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:pv}),vv=hv({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),yv=hv({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:fv}),bv=hv({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),xv=/[A-Z]/g,_v=/-[a-z]/g,wv=/^data[-\w.:]+$/i;function Sv(e){return"-"+e.toLowerCase()}function Mv(e){return e.charAt(1).toUpperCase()}const kv=Ym([dv,gv,vv,yv,bv],"html"),Cv=Ym([dv,mv,vv,yv,bv],"svg"),Tv={}.hasOwnProperty;const Av=/["&'<>`]/g,Iv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dv=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Ov=/[|\\{}()[\]^$+*?.]/g,Ev=new WeakMap;function Lv(e,t){return e=e.replace(t.subset?function n(e){let t=Ev.get(e);t||(t=function n(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(Ov,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}(e),Ev.set(e,t));return t}(t.subset):Av,r),t.subset||t.escapeOnly?e:e.replace(Iv,function i(e,n,r){return t.format(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536,r.charCodeAt(n+2),t)}).replace(Dv,r);function r(e,n,i){return t.format(e.charCodeAt(0),i.charCodeAt(n+1),t)}}const Rv=/[\dA-Fa-f]/;const Nv=/\d/;const Pv=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],zv={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},Bv=["cent","copy","divide","gt","lt","not","para","times"],Vv={}.hasOwnProperty,Fv={};let Hv;for(Hv in zv)Vv.call(zv,Hv)&&(Fv[zv[Hv]]=Hv);const Wv=/[^\dA-Za-z]/;function $v(e,t,n){let i,r=function o(e,t,n){const i="&#x"+e.toString(16).toUpperCase();return n&&t&&!Rv.test(String.fromCharCode(t))?i:i+";"}(e,t,n.omitOptionalSemicolons);if((n.useNamedReferences||n.useShortestReferences)&&(i=function a(e,t,n,i){const r=String.fromCharCode(e);if(Vv.call(Fv,r)){const e=Fv[r],o="&"+e;return n&&Pv.includes(e)&&!Bv.includes(e)&&(!i||t&&61!==t&&Wv.test(String.fromCharCode(t)))?o:o+";"}return""}(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const i=function o(e,t,n){const i="&#"+String(e);return n&&t&&!Nv.test(String.fromCharCode(t))?i:i+";"}(e,t,n.omitOptionalSemicolons);i.length<r.length&&(r=i)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function jv(e,t){return Lv(e,Object.assign({format:$v},t))}const Gv=/^>|^->|<!--|-->|--!>|<!-$/g,Uv=[">"],Xv=["<",">"];function qv(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let i=0,r=n.indexOf(t);for(;-1!==r;)i++,r=n.indexOf(t,r+t.length);return i}function Yv(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}function Zv(e){return e.join(" ").trim()}const Kv=/[ \t\n\f\r]/g;function Jv(e){return"object"==typeof e?"text"===e.type&&Qv(e.value):Qv(e)}function Qv(e){return""===e.replace(Kv,"")}const ey=iy(1),ty=iy(-1),ny=[];function iy(e){return function t(n,i,r){const o=n?n.children:ny;let a=(i||0)+e,s=o[a];if(!r)for(;s&&Jv(s);)a+=e,s=o[a];return s}}const ry={}.hasOwnProperty;function oy(e){return function t(n,i,r){return ry.call(e,n.tagName)&&e[n.tagName](n,i,r)}}const ay=oy({body:function sy(e,t,n){const i=ey(n,t);return!i||"comment"!==i.type},caption:by,colgroup:by,dd:function ly(e,t,n){const i=ey(n,t);return!i||"element"===i.type&&("dt"===i.tagName||"dd"===i.tagName)},dt:function cy(e,t,n){const i=ey(n,t);return Boolean(i&&"element"===i.type&&("dt"===i.tagName||"dd"===i.tagName))},head:by,html:function uy(e,t,n){const i=ey(n,t);return!i||"comment"!==i.type},li:function hy(e,t,n){const i=ey(n,t);return!i||"element"===i.type&&"li"===i.tagName},optgroup:function dy(e,t,n){const i=ey(n,t);return!i||"element"===i.type&&"optgroup"===i.tagName},option:function py(e,t,n){const i=ey(n,t);return!i||"element"===i.type&&("option"===i.tagName||"optgroup"===i.tagName)},p:function fy(e,t,n){const i=ey(n,t);return i?"element"===i.type&&("address"===i.tagName||"article"===i.tagName||"aside"===i.tagName||"blockquote"===i.tagName||"details"===i.tagName||"div"===i.tagName||"dl"===i.tagName||"fieldset"===i.tagName||"figcaption"===i.tagName||"figure"===i.tagName||"footer"===i.tagName||"form"===i.tagName||"h1"===i.tagName||"h2"===i.tagName||"h3"===i.tagName||"h4"===i.tagName||"h5"===i.tagName||"h6"===i.tagName||"header"===i.tagName||"hgroup"===i.tagName||"hr"===i.tagName||"main"===i.tagName||"menu"===i.tagName||"nav"===i.tagName||"ol"===i.tagName||"p"===i.tagName||"pre"===i.tagName||"section"===i.tagName||"table"===i.tagName||"ul"===i.tagName):!n||!("element"===n.type&&("a"===n.tagName||"audio"===n.tagName||"del"===n.tagName||"ins"===n.tagName||"map"===n.tagName||"noscript"===n.tagName||"video"===n.tagName))},rp:xy,rt:xy,tbody:function gy(e,t,n){const i=ey(n,t);return!i||"element"===i.type&&("tbody"===i.tagName||"tfoot"===i.tagName)},td:_y,tfoot:function my(e,t,n){return!ey(n,t)},th:_y,thead:function vy(e,t,n){const i=ey(n,t);return Boolean(i&&"element"===i.type&&("tbody"===i.tagName||"tfoot"===i.tagName))},tr:function yy(e,t,n){const i=ey(n,t);return!i||"element"===i.type&&"tr"===i.tagName}});function by(e,t,n){const i=ey(n,t,!0);return!i||"comment"!==i.type&&!("text"===i.type&&Jv(i.value.charAt(0)))}function xy(e,t,n){const i=ey(n,t);return!i||"element"===i.type&&("rp"===i.tagName||"rt"===i.tagName)}function _y(e,t,n){const i=ey(n,t);return!i||"element"===i.type&&("td"===i.tagName||"th"===i.tagName)}const wy=oy({body:function Sy(e){const t=ey(e,-1,!0);return!(t&&("comment"===t.type||"text"===t.type&&Jv(t.value.charAt(0))||"element"===t.type&&("meta"===t.tagName||"link"===t.tagName||"script"===t.tagName||"style"===t.tagName||"template"===t.tagName)))},colgroup:function My(e,t,n){const i=ty(n,t),r=ey(e,-1,!0);if(n&&i&&"element"===i.type&&"colgroup"===i.tagName&&ay(i,n.children.indexOf(i),n))return!1;return Boolean(r&&"element"===r.type&&"col"===r.tagName)},head:function ky(e){const t=new Set;for(const i of e.children)if("element"===i.type&&("base"===i.tagName||"title"===i.tagName)){if(t.has(i.tagName))return!1;t.add(i.tagName)}const n=e.children[0];return!n||"element"===n.type},html:function Cy(e){const t=ey(e,-1);return!t||"comment"!==t.type},tbody:function Ty(e,t,n){const i=ty(n,t),r=ey(e,-1);if(n&&i&&"element"===i.type&&("thead"===i.tagName||"tbody"===i.tagName)&&ay(i,n.children.indexOf(i),n))return!1;return Boolean(r&&"element"===r.type&&"tr"===r.tagName)}});const Ay={name:[["\t\n\f\r &/=>".split(""),"\t\n\f\r \"&'/=>`".split("")],["\0\t\n\f\r \"&'/<=>".split(""),"\0\t\n\f\r \"&'/<=>`".split("")]],unquoted:[["\t\n\f\r &>".split(""),"\0\t\n\f\r \"&'<=>`".split("")],["\0\t\n\f\r \"&'<=>`".split(""),"\0\t\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Iy(e,t,n){const i=function r(e,t){const n=Zm(t);let i=t,r=Km;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&wv.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(_v,Mv);i="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!_v.test(e)){let n=e.replace(xv,Sv);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}r=cv}return new r(i,t)}(e.schema,t),o=e.settings.allowParseErrors&&"html"===e.schema.space?0:1,a=e.settings.allowDangerousCharacters?0:1;let s,l=e.quote;if(!i.overloadedBoolean||n!==i.attribute&&""!==n?!i.boolean&&!i.overloadedBoolean||"string"==typeof n&&n!==i.attribute&&""!==n||(n=Boolean(n)):n=!0,null==n||!1===n||"number"==typeof n&&Number.isNaN(n))return"";const c=jv(i.attribute,Object.assign({},e.settings.characterReferences,{subset:Ay.name[o][a]}));return!0===n?c:(n=Array.isArray(n)?(i.commaSeparated?Yv:Zv)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n?c:(e.settings.preferUnquoted&&(s=jv(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Ay.unquoted[o][a]}))),s!==n&&(e.settings.quoteSmart&&qv(n,l)>qv(n,e.alternative)&&(l=e.alternative),s=l+jv(n,Object.assign({},e.settings.characterReferences,{subset:("'"===l?Ay.single:Ay.double)[o][a],attribute:!0}))+l),c+(s?"="+s:s)))}const Dy=["<","&"];function Oy(e,t,n,i){return!n||"element"!==n.type||"script"!==n.tagName&&"style"!==n.tagName?jv(e.value,Object.assign({},i.settings.characterReferences,{subset:Dy})):e.value}const Ey=function Fy(e,t){const n=t||{};function i(t,...n){let r=i.invalid;const o=i.handlers;if(t&&Tv.call(t,e)){const n=String(t[e]);r=Tv.call(o,n)?o[n]:i.unknown}if(r)return r.call(this,t,...n)}return i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}("type",{invalid:function Ly(e){throw new Error("Expected node, not `"+e+"`")},unknown:function Ry(e){throw new Error("Cannot compile unknown node `"+e.type+"`")},handlers:{comment:function Ny(e,t,n,i){return i.settings.bogusComments?"<?"+jv(e.value,Object.assign({},i.settings.characterReferences,{subset:Uv}))+">":"\x3c!--"+e.value.replace(Gv,function r(e){return jv(e,Object.assign({},i.settings.characterReferences,{subset:Xv}))})+"--\x3e"},doctype:function Py(e,t,n,i){return"<!"+(i.settings.upperDoctype?"DOCTYPE":"doctype")+(i.settings.tightDoctype?"":" ")+"html>"},element:function zy(e,t,n,i){const r=i.schema,o="svg"!==r.space&&i.settings.omitOptionalTags;let a="svg"===r.space?i.settings.closeEmptyElements:i.settings.voids.includes(e.tagName.toLowerCase());const s=[];let l;"html"===r.space&&"svg"===e.tagName&&(i.schema=Cv);const c=function u(e,t){const n=[];let i,r=-1;if(t)for(i in t)if(null!==t[i]&&void 0!==t[i]){const r=Iy(e,i,t[i]);r&&n.push(r)}for(;++r<n.length;){const t=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&'"'!==t&&"'"!==t&&(n[r]+=" ")}return n.join("")}(i,e.properties),h=i.all("html"===r.space&&"template"===e.tagName?e.content:e);return i.schema=r,h&&(a=!1),!c&&o&&wy(e,t,n)||(s.push("<",e.tagName,c?" "+c:""),a&&("svg"===r.space||i.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!i.settings.tightSelfClosing||"/"===l||l&&'"'!==l&&"'"!==l)&&s.push(" "),s.push("/")),s.push(">")),s.push(h),a||o&&ay(e,t,n)||s.push("</"+e.tagName+">"),s.join("")},raw:function By(e,t,n,i){return i.settings.allowDangerousHtml?e.value:Oy(e,0,n,i)},root:function Vy(e,t,n,i){return i.all(e)},text:Oy}});const Hy={},Wy={},$y=[];function jy(e,t){const n=t||Hy,i=n.quote||'"',r='"'===i?"'":'"';if('"'!==i&&"'"!==i)throw new Error("Invalid quote `"+i+"`, expected `'` or `\"`");return{one:Gy,all:Uy,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||Xm,characterReferences:n.characterReferences||Wy,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:"svg"===n.space?Cv:kv,quote:i,alternative:r}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function Gy(e,t,n){return Ey(e,t,n,this)}function Uy(e){const t=[],n=e&&e.children||$y;let i=-1;for(;++i<n.length;)t[i]=this.one(n[i],i,e);return t.join("")}function Xy(e){const t={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),i={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},r={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},o=e.inherit(r,{illegal:/\n/}),a={className:"subst",begin:/\{/,end:/\}/,keywords:t},s=e.inherit(a,{illegal:/\n/}),l={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,s]},c={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},a]},u=e.inherit(c,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]});a.contains=[c,l,r,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,i,e.C_BLOCK_COMMENT_MODE],s.contains=[u,l,o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,i,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const h={variants:[{className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},c,l,r,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},d={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},p=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",f={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},h,i,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+p+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:t,contains:[{beginKeywords:["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"].join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,d],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[h,i,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},f]}}const qy=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video","defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Yy=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Zy=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Ky=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Jy=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Qy(e){const t=e.regex,n=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(e),i=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Zy.join("|")+")"},{begin:":(:)?("+Ky.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Jy.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...i,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...i,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:Yy.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...i,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+qy.join("|")+")\\b"}]}}const eb="[A-Za-z$_][0-9A-Za-z$_]*",tb=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],nb=["true","false","null","undefined","NaN","Infinity"],ib=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],rb=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],ob=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],ab=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],sb=[].concat(ob,ib,rb);function lb(e){const t=e.regex,n=eb,i="<>",r="</>",o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,i=e.input[n];if("<"===i||","===i)return void t.ignoreMatch();let r;">"===i&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const o=e.input.substring(n);((r=o.match(/^\s*=/))||(r=o.match(/^\s+extends\s+/))&&0===r.index)&&t.ignoreMatch()}},a={$pattern:eb,keyword:tb,literal:nb,built_in:sb,"variable.language":ab},s="[0-9](_?[0-9])*",l=`\\.(${s})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},d={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"css"}},f={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,h]},m={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},v=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,p,f,g,{match:/\$\d+/},u];h.contains=v.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(v)});const y=[].concat(m,h.contains),b=y.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(y)}]),x={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b},_={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},w={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ib,...rb]}},S={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[x],illegal:/%/};const M={match:t.concat(/\b/,function k(e){return t.concat("(?!",e.join("|"),")")}([...ob,"super","import"].map(e=>`${e}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},C={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},T={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},x]},A="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",I={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(A)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[x]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:b,CLASS_REFERENCE:w},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,p,f,g,m,{match:/\$\d+/},u,w,{scope:"attr",match:n+t.lookahead(":"),relevance:0},I,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[m,e.REGEXP_MODE,{className:"function",begin:A,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i,end:r},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},S,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[x,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},C,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[x]},M,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},_,T,{match:/\$[(.]/}]}}function cb(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),i=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],r={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:i,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},o={className:"meta",begin:/^(>>>|\.\.\.) /},a={className:"subst",begin:/\{/,end:/\}/,keywords:r,illegal:/#/},s={begin:/\{\{/,relevance:0},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o,s,a]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,s,a]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",u=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,h=`\\b|${i.join("|")}`,d={className:"number",relevance:0,variants:[{begin:`(\\b(${c})|(${u}))[eE][+-]?(${c})[jJ]?(?=${h})`},{begin:`(${u})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${h})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${h})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${h})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${h})`},{begin:`\\b(${c})[jJ](?=${h})`}]},p={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:r,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},f={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:r,contains:["self",o,d,l,e.HASH_COMMENT_MODE]}]};return a.contains=[l,d,o],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:r,illegal:/(<\/|\?)|=>/,contains:[o,d,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},l,p,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[f]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[d,f,l]}]}}const ub="[A-Za-z$_][0-9A-Za-z$_]*",hb=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],db=["true","false","null","undefined","NaN","Infinity"],pb=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],fb=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],gb=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],mb=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],vb=[].concat(gb,pb,fb);function yb(e){const t=e.regex,n=function i(e){const t=e.regex,n=ub,i="<>",r="</>",o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,i=e.input[n];if("<"===i||","===i)return void t.ignoreMatch();let r;">"===i&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const o=e.input.substring(n);((r=o.match(/^\s*=/))||(r=o.match(/^\s+extends\s+/))&&0===r.index)&&t.ignoreMatch()}},a={$pattern:ub,keyword:hb,literal:db,built_in:vb,"variable.language":mb},s="[0-9](_?[0-9])*",l=`\\.(${s})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},d={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"css"}},f={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,h]},m={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},v=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,p,f,g,{match:/\$\d+/},u];h.contains=v.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(v)});const y=[].concat(m,h.contains),b=y.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(y)}]),x={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b},_={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},w={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...pb,...fb]}},S={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[x],illegal:/%/},M={match:t.concat(/\b/,function k(e){return t.concat("(?!",e.join("|"),")")}([...gb,"super","import"].map(e=>`${e}\\s*\\(`)),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},C={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},T={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},x]},A="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",I={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(A)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[x]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:b,CLASS_REFERENCE:w},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,p,f,g,m,{match:/\$\d+/},u,w,{scope:"attr",match:n+t.lookahead(":"),relevance:0},I,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[m,e.REGEXP_MODE,{className:"function",begin:A,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i,end:r},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},S,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[x,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},C,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[x]},M,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},_,T,{match:/\$[(.]/}]}}(e),r=ub,o=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:o},contains:[n.exports.CLASS_REFERENCE]},l={$pattern:ub,keyword:hb.concat(["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"]),literal:db,built_in:vb.concat(o),"variable.language":mb},c={className:"meta",begin:"@"+r},u=(e,t,n)=>{const i=e.contains.findIndex(e=>e.label===t);if(-1===i)throw new Error("can not find mode to replace");e.contains.splice(i,1,n)};Object.assign(n.keywords,l),n.exports.PARAMS_CONTAINS.push(c);const h=n.contains.find(e=>"attr"===e.scope),d=Object.assign({},h,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,h,d]),n.contains=n.contains.concat([c,a,s,d]),u(n,"shebang",e.SHEBANG()),u(n,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/});return n.contains.find(e=>"func.def"===e.label).relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function bb(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},r={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(r,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),s=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[r,s,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[r,o,s,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[s]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function xb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _b,wb;function Sb(){if(wb)return _b;function e(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(n=>{const i=t[n],r=typeof i;"object"!==r&&"function"!==r||Object.isFrozen(i)||e(i)}),t}wb=1;class t{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function i(e,...t){const n=Object.create(null);for(const i in e)n[i]=e[i];return t.forEach(function(e){for(const t in e)n[t]=e[t]}),n}const r=e=>!!e.scope;class o{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=n(e)}openNode(e){if(!r(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){r(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const a=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class s{constructor(){this.rootNode=a(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=a({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{s._collapse(e)}))}}class l extends s{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new o(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function c(e){return e?"string"==typeof e?e:e.source:null}function u(e){return p("(?=",e,")")}function h(e){return p("(?:",e,")*")}function d(e){return p("(?:",e,")?")}function p(...e){return e.map(e=>c(e)).join("")}function f(...e){const t=function n(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map(e=>c(e)).join("|")+")"}function g(e){return new RegExp(e.toString()+"|").exec("").length-1}const m=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function v(e,{joinWith:t}){let n=0;return e.map(e=>{n+=1;const t=n;let i=c(e),r="";for(;i.length>0;){const e=m.exec(i);if(!e){r+=i;break}r+=i.substring(0,e.index),i=i.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?r+="\\"+String(Number(e[1])+t):(r+=e[0],"("===e[0]&&n++)}return r}).map(e=>`(${e})`).join(t)}const y="[a-zA-Z]\\w*",b="[a-zA-Z_]\\w*",x="\\b\\d+(\\.\\d+)?",_="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",w="\\b(0b[01]+)",S={begin:"\\\\[\\s\\S]",relevance:0},M={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[S]},k={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[S]},C=function(e,t,n={}){const r=i({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=f("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:p(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},T=C("//","$"),A=C("/\\*","\\*/"),I=C("#","$"),D={scope:"number",begin:x,relevance:0},O={scope:"number",begin:_,relevance:0},E={scope:"number",begin:w,relevance:0},L={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[S,{begin:/\[/,end:/\]/,relevance:0,contains:[S]}]},R={scope:"title",begin:y,relevance:0},N={scope:"title",begin:b,relevance:0},P={begin:"\\.\\s*"+b,relevance:0};var z=Object.freeze({__proto__:null,APOS_STRING_MODE:M,BACKSLASH_ESCAPE:S,BINARY_NUMBER_MODE:E,BINARY_NUMBER_RE:w,COMMENT:C,C_BLOCK_COMMENT_MODE:A,C_LINE_COMMENT_MODE:T,C_NUMBER_MODE:O,C_NUMBER_RE:_,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:I,IDENT_RE:y,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:P,NUMBER_MODE:D,NUMBER_RE:x,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:k,REGEXP_MODE:L,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=p(t,/.*\b/,e.binary,/\b.*/)),i({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:R,UNDERSCORE_IDENT_RE:b,UNDERSCORE_TITLE_MODE:N});function B(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function V(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function F(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=B,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function H(e,t){Array.isArray(e.illegal)&&(e.illegal=f(...e.illegal))}function W(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function $(e,t){void 0===e.relevance&&(e.relevance=1)}const j=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=p(n.beforeMatch,u(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},G=["of","and","for","in","not","or","if","then","parent","list","value"];function U(e,t,n="keyword"){const i=Object.create(null);return"string"==typeof e?r(n,e.split(" ")):Array.isArray(e)?r(n,e):Object.keys(e).forEach(function(n){Object.assign(i,U(e[n],t,n))}),i;function r(e,n){t&&(n=n.map(e=>e.toLowerCase())),n.forEach(function(t){const n=t.split("|");i[n[0]]=[e,X(n[0],n[1])]})}}function X(e,t){return t?Number(t):function n(e){return G.includes(e.toLowerCase())}(e)?0:1}const q={},Y=(e,t)=>{q[`${e}/${t}`]||(q[`${e}/${t}`]=!0)},Z=new Error;function K(e,t,{key:n}){let i=0;const r=e[n],o={},a={};for(let s=1;s<=t.length;s++)a[s+i]=r[s],o[s+i]=!0,i+=g(t[s-1]);e[n]=a,e[n]._emit=o,e[n]._multi=!0}function J(e){!function t(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function n(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Z;if("object"!=typeof e.beginScope||null===e.beginScope)throw Z;K(e,e.begin,{key:"beginScope"}),e.begin=v(e.begin,{joinWith:""})}}(e),function i(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Z;if("object"!=typeof e.endScope||null===e.endScope)throw Z;K(e,e.end,{key:"endScope"}),e.end=v(e.end,{joinWith:""})}}(e)}function Q(e){function t(t,n){return new RegExp(c(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=g(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(v(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),i=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,i)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=i(e.classNameAliases||{}),function n(o,a){const s=o;if(o.isCompiled)return s;[V,W,J,j].forEach(e=>e(o,a)),e.compilerExtensions.forEach(e=>e(o,a)),o.__beforeBegin=null,[F,H,$].forEach(e=>e(o,a)),o.isCompiled=!0;let l=null;return"object"==typeof o.keywords&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),l=o.keywords.$pattern,delete o.keywords.$pattern),l=l||/\w+/,o.keywords&&(o.keywords=U(o.keywords,e.case_insensitive)),s.keywordPatternRe=t(l,!0),a&&(o.begin||(o.begin=/\B|\b/),s.beginRe=t(s.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(s.endRe=t(s.end)),s.terminatorEnd=c(s.end)||"",o.endsWithParent&&a.terminatorEnd&&(s.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(s.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(e){return function t(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return i(e,{variants:null},t)}));if(e.cachedVariants)return e.cachedVariants;if(ee(e))return i(e,{starts:e.starts?i(e.starts):null});if(Object.isFrozen(e))return i(e);return e}("self"===e?o:e)})),o.contains.forEach(function(e){n(e,s)}),o.starts&&n(o.starts,a),s.matcher=function u(e){const t=new r;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(s),s}(e)}function ee(e){return!!e&&(e.endsWithParent||ee(e.starts))}class te extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const ne=n,ie=i,re=Symbol("nomatch"),oe=function(n){const i=Object.create(null),r=Object.create(null),o=[];let a=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let g={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:l};function m(e){return g.noHighlightRe.test(e)}function v(e,t,n){let i="",r="";"object"==typeof t?(i=e,n=t.ignoreIllegals,r=t.language):(Y("10.7.0","highlight(lang, code, ...args) has been deprecated."),Y("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=e,i=t),void 0===n&&(n=!0);const o={code:i,language:r};C("before:highlight",o);const a=o.result?o.result:y(o.language,o.code,n);return a.code=o.code,C("after:highlight",a),a}function y(e,n,r,o){const l=Object.create(null);function c(e,t){return e.keywords[t]}function u(){if(!T.keywords)return void I.addText(O);let e=0;T.keywordPatternRe.lastIndex=0;let t=T.keywordPatternRe.exec(O),n="";for(;t;){n+=O.substring(e,t.index);const i=M.case_insensitive?t[0].toLowerCase():t[0],r=c(T,i);if(r){const[e,o]=r;if(I.addText(n),n="",l[i]=(l[i]||0)+1,l[i]<=7&&(E+=o),e.startsWith("_"))n+=t[0];else{const n=M.classNameAliases[e]||e;d(t[0],n)}}else n+=t[0];e=T.keywordPatternRe.lastIndex,t=T.keywordPatternRe.exec(O)}n+=O.substring(e),I.addText(n)}function h(){null!=T.subLanguage?function e(){if(""===O)return;let e=null;if("string"==typeof T.subLanguage){if(!i[T.subLanguage])return void I.addText(O);e=y(T.subLanguage,O,!0,A[T.subLanguage]),A[T.subLanguage]=e._top}else e=b(O,T.subLanguage.length?T.subLanguage:null);T.relevance>0&&(E+=e.relevance),I.__addSublanguage(e._emitter,e.language)}():u(),O=""}function d(e,t){""!==e&&(I.startScope(t),I.addText(e),I.endScope())}function p(e,t){let n=1;const i=t.length-1;for(;n<=i;){if(!e._emit[n]){n++;continue}const i=M.classNameAliases[e[n]]||e[n],r=t[n];i?d(r,i):(O=r,u(),O=""),n++}}function f(e,t){return e.scope&&"string"==typeof e.scope&&I.openNode(M.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(d(O,M.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),O=""):e.beginScope._multi&&(p(e.beginScope,t),O="")),T=Object.create(e,{parent:{value:T}}),T}function m(e,n,i){let r=function o(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,i);if(r){if(e["on:end"]){const i=new t(e);e["on:end"](n,i),i.isMatchIgnored&&(r=!1)}if(r){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return m(e.parent,n,i)}function v(e){return 0===T.matcher.regexIndex?(O+=e[0],1):(N=!0,0)}function x(e){const t=e[0],i=n.substring(e.index),r=m(T,e,i);if(!r)return re;const o=T;T.endScope&&T.endScope._wrap?(h(),d(t,T.endScope._wrap)):T.endScope&&T.endScope._multi?(h(),p(T.endScope,e)):o.skip?O+=t:(o.returnEnd||o.excludeEnd||(O+=t),h(),o.excludeEnd&&(O=t));do{T.scope&&I.closeNode(),T.skip||T.subLanguage||(E+=T.relevance),T=T.parent}while(T!==r.parent);return r.starts&&f(r.starts,e),o.returnEnd?0:t.length}let _={};function w(i,o){const s=o&&o[0];if(O+=i,null==s)return h(),0;if("begin"===_.type&&"end"===o.type&&_.index===o.index&&""===s){if(O+=n.slice(o.index,o.index+1),!a){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=_.rule,t}return 1}if(_=o,"begin"===o.type)return function l(e){const n=e[0],i=e.rule,r=new t(i),o=[i.__beforeBegin,i["on:begin"]];for(const t of o)if(t&&(t(e,r),r.isMatchIgnored))return v(n);return i.skip?O+=n:(i.excludeBegin&&(O+=n),h(),i.returnBegin||i.excludeBegin||(O=n)),f(i,e),i.returnBegin?0:n.length}(o);if("illegal"===o.type&&!r){const e=new Error('Illegal lexeme "'+s+'" for mode "'+(T.scope||"<unnamed>")+'"');throw e.mode=T,e}if("end"===o.type){const e=x(o);if(e!==re)return e}if("illegal"===o.type&&""===s)return O+="\n",1;if(R>1e5&&R>3*o.index){throw new Error("potential infinite loop, way more iterations than matches")}return O+=s,s.length}const M=S(e);if(!M)throw s.replace("{}",e),new Error('Unknown language: "'+e+'"');const k=Q(M);let C="",T=o||k;const A={},I=new g.__emitter(g);!function D(){const e=[];for(let t=T;t!==M;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>I.openNode(e))}();let O="",E=0,L=0,R=0,N=!1;try{if(M.__emitTokens)M.__emitTokens(n,I);else{for(T.matcher.considerAll();;){R++,N?N=!1:T.matcher.considerAll(),T.matcher.lastIndex=L;const e=T.matcher.exec(n);if(!e)break;const t=w(n.substring(L,e.index),e);L=e.index+t}w(n.substring(L))}return I.finalize(),C=I.toHTML(),{language:e,value:C,relevance:E,illegal:!1,_emitter:I,_top:T}}catch(P){if(P.message&&P.message.includes("Illegal"))return{language:e,value:ne(n),illegal:!0,relevance:0,_illegalBy:{message:P.message,index:L,context:n.slice(L-100,L+100),mode:P.mode,resultSoFar:C},_emitter:I};if(a)return{language:e,value:ne(n),illegal:!1,relevance:0,errorRaised:P,_emitter:I,_top:T};throw P}}function b(e,t){t=t||g.languages||Object.keys(i);const n=function r(e){const t={value:ne(e),illegal:!1,relevance:0,_top:c,_emitter:new g.__emitter(g)};return t._emitter.addText(e),t}(e),o=t.filter(S).filter(k).map(t=>y(t,e,!1));o.unshift(n);const a=o.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(S(e.language).supersetOf===t.language)return 1;if(S(t.language).supersetOf===e.language)return-1}return 0}),[s,l]=a,u=s;return u.secondBest=l,u}function x(e){let t=null;const n=function i(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=g.languageDetectRe.exec(t);if(n){const e=S(n[1]);return e||s.replace("{}",n[1]),e?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>m(e)||S(e))}(e);if(m(n))return;if(C("before:highlightElement",{el:e,language:n}),e.dataset.highlighted)return;if(e.children.length>0&&(g.ignoreUnescapedHTML,g.throwUnescapedHTML)){throw new te("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const o=t.textContent,a=n?v(o,{language:n,ignoreIllegals:!0}):b(o);e.innerHTML=a.value,e.dataset.highlighted="yes",function l(e,t,n){const i=t&&r[t]||n;e.classList.add("hljs"),e.classList.add(`language-${i}`)}(e,n,a.language),e.result={language:a.language,re:a.relevance,relevance:a.relevance},a.secondBest&&(e.secondBest={language:a.secondBest.language,relevance:a.secondBest.relevance}),C("after:highlightElement",{el:e,result:a,text:o})}let _=!1;function w(){if("loading"===document.readyState)return _||window.addEventListener("DOMContentLoaded",function e(){w()},!1),void(_=!0);document.querySelectorAll(g.cssSelector).forEach(x)}function S(e){return e=(e||"").toLowerCase(),i[e]||i[r[e]]}function M(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{r[e.toLowerCase()]=t})}function k(e){const t=S(e);return t&&!t.disableAutodetect}function C(e,t){const n=e;o.forEach(function(e){e[n]&&e[n](t)})}Object.assign(n,{highlight:v,highlightAuto:b,highlightAll:w,highlightElement:x,highlightBlock:function T(e){return Y("10.7.0","highlightBlock will be removed entirely in v12.0"),Y("10.7.0","Please use highlightElement now."),x(e)},configure:function A(e){g=ie(g,e)},initHighlighting:()=>{w(),Y("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function I(){w(),Y("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function D(e,t){let r=null;try{r=t(n)}catch(o){if("Language definition for '{}' could not be registered.".replace("{}",e),!a)throw o;r=c}r.name||(r.name=e),i[e]=r,r.rawDefinition=t.bind(null,n),r.aliases&&M(r.aliases,{languageName:e})},unregisterLanguage:function O(e){delete i[e];for(const t of Object.keys(r))r[t]===e&&delete r[t]},listLanguages:function E(){return Object.keys(i)},getLanguage:S,registerAliases:M,autoDetection:k,inherit:ie,addPlugin:function L(e){!function t(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),o.push(e)},removePlugin:function R(e){const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}),n.debugMode=function(){a=!1},n.safeMode=function(){a=!0},n.versionString="11.11.1",n.regex={concat:p,lookahead:u,either:f,optional:d,anyNumberOfTimes:h};for(const t in z)"object"==typeof z[t]&&e(z[t]);return Object.assign(n,z),n},ae=oe({});return ae.newInstance=()=>oe({}),_b=ae,ae.HighlightJS=ae,ae.default=ae,_b}const Mb=xb(Sb()),kb={};function Cb(e){const t=Mb.newInstance();return e&&s(e),{highlight:o,highlightAuto:function n(e,i){const r=(i||kb).subset||a();let s,l=-1,c=0;for(;++l<r.length;){const n=r[l];if(!t.getLanguage(n))continue;const a=o(n,e,i);a.data&&void 0!==a.data.relevance&&a.data.relevance>c&&(c=a.data.relevance,s=a)}return s||{type:"root",children:[],data:{language:void 0,relevance:c}}},listLanguages:a,register:s,registerAlias:function i(e,n){if("string"==typeof e)t.registerAliases("string"==typeof n?n:[...n],{languageName:e});else{let n;for(n in e)if(Object.hasOwn(e,n)){const i=e[n];t.registerAliases("string"==typeof i?i:[...i],{languageName:n})}}},registered:function r(e){return Boolean(t.getLanguage(e))}};function o(e,n,i){const r=i||kb,o="string"==typeof r.prefix?r.prefix:"hljs-";if(!t.getLanguage(e))throw new Error("Unknown language: `"+e+"` is not registered");t.configure({__emitter:Tb,classPrefix:o});const a=t.highlight(n,{ignoreIllegals:!0,language:e});if(a.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:a.errorRaised});const s=a._emitter.root,l=s.data;return l.language=a.language,l.relevance=a.relevance,s}function a(){return t.listLanguages()}function s(e,n){if("string"==typeof e)t.registerLanguage(e,n);else{let n;for(n in e)Object.hasOwn(e,n)&&t.registerLanguage(n,e[n])}}}class Tb{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(""===e)return;const t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type?n.value+=e:t.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,t){const n=this.stack[this.stack.length-1],i=e.root.children;t?n.children.push({type:"element",tagName:"span",properties:{className:[t]},children:i}):n.children.push(...i)}openNode(e){const t=this,n=e.split(".").map(function(e,n){return n?e+"_".repeat(n):t.options.classPrefix+e}),i={type:"element",tagName:"span",properties:{className:n},children:[]};this.stack[this.stack.length-1].children.push(i),this.stack.push(i)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}function Ab(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ib={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Db(e){Ib=e}var Ob={exec:()=>null};function Eb(e,t=""){let n="string"==typeof e?e:e.source,i={replace:(e,t)=>{let r="string"==typeof t?t:t.source;return r=r.replace(Rb.caret,"$1"),n=n.replace(e,r),i},getRegex:()=>new RegExp(n,t)};return i}var Lb=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Rb={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Nb=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Pb=/(?:[*+-]|\d{1,9}[.)])/,zb=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Bb=Eb(zb).replace(/bull/g,Pb).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Vb=Eb(zb).replace(/bull/g,Pb).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Fb=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Hb=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Wb=Eb(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Hb).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$b=Eb(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Pb).getRegex(),jb="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Gb=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ub=Eb("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",Gb).replace("tag",jb).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Xb=Eb(Fb).replace("hr",Nb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",jb).getRegex(),qb={blockquote:Eb(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Xb).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:Wb,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Nb,html:Ub,lheading:Bb,list:$b,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:Xb,table:Ob,text:/^[^\n]+/},Yb=Eb("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Nb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",jb).getRegex(),Zb={...qb,lheading:Vb,table:Yb,paragraph:Eb(Fb).replace("hr",Nb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Yb).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",jb).getRegex()},Kb={...qb,html:Eb("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Gb).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ob,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Eb(Fb).replace("hr",Nb).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Bb).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Jb=/^( {2,}|\\)\n(?!\s*$)/,Qb=/[\p{P}\p{S}]/u,ex=/[\s\p{P}\p{S}]/u,tx=/[^\s\p{P}\p{S}]/u,nx=Eb(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ex).getRegex(),ix=/(?!~)[\p{P}\p{S}]/u,rx=Eb(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Lb?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ox=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ax=Eb(ox,"u").replace(/punct/g,Qb).getRegex(),sx=Eb(ox,"u").replace(/punct/g,ix).getRegex(),lx="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",cx=Eb(lx,"gu").replace(/notPunctSpace/g,tx).replace(/punctSpace/g,ex).replace(/punct/g,Qb).getRegex(),ux=Eb(lx,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,ix).getRegex(),hx=Eb("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,tx).replace(/punctSpace/g,ex).replace(/punct/g,Qb).getRegex(),dx=Eb(/\\(punct)/,"gu").replace(/punct/g,Qb).getRegex(),px=Eb(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),fx=Eb(Gb).replace("(?:--\x3e|$)","--\x3e").getRegex(),gx=Eb("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",fx).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),mx=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,vx=Eb(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",mx).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),yx=Eb(/^!?\[(label)\]\[(ref)\]/).replace("label",mx).replace("ref",Hb).getRegex(),bx=Eb(/^!?\[(ref)\](?:\[\])?/).replace("ref",Hb).getRegex(),xx=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,_x={_backpedal:Ob,anyPunctuation:dx,autolink:px,blockSkip:rx,br:Jb,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Ob,emStrongLDelim:ax,emStrongRDelimAst:cx,emStrongRDelimUnd:hx,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:vx,nolink:bx,punctuation:nx,reflink:yx,reflinkSearch:Eb("reflink|nolink(?!\\()","g").replace("reflink",yx).replace("nolink",bx).getRegex(),tag:gx,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Ob},Sx={..._x,link:Eb(/^!?\[(label)\]\((.*?)\)/).replace("label",mx).getRegex(),reflink:Eb(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",mx).getRegex()},Mx={..._x,emStrongRDelimAst:ux,emStrongLDelim:sx,url:Eb(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",xx).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Eb(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",xx).getRegex()},kx={...Mx,br:Eb(Jb).replace("{2,}","*").getRegex(),text:Eb(Mx.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Cx={normal:qb,gfm:Zb,pedantic:Kb},Tx={normal:_x,gfm:Mx,breaks:kx,pedantic:Sx},Ax={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ix=e=>Ax[e];function Dx(e,t){if(t){if(Rb.escapeTest.test(e))return e.replace(Rb.escapeReplace,Ix)}else if(Rb.escapeTestNoEncode.test(e))return e.replace(Rb.escapeReplaceNoEncode,Ix);return e}function Ox(e){try{e=encodeURI(e).replace(Rb.percentDecode,"%")}catch{return null}return e}function Ex(e,t){let n=e.replace(Rb.findPipe,(e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"}).split(Rb.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(Rb.slashPipe,"|");return n}function Lx(e,t,n){let i=e.length;if(0===i)return"";let r=0;for(;r<i;){if(e.charAt(i-r-1)!==t)break;r++}return e.slice(0,i-r)}function Rx(e,t,n,i,r){let o=t.href,a=t.title||null,s=e[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:o,title:a,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,l}var Nx=class e{options;rules;lexer;constructor(e){this.options=e||Ib}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Lx(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function i(e,t,n){let i=e.match(n.other.indentCodeCompensation);if(null===i)return t;let r=i[1];return t.split("\n").map(e=>{let t=e.match(n.other.beginningSpace);if(null===t)return e;let[i]=t;return i.length>=r.length?e.slice(r.length):e}).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){let t=Lx(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Lx(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=Lx(t[0],"\n").split("\n"),n="",i="",r=[];for(;e.length>0;){let t,o=!1,a=[];for(t=0;t<e.length;t++)if(this.rules.other.blockquoteStart.test(e[t]))a.push(e[t]),o=!0;else{if(o)break;a.push(e[t])}e=e.slice(t);let s=a.join("\n"),l=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,i=i?`${i}\n${l}`:l;let c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,r,!0),this.lexer.state.top=c,0===e.length)break;let u=r.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){let t=u,o=t.raw+"\n"+e.join("\n"),a=this.blockquote(o);r[r.length-1]=a,n=n.substring(0,n.length-t.raw.length)+a.raw,i=i.substring(0,i.length-t.text.length)+a.text;break}if("list"===u?.type){let t=u,o=t.raw+"\n"+e.join("\n"),a=this.list(o);r[r.length-1]=a,n=n.substring(0,n.length-u.raw.length)+a.raw,i=i.substring(0,i.length-t.raw.length)+a.raw,e=o.substring(r.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:n,tokens:r,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),i=n.length>1,r={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let o=this.rules.other.listItemRegex(n),a=!1;for(;e;){let n=!1,i="",s="";if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;i=t[0],e=e.substring(i.length);let l=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,e=>" ".repeat(3*e.length)),c=e.split("\n",1)[0],u=!l.trim(),h=0;if(this.options.pedantic?(h=2,s=l.trimStart()):u?h=t[1].length+1:(h=t[2].search(this.rules.other.nonSpaceChar),h=h>4?1:h,s=l.slice(h),h+=t[1].length),u&&this.rules.other.blankLine.test(c)&&(i+=c+"\n",e=e.substring(c.length+1),n=!0),!n){let t=this.rules.other.nextBulletRegex(h),n=this.rules.other.hrRegex(h),r=this.rules.other.fencesBeginRegex(h),o=this.rules.other.headingBeginRegex(h),a=this.rules.other.htmlBeginRegex(h);for(;e;){let d,p=e.split("\n",1)[0];if(c=p,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),d=c):d=c.replace(this.rules.other.tabCharGlobal,"    "),r.test(c)||o.test(c)||a.test(c)||t.test(c)||n.test(c))break;if(d.search(this.rules.other.nonSpaceChar)>=h||!c.trim())s+="\n"+d.slice(h);else{if(u||l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||r.test(l)||o.test(l)||n.test(l))break;s+="\n"+c}!u&&!c.trim()&&(u=!0),i+=p+"\n",e=e.substring(p.length+1),l=d.slice(h)}}r.loose||(a?r.loose=!0:this.rules.other.doubleBlankLine.test(i)&&(a=!0)),r.items.push({type:"list_item",raw:i,task:!!this.options.gfm&&this.rules.other.listIsTask.test(s),loose:!1,text:s,tokens:[]}),r.raw+=i}let s=r.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),r.raw=r.raw.trimEnd();for(let e of r.items){if(this.lexer.state.top=!1,e.tokens=this.lexer.blockTokens(e.text,[]),e.task){if(e.text=e.text.replace(this.rules.other.listReplaceTask,""),"text"===e.tokens[0]?.type||"paragraph"===e.tokens[0]?.type){e.tokens[0].raw=e.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),e.tokens[0].text=e.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let e=this.lexer.inlineQueue.length-1;e>=0;e--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[e].src)){this.lexer.inlineQueue[e].src=this.lexer.inlineQueue[e].src.replace(this.rules.other.listReplaceTask,"");break}}let t=this.rules.other.listTaskCheckbox.exec(e.raw);if(t){let n={type:"checkbox",raw:t[0]+" ",checked:"[ ]"!==t[0]};e.checked=n.checked,r.loose?e.tokens[0]&&["paragraph","text"].includes(e.tokens[0].type)&&"tokens"in e.tokens[0]&&e.tokens[0].tokens?(e.tokens[0].raw=n.raw+e.tokens[0].raw,e.tokens[0].text=n.raw+e.tokens[0].text,e.tokens[0].tokens.unshift(n)):e.tokens.unshift({type:"paragraph",raw:n.raw,text:n.raw,tokens:[n]}):e.tokens.unshift(n)}}if(!r.loose){let t=e.tokens.filter(e=>"space"===e.type),n=t.length>0&&t.some(e=>this.rules.other.anyLine.test(e.raw));r.loose=n}}if(r.loose)for(let e of r.items){e.loose=!0;for(let t of e.tokens)"text"===t.type&&(t.type="paragraph")}return r}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=Ex(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let e of i)this.rules.other.tableAlignRight.test(e)?o.align.push("right"):this.rules.other.tableAlignCenter.test(e)?o.align.push("center"):this.rules.other.tableAlignLeft.test(e)?o.align.push("left"):o.align.push(null);for(let e=0;e<n.length;e++)o.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:o.align[e]});for(let e of r)o.rows.push(Ex(e,o.header.length).map((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:o.align[t]})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let t=Lx(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function n(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let i=0;i<e.length;i++)if("\\"===e[i])i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){let e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),Rx(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Rx(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!i[1]&&!i[2]||!n||this.rules.inline.punctuation.exec(n))){let n,r,o=[...i[0]].length-1,a=o,s=0,l="*"===i[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+o);null!=(i=l.exec(t));){if(n=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!n)continue;if(r=[...n].length,i[3]||i[4]){a+=r;continue}if((i[5]||i[6])&&o%3&&!((o+r)%3)){s+=r;continue}if(a-=r,a>0)continue;r=Math.min(r,r+a+s);let t=[...i[0]][0].length,l=e.slice(0,o+i.index+t+r);if(Math.min(o,r)%2){let e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}let c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(e),i=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&i&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let i;do{i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(i!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}},Px=class e{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ib,this.options.tokenizer=this.options.tokenizer||new Nx,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:Rb,block:Cx.normal,inline:Tx.normal};this.options.pedantic?(t.block=Cx.pedantic,t.inline=Tx.pedantic):this.options.gfm&&(t.block=Cx.gfm,this.options.breaks?t.inline=Tx.breaks:t.inline=Tx.gfm),this.tokenizer.rules=t}static get rules(){return{block:Cx,inline:Tx}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){e=e.replace(Rb.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(Rb.tabCharGlobal,"    ").replace(Rb.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(n=>!!(i=n.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let n=t.at(-1);1===i.raw.length&&void 0!==n?n.raw+="\n":t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+i.raw,n.text+="\n"+i.text,this.inlineQueue.at(-1).src=n.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+i.raw,n.text+="\n"+i.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},t.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}let r=e;if(this.options.extensions?.startBlock){let t,n=1/0,i=e.slice(1);this.options.extensions.startBlock.forEach(e=>{t=e.call({lexer:this},i),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(r=e.substring(0,n+1))}if(this.state.top&&(i=this.tokenizer.paragraph(r))){let o=t.at(-1);n&&"paragraph"===o?.type?(o.raw+=(o.raw.endsWith("\n")?"":"\n")+i.raw,o.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):t.push(i),n=r.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let n=t.at(-1);"text"===n?.type?(n.raw+=(n.raw.endsWith("\n")?"":"\n")+i.raw,n.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(i);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i=e,r=null;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(i));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(i));)i=i.slice(0,r.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(i));)n=r[2]?r[2].length:0,i=i.slice(0,r.index+n)+"["+"a".repeat(r[0].length-n-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let o=!1,a="";for(;e;){let n;if(o||(a=""),o=!1,this.options.extensions?.inline?.some(i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))continue;if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length);let i=t.at(-1);"text"===n.type&&"text"===i?.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,i,a)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}let r=e;if(this.options.extensions?.startInline){let t,n=1/0,i=e.slice(1);this.options.extensions.startInline.forEach(e=>{t=e.call({lexer:this},i),"number"==typeof t&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(r=e.substring(0,n+1))}if(n=this.tokenizer.inlineText(r)){e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),o=!0;let i=t.at(-1);"text"===i?.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent)break;throw new Error(t)}}return t}},zx=class e{options;parser;constructor(e){this.options=e||Ib}space(e){return""}code({text:e,lang:t,escaped:n}){let i=(t||"").match(Rb.notSpaceStart)?.[0],r=e.replace(Rb.endingNewline,"")+"\n";return i?'<pre><code class="language-'+Dx(i)+'">'+(n?r:Dx(r,!0))+"</code></pre>\n":"<pre><code>"+(n?r:Dx(r,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,i="";for(let o=0;o<e.items.length;o++){let t=e.items[o];i+=this.listitem(t)}let r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+i+"</"+r+">\n"}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let r=0;r<e.header.length;r++)n+=this.tablecell(e.header[r]);t+=this.tablerow({text:n});let i="";for(let r=0;r<e.rows.length;r++){let t=e.rows[r];n="";for(let e=0;e<t.length;e++)n+=this.tablecell(t[e]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+i+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Dx(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let i=this.parser.parseInline(n),r=Ox(e);if(null===r)return i;let o='<a href="'+(e=r)+'"';return t&&(o+=' title="'+Dx(t)+'"'),o+=">"+i+"</a>",o}image({href:e,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let r=Ox(e);if(null===r)return Dx(n);let o=`<img src="${e=r}" alt="${n}"`;return t&&(o+=` title="${Dx(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Dx(e.text)}},Bx=class e{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},Vx=class e{options;renderer;textRenderer;constructor(e){this.options=e||Ib,this.options.renderer=this.options.renderer||new zx,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Bx}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e){let t="";for(let n=0;n<e.length;n++){let i=e[n];if(this.options.extensions?.renderers?.[i.type]){let e=i,n=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==n||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(e.type)){t+=n||"";continue}}let r=i;switch(r.type){case"space":t+=this.renderer.space(r);break;case"hr":t+=this.renderer.hr(r);break;case"heading":t+=this.renderer.heading(r);break;case"code":t+=this.renderer.code(r);break;case"table":t+=this.renderer.table(r);break;case"blockquote":t+=this.renderer.blockquote(r);break;case"list":t+=this.renderer.list(r);break;case"checkbox":t+=this.renderer.checkbox(r);break;case"html":t+=this.renderer.html(r);break;case"def":t+=this.renderer.def(r);break;case"paragraph":t+=this.renderer.paragraph(r);break;case"text":t+=this.renderer.text(r);break;default:{let e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return t}parseInline(e,t=this.renderer){let n="";for(let i=0;i<e.length;i++){let r=e[i];if(this.options.extensions?.renderers?.[r.type]){let e=this.options.extensions.renderers[r.type].call({parser:this},r);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){n+=e||"";continue}}let o=r;switch(o.type){case"escape":case"text":n+=t.text(o);break;case"html":n+=t.html(o);break;case"link":n+=t.link(o);break;case"image":n+=t.image(o);break;case"checkbox":n+=t.checkbox(o);break;case"strong":n+=t.strong(o);break;case"em":n+=t.em(o);break;case"codespan":n+=t.codespan(o);break;case"br":n+=t.br(o);break;case"del":n+=t.del(o);break;default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent)return"";throw new Error(e)}}}return n}},Fx=class e{options;block;constructor(e){this.options=e||Ib}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Px.lex:Px.lexInline}provideParser(){return this.block?Vx.parse:Vx.parseInline}},Hx=new class e{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Vx;Renderer=zx;TextRenderer=Bx;Lexer=Px;Tokenizer=Nx;Hooks=Fx;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":{let e=i;for(let i of e.header)n=n.concat(this.walkTokens(i.tokens,t));for(let i of e.rows)for(let e of i)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{let e=i;n=n.concat(this.walkTokens(e.items,t));break}default:{let e=i;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach(i=>{let r=e[i].flat(1/0);n=n.concat(this.walkTokens(r,t))}):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(e=>{let n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){let n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let i=e.renderer.apply(this,t);return!1===i&&(i=n.apply(this,t)),i}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");let n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=this.defaults.renderer||new zx(this.defaults);for(let n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let i=n,r=e.renderer[i],o=t[i];t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=o.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){let t=this.defaults.tokenizer||new Nx(this.defaults);for(let n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let i=n,r=e.tokenizer[i],o=t[i];t[i]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){let t=this.defaults.hooks||new Fx;for(let n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let i=n,r=e.hooks[i],o=t[i];Fx.passThroughHooks.has(n)?t[i]=e=>{if(this.defaults.async&&Fx.passThroughHooksRespectAsync.has(n))return(async()=>{let n=await r.call(t,e);return o.call(t,n)})();let i=r.call(t,e);return o.call(t,i)}:t[i]=(...e)=>{if(this.defaults.async)return(async()=>{let n=await r.apply(t,e);return!1===n&&(n=await o.apply(t,e)),n})();let n=r.apply(t,e);return!1===n&&(n=o.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){let t=this.defaults.walkTokens,i=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(i.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Px.lex(e,t??this.defaults)}parser(e,t){return Vx.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let i={...n},r={...this.defaults,...i},o=this.onError(!!r.silent,!!r.async);if(!0===this.defaults.async&&!1===i.async)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=e),r.async)return(async()=>{let n=r.hooks?await r.hooks.preprocess(t):t,i=await(r.hooks?await r.hooks.provideLexer():e?Px.lex:Px.lexInline)(n,r),o=r.hooks?await r.hooks.processAllTokens(i):i;r.walkTokens&&await Promise.all(this.walkTokens(o,r.walkTokens));let a=await(r.hooks?await r.hooks.provideParser():e?Vx.parse:Vx.parseInline)(o,r);return r.hooks?await r.hooks.postprocess(a):a})().catch(o);try{r.hooks&&(t=r.hooks.preprocess(t));let n=(r.hooks?r.hooks.provideLexer():e?Px.lex:Px.lexInline)(t,r);r.hooks&&(n=r.hooks.processAllTokens(n)),r.walkTokens&&this.walkTokens(n,r.walkTokens);let i=(r.hooks?r.hooks.provideParser():e?Vx.parse:Vx.parseInline)(n,r);return r.hooks&&(i=r.hooks.postprocess(i)),i}catch(a){return o(a)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let e="<p>An error occurred:</p><pre>"+Dx(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function Wx(e,t){return Hx.parse(e,t)}function $x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}Wx.options=Wx.setOptions=function(e){return Hx.setOptions(e),Wx.defaults=Hx.defaults,Db(Wx.defaults),Wx},Wx.getDefaults=Ab,Wx.defaults=Ib,Wx.use=function(...e){return Hx.use(...e),Wx.defaults=Hx.defaults,Db(Wx.defaults),Wx},Wx.walkTokens=function(e,t){return Hx.walkTokens(e,t)},Wx.parseInline=Hx.parseInline,Wx.Parser=Vx,Wx.parser=Vx.parse,Wx.Renderer=zx,Wx.TextRenderer=Bx,Wx.Lexer=Px,Wx.lexer=Px.lex,Wx.Tokenizer=Nx,Wx.Hooks=Fx,Wx.parse=Wx,Wx.options,Wx.setOptions,Wx.use,Wx.walkTokens,Wx.parseInline,Vx.parse,Px.lex;var Gx,Ux,Xx,qx,Yx,Zx,Kx,Jx,Qx,e_,t_,n_,i_,r_,o_,a_,s_,l_,c_,u_,h_,d_,p_,f_,g_,m_,v_,y_,b_,x_,__,w_,S_={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},M_={duration:.5,overwrite:!1,delay:0},k_=1e8,C_=1e-8,T_=2*Math.PI,A_=T_/4,I_=0,D_=Math.sqrt,O_=Math.cos,E_=Math.sin,L_=function e(t){return"string"==typeof t},R_=function e(t){return"function"==typeof t},N_=function e(t){return"number"==typeof t},P_=function e(t){return void 0===t},z_=function e(t){return"object"==typeof t},B_=function e(t){return!1!==t},V_=function e(){return"undefined"!=typeof window},F_=function e(t){return R_(t)||L_(t)},H_="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},W_=Array.isArray,$_=/(?:-?\.?\d|\.)+/gi,j_=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,G_=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,U_=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,X_=/[+-]=-?[.\d]+/,q_=/[^,'"\[\]\s]+/gi,Y_=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Z_={},K_={},J_=function e(t){return(K_=Aw(t,Z_))&&AM},Q_=function e(t,n){},ew=function e(t,n){return!n&&void 0},tw=function e(t,n){return t&&(Z_[t]=n)&&K_&&(K_[t]=n)||Z_},nw=function e(){return 0},iw={suppressEvents:!0,isStart:!0,kill:!1},rw={suppressEvents:!0,kill:!1},ow={suppressEvents:!0},aw={},sw=[],lw={},cw={},uw={},hw=30,dw=[],pw="",fw=function e(t){var n,i,r=t[0];if(z_(r)||R_(r)||(t=[t]),!(n=(r._gsap||{}).harness)){for(i=dw.length;i--&&!dw[i].targetTest(r););n=dw[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new WS(t[i],n)))||t.splice(i,1);return t},gw=function e(t){return t._gsap||fw(oS(t))[0]._gsap},mw=function e(t,n,i){return(i=t[n])&&R_(i)?t[n]():P_(i)&&t.getAttribute&&t.getAttribute(n)||i},vw=function e(t,n){return(t=t.split(",")).forEach(n)||t},yw=function e(t){return Math.round(1e5*t)/1e5||0},bw=function e(t){return Math.round(1e7*t)/1e7||0},xw=function e(t,n){var i=n.charAt(0),r=parseFloat(n.substr(2));return t=parseFloat(t),"+"===i?t+r:"-"===i?t-r:"*"===i?t*r:t/r},_w=function e(t,n){for(var i=n.length,r=0;t.indexOf(n[r])<0&&++r<i;);return r<i},ww=function e(){var t,n,i=sw.length,r=sw.slice(0);for(lw={},sw.length=0,t=0;t<i;t++)(n=r[t])&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},Sw=function e(t){return!!(t._initted||t._startAt||t.add)},Mw=function e(t,n,i,r){sw.length&&!Ux&&ww(),t.render(n,i,!!(Ux&&n<0&&Sw(t))),sw.length&&!Ux&&ww()},kw=function e(t){var n=parseFloat(t);return(n||0===n)&&(t+"").match(q_).length<2?n:L_(t)?t.trim():t},Cw=function e(t){return t},Tw=function e(t,n){for(var i in n)i in t||(t[i]=n[i]);return t},Aw=function e(t,n){for(var i in n)t[i]=n[i];return t},Iw=function e(t,n){for(var i in n)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=z_(n[i])?e(t[i]||(t[i]={}),n[i]):n[i]);return t},Dw=function e(t,n){var i,r={};for(i in t)i in n||(r[i]=t[i]);return r},Ow=function e(t){var n=t.parent||qx,i=t.keyframes?function e(t){return function(e,n){for(var i in n)i in e||"duration"===i&&t||"ease"===i||(e[i]=n[i])}}(W_(t.keyframes)):Tw;if(B_(t.inherit))for(;n;)i(t,n.vars.defaults),n=n.parent||n._dp;return t},Ew=function e(t,n,i,r,o){var a,s=t[r];if(o)for(a=n[o];s&&s[o]>a;)s=s._prev;return s?(n._next=s._next,s._next=n):(n._next=t[i],t[i]=n),n._next?n._next._prev=n:t[r]=n,n._prev=s,n.parent=n._dp=t,n},Lw=function e(t,n,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var o=n._prev,a=n._next;o?o._next=a:t[i]===n&&(t[i]=a),a?a._prev=o:t[r]===n&&(t[r]=o),n._next=n._prev=n.parent=null},Rw=function e(t,n){t.parent&&(!n||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Nw=function e(t,n){if(t&&(!n||n._end>t._dur||n._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},Pw=function e(t,n,i,r){return t._startAt&&(Ux?t._startAt.revert(rw):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(n,!0,r))},zw=function e(t){return!t||t._ts&&e(t.parent)},Bw=function e(t){return t._repeat?Vw(t._tTime,t=t.duration()+t._rDelay)*t:0},Vw=function e(t,n){var i=Math.floor(t=bw(t/n));return t&&i===t?i-1:i},Fw=function e(t,n){return(t-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Hw=function e(t){return t._end=bw(t._start+(t._tDur/Math.abs(t._ts||t._rts||C_)||0))},Ww=function e(t,n){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=bw(i._time-(t._ts>0?n/t._ts:((t._dirty?t.totalDuration():t._tDur)-n)/-t._ts)),Hw(t),i._dirty||Nw(i,t)),t},$w=function e(t,n){var i;if((n._time||!n._dur&&n._initted||n._start<t._time&&(n._dur||!n.add))&&(i=Fw(t.rawTime(),n),(!n._dur||tS(0,n.totalDuration(),i)-n._tTime>C_)&&n.render(i,!0)),Nw(t,n)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-1e-8}},jw=function e(t,n,i,r){return n.parent&&Rw(n),n._start=bw((N_(i)?i:i||t!==qx?Jw(t,i,n):t._time)+n._delay),n._end=bw(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),Ew(t,n,"_first","_last",t._sort?"_start":0),qw(n)||(t._recent=n),r||$w(t,n),t._ts<0&&Ww(t,t._tTime),t},Gw=function e(t,n){return Z_.ScrollTrigger?Z_.ScrollTrigger.create(n,t):void 0},Uw=function e(t,n,i,r,o){return ZS(t,n,o),t._initted?!i&&t._pt&&!Ux&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&Qx!==IS.frame?(sw.push(t),t._lazy=[o,r],1):void 0:1},Xw=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},qw=function e(t){var n=t.data;return"isFromStart"===n||"isStart"===n},Yw=function e(t,n,i,r){var o=t._repeat,a=bw(n)||0,s=t._tTime/t._tDur;return s&&!r&&(t._time*=a/t._dur),t._dur=a,t._tDur=o?o<0?1e10:bw(a*(o+1)+t._rDelay*o):a,s>0&&!r&&Ww(t,t._tTime=t._tDur*s),t.parent&&Hw(t),i||Nw(t.parent,t),t},Zw=function e(t){return t instanceof jS?Nw(t):Yw(t,t._dur)},Kw={_start:0,endTime:nw,totalDuration:nw},Jw=function e(t,n,i){var r,o,a,s=t.labels,l=t._recent||Kw,c=t.duration()>=k_?l.endTime(!1):t._dur;return L_(n)&&(isNaN(n)||n in s)?(o=n.charAt(0),a="%"===n.substr(-1),r=n.indexOf("="),"<"===o||">"===o?(r>=0&&(n=n.replace(/=/,"")),("<"===o?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(a?(r<0?l:i).totalDuration()/100:1)):r<0?(n in s||(s[n]=c),s[n]):(o=parseFloat(n.charAt(r-1)+n.substr(r+1)),a&&i&&(o=o/100*(W_(i)?i[0]:i).totalDuration()),r>1?e(t,n.substr(0,r-1),i)+o:c+o)):null==n?c:+n},Qw=function e(t,n,i){var r,o,a=N_(n[1]),s=(a?2:1)+(t<2?0:1),l=n[s];if(a&&(l.duration=n[1]),l.parent=i,t){for(r=l,o=i;o&&!("immediateRender"in r);)r=o.vars.defaults||{},o=B_(o.vars.inherit)&&o.parent;l.immediateRender=B_(r.immediateRender),t<2?l.runBackwards=1:l.startAt=n[s-1]}return new tM(n[0],l,n[s+1])},eS=function e(t,n){return t||0===t?n(t):n},tS=function e(t,n,i){return i<t?t:i>n?n:i},nS=function e(t,n){return L_(t)&&(n=Y_.exec(t))?n[1]:""},iS=[].slice,rS=function e(t,n){return t&&z_(t)&&"length"in t&&(!n&&!t.length||t.length-1 in t&&z_(t[0]))&&!t.nodeType&&t!==Yx},oS=function e(t,n,i){return Xx&&!n&&Xx.selector?Xx.selector(t):!L_(t)||i||!Zx&&DS()?W_(t)?function e(t,n,i){return void 0===i&&(i=[]),t.forEach(function(e){var t;return L_(e)&&!n||rS(e,1)?(t=i).push.apply(t,oS(e)):i.push(e)})||i}(t,i):rS(t)?iS.call(t,0):t?[t]:[]:iS.call((n||Kx).querySelectorAll(t),0)},aS=function e(t){return t=oS(t)[0]||ew()||{},function(e){var n=t.current||t.nativeElement||t;return oS(e,n.querySelectorAll?n:n===t?ew()||Kx.createElement("div"):t)}},sS=function e(t){return t.sort(function(){return.5-Math.random()})},lS=function e(t){if(R_(t))return t;var n=z_(t)?t:{each:t},i=zS(n.ease),r=n.from||0,o=parseFloat(n.base)||0,a={},s=r>0&&r<1,l=isNaN(r)||s,c=n.axis,u=r,h=r;return L_(r)?u=h={center:.5,edges:.5,end:1}[r]||0:!s&&l&&(u=r[0],h=r[1]),function(e,t,s){var d,p,f,g,m,v,y,b,x,_=(s||n).length,w=a[_];if(!w){if(!(x="auto"===n.grid?0:(n.grid||[1,k_])[1])){for(y=-1e8;y<(y=s[x++].getBoundingClientRect().left)&&x<_;);x<_&&x--}for(w=a[_]=[],d=l?Math.min(x,_)*u-.5:r%x,p=x===k_?0:l?_*h/x-.5:r/x|0,y=0,b=k_,v=0;v<_;v++)f=v%x-d,g=p-(v/x|0),w[v]=m=c?Math.abs("y"===c?g:f):D_(f*f+g*g),m>y&&(y=m),m<b&&(b=m);"random"===r&&sS(w),w.max=y-b,w.min=b,w.v=_=(parseFloat(n.amount)||parseFloat(n.each)*(x>_?_-1:c?"y"===c?_/x:x:Math.max(x,_/x))||0)*("edges"===r?-1:1),w.b=_<0?o-_:o,w.u=nS(n.amount||n.each)||0,i=i&&_<0?NS(i):i}return _=(w[e]-w.min)/w.max||0,bw(w.b+(i?i(_):_)*w.v)+w.u}},cS=function e(t){var n=Math.pow(10,((t+"").split(".")[1]||"").length);return function(e){var i=bw(Math.round(parseFloat(e)/t)*t*n);return(i-i%1)/n+(N_(e)?0:nS(e))}},uS=function e(t,n){var i,r,o=W_(t);return!o&&z_(t)&&(i=o=t.radius||k_,t.values?(t=oS(t.values),(r=!N_(t[0]))&&(i*=i)):t=cS(t.increment)),eS(n,o?R_(t)?function(e){return r=t(e),Math.abs(r-e)<=i?r:e}:function(e){for(var n,o,a=parseFloat(r?e.x:e),s=parseFloat(r?e.y:0),l=k_,c=0,u=t.length;u--;)(n=r?(n=t[u].x-a)*n+(o=t[u].y-s)*o:Math.abs(t[u]-a))<l&&(l=n,c=u);return c=!i||l<=i?t[c]:e,r||c===e||N_(e)?c:c+nS(e)}:cS(t))},hS=function e(t,n,i,r){return eS(W_(t)?!n:!0===i?!!(i=0):!r,function(){return W_(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(n-t+.99*i))/i)*i*r)/r})},dS=function e(t,n,i){return eS(i,function(e){return t[~~n(e)]})},pS=function e(t){for(var n,i,r,o,a=0,s="";~(n=t.indexOf("random(",a));)r=t.indexOf(")",n),o="["===t.charAt(n+7),i=t.substr(n+7,r-n-7).match(o?q_:$_),s+=t.substr(a,n-a)+hS(o?i:+i[0],o?0:+i[1],+i[2]||1e-5),a=r+1;return s+t.substr(a,t.length-a)},fS=function e(t,n,i,r,o){var a=n-t,s=r-i;return eS(o,function(e){return i+((e-t)/a*s||0)})},gS=function e(t,n,i){var r,o,a,s=t.labels,l=k_;for(r in s)(o=s[r]-n)<0==!!i&&o&&l>(o=Math.abs(o))&&(a=r,l=o);return a},mS=function e(t,n,i){var r,o,a,s=t.vars,l=s[n],c=Xx,u=t._ctx;if(l)return r=s[n+"Params"],o=s.callbackScope||t,i&&sw.length&&ww(),u&&(Xx=u),a=r?l.apply(o,r):l.call(o),Xx=c,a},vS=function e(t){return Rw(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Ux),t.progress()<1&&mS(t,"onInterrupt"),t},yS=[],bS=function e(t){if(t)if(t=!t.name&&t.default||t,V_()||t.headless){var n=t.name,i=R_(t),r=n&&!i&&t.init?function(){this._props=[]}:t,o={init:nw,render:uM,add:qS,kill:dM,modifier:hM,rawVars:0},a={targetTest:0,get:0,getSetter:aM,aliases:{},register:0};if(DS(),t!==r){if(cw[n])return;Tw(r,Tw(Dw(t,o),a)),Aw(r.prototype,Aw(o,Dw(t,a))),cw[r.prop=n]=r,t.targetTest&&(dw.push(r),aw[n]=1),n=("css"===n?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}tw(n,r),t.register&&t.register(AM,r,gM)}else yS.push(t)},xS=255,_S={aqua:[0,xS,xS],lime:[0,xS,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xS],navy:[0,0,128],white:[xS,xS,xS],olive:[128,128,0],yellow:[xS,xS,0],orange:[xS,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xS,0,0],pink:[xS,192,203],cyan:[0,xS,xS],transparent:[xS,xS,xS,0]},wS=function e(t,n,i){return(6*(t+=t<0?1:t>1?-1:0)<1?n+(i-n)*t*6:t<.5?i:3*t<2?n+(i-n)*(2/3-t)*6:n)*xS+.5|0},SS=function e(t,n,i){var r,o,a,s,l,c,u,h,d,p,f=t?N_(t)?[t>>16,t>>8&xS,t&xS]:0:_S.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),_S[t])f=_S[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+r+r+o+o+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(f=parseInt(t.substr(1,6),16))>>16,f>>8&xS,f&xS,parseInt(t.substr(7),16)/255];f=[(t=parseInt(t.substr(1),16))>>16,t>>8&xS,t&xS]}else if("hsl"===t.substr(0,3))if(f=p=t.match($_),n){if(~t.indexOf("="))return f=t.match(j_),i&&f.length<4&&(f[3]=1),f}else s=+f[0]%360/360,l=+f[1]/100,r=2*(c=+f[2]/100)-(o=c<=.5?c*(l+1):c+l-c*l),f.length>3&&(f[3]*=1),f[0]=wS(s+1/3,r,o),f[1]=wS(s,r,o),f[2]=wS(s-1/3,r,o);else f=t.match($_)||_S.transparent;f=f.map(Number)}return n&&!p&&(r=f[0]/xS,o=f[1]/xS,a=f[2]/xS,c=((u=Math.max(r,o,a))+(h=Math.min(r,o,a)))/2,u===h?s=l=0:(d=u-h,l=c>.5?d/(2-u-h):d/(u+h),s=u===r?(o-a)/d+(o<a?6:0):u===o?(a-r)/d+2:(r-o)/d+4,s*=60),f[0]=~~(s+.5),f[1]=~~(100*l+.5),f[2]=~~(100*c+.5)),i&&f.length<4&&(f[3]=1),f},MS=function e(t){var n=[],i=[],r=-1;return t.split(CS).forEach(function(e){var t=e.match(G_)||[];n.push.apply(n,t),i.push(r+=t.length+1)}),n.c=i,n},kS=function e(t,n,i){var r,o,a,s,l="",c=(t+l).match(CS),u=n?"hsla(":"rgba(",h=0;if(!c)return t;if(c=c.map(function(e){return(e=SS(e,n,1))&&u+(n?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),i&&(a=MS(t),(r=i.c).join(l)!==a.c.join(l)))for(s=(o=t.replace(CS,"1").split(G_)).length-1;h<s;h++)l+=o[h]+(~r.indexOf(h)?c.shift()||u+"0,0,0,0)":(a.length?a:c.length?c:i).shift());if(!o)for(s=(o=t.split(CS)).length-1;h<s;h++)l+=o[h]+c[h];return l+o[s]},CS=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in _S)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),TS=/hsl[a]?\(/,AS=function e(t){var n,i=t.join(" ");if(CS.lastIndex=0,CS.test(i))return n=TS.test(i),t[1]=kS(t[1],n),t[0]=kS(t[0],n,MS(t[1])),!0},IS=(l_=Date.now,c_=500,u_=33,h_=l_(),d_=h_,f_=p_=1e3/240,m_=function e(t){var n,i,r,o,a=l_()-d_,s=!0===t;if((a>c_||a<0)&&(h_+=a-u_),((n=(r=(d_+=a)-h_)-f_)>0||s)&&(o=++o_.frame,a_=r-1e3*o_.time,o_.time=r/=1e3,f_+=n+(n>=p_?4:p_-n),i=1),s||(n_=i_(e)),i)for(s_=0;s_<g_.length;s_++)g_[s_](r,a_,o,t)},o_={time:0,frame:0,tick:function e(){m_(!0)},deltaRatio:function e(t){return a_/(1e3/(t||60))},wake:function e(){Jx&&(!Zx&&V_()&&(Yx=Zx=window,Kx=Yx.document||{},Z_.gsap=AM,(Yx.gsapVersions||(Yx.gsapVersions=[])).push(AM.version),J_(K_||Yx.GreenSockGlobals||!Yx.gsap&&Yx||{}),yS.forEach(bS)),r_="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,n_&&o_.sleep(),i_=r_||function(e){return setTimeout(e,f_-1e3*o_.time+1|0)},t_=1,m_(2))},sleep:function e(){(r_?cancelAnimationFrame:clearTimeout)(n_),t_=0,i_=nw},lagSmoothing:function e(t,n){c_=t||1/0,u_=Math.min(n||33,c_)},fps:function e(t){p_=1e3/(t||240),f_=1e3*o_.time+p_},add:function e(t,n,i){var r=n?function(e,n,i,o){t(e,n,i,o),o_.remove(r)}:t;return o_.remove(t),g_[i?"unshift":"push"](r),DS(),r},remove:function e(t,n){~(n=g_.indexOf(t))&&g_.splice(n,1)&&s_>=n&&s_--},_listeners:g_=[]},o_),DS=function e(){return!t_&&IS.wake()},OS={},ES=/^[\d.\-M][\d.\-,\s]/,LS=/["']/g,RS=function e(t){for(var n,i,r,o={},a=t.substr(1,t.length-3).split(":"),s=a[0],l=1,c=a.length;l<c;l++)i=a[l],n=l!==c-1?i.lastIndexOf(","):i.length,r=i.substr(0,n),o[s]=isNaN(r)?r.replace(LS,"").trim():+r,s=i.substr(n+1).trim();return o},NS=function e(t){return function(e){return 1-t(1-e)}},PS=function e(t,n){for(var i,r=t._first;r;)r instanceof jS?e(r,n):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===n||(r.timeline?e(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},zS=function e(t,n){return t&&(R_(t)?t:OS[t]||function e(t){var n=(t+"").split("("),i=OS[n[0]];return i&&n.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[RS(n[1])]:function e(t){var n=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",n);return t.substring(n,~r&&r<i?t.indexOf(")",i+1):i)}(t).split(",").map(kw)):OS._CE&&ES.test(t)?OS._CE("",t):i}(t))||n},BS=function e(t,n,i,r){void 0===i&&(i=function e(t){return 1-n(1-t)}),void 0===r&&(r=function e(t){return t<.5?n(2*t)/2:1-n(2*(1-t))/2});var o,a={easeIn:n,easeOut:i,easeInOut:r};return vw(t,function(e){for(var t in OS[e]=Z_[e]=a,OS[o=e.toLowerCase()]=i,a)OS[o+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=OS[e+"."+t]=a[t]}),a},VS=function e(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},FS=function e(t,n,i){var r=n>=1?n:1,o=(i||(t?.3:.45))/(n<1?n:1),a=o/T_*(Math.asin(1/r)||0),s=function e(t){return 1===t?1:r*Math.pow(2,-10*t)*E_((t-a)*o)+1},l="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:VS(s);return o=T_/o,l.config=function(n,i){return e(t,n,i)},l},HS=function e(t,n){void 0===n&&(n=1.70158);var i=function e(t){return t?--t*t*((n+1)*t+n)+1:0},r="out"===t?i:"in"===t?function(e){return 1-i(1-e)}:VS(i);return r.config=function(n){return e(t,n)},r};vw("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;BS(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2})}),OS.Linear.easeNone=OS.none=OS.Linear.easeIn,BS("Elastic",FS("in"),FS("out"),FS()),v_=7.5625,x_=2*(b_=1/(y_=2.75)),__=2.5*b_,BS("Bounce",function(e){return 1-w_(1-e)},w_=function e(t){return t<b_?v_*t*t:t<x_?v_*Math.pow(t-1.5/y_,2)+.75:t<__?v_*(t-=2.25/y_)*t+.9375:v_*Math.pow(t-2.625/y_,2)+.984375}),BS("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),BS("Circ",function(e){return-(D_(1-e*e)-1)}),BS("Sine",function(e){return 1===e?1:1-O_(e*A_)}),BS("Back",HS("in"),HS("out"),HS()),OS.SteppedEase=OS.steps=Z_.SteppedEase={config:function e(t,n){void 0===t&&(t=1);var i=1/t,r=t+(n?0:1),o=n?1:0;return function(e){return((r*tS(0,.99999999,e)|0)+o)*i}}},M_.ease=OS["quad.out"],vw("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return pw+=e+","+e+"Params,"});var WS=function e(t,n){this.id=I_++,t._gsap=this,this.target=t,this.harness=n,this.get=n?n.get:mw,this.set=n?n.getSetter:aM},$S=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Yw(this,+e.duration,1,1),this.data=e.data,Xx&&(this._ctx=Xx,Xx.data.push(this)),t_||IS.wake()}var t=e.prototype;return t.delay=function e(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},t.duration=function e(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},t.totalDuration=function e(t){return arguments.length?(this._dirty=0,Yw(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function e(t,n){if(DS(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Ww(this,t),!i._dp||i.parent||$w(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&jw(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===C_||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Mw(this,t,n)),this},t.time=function e(t,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Bw(this))%(this._dur+this._rDelay)||(t?this._dur:0),n):this._time},t.totalProgress=function e(t,n){return arguments.length?this.totalTime(this.totalDuration()*t,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function e(t,n){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Bw(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function e(t,n){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,n):this._repeat?Vw(this._tTime,i)+1:1},t.timeScale=function e(t,n){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var i=this.parent&&this._ts?Fw(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(tS(-Math.abs(this._delay),this.totalDuration(),i),!1!==n),Hw(this),function e(t){for(var n=t.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return t}(this)},t.paused=function e(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(DS(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==C_&&(this._tTime-=C_)))),this):this._ps},t.startTime=function e(t){if(arguments.length){this._start=t;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&jw(n,this,t-this._delay),this}return this._start},t.endTime=function e(t){return this._start+(B_(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function e(t){var n=this.parent||this._dp;return n?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Fw(n.rawTime(t),this):this._tTime:this._tTime},t.revert=function e(t){void 0===t&&(t=ow);var n=Ux;return Ux=t,Sw(this)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),Ux=n,this},t.globalTime=function e(t){for(var n=this,i=arguments.length?t:n.rawTime();n;)i=n._start+i/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(t):i},t.repeat=function e(t){return arguments.length?(this._repeat=t===1/0?-2:t,Zw(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function e(t){if(arguments.length){var n=this._time;return this._rDelay=t,Zw(this),n?this.time(n):this}return this._rDelay},t.yoyo=function e(t){return arguments.length?(this._yoyo=t,this):this._yoyo},t.seek=function e(t,n){return this.totalTime(Jw(this,t),B_(n))},t.restart=function e(t,n){return this.play().totalTime(t?-this._delay:0,B_(n)),this._dur||(this._zTime=-1e-8),this},t.play=function e(t,n){return null!=t&&this.seek(t,n),this.reversed(!1).paused(!1)},t.reverse=function e(t,n){return null!=t&&this.seek(t||this.totalDuration(),n),this.reversed(!0).paused(!1)},t.pause=function e(t,n){return null!=t&&this.seek(t,n),this.paused(!0)},t.resume=function e(){return this.paused(!1)},t.reversed=function e(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},t.invalidate=function e(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function e(){var t,n=this.parent||this._dp,i=this._start;return!(n&&!(this._ts&&this._initted&&n.isActive()&&(t=n.rawTime(!0))>=i&&t<this.endTime(!0)-C_))},t.eventCallback=function e(t,n,i){var r=this.vars;return arguments.length>1?(n?(r[t]=n,i&&(r[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=n)):delete r[t],this):r[t]},t.then=function e(t){var n=this;return new Promise(function(e){var i=R_(t)?t:Cw,r=function t(){var r=n.then;n.then=null,R_(i)&&(i=i(n))&&(i.then||i===n)&&(n.then=r),e(i),n.then=r};n._initted&&1===n.totalProgress()&&n._ts>=0||!n._tTime&&n._ts<0?r():n._prom=r})},t.kill=function e(){vS(this)},e}();Tw($S.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var jS=function(e){function t(t,n){var i;return void 0===t&&(t={}),(i=e.call(this,t)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=B_(t.sortChildren),qx&&jw(t.parent||qx,$x(i),n),t.reversed&&i.reverse(),t.paused&&i.paused(!0),t.scrollTrigger&&Gw($x(i),t.scrollTrigger),i}jx(t,e);var n=t.prototype;return n.to=function e(t,n,i){return Qw(0,arguments,this),this},n.from=function e(t,n,i){return Qw(1,arguments,this),this},n.fromTo=function e(t,n,i,r){return Qw(2,arguments,this),this},n.set=function e(t,n,i){return n.duration=0,n.parent=this,Ow(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new tM(t,n,Jw(this,i),1),this},n.call=function e(t,n,i){return jw(this,tM.delayedCall(0,t,n),i)},n.staggerTo=function e(t,n,i,r,o,a,s){return i.duration=n,i.stagger=i.stagger||r,i.onComplete=a,i.onCompleteParams=s,i.parent=this,new tM(t,i,Jw(this,o)),this},n.staggerFrom=function e(t,n,i,r,o,a,s){return i.runBackwards=1,Ow(i).immediateRender=B_(i.immediateRender),this.staggerTo(t,n,i,r,o,a,s)},n.staggerFromTo=function e(t,n,i,r,o,a,s,l){return r.startAt=i,Ow(r).immediateRender=B_(r.immediateRender),this.staggerTo(t,n,r,o,a,s,l)},n.render=function e(t,n,i){var r,o,a,s,l,c,u,h,d,p,f,g,m=this._time,v=this._dirty?this.totalDuration():this._tDur,y=this._dur,b=t<=0?0:bw(t),x=this._zTime<0!=t<0&&(this._initted||!y);if(this!==qx&&b>v&&t>=0&&(b=v),b!==this._tTime||i||x){if(m!==this._time&&y&&(b+=this._time-m,t+=this._time-m),r=b,d=this._start,c=!(h=this._ts),x&&(y||(m=this._zTime),(t||!n)&&(this._zTime=t)),this._repeat){if(f=this._yoyo,l=y+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*l+t,n,i);if(r=bw(b%l),b===v?(s=this._repeat,r=y):((s=~~(p=bw(b/l)))&&s===p&&(r=y,s--),r>y&&(r=y)),p=Vw(this._tTime,l),!m&&this._tTime&&p!==s&&this._tTime-p*l-this._dur<=0&&(p=s),f&&1&s&&(r=y-r,g=1),s!==p&&!this._lock){var _=f&&1&p,w=_===(f&&1&s);if(s<p&&(_=!_),m=_?0:b%y?y:b,this._lock=1,this.render(m||(g?0:bw(s*l)),n,!y)._lock=0,this._tTime=b,!n&&this.parent&&mS(this,"onRepeat"),this.vars.repeatRefresh&&!g&&(this.invalidate()._lock=1),m&&m!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,v=this._tDur,w&&(this._lock=2,m=_?y:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!g&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;PS(this,g)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function e(t,n,i){var r;if(i>n)for(r=t._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>n)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<n)return r;r=r._prev}}(this,bw(m),bw(r)),u&&(b-=r-(r=u._start))),this._tTime=b,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,m=0),!m&&b&&!n&&!p&&(mS(this,"onStart"),this._tTime!==b))return this;if(r>=m&&t>=0)for(o=this._first;o;){if(a=o._next,(o._act||r>=o._start)&&o._ts&&u!==o){if(o.parent!==this)return this.render(t,n,i);if(o.render(o._ts>0?(r-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(r-o._start)*o._ts,n,i),r!==this._time||!this._ts&&!c){u=0,a&&(b+=this._zTime=-1e-8);break}}o=a}else{o=this._last;for(var S=t<0?t:r;o;){if(a=o._prev,(o._act||S<=o._end)&&o._ts&&u!==o){if(o.parent!==this)return this.render(t,n,i);if(o.render(o._ts>0?(S-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(S-o._start)*o._ts,n,i||Ux&&Sw(o)),r!==this._time||!this._ts&&!c){u=0,a&&(b+=this._zTime=S?-1e-8:C_);break}}o=a}}if(u&&!n&&(this.pause(),u.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=d,Hw(this),this.render(t,n,i);this._onUpdate&&!n&&mS(this,"onUpdate",!0),(b===v&&this._tTime>=this.totalDuration()||!b&&m)&&(d!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((t||!y)&&(b===v&&this._ts>0||!b&&this._ts<0)&&Rw(this,1),n||t<0&&!m||!b&&!m&&v||(mS(this,b===v&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(b<v&&this.timeScale()>0)&&this._prom())))}return this},n.add=function e(t,n){var i=this;if(N_(n)||(n=Jw(this,n,t)),!(t instanceof $S)){if(W_(t))return t.forEach(function(e){return i.add(e,n)}),this;if(L_(t))return this.addLabel(t,n);if(!R_(t))return this;t=tM.delayedCall(0,t)}return this!==t?jw(this,t,n):this},n.getChildren=function e(t,n,i,r){void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=!0),void 0===r&&(r=-1e8);for(var o=[],a=this._first;a;)a._start>=r&&(a instanceof tM?n&&o.push(a):(i&&o.push(a),t&&o.push.apply(o,a.getChildren(!0,n,i)))),a=a._next;return o},n.getById=function e(t){for(var n=this.getChildren(1,1,1),i=n.length;i--;)if(n[i].vars.id===t)return n[i]},n.remove=function e(t){return L_(t)?this.removeLabel(t):R_(t)?this.killTweensOf(t):(t.parent===this&&Lw(this,t),t===this._recent&&(this._recent=this._last),Nw(this))},n.totalTime=function t(n,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=bw(IS.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),e.prototype.totalTime.call(this,n,i),this._forcing=0,this):this._tTime},n.addLabel=function e(t,n){return this.labels[t]=Jw(this,n),this},n.removeLabel=function e(t){return delete this.labels[t],this},n.addPause=function e(t,n,i){var r=tM.delayedCall(0,n||nw,i);return r.data="isPause",this._hasPause=1,jw(this,r,Jw(this,t))},n.removePause=function e(t){var n=this._first;for(t=Jw(this,t);n;)n._start===t&&"isPause"===n.data&&Rw(n),n=n._next},n.killTweensOf=function e(t,n,i){for(var r=this.getTweensOf(t,i),o=r.length;o--;)GS!==r[o]&&r[o].kill(t,n);return this},n.getTweensOf=function e(t,n){for(var i,r=[],o=oS(t),a=this._first,s=N_(n);a;)a instanceof tM?_w(a._targets,o)&&(s?(!GS||a._initted&&a._ts)&&a.globalTime(0)<=n&&a.globalTime(a.totalDuration())>n:!n||a.isActive())&&r.push(a):(i=a.getTweensOf(o,n)).length&&r.push.apply(r,i),a=a._next;return r},n.tweenTo=function e(t,n){n=n||{};var i,r=this,o=Jw(r,t),a=n,s=a.startAt,l=a.onStart,c=a.onStartParams,u=a.immediateRender,h=tM.to(r,Tw({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:n.duration||Math.abs((o-(s&&"time"in s?s.time:r._time))/r.timeScale())||C_,onStart:function e(){if(r.pause(),!i){var t=n.duration||Math.abs((o-(s&&"time"in s?s.time:r._time))/r.timeScale());h._dur!==t&&Yw(h,t,0,1).render(h._time,!0,!0),i=1}l&&l.apply(h,c||[])}},n));return u?h.render(0):h},n.tweenFromTo=function e(t,n,i){return this.tweenTo(n,Tw({startAt:{time:Jw(this,t)}},i))},n.recent=function e(){return this._recent},n.nextLabel=function e(t){return void 0===t&&(t=this._time),gS(this,Jw(this,t))},n.previousLabel=function e(t){return void 0===t&&(t=this._time),gS(this,Jw(this,t),1)},n.currentLabel=function e(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+C_)},n.shiftChildren=function e(t,n,i){void 0===i&&(i=0);for(var r,o=this._first,a=this.labels;o;)o._start>=i&&(o._start+=t,o._end+=t),o=o._next;if(n)for(r in a)a[r]>=i&&(a[r]+=t);return Nw(this)},n.invalidate=function t(n){var i=this._first;for(this._lock=0;i;)i.invalidate(n),i=i._next;return e.prototype.invalidate.call(this,n)},n.clear=function e(t){void 0===t&&(t=!0);for(var n,i=this._first;i;)n=i._next,this.remove(i),i=n;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Nw(this)},n.totalDuration=function e(t){var n,i,r,o=0,a=this,s=a._last,l=k_;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-t:t));if(a._dirty){for(r=a.parent;s;)n=s._prev,s._dirty&&s.totalDuration(),(i=s._start)>l&&a._sort&&s._ts&&!a._lock?(a._lock=1,jw(a,s,i-s._delay,1)._lock=0):l=i,i<0&&s._ts&&(o-=i,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=i/a._ts,a._time-=i,a._tTime-=i),a.shiftChildren(-i,!1,-1/0),l=0),s._end>o&&s._ts&&(o=s._end),s=n;Yw(a,a===qx&&a._time>o?a._time:o,1,1),a._dirty=0}return a._tDur},t.updateRoot=function e(t){if(qx._ts&&(Mw(qx,Fw(t,qx)),Qx=IS.frame),IS.frame>=hw){hw+=S_.autoSleep||120;var n=qx._first;if((!n||!n._ts)&&S_.autoSleep&&IS._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||IS.sleep()}}},t}($S);Tw(jS.prototype,{_lock:0,_hasPause:0,_forcing:0});var GS,US,XS=function e(t,n,i,r,o,a,s){var l,c,u,h,d,p,f,g,m=new gM(this._pt,t,n,0,1,cM,null,o),v=0,y=0;for(m.b=i,m.e=r,i+="",(f=~(r+="").indexOf("random("))&&(r=pS(r)),a&&(a(g=[i,r],t,n),i=g[0],r=g[1]),c=i.match(U_)||[];l=U_.exec(r);)h=l[0],d=r.substring(v,l.index),u?u=(u+1)%5:"rgba("===d.substr(-5)&&(u=1),h!==c[y++]&&(p=parseFloat(c[y-1])||0,m._pt={_next:m._pt,p:d||1===y?d:",",s:p,c:"="===h.charAt(1)?xw(p,h)-p:parseFloat(h)-p,m:u&&u<4?Math.round:0},v=U_.lastIndex);return m.c=v<r.length?r.substring(v,r.length):"",m.fp=s,(X_.test(r)||f)&&(m.e=0),this._pt=m,m},qS=function e(t,n,i,r,o,a,s,l,c,u){R_(r)&&(r=r(o||0,t,a));var h,d=t[n],p="get"!==i?i:R_(d)?c?t[n.indexOf("set")||!R_(t["get"+n.substr(3)])?n:"get"+n.substr(3)](c):t[n]():d,f=R_(d)?c?rM:iM:nM;if(L_(r)&&(~r.indexOf("random(")&&(r=pS(r)),"="===r.charAt(1)&&((h=xw(p,r)+(nS(p)||0))||0===h)&&(r=h)),!u||p!==r||US)return isNaN(p*r)||""===r?XS.call(this,t,n,p,r,f,l||S_.stringFilter,c):(h=new gM(this._pt,t,n,+p||0,r-(p||0),"boolean"==typeof d?lM:sM,0,f),c&&(h.fp=c),s&&h.modifier(s,this,t),this._pt=h)},YS=function e(t,n,i,r,o,a){var s,l,c,u;if(cw[t]&&!1!==(s=new cw[t]).init(o,s.rawVars?n[t]:function e(t,n,i,r,o){if(R_(t)&&(t=JS(t,o,n,i,r)),!z_(t)||t.style&&t.nodeType||W_(t)||H_(t))return L_(t)?JS(t,o,n,i,r):t;var a,s={};for(a in t)s[a]=JS(t[a],o,n,i,r);return s}(n[t],r,o,a,i),i,r,a)&&(i._pt=l=new gM(i._pt,o,t,0,1,s.render,s,0,s.priority),i!==e_))for(c=i._ptLookup[i._targets.indexOf(o)],u=s._props.length;u--;)c[s._props[u]]=l;return s},ZS=function e(t,n,i){var r,o,a,s,l,c,u,h,d,p,f,g,m,v=t.vars,y=v.ease,b=v.startAt,x=v.immediateRender,_=v.lazy,w=v.onUpdate,S=v.runBackwards,M=v.yoyoEase,k=v.keyframes,C=v.autoRevert,T=t._dur,A=t._startAt,I=t._targets,D=t.parent,O=D&&"nested"===D.data?D.vars.targets:I,E="auto"===t._overwrite&&!Gx,L=t.timeline;if(L&&(!k||!y)&&(y="none"),t._ease=zS(y,M_.ease),t._yEase=M?NS(zS(!0===M?y:M,M_.ease)):0,M&&t._yoyo&&!t._repeat&&(M=t._yEase,t._yEase=t._ease,t._ease=M),t._from=!L&&!!v.runBackwards,!L||k&&!v.stagger){if(g=(h=I[0]?gw(I[0]).harness:0)&&v[h.prop],r=Dw(v,aw),A&&(A._zTime<0&&A.progress(1),n<0&&S&&x&&!C?A.render(-1,!0):A.revert(S&&T?rw:iw),A._lazy=0),b){if(Rw(t._startAt=tM.set(I,Tw({data:"isStart",overwrite:!1,parent:D,immediateRender:!0,lazy:!A&&B_(_),startAt:null,delay:0,onUpdate:w&&function(){return mS(t,"onUpdate")},stagger:0},b))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Ux||!x&&!C)&&t._startAt.revert(rw),x&&T&&n<=0&&i<=0)return void(n&&(t._zTime=n))}else if(S&&T&&!A)if(n&&(x=!1),a=Tw({overwrite:!1,data:"isFromStart",lazy:x&&!A&&B_(_),immediateRender:x,stagger:0,parent:D},r),g&&(a[h.prop]=g),Rw(t._startAt=tM.set(I,a)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Ux?t._startAt.revert(rw):t._startAt.render(-1,!0)),t._zTime=n,x){if(!n)return}else e(t._startAt,C_,C_);for(t._pt=t._ptCache=0,_=T&&B_(_)||_&&!T,o=0;o<I.length;o++){if(u=(l=I[o])._gsap||fw(I)[o]._gsap,t._ptLookup[o]=p={},lw[u.id]&&sw.length&&ww(),f=O===I?o:O.indexOf(l),h&&!1!==(d=new h).init(l,g||r,t,f,O)&&(t._pt=s=new gM(t._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach(function(e){p[e]=s}),d.priority&&(c=1)),!h||g)for(a in r)cw[a]&&(d=YS(a,r,t,f,l,O))?d.priority&&(c=1):p[a]=s=qS.call(t,l,a,"get",r[a],f,O,0,v.stringFilter);t._op&&t._op[o]&&t.kill(l,t._op[o]),E&&t._pt&&(GS=t,qx.killTweensOf(l,p,t.globalTime(n)),m=!t.parent,GS=0),t._pt&&_&&(lw[u.id]=1)}c&&fM(t),t._onInit&&t._onInit(t)}t._onUpdate=w,t._initted=(!t._op||t._pt)&&!m,k&&n<=0&&L.render(k_,!0,!0)},KS=function e(t,n,i,r){var o,a,s=n.ease||r||"power1.inOut";if(W_(n))a=i[t]||(i[t]=[]),n.forEach(function(e,t){return a.push({t:t/(n.length-1)*100,v:e,e:s})});else for(o in n)a=i[o]||(i[o]=[]),"ease"===o||a.push({t:parseFloat(t),v:n[o],e:s})},JS=function e(t,n,i,r,o){return R_(t)?t.call(n,i,r,o):L_(t)&&~t.indexOf("random(")?pS(t):t},QS=pw+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",eM={};vw(QS+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return eM[e]=1});var tM=function(e){function t(t,n,i,r){var o;"number"==typeof n&&(i.duration=n,n=i,i=null);var a,s,l,c,u,h,d,p,f=(o=e.call(this,r?n:Ow(n))||this).vars,g=f.duration,m=f.delay,v=f.immediateRender,y=f.stagger,b=f.overwrite,x=f.keyframes,_=f.defaults,w=f.scrollTrigger,S=f.yoyoEase,M=n.parent||qx,k=(W_(t)||H_(t)?N_(t[0]):"length"in n)?[t]:oS(t);if(o._targets=k.length?fw(k):ew(0,!S_.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=b,x||y||F_(g)||F_(m)){if(n=o.vars,(a=o.timeline=new jS({data:"nested",defaults:_||{},targets:M&&"nested"===M.data?M.vars.targets:k})).kill(),a.parent=a._dp=$x(o),a._start=0,y||F_(g)||F_(m)){if(c=k.length,d=y&&lS(y),z_(y))for(u in y)~QS.indexOf(u)&&(p||(p={}),p[u]=y[u]);for(s=0;s<c;s++)(l=Dw(n,eM)).stagger=0,S&&(l.yoyoEase=S),p&&Aw(l,p),h=k[s],l.duration=+JS(g,$x(o),s,h,k),l.delay=(+JS(m,$x(o),s,h,k)||0)-o._delay,!y&&1===c&&l.delay&&(o._delay=m=l.delay,o._start+=m,l.delay=0),a.to(h,l,d?d(s,h,k):0),a._ease=OS.none;a.duration()?g=m=0:o.timeline=0}else if(x){Ow(Tw(a.vars.defaults,{ease:"none"})),a._ease=zS(x.ease||n.ease||"none");var C,T,A,I=0;if(W_(x))x.forEach(function(e){return a.to(k,e,">")}),a.duration();else{for(u in l={},x)"ease"===u||"easeEach"===u||KS(u,x[u],l,x.easeEach);for(u in l)for(C=l[u].sort(function(e,t){return e.t-t.t}),I=0,s=0;s<C.length;s++)(A={ease:(T=C[s]).e,duration:(T.t-(s?C[s-1].t:0))/100*g})[u]=T.v,a.to(k,A,I),I+=A.duration;a.duration()<g&&a.to({},{duration:g-a.duration()})}}g||o.duration(g=a.duration())}else o.timeline=0;return!0!==b||Gx||(GS=$x(o),qx.killTweensOf(k),GS=0),jw(M,$x(o),i),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(v||!g&&!x&&o._start===bw(M._time)&&B_(v)&&zw($x(o))&&"nested"!==M.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-m)||0)),w&&Gw($x(o),w),o}jx(t,e);var n=t.prototype;return n.render=function e(t,n,i){var r,o,a,s,l,c,u,h,d,p=this._time,f=this._tDur,g=this._dur,m=t<0,v=t>f-C_&&!m?f:t<C_?0:t;if(g){if(v!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(r=v,h=this.timeline,this._repeat){if(s=g+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+t,n,i);if(r=bw(v%s),v===f?(a=this._repeat,r=g):(a=~~(l=bw(v/s)))&&a===l?(r=g,a--):r>g&&(r=g),(c=this._yoyo&&1&a)&&(d=this._yEase,r=g-r),l=Vw(this._tTime,s),r===p&&!i&&this._initted&&a===l)return this._tTime=v,this;a!==l&&(h&&this._yEase&&PS(h,c),this.vars.repeatRefresh&&!c&&!this._lock&&r!==s&&this._initted&&(this._lock=i=1,this.render(bw(s*a),!0).invalidate()._lock=0))}if(!this._initted){if(Uw(this,m?t:r,i,n,v))return this._tTime=0,this;if(!(p===this._time||i&&this.vars.repeatRefresh&&a!==l))return this;if(g!==this._dur)return this.render(t,n,i)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(d||this._ease)(r/g),this._from&&(this.ratio=u=1-u),!p&&v&&!n&&!l&&(mS(this,"onStart"),this._tTime!==v))return this;for(o=this._pt;o;)o.r(u,o.d),o=o._next;h&&h.render(t<0?t:h._dur*h._ease(r/this._dur),n,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!n&&(m&&Pw(this,t,0,i),mS(this,"onUpdate")),this._repeat&&a!==l&&this.vars.onRepeat&&!n&&this.parent&&mS(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(m&&!this._onUpdate&&Pw(this,t,0,!0),(t||!g)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Rw(this,1),n||m&&!p||!(v||p||c)||(mS(this,v===f?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom()))}}else!function e(t,n,i,r){var o,a,s,l=t.ratio,c=n<0||!n&&(!t._start&&Xw(t)&&(t._initted||!qw(t))||(t._ts<0||t._dp._ts<0)&&!qw(t))?0:1,u=t._rDelay,h=0;if(u&&t._repeat&&(h=tS(0,t._tDur,n),a=Vw(h,u),t._yoyo&&1&a&&(c=1-c),a!==Vw(t._tTime,u)&&(l=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==l||Ux||r||t._zTime===C_||!n&&t._zTime){if(!t._initted&&Uw(t,n,r,i,h))return;for(s=t._zTime,t._zTime=n||(i?C_:0),i||(i=n&&!s),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=h,o=t._pt;o;)o.r(c,o.d),o=o._next;n<0&&Pw(t,n,0,!0),t._onUpdate&&!i&&mS(t,"onUpdate"),h&&t._repeat&&!i&&t.parent&&mS(t,"onRepeat"),(n>=t._tDur||n<0)&&t.ratio===c&&(c&&Rw(t,1),i||Ux||(mS(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=n)}(this,t,n,i);return this},n.targets=function e(){return this._targets},n.invalidate=function t(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),e.prototype.invalidate.call(this,n)},n.resetTo=function e(t,n,i,r,o){t_||IS.wake(),this._ts||this.play();var a=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||ZS(this,a),function e(t,n,i,r,o,a,s,l){var c,u,h,d,p=(t._pt&&t._ptCache||(t._ptCache={}))[n];if(!p)for(p=t._ptCache[n]=[],h=t._ptLookup,d=t._targets.length;d--;){if((c=h[d][n])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==n&&c.fp!==n;)c=c._next;if(!c)return US=1,t.vars[n]="+=0",ZS(t,s),US=0,l?ew():1;p.push(c)}for(d=p.length;d--;)(c=(u=p[d])._pt||u).s=!r&&0!==r||o?c.s+(r||0)+a*c.c:r,c.c=i-c.s,u.e&&(u.e=yw(i)+nS(u.e)),u.b&&(u.b=c.s+nS(u.b))}(this,t,n,i,r,this._ease(a/this._dur),a,o)?this.resetTo(t,n,i,r,1):(Ww(this,0),this.parent||Ew(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function e(t,n){if(void 0===n&&(n="all"),!(t||n&&"all"!==n))return this._lazy=this._pt=0,this.parent?vS(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ux),this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,n,GS&&!0!==GS.vars.overwrite)._first||vS(this),this.parent&&i!==this.timeline.totalDuration()&&Yw(this,this._dur*this.timeline._tDur/i,0,1),this}var r,o,a,s,l,c,u,h=this._targets,d=t?oS(t):h,p=this._ptLookup,f=this._pt;if((!n||"all"===n)&&function e(t,n){for(var i=t.length,r=i===n.length;r&&i--&&t[i]===n[i];);return i<0}(h,d))return"all"===n&&(this._pt=0),vS(this);for(r=this._op=this._op||[],"all"!==n&&(L_(n)&&(l={},vw(n,function(e){return l[e]=1}),n=l),n=function e(t,n){var i,r,o,a,s=t[0]?gw(t[0]).harness:0,l=s&&s.aliases;if(!l)return n;for(r in i=Aw({},n),l)if(r in i)for(o=(a=l[r].split(",")).length;o--;)i[a[o]]=i[r];return i}(h,n)),u=h.length;u--;)if(~d.indexOf(h[u]))for(l in o=p[u],"all"===n?(r[u]=n,s=o,a={}):(a=r[u]=r[u]||{},s=n),s)(c=o&&o[l])&&("kill"in c.d&&!0!==c.d.kill(l)||Lw(this,c,"_pt"),delete o[l]),"all"!==a&&(a[l]=1);return this._initted&&!this._pt&&f&&vS(this),this},t.to=function e(n,i){return new t(n,i,arguments[2])},t.from=function e(t,n){return Qw(1,arguments)},t.delayedCall=function e(n,i,r,o){return new t(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:i,onReverseComplete:i,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:o})},t.fromTo=function e(t,n,i){return Qw(2,arguments)},t.set=function e(n,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new t(n,i)},t.killTweensOf=function e(t,n,i){return qx.killTweensOf(t,n,i)},t}($S);Tw(tM.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),vw("staggerTo,staggerFrom,staggerFromTo",function(e){tM[e]=function(){var t=new jS,n=iS.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var nM=function e(t,n,i){return t[n]=i},iM=function e(t,n,i){return t[n](i)},rM=function e(t,n,i,r){return t[n](r.fp,i)},oM=function e(t,n,i){return t.setAttribute(n,i)},aM=function e(t,n){return R_(t[n])?iM:P_(t[n])&&t.setAttribute?oM:nM},sM=function e(t,n){return n.set(n.t,n.p,Math.round(1e6*(n.s+n.c*t))/1e6,n)},lM=function e(t,n){return n.set(n.t,n.p,!!(n.s+n.c*t),n)},cM=function e(t,n){var i=n._pt,r="";if(!t&&n.b)r=n.b;else if(1===t&&n.e)r=n.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+r,i=i._next;r+=n.c}n.set(n.t,n.p,r,n)},uM=function e(t,n){for(var i=n._pt;i;)i.r(t,i.d),i=i._next},hM=function e(t,n,i,r){for(var o,a=this._pt;a;)o=a._next,a.p===r&&a.modifier(t,n,i),a=o},dM=function e(t){for(var n,i,r=this._pt;r;)i=r._next,r.p===t&&!r.op||r.op===t?Lw(this,r,"_pt"):r.dep||(n=1),r=i;return!n},pM=function e(t,n,i,r){r.mSet(t,n,r.m.call(r.tween,i,r.mt),r)},fM=function e(t){for(var n,i,r,o,a=t._pt;a;){for(n=a._next,i=r;i&&i.pr>a.pr;)i=i._next;(a._prev=i?i._prev:o)?a._prev._next=a:r=a,(a._next=i)?i._prev=a:o=a,a=n}t._pt=r},gM=function(){function e(e,t,n,i,r,o,a,s,l){this.t=t,this.s=i,this.c=r,this.p=n,this.r=o||sM,this.d=a||this,this.set=s||nM,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function e(t,n,i){this.mSet=this.mSet||this.set,this.set=pM,this.m=t,this.mt=i,this.tween=n},e}();vw(pw+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return aw[e]=1}),Z_.TweenMax=Z_.TweenLite=tM,Z_.TimelineLite=Z_.TimelineMax=jS,qx=new jS({sortChildren:!1,defaults:M_,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),S_.stringFilter=AS;var mM=[],vM={},yM=[],bM=0,xM=0,_M=function e(t){return(vM[t]||yM).map(function(e){return e()})},wM=function e(){var t=Date.now(),n=[];t-bM>2&&(_M("matchMediaInit"),mM.forEach(function(e){var t,i,r,o,a=e.queries,s=e.conditions;for(i in a)(t=Yx.matchMedia(a[i]).matches)&&(r=1),t!==s[i]&&(s[i]=t,o=1);o&&(e.revert(),r&&n.push(e))}),_M("matchMediaRevert"),n.forEach(function(e){return e.onMatch(e,function(t){return e.add(null,t)})}),bM=t,_M("matchMedia"))},SM=function(){function e(e,t){this.selector=t&&aS(t),this.data=[],this._r=[],this.isReverted=!1,this.id=xM++,e&&this.add(e)}var t=e.prototype;return t.add=function e(t,n,i){R_(t)&&(i=n,n=t,t=R_);var r=this,o=function e(){var t,o=Xx,a=r.selector;return o&&o!==r&&o.data.push(r),i&&(r.selector=aS(i)),Xx=r,t=n.apply(r,arguments),R_(t)&&r._r.push(t),Xx=o,r.selector=a,r.isReverted=!1,t};return r.last=o,t===R_?o(r,function(e){return r.add(null,e)}):t?r[t]=o:o},t.ignore=function e(t){var n=Xx;Xx=null,t(this),Xx=n},t.getTweens=function t(){var n=[];return this.data.forEach(function(t){return t instanceof e?n.push.apply(n,t.getTweens()):t instanceof tM&&!(t.parent&&"nested"===t.parent.data)&&n.push(t)}),n},t.clear=function e(){this._r.length=this.data.length=0},t.kill=function e(t,n){var i=this;if(t?function(){for(var e,n=i.getTweens(),r=i.data.length;r--;)"isFlip"===(e=i.data[r]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach(function(e){return n.splice(n.indexOf(e),1)}));for(n.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(e){return e.t.revert(t)}),r=i.data.length;r--;)(e=i.data[r])instanceof jS?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof tM)&&e.revert&&e.revert(t);i._r.forEach(function(e){return e(t,i)}),i.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),n)for(var r=mM.length;r--;)mM[r].id===this.id&&mM.splice(r,1)},t.revert=function e(t){this.kill(t||{})},e}(),MM=function(){function e(e){this.contexts=[],this.scope=e,Xx&&Xx.data.push(this)}var t=e.prototype;return t.add=function e(t,n,i){z_(t)||(t={matches:t});var r,o,a,s=new SM(0,i||this.scope),l=s.conditions={};for(o in Xx&&!s.selector&&(s.selector=Xx.selector),this.contexts.push(s),n=s.add("onMatch",n),s.queries=t,t)"all"===o?a=1:(r=Yx.matchMedia(t[o]))&&(mM.indexOf(s)<0&&mM.push(s),(l[o]=r.matches)&&(a=1),r.addListener?r.addListener(wM):r.addEventListener("change",wM));return a&&n(s,function(e){return s.add(null,e)}),this},t.revert=function e(t){this.kill(t||{})},t.kill=function e(t){this.contexts.forEach(function(e){return e.kill(t,!0)})},e}(),kM={registerPlugin:function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach(function(e){return bS(e)})},timeline:function e(t){return new jS(t)},getTweensOf:function e(t,n){return qx.getTweensOf(t,n)},getProperty:function e(t,n,i,r){L_(t)&&(t=oS(t)[0]);var o=gw(t||{}).get,a=i?Cw:kw;return"native"===i&&(i=""),t?n?a((cw[n]&&cw[n].get||o)(t,n,i,r)):function(e,n,i){return a((cw[e]&&cw[e].get||o)(t,e,n,i))}:t},quickSetter:function e(t,n,i){if((t=oS(t)).length>1){var r=t.map(function(e){return AM.quickSetter(e,n,i)}),o=r.length;return function(e){for(var t=o;t--;)r[t](e)}}t=t[0]||{};var a=cw[n],s=gw(t),l=s.harness&&(s.harness.aliases||{})[n]||n,c=a?function(e){var n=new a;e_._pt=0,n.init(t,i?e+i:e,e_,0,[t]),n.render(1,n),e_._pt&&uM(1,e_)}:s.set(t,l);return a?c:function(e){return c(t,l,i?e+i:e,s,1)}},quickTo:function e(t,n,i){var r,o=AM.to(t,Tw(((r={})[n]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),a=function e(t,i,r){return o.resetTo(n,t,i,r)};return a.tween=o,a},isTweening:function e(t){return qx.getTweensOf(t,!0).length>0},defaults:function e(t){return t&&t.ease&&(t.ease=zS(t.ease,M_.ease)),Iw(M_,t||{})},config:function e(t){return Iw(S_,t||{})},registerEffect:function e(t){var n=t.name,i=t.effect,r=t.plugins,o=t.defaults,a=t.extendTimeline;(r||"").split(",").forEach(function(e){return e&&!cw[e]&&!Z_[e]&&ew()}),uw[n]=function(e,t,n){return i(oS(e),Tw(t||{},o),n)},a&&(jS.prototype[n]=function(e,t,i){return this.add(uw[n](e,z_(t)?t:(i=t)&&{},this),i)})},registerEase:function e(t,n){OS[t]=zS(n)},parseEase:function e(t,n){return arguments.length?zS(t,n):OS},getById:function e(t){return qx.getById(t)},exportRoot:function e(t,n){void 0===t&&(t={});var i,r,o=new jS(t);for(o.smoothChildTiming=B_(t.smoothChildTiming),qx.remove(o),o._dp=0,o._time=o._tTime=qx._time,i=qx._first;i;)r=i._next,!n&&!i._dur&&i instanceof tM&&i.vars.onComplete===i._targets[0]||jw(o,i,i._start-i._delay),i=r;return jw(qx,o,0),o},context:function e(t,n){return t?new SM(t,n):Xx},matchMedia:function e(t){return new MM(t)},matchMediaRefresh:function e(){return mM.forEach(function(e){var t,n,i=e.conditions;for(n in i)i[n]&&(i[n]=!1,t=1);t&&e.revert()})||wM()},addEventListener:function e(t,n){var i=vM[t]||(vM[t]=[]);~i.indexOf(n)||i.push(n)},removeEventListener:function e(t,n){var i=vM[t],r=i&&i.indexOf(n);r>=0&&i.splice(r,1)},utils:{wrap:function e(t,n,i){var r=n-t;return W_(t)?dS(t,e(0,t.length),n):eS(i,function(e){return(r+(e-t)%r)%r+t})},wrapYoyo:function e(t,n,i){var r=n-t,o=2*r;return W_(t)?dS(t,e(0,t.length-1),n):eS(i,function(e){return t+((e=(o+(e-t)%o)%o||0)>r?o-e:e)})},distribute:lS,random:hS,snap:uS,normalize:function e(t,n,i){return fS(t,n,0,1,i)},getUnit:nS,clamp:function e(t,n,i){return eS(i,function(e){return tS(t,n,e)})},splitColor:SS,toArray:oS,selector:aS,mapRange:fS,pipe:function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(e){return n.reduce(function(e,t){return t(e)},e)}},unitize:function e(t,n){return function(e){return t(parseFloat(e))+(n||nS(e))}},interpolate:function e(t,n,i,r){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var a,s,l,c,u,h=L_(t),d={};if(!0===i&&(r=1)&&(i=null),h)t={p:t},n={p:n};else if(W_(t)&&!W_(n)){for(l=[],c=t.length,u=c-2,s=1;s<c;s++)l.push(e(t[s-1],t[s]));c--,o=function e(t){t*=c;var n=Math.min(u,~~t);return l[n](t-n)},i=n}else r||(t=Aw(W_(t)?[]:{},t));if(!l){for(a in n)qS.call(d,t,a,"get",n[a]);o=function e(n){return uM(n,d)||(h?t.p:t)}}}return eS(i,o)},shuffle:sS},install:J_,effects:uw,ticker:IS,updateRoot:jS.updateRoot,plugins:cw,globalTimeline:qx,core:{PropTween:gM,globals:tw,Tween:tM,Timeline:jS,Animation:$S,getCache:gw,_removeLinkedListItem:Lw,reverting:function e(){return Ux},context:function e(t){return t&&Xx&&(Xx.data.push(t),t._ctx=Xx),Xx},suppressOverwrites:function e(t){return Gx=t}}};vw("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return kM[e]=tM[e]}),IS.add(jS.updateRoot),e_=kM.to({},{duration:0});var CM=function e(t,n){for(var i=t._pt;i&&i.p!==n&&i.op!==n&&i.fp!==n;)i=i._next;return i},TM=function e(t,n){return{name:t,headless:1,rawVars:1,init:function e(t,i,r){r._onInit=function(e){var t,r;if(L_(i)&&(t={},vw(i,function(e){return t[e]=1}),i=t),n){for(r in t={},i)t[r]=n(i[r]);i=t}!function e(t,n){var i,r,o,a=t._targets;for(i in n)for(r=a.length;r--;)(o=t._ptLookup[r][i])&&(o=o.d)&&(o._pt&&(o=CM(o,i)),o&&o.modifier&&o.modifier(n[i],t,a[r],i))}(e,i)}}}},AM=kM.registerPlugin({name:"attr",init:function e(t,n,i,r,o){var a,s,l;for(a in this.tween=i,n)l=t.getAttribute(a)||"",(s=this.add(t,"setAttribute",(l||0)+"",n[a],r,o,0,0,a)).op=a,s.b=l,this._props.push(a)},render:function e(t,n){for(var i=n._pt;i;)Ux?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",headless:1,init:function e(t,n){for(var i=n.length;i--;)this.add(t,i,t[i]||0,n[i],0,0,0,0,0,1)}},TM("roundProps",cS),TM("modifiers"),TM("snap",uS))||kM;tM.version=jS.version=AM.version="3.13.0",Jx=1,V_()&&DS(),OS.Power0,OS.Power1,OS.Power2,OS.Power3,OS.Power4,OS.Linear,OS.Quad,OS.Cubic,OS.Quart,OS.Quint,OS.Strong,OS.Elastic,OS.Back,OS.SteppedEase,OS.Bounce,OS.Sine,OS.Expo,OS.Circ;var IM,DM,OM,EM,LM,RM,NM,PM,zM={},BM=180/Math.PI,VM=Math.PI/180,FM=Math.atan2,HM=/([A-Z])/g,WM=/(left|right|width|margin|padding|x)/i,$M=/[\s,\(]\S/,jM={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},GM=function e(t,n){return n.set(n.t,n.p,Math.round(1e4*(n.s+n.c*t))/1e4+n.u,n)},UM=function e(t,n){return n.set(n.t,n.p,1===t?n.e:Math.round(1e4*(n.s+n.c*t))/1e4+n.u,n)},XM=function e(t,n){return n.set(n.t,n.p,t?Math.round(1e4*(n.s+n.c*t))/1e4+n.u:n.b,n)},qM=function e(t,n){var i=n.s+n.c*t;n.set(n.t,n.p,~~(i+(i<0?-.5:.5))+n.u,n)},YM=function e(t,n){return n.set(n.t,n.p,t?n.e:n.b,n)},ZM=function e(t,n){return n.set(n.t,n.p,1!==t?n.b:n.e,n)},KM=function e(t,n,i){return t.style[n]=i},JM=function e(t,n,i){return t.style.setProperty(n,i)},QM=function e(t,n,i){return t._gsap[n]=i},ek=function e(t,n,i){return t._gsap.scaleX=t._gsap.scaleY=i},tk=function e(t,n,i,r,o){var a=t._gsap;a.scaleX=a.scaleY=i,a.renderTransform(o,a)},nk=function e(t,n,i,r,o){var a=t._gsap;a[n]=i,a.renderTransform(o,a)},ik="transform",rk=ik+"Origin",ok=function e(t,n){var i=this,r=this.target,o=r.style,a=r._gsap;if(t in zM&&o){if(this.tfm=this.tfm||{},"transform"===t)return jM.transform.split(",").forEach(function(t){return e.call(i,t,n)});if(~(t=jM[t]||t).indexOf(",")?t.split(",").forEach(function(e){return i.tfm[e]=Sk(r,e)}):this.tfm[t]=a.x?a[t]:Sk(r,t),t===rk&&(this.tfm.zOrigin=a.zOrigin),this.props.indexOf(ik)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(rk,n,"")),t=ik}(o||n)&&this.props.push(t,n,o[t])},ak=function e(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},sk=function e(){var t,n,i=this.props,r=this.target,o=r.style,a=r._gsap;for(t=0;t<i.length;t+=3)i[t+1]?2===i[t+1]?r[i[t]](i[t+2]):r[i[t]]=i[t+2]:i[t+2]?o[i[t]]=i[t+2]:o.removeProperty("--"===i[t].substr(0,2)?i[t]:i[t].replace(HM,"-$1").toLowerCase());if(this.tfm){for(n in this.tfm)a[n]=this.tfm[n];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(t=NM())&&t.isStart||o[ik]||(ak(o),a.zOrigin&&o[rk]&&(o[rk]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},lk=function e(t,n){var i={target:t,props:[],revert:sk,save:ok};return t._gsap||AM.core.getCache(t),n&&t.style&&t.nodeType&&n.split(",").forEach(function(e){return i.save(e)}),i},ck=function e(t,n){var i=DM.createElementNS?DM.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):DM.createElement(t);return i&&i.style?i:DM.createElement(t)},uk=function e(t,n,i){var r=getComputedStyle(t);return r[n]||r.getPropertyValue(n.replace(HM,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&e(t,dk(n)||n,1)||""},hk="O,Moz,ms,Ms,Webkit".split(","),dk=function e(t,n,i){var r=(n||LM).style,o=5;if(t in r&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(hk[o]+t in r););return o<0?null:(3===o?"ms":o>=0?hk[o]:"")+t},pk=function e(){(function e(){return"undefined"!=typeof window})()&&window.document&&(IM=window,DM=IM.document,OM=DM.documentElement,LM=ck("div")||{style:{}},ck("div"),ik=dk(ik),rk=ik+"Origin",LM.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",PM=!!dk("perspective"),NM=AM.core.reverting,EM=1)},fk=function e(t){var n,i=t.ownerSVGElement,r=ck("svg",i&&i.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),o=t.cloneNode(!0);o.style.display="block",r.appendChild(o),OM.appendChild(r);try{n=o.getBBox()}catch(kLe){}return r.removeChild(o),OM.removeChild(r),n},gk=function e(t,n){for(var i=n.length;i--;)if(t.hasAttribute(n[i]))return t.getAttribute(n[i])},mk=function e(t){var n,i;try{n=t.getBBox()}catch(r){n=fk(t),i=1}return n&&(n.width||n.height)||i||(n=fk(t)),!n||n.width||n.x||n.y?n:{x:+gk(t,["x","cx","x1"])||0,y:+gk(t,["y","cy","y1"])||0,width:0,height:0}},vk=function e(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!mk(t))},yk=function e(t,n){if(n){var i,r=t.style;n in zM&&n!==rk&&(n=ik),r.removeProperty?("ms"!==(i=n.substr(0,2))&&"webkit"!==n.substr(0,6)||(n="-"+n),r.removeProperty("--"===i?n:n.replace(HM,"-$1").toLowerCase())):r.removeAttribute(n)}},bk=function e(t,n,i,r,o,a){var s=new gM(t._pt,n,i,0,1,a?ZM:YM);return t._pt=s,s.b=r,s.e=o,t._props.push(i),s},xk={deg:1,rad:1,turn:1},_k={grid:1,flex:1},wk=function e(t,n,i,r){var o,a,s,l,c=parseFloat(i)||0,u=(i+"").trim().substr((c+"").length)||"px",h=LM.style,d=WM.test(n),p="svg"===t.tagName.toLowerCase(),f=(p?"client":"offset")+(d?"Width":"Height"),g=100,m="px"===r,v="%"===r;if(r===u||!c||xk[r]||xk[u])return c;if("px"!==u&&!m&&(c=e(t,n,i,"px")),l=t.getCTM&&vk(t),(v||"%"===u)&&(zM[n]||~n.indexOf("adius")))return o=l?t.getBBox()[d?"width":"height"]:t[f],yw(v?c/o*g:c/100*o);if(h[d?"width":"height"]=g+(m?u:r),a="rem"!==r&&~n.indexOf("adius")||"em"===r&&t.appendChild&&!p?t:t.parentNode,l&&(a=(t.ownerSVGElement||{}).parentNode),a&&a!==DM&&a.appendChild||(a=DM.body),(s=a._gsap)&&v&&s.width&&d&&s.time===IS.time&&!s.uncache)return yw(c/s.width*g);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!_k[uk(a,"display")]&&(h.position=uk(t,"position")),a===t&&(h.position="static"),a.appendChild(LM),o=LM[f],a.removeChild(LM),h.position="absolute";else{var y=t.style[n];t.style[n]=g+r,o=t[f],y?t.style[n]=y:yk(t,n)}return d&&v&&((s=gw(a)).time=IS.time,s.width=a[f]),yw(m?o*c/g:o&&c?g/o*c:0)},Sk=function e(t,n,i,r){var o;return EM||pk(),n in jM&&"transform"!==n&&~(n=jM[n]).indexOf(",")&&(n=n.split(",")[0]),zM[n]&&"transform"!==n?(o=Nk(t,r),o="transformOrigin"!==n?o[n]:o.svg?o.origin:Pk(uk(t,rk))+" "+o.zOrigin+"px"):(!(o=t.style[n])||"auto"===o||r||~(o+"").indexOf("calc("))&&(o=Ak[n]&&Ak[n](t,n,i)||uk(t,n)||mw(t,n)||("opacity"===n?1:0)),i&&!~(o+"").trim().indexOf(" ")?wk(t,n,o,i)+i:o},Mk=function e(t,n,i,r){if(!i||"none"===i){var o=dk(n,t,1),a=o&&uk(t,o,1);a&&a!==i?(n=o,i=a):"borderColor"===n&&(i=uk(t,"borderTopColor"))}var s,l,c,u,h,d,p,f,g,m,v,y=new gM(this._pt,t.style,n,0,1,cM),b=0,x=0;if(y.b=i,y.e=r,i+="","var(--"===(r+="").substring(0,6)&&(r=uk(t,r.substring(4,r.indexOf(")")))),"auto"===r&&(d=t.style[n],t.style[n]=r,r=uk(t,n)||r,d?t.style[n]=d:yk(t,n)),AS(s=[i,r]),r=s[1],c=(i=s[0]).match(G_)||[],(r.match(G_)||[]).length){for(;l=G_.exec(r);)p=l[0],g=r.substring(b,l.index),h?h=(h+1)%5:"rgba("!==g.substr(-5)&&"hsla("!==g.substr(-5)||(h=1),p!==(d=c[x++]||"")&&(u=parseFloat(d)||0,v=d.substr((u+"").length),"="===p.charAt(1)&&(p=xw(u,p)+v),f=parseFloat(p),m=p.substr((f+"").length),b=G_.lastIndex-m.length,m||(m=m||S_.units[n]||v,b===r.length&&(r+=m,y.e+=m)),v!==m&&(u=wk(t,n,d,m)||0),y._pt={_next:y._pt,p:g||1===x?g:",",s:u,c:f-u,m:h&&h<4||"zIndex"===n?Math.round:0});y.c=b<r.length?r.substring(b,r.length):""}else y.r="display"===n&&"none"===r?ZM:YM;return X_.test(r)&&(y.e=0),this._pt=y,y},kk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ck=function e(t){var n=t.split(" "),i=n[0],r=n[1]||"50%";return"top"!==i&&"bottom"!==i&&"left"!==r&&"right"!==r||(t=i,i=r,r=t),n[0]=kk[i]||i,n[1]=kk[r]||r,n.join(" ")},Tk=function e(t,n){if(n.tween&&n.tween._time===n.tween._dur){var i,r,o,a=n.t,s=a.style,l=n.u,c=a._gsap;if("all"===l||!0===l)s.cssText="",r=1;else for(o=(l=l.split(",")).length;--o>-1;)i=l[o],zM[i]&&(r=1,i="transformOrigin"===i?rk:ik),yk(a,i);r&&(yk(a,ik),c&&(c.svg&&a.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Nk(a,1),c.uncache=1,ak(s)))}},Ak={clearProps:function e(t,n,i,r,o){if("isFromStart"!==o.data){var a=t._pt=new gM(t._pt,n,i,0,0,Tk);return a.u=r,a.pr=-10,a.tween=o,t._props.push(i),1}}},Ik=[1,0,0,1,0,0],Dk={},Ok=function e(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Ek=function e(t){var n=uk(t,ik);return Ok(n)?Ik:n.substr(7).match(j_).map(yw)},Lk=function e(t,n){var i,r,o,a,s=t._gsap||gw(t),l=t.style,c=Ek(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(o=t.transform.baseVal.consolidate().matrix).a,o.b,o.c,o.d,o.e,o.f]).join(",")?Ik:c:(c!==Ik||t.offsetParent||t===OM||s.svg||(o=l.display,l.display="block",(i=t.parentNode)&&(t.offsetParent||t.getBoundingClientRect().width)||(a=1,r=t.nextElementSibling,OM.appendChild(t)),c=Ek(t),o?l.display=o:yk(t,"display"),a&&(r?i.insertBefore(t,r):i?i.appendChild(t):OM.removeChild(t))),n&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},Rk=function e(t,n,i,r,o,a){var s,l,c,u=t._gsap,h=o||Lk(t,!0),d=u.xOrigin||0,p=u.yOrigin||0,f=u.xOffset||0,g=u.yOffset||0,m=h[0],v=h[1],y=h[2],b=h[3],x=h[4],_=h[5],w=n.split(" "),S=parseFloat(w[0])||0,M=parseFloat(w[1])||0;i?h!==Ik&&(l=m*b-v*y)&&(c=S*(-v/l)+M*(m/l)-(m*_-v*x)/l,S=S*(b/l)+M*(-y/l)+(y*_-b*x)/l,M=c):(S=(s=mk(t)).x+(~w[0].indexOf("%")?S/100*s.width:S),M=s.y+(~(w[1]||w[0]).indexOf("%")?M/100*s.height:M)),r||!1!==r&&u.smooth?(x=S-d,_=M-p,u.xOffset=f+(x*m+_*y)-x,u.yOffset=g+(x*v+_*b)-_):u.xOffset=u.yOffset=0,u.xOrigin=S,u.yOrigin=M,u.smooth=!!r,u.origin=n,u.originIsAbsolute=!!i,t.style[rk]="0px 0px",a&&(bk(a,u,"xOrigin",d,S),bk(a,u,"yOrigin",p,M),bk(a,u,"xOffset",f,u.xOffset),bk(a,u,"yOffset",g,u.yOffset)),t.setAttribute("data-svg-origin",S+" "+M)},Nk=function e(t,n){var i=t._gsap||new WS(t);if("x"in i&&!n&&!i.uncache)return i;var r,o,a,s,l,c,u,h,d,p,f,g,m,v,y,b,x,_,w,S,M,k,C,T,A,I,D,O,E,L,R,N,P=t.style,z=i.scaleX<0,B="px",V="deg",F=getComputedStyle(t),H=uk(t,rk)||"0";return r=o=a=c=u=h=d=p=f=0,s=l=1,i.svg=!(!t.getCTM||!vk(t)),F.translate&&("none"===F.translate&&"none"===F.scale&&"none"===F.rotate||(P[ik]=("none"!==F.translate?"translate3d("+(F.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==F.rotate?"rotate("+F.rotate+") ":"")+("none"!==F.scale?"scale("+F.scale.split(" ").join(",")+") ":"")+("none"!==F[ik]?F[ik]:"")),P.scale=P.rotate=P.translate="none"),v=Lk(t,i.svg),i.svg&&(i.uncache?(A=t.getBBox(),H=i.xOrigin-A.x+"px "+(i.yOrigin-A.y)+"px",T=""):T=!n&&t.getAttribute("data-svg-origin"),Rk(t,T||H,!!T||i.originIsAbsolute,!1!==i.smooth,v)),g=i.xOrigin||0,m=i.yOrigin||0,v!==Ik&&(_=v[0],w=v[1],S=v[2],M=v[3],r=k=v[4],o=C=v[5],6===v.length?(s=Math.sqrt(_*_+w*w),l=Math.sqrt(M*M+S*S),c=_||w?FM(w,_)*BM:0,(d=S||M?FM(S,M)*BM+c:0)&&(l*=Math.abs(Math.cos(d*VM))),i.svg&&(r-=g-(g*_+m*S),o-=m-(g*w+m*M))):(N=v[6],L=v[7],D=v[8],O=v[9],E=v[10],R=v[11],r=v[12],o=v[13],a=v[14],u=(y=FM(N,E))*BM,y&&(T=k*(b=Math.cos(-y))+D*(x=Math.sin(-y)),A=C*b+O*x,I=N*b+E*x,D=k*-x+D*b,O=C*-x+O*b,E=N*-x+E*b,R=L*-x+R*b,k=T,C=A,N=I),h=(y=FM(-S,E))*BM,y&&(b=Math.cos(-y),R=M*(x=Math.sin(-y))+R*b,_=T=_*b-D*x,w=A=w*b-O*x,S=I=S*b-E*x),c=(y=FM(w,_))*BM,y&&(T=_*(b=Math.cos(y))+w*(x=Math.sin(y)),A=k*b+C*x,w=w*b-_*x,C=C*b-k*x,_=T,k=A),u&&Math.abs(u)+Math.abs(c)>359.9&&(u=c=0,h=180-h),s=yw(Math.sqrt(_*_+w*w+S*S)),l=yw(Math.sqrt(C*C+N*N)),y=FM(k,C),d=Math.abs(y)>2e-4?y*BM:0,f=R?1/(R<0?-R:R):0),i.svg&&(T=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Ok(uk(t,ik)),T&&t.setAttribute("transform",T))),Math.abs(d)>90&&Math.abs(d)<270&&(z?(s*=-1,d+=c<=0?180:-180,c+=c<=0?180:-180):(l*=-1,d+=d<=0?180:-180)),n=n||i.uncache,i.x=r-((i.xPercent=r&&(!n&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+B,i.y=o-((i.yPercent=o&&(!n&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-o)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+B,i.z=a+B,i.scaleX=yw(s),i.scaleY=yw(l),i.rotation=yw(c)+V,i.rotationX=yw(u)+V,i.rotationY=yw(h)+V,i.skewX=d+V,i.skewY=p+V,i.transformPerspective=f+B,(i.zOrigin=parseFloat(H.split(" ")[2])||!n&&i.zOrigin||0)&&(P[rk]=Pk(H)),i.xOffset=i.yOffset=0,i.force3D=S_.force3D,i.renderTransform=i.svg?$k:PM?Wk:Bk,i.uncache=0,i},Pk=function e(t){return(t=t.split(" "))[0]+" "+t[1]},zk=function e(t,n,i){var r=nS(n);return yw(parseFloat(n)+parseFloat(wk(t,"x",i+"px",r)))+r},Bk=function e(t,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Wk(t,n)},Vk="0deg",Fk="0px",Hk=") ",Wk=function e(t,n){var i=n||this,r=i.xPercent,o=i.yPercent,a=i.x,s=i.y,l=i.z,c=i.rotation,u=i.rotationY,h=i.rotationX,d=i.skewX,p=i.skewY,f=i.scaleX,g=i.scaleY,m=i.transformPerspective,v=i.force3D,y=i.target,b=i.zOrigin,x="",_="auto"===v&&t&&1!==t||!0===v;if(b&&(h!==Vk||u!==Vk)){var w,S=parseFloat(u)*VM,M=Math.sin(S),k=Math.cos(S);S=parseFloat(h)*VM,w=Math.cos(S),a=zk(y,a,M*w*-b),s=zk(y,s,-Math.sin(S)*-b),l=zk(y,l,k*w*-b+b)}m!==Fk&&(x+="perspective("+m+Hk),(r||o)&&(x+="translate("+r+"%, "+o+"%) "),(_||a!==Fk||s!==Fk||l!==Fk)&&(x+=l!==Fk||_?"translate3d("+a+", "+s+", "+l+") ":"translate("+a+", "+s+Hk),c!==Vk&&(x+="rotate("+c+Hk),u!==Vk&&(x+="rotateY("+u+Hk),h!==Vk&&(x+="rotateX("+h+Hk),d===Vk&&p===Vk||(x+="skew("+d+", "+p+Hk),1===f&&1===g||(x+="scale("+f+", "+g+Hk),y.style[ik]=x||"translate(0, 0)"},$k=function e(t,n){var i,r,o,a,s,l=n||this,c=l.xPercent,u=l.yPercent,h=l.x,d=l.y,p=l.rotation,f=l.skewX,g=l.skewY,m=l.scaleX,v=l.scaleY,y=l.target,b=l.xOrigin,x=l.yOrigin,_=l.xOffset,w=l.yOffset,S=l.forceCSS,M=parseFloat(h),k=parseFloat(d);p=parseFloat(p),f=parseFloat(f),(g=parseFloat(g))&&(f+=g=parseFloat(g),p+=g),p||f?(p*=VM,f*=VM,i=Math.cos(p)*m,r=Math.sin(p)*m,o=Math.sin(p-f)*-v,a=Math.cos(p-f)*v,f&&(g*=VM,s=Math.tan(f-g),o*=s=Math.sqrt(1+s*s),a*=s,g&&(s=Math.tan(g),i*=s=Math.sqrt(1+s*s),r*=s)),i=yw(i),r=yw(r),o=yw(o),a=yw(a)):(i=m,a=v,r=o=0),(M&&!~(h+"").indexOf("px")||k&&!~(d+"").indexOf("px"))&&(M=wk(y,"x",h,"px"),k=wk(y,"y",d,"px")),(b||x||_||w)&&(M=yw(M+b-(b*i+x*o)+_),k=yw(k+x-(b*r+x*a)+w)),(c||u)&&(s=y.getBBox(),M=yw(M+c/100*s.width),k=yw(k+u/100*s.height)),s="matrix("+i+","+r+","+o+","+a+","+M+","+k+")",y.setAttribute("transform",s),S&&(y.style[ik]=s)},jk=function e(t,n,i,r,o){var a,s,l=360,c=L_(o),u=parseFloat(o)*(c&&~o.indexOf("rad")?BM:1)-r,h=r+u+"deg";return c&&("short"===(a=o.split("_")[1])&&(u%=l)!==u%180&&(u+=u<0?l:-360),"cw"===a&&u<0?u=(u+36e9)%l-~~(u/l)*l:"ccw"===a&&u>0&&(u=(u-36e9)%l-~~(u/l)*l)),t._pt=s=new gM(t._pt,n,i,r,u,UM),s.e=h,s.u="deg",t._props.push(i),s},Gk=function e(t,n){for(var i in n)t[i]=n[i];return t},Uk=function e(t,n,i){var r,o,a,s,l,c,u,h=Gk({},i._gsap),d=i.style;for(o in h.svg?(a=i.getAttribute("transform"),i.setAttribute("transform",""),d[ik]=n,r=Nk(i,1),yk(i,ik),i.setAttribute("transform",a)):(a=getComputedStyle(i)[ik],d[ik]=n,r=Nk(i,1),d[ik]=a),zM)(a=h[o])!==(s=r[o])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(o)<0&&(l=nS(a)!==(u=nS(s))?wk(i,o,a,u):parseFloat(a),c=parseFloat(s),t._pt=new gM(t._pt,r,o,l,c-l,GM),t._pt.u=u||0,t._props.push(o));Gk(r,h)};vw("padding,margin,Width,Radius",function(e,t){var n="Top",i="Right",r="Bottom",o="Left",a=(t<3?[n,i,r,o]:[n+o,n+i,r+i,r+o]).map(function(n){return t<2?e+n:"border"+n+e});Ak[t>1?"border"+e:e]=function(e,t,n,i,r){var o,s;if(arguments.length<4)return o=a.map(function(t){return Sk(e,t,n)}),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(i+"").split(" "),s={},a.forEach(function(e,t){return s[e]=o[t]=o[t]||o[(t-1)/2|0]}),e.init(t,s,r)}});var Xk,qk,Yk,Zk={name:"css",register:pk,targetTest:function e(t){return t.style&&t.nodeType},init:function e(t,n,i,r,o){var a,s,l,c,u,h,d,p,f,g,m,v,y,b,x,_,w=this._props,S=t.style,M=i.vars.startAt;for(d in EM||pk(),this.styles=this.styles||lk(t),_=this.styles.props,this.tween=i,n)if("autoRound"!==d&&(s=n[d],!cw[d]||!YS(d,n,i,r,t,o)))if(u=typeof s,h=Ak[d],"function"===u&&(u=typeof(s=s.call(i,r,t,o))),"string"===u&&~s.indexOf("random(")&&(s=pS(s)),h)h(this,t,d,s,i)&&(x=1);else if("--"===d.substr(0,2))a=(getComputedStyle(t).getPropertyValue(d)+"").trim(),s+="",CS.lastIndex=0,CS.test(a)||(p=nS(a),f=nS(s)),f?p!==f&&(a=wk(t,d,a,f)+f):p&&(s+=p),this.add(S,"setProperty",a,s,r,o,0,0,d),w.push(d),_.push(d,0,S[d]);else if("undefined"!==u){if(M&&d in M?(a="function"==typeof M[d]?M[d].call(i,r,t,o):M[d],L_(a)&&~a.indexOf("random(")&&(a=pS(a)),nS(a+"")||"auto"===a||(a+=S_.units[d]||nS(Sk(t,d))||""),"="===(a+"").charAt(1)&&(a=Sk(t,d))):a=Sk(t,d),c=parseFloat(a),(g="string"===u&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),l=parseFloat(s),d in jM&&("autoAlpha"===d&&(1===c&&"hidden"===Sk(t,"visibility")&&l&&(c=0),_.push("visibility",0,S.visibility),bk(this,S,"visibility",c?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==d&&"transform"!==d&&~(d=jM[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in zM)if(this.styles.save(d),"string"===u&&"var(--"===s.substring(0,6)&&(s=uk(t,s.substring(4,s.indexOf(")"))),l=parseFloat(s)),v||((y=t._gsap).renderTransform&&!n.parseTransform||Nk(t,n.parseTransform),b=!1!==n.smoothOrigin&&y.smooth,(v=this._pt=new gM(this._pt,S,ik,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===d)this._pt=new gM(this._pt,y,"scaleY",y.scaleY,(g?xw(y.scaleY,g+l):l)-y.scaleY||0,GM),this._pt.u=0,w.push("scaleY",d),d+="X";else{if("transformOrigin"===d){_.push(rk,0,S[rk]),s=Ck(s),y.svg?Rk(t,s,0,b,0,this):((f=parseFloat(s.split(" ")[2])||0)!==y.zOrigin&&bk(this,y,"zOrigin",y.zOrigin,f),bk(this,S,d,Pk(a),Pk(s)));continue}if("svgOrigin"===d){Rk(t,s,1,b,0,this);continue}if(d in Dk){jk(this,y,d,c,g?xw(c,g+s):s);continue}if("smoothOrigin"===d){bk(this,y,"smooth",y.smooth,s);continue}if("force3D"===d){y[d]=s;continue}if("transform"===d){Uk(this,s,t);continue}}else d in S||(d=dk(d)||d);if(m||(l||0===l)&&(c||0===c)&&!$M.test(s)&&d in S)l||(l=0),(p=(a+"").substr((c+"").length))!==(f=nS(s)||(d in S_.units?S_.units[d]:p))&&(c=wk(t,d,a,f)),this._pt=new gM(this._pt,m?y:S,d,c,(g?xw(c,g+l):l)-c,m||"px"!==f&&"zIndex"!==d||!1===n.autoRound?GM:qM),this._pt.u=f||0,p!==f&&"%"!==f&&(this._pt.b=a,this._pt.r=XM);else if(d in S)Mk.call(this,t,d,a,g?g+s:s);else if(d in t)this.add(t,d,a||t[d],g?g+s:s,r,o);else if("parseTransform"!==d){Q_();continue}m||(d in S?_.push(d,0,S[d]):"function"==typeof t[d]?_.push(d,2,t[d]()):_.push(d,1,a||t[d])),w.push(d)}x&&fM(this)},render:function e(t,n){if(n.tween._time||!NM())for(var i=n._pt;i;)i.r(t,i.d),i=i._next;else n.styles.revert()},get:Sk,aliases:jM,getSetter:function e(t,n,i){var r=jM[n];return r&&r.indexOf(",")<0&&(n=r),n in zM&&n!==rk&&(t._gsap.x||Sk(t,"x"))?i&&RM===i?"scale"===n?ek:QM:(RM=i||{})&&("scale"===n?tk:nk):t.style&&!P_(t.style[n])?KM:~n.indexOf("-")?JM:aM(t,n)},core:{_removeProperty:yk,_getMatrix:Lk}};AM.utils.checkPrefix=dk,AM.core.getStyleSaver=lk,Yk=vw((Xk="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(qk="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){zM[e]=1}),vw(qk,function(e){S_.units[e]="deg",Dk[e]=1}),jM[Yk[13]]=Xk+","+qk,vw("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");jM[t[1]]=Yk[t[0]]}),vw("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){S_.units[e]="px"}),AM.registerPlugin(Zk);var Kk=AM.registerPlugin(Zk)||AM;function Jk(e,t,n){return t&&function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}Kk.core.Tween;var Qk,eC,tC,nC,iC,rC,oC,aC,sC,lC,cC,uC,hC,dC=function e(){return Qk||"undefined"!=typeof window&&(Qk=window.gsap)&&Qk.registerPlugin&&Qk},pC=1,fC=[],gC=[],mC=[],vC=Date.now,yC=function e(t,n){return n},bC=function e(t,n){return~mC.indexOf(t)&&mC[mC.indexOf(t)+1][n]},xC=function e(t){return!!~lC.indexOf(t)},_C=function e(t,n,i,r,o){return t.addEventListener(n,i,{passive:!1!==r,capture:!!o})},wC=function e(t,n,i,r){return t.removeEventListener(n,i,!!r)},SC="scrollLeft",MC="scrollTop",kC=function e(){return cC&&cC.isPressed||gC.cache++},CC=function e(t,n){var i=function e(i){if(i||0===i){pC&&(tC.history.scrollRestoration="manual");var r=cC&&cC.isPressed;i=e.v=Math.round(i)||(cC&&cC.iOS?1:0),t(i),e.cacheID=gC.cache,r&&yC("ss",i)}else(n||gC.cache!==e.cacheID||yC("ref"))&&(e.cacheID=gC.cache,e.v=t());return e.v+e.offset};return i.offset=0,t&&i},TC={s:SC,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:CC(function(e){return arguments.length?tC.scrollTo(e,AC.sc()):tC.pageXOffset||nC[SC]||iC[SC]||rC[SC]||0})},AC={s:MC,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:TC,sc:CC(function(e){return arguments.length?tC.scrollTo(TC.sc(),e):tC.pageYOffset||nC[MC]||iC[MC]||rC[MC]||0})},IC=function e(t,n){return(n&&n._ctx&&n._ctx.selector||Qk.utils.toArray)(t)[0]||("string"==typeof t&&!1!==Qk.config().nullTargetWarn?void 0:null)},DC=function e(t,n){var i=n.s,r=n.sc;xC(t)&&(t=nC.scrollingElement||iC);var o=gC.indexOf(t),a=r===AC.sc?1:2;!~o&&(o=gC.push(t)-1),gC[o+a]||_C(t,"scroll",kC);var s=gC[o+a],l=s||(gC[o+a]=CC(bC(t,i),!0)||(xC(t)?r:CC(function(e){return arguments.length?t[i]=e:t[i]})));return l.target=t,s||(l.smooth="smooth"===Qk.getProperty(t,"scrollBehavior")),l},OC=function e(t,n,i){var r=t,o=t,a=vC(),s=a,l=n||50,c=Math.max(500,3*l),u=function e(t,n){var c=vC();n||c-a>l?(o=r,r=t,s=a,a=c):i?r+=t:r=o+(t-o)/(c-s)*(a-s)};return{update:u,reset:function e(){o=r=i?0:r,s=a=0},getVelocity:function e(t){var n=s,l=o,h=vC();return(t||0===t)&&t!==r&&u(t),a===s||h-s>c?0:(r+(i?l:-l))/((i?h:a)-n)*1e3}}},EC=function e(t,n){return n&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},LC=function e(t){var n=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(n)>=Math.abs(i)?n:i},RC=function e(){(sC=Qk.core.globals().ScrollTrigger)&&sC.core&&function e(){var t=sC.core,n=t.bridge||{},i=t._scrollers,r=t._proxies;i.push.apply(i,gC),r.push.apply(r,mC),gC=i,mC=r,yC=function e(t,i){return n[t](i)}}()},NC=function e(t){return Qk=t||dC(),!eC&&Qk&&"undefined"!=typeof document&&document.body&&(tC=window,nC=document,iC=nC.documentElement,rC=nC.body,lC=[tC,nC,iC,rC],Qk.utils.clamp,hC=Qk.core.context||function(){},aC="onpointerenter"in rC?"pointer":"mouse",oC=PC.isTouch=tC.matchMedia&&tC.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in tC||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,uC=PC.eventTypes=("ontouchstart"in iC?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in iC?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return pC=0},500),RC(),eC=1),eC};TC.op=AC,gC.cache=0;var PC=function(){function e(e){this.init(e)}return e.prototype.init=function e(t){eC||NC(Qk),sC||RC();var n=t.tolerance,i=t.dragMinimum,r=t.type,o=t.target,a=t.lineHeight,s=t.debounce,l=t.preventDefault,c=t.onStop,u=t.onStopDelay,h=t.ignore,d=t.wheelSpeed,p=t.event,f=t.onDragStart,g=t.onDragEnd,m=t.onDrag,v=t.onPress,y=t.onRelease,b=t.onRight,x=t.onLeft,_=t.onUp,w=t.onDown,S=t.onChangeX,M=t.onChangeY,k=t.onChange,C=t.onToggleX,T=t.onToggleY,A=t.onHover,I=t.onHoverEnd,D=t.onMove,O=t.ignoreCheck,E=t.isNormalizer,L=t.onGestureStart,R=t.onGestureEnd,N=t.onWheel,P=t.onEnable,z=t.onDisable,B=t.onClick,V=t.scrollSpeed,F=t.capture,H=t.allowClicks,W=t.lockAxis,$=t.onLockAxis;this.target=o=IC(o)||iC,this.vars=t,h&&(h=Qk.utils.toArray(h)),n=n||1e-9,i=i||0,d=d||1,V=V||1,r=r||"wheel,touch,pointer",s=!1!==s,a||(a=parseFloat(tC.getComputedStyle(rC).lineHeight)||22);var j,G,U,X,q,Y,Z,K=this,J=0,Q=0,ee=t.passive||!l&&!1!==t.passive,te=DC(o,TC),ne=DC(o,AC),ie=te(),re=ne(),oe=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===uC[0],ae=xC(o),se=o.ownerDocument||nC,le=[0,0,0],ce=[0,0,0],ue=0,he=function e(){return ue=vC()},de=function e(t,n){return(K.event=t)&&h&&function e(t,n){for(var i=n.length;i--;)if(n[i]===t||n[i].contains(t))return!0;return!1}(t.target,h)||n&&oe&&"touch"!==t.pointerType||O&&O(t,n)},pe=function e(){var t=K.deltaX=LC(le),i=K.deltaY=LC(ce),r=Math.abs(t)>=n,o=Math.abs(i)>=n;k&&(r||o)&&k(K,t,i,le,ce),r&&(b&&K.deltaX>0&&b(K),x&&K.deltaX<0&&x(K),S&&S(K),C&&K.deltaX<0!=J<0&&C(K),J=K.deltaX,le[0]=le[1]=le[2]=0),o&&(w&&K.deltaY>0&&w(K),_&&K.deltaY<0&&_(K),M&&M(K),T&&K.deltaY<0!=Q<0&&T(K),Q=K.deltaY,ce[0]=ce[1]=ce[2]=0),(X||U)&&(D&&D(K),U&&(f&&1===U&&f(K),m&&m(K),U=0),X=!1),Y&&!(Y=!1)&&$&&$(K),q&&(N(K),q=!1),j=0},fe=function e(t,n,i){le[i]+=t,ce[i]+=n,K._vx.update(t),K._vy.update(n),s?j||(j=requestAnimationFrame(pe)):pe()},ge=function e(t,n){W&&!Z&&(K.axis=Z=Math.abs(t)>Math.abs(n)?"x":"y",Y=!0),"y"!==Z&&(le[2]+=t,K._vx.update(t,!0)),"x"!==Z&&(ce[2]+=n,K._vy.update(n,!0)),s?j||(j=requestAnimationFrame(pe)):pe()},me=function e(t){if(!de(t,1)){var n=(t=EC(t,l)).clientX,r=t.clientY,o=n-K.x,a=r-K.y,s=K.isDragging;K.x=n,K.y=r,(s||(o||a)&&(Math.abs(K.startX-n)>=i||Math.abs(K.startY-r)>=i))&&(U=s?2:1,s||(K.isDragging=!0),ge(o,a))}},ve=K.onPress=function(e){de(e,1)||e&&e.button||(K.axis=Z=null,G.pause(),K.isPressed=!0,e=EC(e),J=Q=0,K.startX=K.x=e.clientX,K.startY=K.y=e.clientY,K._vx.reset(),K._vy.reset(),_C(E?o:se,uC[1],me,ee,!0),K.deltaX=K.deltaY=0,v&&v(K))},ye=K.onRelease=function(e){if(!de(e,1)){wC(E?o:se,uC[1],me,!0);var t=!isNaN(K.y-K.startY),n=K.isDragging,i=n&&(Math.abs(K.x-K.startX)>3||Math.abs(K.y-K.startY)>3),r=EC(e);!i&&t&&(K._vx.reset(),K._vy.reset(),l&&H&&Qk.delayedCall(.08,function(){if(vC()-ue>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(se.createEvent){var t=se.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,tC,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),K.isDragging=K.isGesturing=K.isPressed=!1,c&&n&&!E&&G.restart(!0),U&&pe(),g&&n&&g(K),y&&y(K,i)}},be=function e(t){return t.touches&&t.touches.length>1&&(K.isGesturing=!0)&&L(t,K.isDragging)},xe=function e(){return(K.isGesturing=!1)||R(K)},_e=function e(t){if(!de(t)){var n=te(),i=ne();fe((n-ie)*V,(i-re)*V,1),ie=n,re=i,c&&G.restart(!0)}},we=function e(t){if(!de(t)){t=EC(t,l),N&&(q=!0);var n=(1===t.deltaMode?a:2===t.deltaMode?tC.innerHeight:1)*d;fe(t.deltaX*n,t.deltaY*n,0),c&&!E&&G.restart(!0)}},Se=function e(t){if(!de(t)){var n=t.clientX,i=t.clientY,r=n-K.x,o=i-K.y;K.x=n,K.y=i,X=!0,c&&G.restart(!0),(r||o)&&ge(r,o)}},Me=function e(t){K.event=t,A(K)},ke=function e(t){K.event=t,I(K)},Ce=function e(t){return de(t)||EC(t,l)&&B(K)};G=K._dc=Qk.delayedCall(u||.25,function e(){K._vx.reset(),K._vy.reset(),G.pause(),c&&c(K)}).pause(),K.deltaX=K.deltaY=0,K._vx=OC(0,50,!0),K._vy=OC(0,50,!0),K.scrollX=te,K.scrollY=ne,K.isDragging=K.isGesturing=K.isPressed=!1,hC(this),K.enable=function(e){return K.isEnabled||(_C(ae?se:o,"scroll",kC),r.indexOf("scroll")>=0&&_C(ae?se:o,"scroll",_e,ee,F),r.indexOf("wheel")>=0&&_C(o,"wheel",we,ee,F),(r.indexOf("touch")>=0&&oC||r.indexOf("pointer")>=0)&&(_C(o,uC[0],ve,ee,F),_C(se,uC[2],ye),_C(se,uC[3],ye),H&&_C(o,"click",he,!0,!0),B&&_C(o,"click",Ce),L&&_C(se,"gesturestart",be),R&&_C(se,"gestureend",xe),A&&_C(o,aC+"enter",Me),I&&_C(o,aC+"leave",ke),D&&_C(o,aC+"move",Se)),K.isEnabled=!0,K.isDragging=K.isGesturing=K.isPressed=X=U=!1,K._vx.reset(),K._vy.reset(),ie=te(),re=ne(),e&&e.type&&ve(e),P&&P(K)),K},K.disable=function(){K.isEnabled&&(fC.filter(function(e){return e!==K&&xC(e.target)}).length||wC(ae?se:o,"scroll",kC),K.isPressed&&(K._vx.reset(),K._vy.reset(),wC(E?o:se,uC[1],me,!0)),wC(ae?se:o,"scroll",_e,F),wC(o,"wheel",we,F),wC(o,uC[0],ve,F),wC(se,uC[2],ye),wC(se,uC[3],ye),wC(o,"click",he,!0),wC(o,"click",Ce),wC(se,"gesturestart",be),wC(se,"gestureend",xe),wC(o,aC+"enter",Me),wC(o,aC+"leave",ke),wC(o,aC+"move",Se),K.isEnabled=K.isPressed=K.isDragging=!1,z&&z(K))},K.kill=K.revert=function(){K.disable();var e=fC.indexOf(K);e>=0&&fC.splice(e,1),cC===K&&(cC=0)},fC.push(K),E&&xC(o)&&(cC=K),K.enable(p)},Jk(e,[{key:"velocityX",get:function e(){return this._vx.getVelocity()}},{key:"velocityY",get:function e(){return this._vy.getVelocity()}}]),e}();PC.version="3.13.0",PC.create=function(e){return new PC(e)},PC.register=NC,PC.getAll=function(){return fC.slice()},PC.getById=function(e){return fC.filter(function(t){return t.vars.id===e})[0]},dC()&&Qk.registerPlugin(PC);var zC,BC,VC,FC,HC,WC,$C,jC,GC,UC,XC,qC,YC,ZC,KC,JC,QC,eT,tT,nT,iT,rT,oT,aT,sT,lT,cT,uT,hT,dT,pT,fT,gT,mT,vT,yT,bT,xT,_T=1,wT=Date.now,ST=wT(),MT=0,kT=0,CT=function e(t,n,i){var r=FT(t)&&("clamp("===t.substr(0,6)||t.indexOf("max")>-1);return i["_"+n+"Clamp"]=r,r?t.substr(6,t.length-7):t},TT=function e(t,n){return!n||FT(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"},AT=function e(){return kT&&requestAnimationFrame(e)},IT=function e(){return ZC=1},DT=function e(){return ZC=0},OT=function e(t){return t},ET=function e(t){return Math.round(1e5*t)/1e5||0},LT=function e(){return"undefined"!=typeof window},RT=function e(){return zC||LT()&&(zC=window.gsap)&&zC.registerPlugin&&zC},NT=function e(t){return!!~$C.indexOf(t)},PT=function e(t){return("Height"===t?pT:VC["inner"+t])||HC["client"+t]||WC["client"+t]},zT=function e(t){return bC(t,"getBoundingClientRect")||(NT(t)?function(){return ZA.width=VC.innerWidth,ZA.height=pT,ZA}:function(){return cA(t)})},BT=function e(t,n){var i=n.s,r=n.d2,o=n.d,a=n.a;return Math.max(0,(i="scroll"+r)&&(a=bC(t,i))?a()-zT(t)()[o]:NT(t)?(HC[i]||WC[i])-PT(r):t[i]-t["offset"+r])},VT=function e(t,n){for(var i=0;i<tT.length;i+=3)(!n||~n.indexOf(tT[i+1]))&&t(tT[i],tT[i+1],tT[i+2])},FT=function e(t){return"string"==typeof t},HT=function e(t){return"function"==typeof t},WT=function e(t){return"number"==typeof t},$T=function e(t){return"object"==typeof t},jT=function e(t,n,i){return t&&t.progress(n?0:1)&&i&&t.pause()},GT=function e(t,n){if(t.enabled){var i=t._ctx?t._ctx.add(function(){return n(t)}):n(t);i&&i.totalTime&&(t.callbackAnimation=i)}},UT=Math.abs,XT="left",qT="right",YT="bottom",ZT="width",KT="height",JT="Right",QT="Left",eA="Top",tA="Bottom",nA="padding",iA="margin",rA="Width",oA="Height",aA="px",sA=function e(t){return VC.getComputedStyle(t)},lA=function e(t,n){for(var i in n)i in t||(t[i]=n[i]);return t},cA=function e(t,n){var i=n&&"matrix(1, 0, 0, 1, 0, 0)"!==sA(t)[KC]&&zC.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return i&&i.progress(0).kill(),r},uA=function e(t,n){var i=n.d2;return t["offset"+i]||t["client"+i]||0},hA=function e(t){var n,i=[],r=t.labels,o=t.duration();for(n in r)i.push(r[n]/o);return i},dA=function e(t){var n=zC.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(e,t){return e-t});return i?function(e,t,r){var o;if(void 0===r&&(r=.001),!t)return n(e);if(t>0){for(e-=r,o=0;o<i.length;o++)if(i[o]>=e)return i[o];return i[o-1]}for(o=i.length,e+=r;o--;)if(i[o]<=e)return i[o];return i[0]}:function(e,i,r){void 0===r&&(r=.001);var o=n(e);return!i||Math.abs(o-e)<r||o-e<0==i<0?o:n(i<0?e-t:e+t)}},pA=function e(t,n,i,r){return i.split(",").forEach(function(e){return t(n,e,r)})},fA=function e(t,n,i,r,o){return t.addEventListener(n,i,{passive:!r,capture:!!o})},gA=function e(t,n,i,r){return t.removeEventListener(n,i,!!r)},mA=function e(t,n,i){(i=i&&i.wheelHandler)&&(t(n,"wheel",i),t(n,"touchmove",i))},vA={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},yA={toggleActions:"play",anticipatePin:0},bA={top:0,left:0,center:.5,bottom:1,right:1},xA=function e(t,n){if(FT(t)){var i=t.indexOf("="),r=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(r*=n/100),t=t.substr(0,i-1)),t=r+(t in bA?bA[t]*n:~t.indexOf("%")?parseFloat(t)*n/100:parseFloat(t)||0)}return t},_A=function e(t,n,i,r,o,a,s,l){var c=o.startColor,u=o.endColor,h=o.fontSize,d=o.indent,p=o.fontWeight,f=FC.createElement("div"),g=NT(i)||"fixed"===bC(i,"pinType"),m=-1!==t.indexOf("scroller"),v=g?WC:i,y=-1!==t.indexOf("start"),b=y?c:u,x="border-color:"+b+";font-size:"+h+";color:"+b+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return x+="position:"+((m||l)&&g?"fixed;":"absolute;"),(m||l||!g)&&(x+=(r===AC?qT:YT)+":"+(a+parseFloat(d))+"px;"),s&&(x+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),f._isStart=y,f.setAttribute("class","gsap-marker-"+t+(n?" marker-"+n:"")),f.style.cssText=x,f.innerText=n||0===n?t+"-"+n:t,v.children[0]?v.insertBefore(f,v.children[0]):v.appendChild(f),f._offset=f["offset"+r.op.d2],wA(f,0,r,y),f},wA=function e(t,n,i,r){var o={display:"block"},a=i[r?"os2":"p2"],s=i[r?"p2":"os2"];t._isFlipped=r,o[i.a+"Percent"]=r?-100:0,o[i.a]=r?"1px":0,o["border"+a+rA]=1,o["border"+s+rA]=0,o[i.p]=n+"px",zC.set(t,o)},SA=[],MA={},kA=function e(){return wT()-MT>34&&(vT||(vT=requestAnimationFrame($A)))},CA=function e(){(!oT||!oT.isPressed||oT.startX>WC.clientWidth)&&(gC.cache++,oT?vT||(vT=requestAnimationFrame($A)):$A(),MT||EA("scrollStart"),MT=wT())},TA=function e(){lT=VC.innerWidth,sT=VC.innerHeight},AA=function e(t){gC.cache++,(!0===t||!YC&&!rT&&!FC.fullscreenElement&&!FC.webkitFullscreenElement&&(!aT||lT!==VC.innerWidth||Math.abs(VC.innerHeight-sT)>.25*VC.innerHeight))&&jC.restart(!0)},IA={},DA=[],OA=function e(){return gA(iI,"scrollEnd",e)||FA(!0)},EA=function e(t){return IA[t]&&IA[t].map(function(e){return e()})||DA},LA=[],RA=function e(t){for(var n=0;n<LA.length;n+=5)(!t||LA[n+4]&&LA[n+4].query===t)&&(LA[n].style.cssText=LA[n+1],LA[n].getBBox&&LA[n].setAttribute("transform",LA[n+2]||""),LA[n+3].uncache=1)},NA=function e(t,n){var i;for(JC=0;JC<SA.length;JC++)!(i=SA[JC])||n&&i._ctx!==n||(t?i.kill(1):i.revert(!0,!0));fT=!0,n&&RA(n),n||EA("revert")},PA=function e(t,n){gC.cache++,(n||!yT)&&gC.forEach(function(e){return HT(e)&&e.cacheID++&&(e.rec=0)}),FT(t)&&(VC.history.scrollRestoration=hT=t)},zA=0,BA=function e(){WC.appendChild(dT),pT=!oT&&dT.offsetHeight||VC.innerHeight,WC.removeChild(dT)},VA=function e(t){return GC(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(e){return e.style.display=t?"none":"block"})},FA=function e(t,n){if(HC=FC.documentElement,WC=FC.body,$C=[VC,FC,HC,WC],!MT||t||fT){BA(),yT=iI.isRefreshing=!0,gC.forEach(function(e){return HT(e)&&++e.cacheID&&(e.rec=e())});var i=EA("refreshInit");nT&&iI.sort(),n||NA(),gC.forEach(function(e){HT(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),SA.slice(0).forEach(function(e){return e.refresh()}),fT=!1,SA.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}}),gT=1,VA(!0),SA.forEach(function(e){var t=BT(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,i=e._startClamp&&e.start>=t;(n||i)&&e.setPositions(i?t-1:e.start,n?Math.max(i?t:e.start+1,t):e.end,!0)}),VA(!1),gT=0,i.forEach(function(e){return e&&e.render&&e.render(-1)}),gC.forEach(function(e){HT(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),PA(hT,1),jC.pause(),zA++,yT=2,$A(2),SA.forEach(function(e){return HT(e.vars.onRefresh)&&e.vars.onRefresh(e)}),yT=iI.isRefreshing=!1,EA("refresh")}else fA(iI,"scrollEnd",OA)},HA=0,WA=1,$A=function e(t){if(2===t||!yT&&!fT){iI.isUpdating=!0,xT&&xT.update(0);var n=SA.length,i=wT(),r=i-ST>=50,o=n&&SA[0].scroll();if(WA=HA>o?-1:1,yT||(HA=o),r&&(MT&&!ZC&&i-MT>200&&(MT=0,EA("scrollEnd")),XC=ST,ST=i),WA<0){for(JC=n;JC-- >0;)SA[JC]&&SA[JC].update(0,r);WA=1}else for(JC=0;JC<n;JC++)SA[JC]&&SA[JC].update(0,r);iI.isUpdating=!1}vT=0},jA=[XT,"top",YT,qT,iA+tA,iA+JT,iA+eA,iA+QT,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],GA=jA.concat([ZT,KT,"boxSizing","max"+rA,"max"+oA,"position",iA,nA,nA+eA,nA+JT,nA+tA,nA+QT]),UA=function e(t,n,i,r){if(!t._gsap.swappedIn){for(var o,a=jA.length,s=n.style,l=t.style;a--;)s[o=jA[a]]=i[o];s.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(s.display="inline-block"),l[YT]=l[qT]="auto",s.flexBasis=i.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[ZT]=uA(t,TC)+aA,s[KT]=uA(t,AC)+aA,s[nA]=l[iA]=l.top=l[XT]="0",qA(r),l[ZT]=l["max"+rA]=i[ZT],l[KT]=l["max"+oA]=i[KT],l[nA]=i[nA],t.parentNode!==n&&(t.parentNode.insertBefore(n,t),n.appendChild(t)),t._gsap.swappedIn=!0}},XA=/([A-Z])/g,qA=function e(t){if(t){var n,i,r=t.t.style,o=t.length,a=0;for((t.t._gsap||zC.core.getCache(t.t)).uncache=1;a<o;a+=2)i=t[a+1],n=t[a],i?r[n]=i:r[n]&&r.removeProperty(n.replace(XA,"-$1").toLowerCase())}},YA=function e(t){for(var n=GA.length,i=t.style,r=[],o=0;o<n;o++)r.push(GA[o],i[GA[o]]);return r.t=t,r},ZA={left:0,top:0},KA=function e(t,n,i,r,o,a,s,l,c,u,h,d,p,f){HT(t)&&(t=t(l)),FT(t)&&"max"===t.substr(0,3)&&(t=d+("="===t.charAt(4)?xA("0"+t.substr(3),i):0));var g,m,v,y=p?p.time():0;if(p&&p.seek(0),isNaN(t)||(t=+t),WT(t))p&&(t=zC.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,d,t)),s&&wA(s,i,r,!0);else{HT(n)&&(n=n(l));var b,x,_,w,S=(t||"0").split(" ");v=IC(n,l)||WC,(b=cA(v)||{})&&(b.left||b.top)||"none"!==sA(v).display||(w=v.style.display,v.style.display="block",b=cA(v),w?v.style.display=w:v.style.removeProperty("display")),x=xA(S[0],b[r.d]),_=xA(S[1]||"0",i),t=b[r.p]-c[r.p]-u+x+o-_,s&&wA(s,_,r,i-_<20||s._isStart&&_>20),i-=i-_}if(f&&(l[f]=t||-.001,t<0&&(t=0)),a){var M=t+i,k=a._isStart;g="scroll"+r.d2,wA(a,M,r,k&&M>20||!k&&(h?Math.max(WC[g],HC[g]):a.parentNode[g])<=M+1),h&&(c=cA(s),h&&(a.style[r.op.p]=c[r.op.p]-r.op.m-a._offset+aA))}return p&&v&&(g=cA(v),p.seek(d),m=cA(v),p._caScrollDist=g[r.p]-m[r.p],t=t/p._caScrollDist*d),p&&p.seek(y),p?t:Math.round(t)},JA=/(webkit|moz|length|cssText|inset)/i,QA=function e(t,n,i,r){if(t.parentNode!==n){var o,a,s=t.style;if(n===WC){for(o in t._stOrig=s.cssText,a=sA(t))+o||JA.test(o)||!a[o]||"string"!=typeof s[o]||"0"===o||(s[o]=a[o]);s.top=i,s.left=r}else s.cssText=t._stOrig;zC.core.getCache(t).uncache=1,n.appendChild(t)}},eI=function e(t,n,i){var r=n,o=r;return function(e){var n=Math.round(t());return n!==r&&n!==o&&Math.abs(n-r)>3&&Math.abs(n-o)>3&&(e=n,i&&i()),o=r,r=Math.round(e)}},tI=function e(t,n,i){var r={};r[n.p]="+="+i,zC.set(t,r)},nI=function e(t,n){var i=DC(t,n),r="_scroll"+n.p2,o=function e(n,o,a,s,l){var c=e.tween,u=o.onComplete,h={};a=a||i();var d=eI(i,a,function(){c.kill(),e.tween=0});return l=s&&l||0,s=s||n-a,c&&c.kill(),o[r]=n,o.inherit=!1,o.modifiers=h,h[r]=function(){return d(a+s*c.ratio+l*c.ratio*c.ratio)},o.onUpdate=function(){gC.cache++,e.tween&&$A()},o.onComplete=function(){e.tween=0,u&&u.call(c)},c=e.tween=zC.to(t,o)};return t[r]=i,i.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},fA(t,"wheel",i.wheelHandler),iI.isTouch&&fA(t,"touchmove",i.wheelHandler),o},iI=function(){function e(t,n){BC||e.register(zC),uT(this),this.init(t,n)}return e.prototype.init=function t(n,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),kT){var r,o,a,s,l,c,u,h,d,p,f,g,m,v,y,b,x,_,w,S,M,k,C,T,A,I,D,O,E,L,R,N,P,z,B,V,F,H,W,$=n=lA(FT(n)||WT(n)||n.nodeType?{trigger:n}:n,yA),j=$.onUpdate,G=$.toggleClass,U=$.id,X=$.onToggle,q=$.onRefresh,Y=$.scrub,Z=$.trigger,K=$.pin,J=$.pinSpacing,Q=$.invalidateOnRefresh,ee=$.anticipatePin,te=$.onScrubComplete,ne=$.onSnapComplete,ie=$.once,re=$.snap,oe=$.pinReparent,ae=$.pinSpacer,se=$.containerAnimation,le=$.fastScrollEnd,ce=$.preventOverlaps,ue=n.horizontal||n.containerAnimation&&!1!==n.horizontal?TC:AC,he=!Y&&0!==Y,de=IC(n.scroller||VC),pe=zC.core.getCache(de),fe=NT(de),ge="fixed"===("pinType"in n?n.pinType:bC(de,"pinType")||fe&&"fixed"),me=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],ve=he&&n.toggleActions.split(" "),ye="markers"in n?n.markers:yA.markers,be=fe?0:parseFloat(sA(de)["border"+ue.p2+rA])||0,xe=this,_e=n.onRefreshInit&&function(){return n.onRefreshInit(xe)},we=function e(t,n,i){var r=i.d,o=i.d2,a=i.a;return(a=bC(t,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(n?PT(o):t["client"+o])||0}}(de,fe,ue),Se=function e(t,n){return!n||~mC.indexOf(t)?zT(t):function(){return ZA}}(de,fe),Me=0,ke=0,Ce=0,Te=DC(de,ue);if(xe._startClamp=xe._endClamp=!1,xe._dir=ue,ee*=45,xe.scroller=de,xe.scroll=se?se.time.bind(se):Te,s=Te(),xe.vars=n,i=i||n.animation,"refreshPriority"in n&&(nT=1,-9999===n.refreshPriority&&(xT=xe)),pe.tweenScroll=pe.tweenScroll||{top:nI(de,AC),left:nI(de,TC)},xe.tweenTo=r=pe.tweenScroll[ue.p],xe.scrubDuration=function(e){(P=WT(e)&&e)?N?N.duration(e):N=zC.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:P,paused:!0,onComplete:function e(){return te&&te(xe)}}):(N&&N.progress(1).kill(),N=0)},i&&(i.vars.lazy=!1,i._initted&&!xe.isReverted||!1!==i.vars.immediateRender&&!1!==n.immediateRender&&i.duration()&&i.render(0,!0,!0),xe.animation=i.pause(),i.scrollTrigger=xe,xe.scrubDuration(Y),L=0,U||(U=i.vars.id)),re&&($T(re)&&!re.push||(re={snapTo:re}),"scrollBehavior"in WC.style&&zC.set(fe?[WC,HC]:de,{scrollBehavior:"auto"}),gC.forEach(function(e){return HT(e)&&e.target===(fe?FC.scrollingElement||HC:de)&&(e.smooth=!1)}),a=HT(re.snapTo)?re.snapTo:"labels"===re.snapTo?function e(t){return function(e){return zC.utils.snap(hA(t),e)}}(i):"labelsDirectional"===re.snapTo?function e(t){return function(e,n){return dA(hA(t))(e,n.direction)}}(i):!1!==re.directional?function(e,t){return dA(re.snapTo)(e,wT()-ke<500?0:t.direction)}:zC.utils.snap(re.snapTo),z=re.duration||{min:.1,max:2},z=$T(z)?UC(z.min,z.max):UC(z,z),B=zC.delayedCall(re.delay||P/2||.1,function(){var e=Te(),t=wT()-ke<500,n=r.tween;if(!(t||Math.abs(xe.getVelocity())<10)||n||ZC||Me===e)xe.isActive&&Me!==e&&B.restart(!0);else{var o,s,l=(e-c)/v,h=i&&!he?i.totalProgress():l,d=t?0:(h-R)/(wT()-XC)*1e3||0,p=zC.utils.clamp(-l,1-l,UT(d/2)*d/.185),f=l+(!1===re.inertia?0:p),g=re,m=g.onStart,y=g.onInterrupt,b=g.onComplete;if(o=a(f,xe),WT(o)||(o=f),s=Math.max(0,Math.round(c+o*v)),e<=u&&e>=c&&s!==e){if(n&&!n._initted&&n.data<=UT(s-e))return;!1===re.inertia&&(p=o-l),r(s,{duration:z(UT(.185*Math.max(UT(f-h),UT(o-h))/d/.05||0)),ease:re.ease||"power3",data:UT(s-e),onInterrupt:function e(){return B.restart(!0)&&y&&y(xe)},onComplete:function e(){xe.update(),Me=Te(),i&&!he&&(N?N.resetTo("totalProgress",o,i._tTime/i._tDur):i.progress(o)),L=R=i&&!he?i.totalProgress():xe.progress,ne&&ne(xe),b&&b(xe)}},e,p*v,s-e-p*v),m&&m(xe,r.tween)}}}).pause()),U&&(MA[U]=xe),(W=(Z=xe.trigger=IC(Z||!0!==K&&K))&&Z._gsap&&Z._gsap.stRevert)&&(W=W(xe)),K=!0===K?Z:IC(K),FT(G)&&(G={targets:Z,className:G}),K&&(!1===J||J===iA||(J=!(!J&&K.parentNode&&K.parentNode.style&&"flex"===sA(K.parentNode).display)&&nA),xe.pin=K,(o=zC.core.getCache(K)).spacer?y=o.pinState:(ae&&((ae=IC(ae))&&!ae.nodeType&&(ae=ae.current||ae.nativeElement),o.spacerIsNative=!!ae,ae&&(o.spacerState=YA(ae))),o.spacer=_=ae||FC.createElement("div"),_.classList.add("pin-spacer"),U&&_.classList.add("pin-spacer-"+U),o.pinState=y=YA(K)),!1!==n.force3D&&zC.set(K,{force3D:!0}),xe.spacer=_=o.spacer,E=sA(K),T=E[J+ue.os2],S=zC.getProperty(K),M=zC.quickSetter(K,ue.a,aA),UA(K,_,E),x=YA(K)),ye){g=$T(ye)?lA(ye,vA):vA,p=_A("scroller-start",U,de,ue,g,0),f=_A("scroller-end",U,de,ue,g,0,p),w=p["offset"+ue.op.d2];var Ae=IC(bC(de,"content")||de);h=this.markerStart=_A("start",U,Ae,ue,g,w,0,se),d=this.markerEnd=_A("end",U,Ae,ue,g,w,0,se),se&&(H=zC.quickSetter([h,d],ue.a,aA)),ge||mC.length&&!0===bC(de,"fixedMarkers")||(!function e(t){var n=sA(t).position;t.style.position="absolute"===n||"fixed"===n?n:"relative"}(fe?WC:de),zC.set([p,f],{force3D:!0}),I=zC.quickSetter(p,ue.a,aA),O=zC.quickSetter(f,ue.a,aA))}if(se){var Ie=se.vars.onUpdate,De=se.vars.onUpdateParams;se.eventCallback("onUpdate",function(){xe.update(0,0,1),Ie&&Ie.apply(se,De||[])})}if(xe.previous=function(){return SA[SA.indexOf(xe)-1]},xe.next=function(){return SA[SA.indexOf(xe)+1]},xe.revert=function(e,t){if(!t)return xe.kill(!0);var n=!1!==e||!xe.enabled,r=YC;n!==xe.isReverted&&(n&&(V=Math.max(Te(),xe.scroll.rec||0),Ce=xe.progress,F=i&&i.progress()),h&&[h,d,p,f].forEach(function(e){return e.style.display=n?"none":"block"}),n&&(YC=xe,xe.update(n)),!K||oe&&xe.isActive||(n?function e(t,n,i){qA(i);var r=t._gsap;if(r.spacerIsNative)qA(r.spacerState);else if(t._gsap.swappedIn){var o=n.parentNode;o&&(o.insertBefore(t,n),o.removeChild(n))}t._gsap.swappedIn=!1}(K,_,y):UA(K,_,sA(K),A)),n||xe.update(n),YC=r,xe.isReverted=n)},xe.refresh=function(t,o,a,g){if(!YC&&xe.enabled||o)if(K&&t&&MT)fA(e,"scrollEnd",OA);else{!yT&&_e&&_e(xe),YC=xe,r.tween&&!a&&(r.tween.kill(),r.tween=0),N&&N.pause(),Q&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)})),xe.isReverted||xe.revert(!0,!0),xe._subPinOffset=!1;var w,M,T,I,O,E,L,R,P,z,H,W,$,j=we(),G=Se(),U=se?se.duration():BT(de,ue),X=v<=.01||!v,Y=0,ee=g||0,te=$T(a)?a.end:n.end,ne=n.endTrigger||Z,ie=$T(a)?a.start:n.start||(0!==n.start&&Z?K?"0 0":"0 100%":0),re=xe.pinnedContainer=n.pinnedContainer&&IC(n.pinnedContainer,xe),ae=Z&&Math.max(0,SA.indexOf(xe))||0,le=ae;for(ye&&$T(a)&&(W=zC.getProperty(p,ue.p),$=zC.getProperty(f,ue.p));le-- >0;)(E=SA[le]).end||E.refresh(0,1)||(YC=xe),!(L=E.pin)||L!==Z&&L!==K&&L!==re||E.isReverted||(z||(z=[]),z.unshift(E),E.revert(!0,!0)),E!==SA[le]&&(ae--,le--);for(HT(ie)&&(ie=ie(xe)),ie=CT(ie,"start",xe),c=KA(ie,Z,j,ue,Te(),h,p,xe,G,be,ge,U,se,xe._startClamp&&"_startClamp")||(K?-.001:0),HT(te)&&(te=te(xe)),FT(te)&&!te.indexOf("+=")&&(~te.indexOf(" ")?te=(FT(ie)?ie.split(" ")[0]:"")+te:(Y=xA(te.substr(2),j),te=FT(ie)?ie:(se?zC.utils.mapRange(0,se.duration(),se.scrollTrigger.start,se.scrollTrigger.end,c):c)+Y,ne=Z)),te=CT(te,"end",xe),u=Math.max(c,KA(te||(ne?"100% 0":U),ne,j,ue,Te()+Y,d,f,xe,G,be,ge,U,se,xe._endClamp&&"_endClamp"))||-.001,Y=0,le=ae;le--;)(L=(E=SA[le]).pin)&&E.start-E._pinPush<=c&&!se&&E.end>0&&(w=E.end-(xe._startClamp?Math.max(0,E.start):E.start),(L===Z&&E.start-E._pinPush<c||L===re)&&isNaN(ie)&&(Y+=w*(1-E.progress)),L===K&&(ee+=w));if(c+=Y,u+=Y,xe._startClamp&&(xe._startClamp+=Y),xe._endClamp&&!yT&&(xe._endClamp=u||-.001,u=Math.min(u,BT(de,ue))),v=u-c||(c-=.01)&&.001,X&&(Ce=zC.utils.clamp(0,1,zC.utils.normalize(c,u,V))),xe._pinPush=ee,h&&Y&&((w={})[ue.a]="+="+Y,re&&(w[ue.p]="-="+Te()),zC.set([h,d],w)),!K||gT&&xe.end>=BT(de,ue)){if(Z&&Te()&&!se)for(M=Z.parentNode;M&&M!==WC;)M._pinOffset&&(c-=M._pinOffset,u-=M._pinOffset),M=M.parentNode}else w=sA(K),I=ue===AC,T=Te(),k=parseFloat(S(ue.a))+ee,!U&&u>1&&(H={style:H=(fe?FC.scrollingElement||HC:de).style,value:H["overflow"+ue.a.toUpperCase()]},fe&&"scroll"!==sA(WC)["overflow"+ue.a.toUpperCase()]&&(H.style["overflow"+ue.a.toUpperCase()]="scroll")),UA(K,_,w),x=YA(K),M=cA(K,!0),R=ge&&DC(de,I?TC:AC)(),J?((A=[J+ue.os2,v+ee+aA]).t=_,(le=J===nA?uA(K,ue)+v+ee:0)&&(A.push(ue.d,le+aA),"auto"!==_.style.flexBasis&&(_.style.flexBasis=le+aA)),qA(A),re&&SA.forEach(function(e){e.pin===re&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),ge&&Te(V)):(le=uA(K,ue))&&"auto"!==_.style.flexBasis&&(_.style.flexBasis=le+aA),ge&&((O={top:M.top+(I?T-c:R)+aA,left:M.left+(I?R:T-c)+aA,boxSizing:"border-box",position:"fixed"})[ZT]=O["max"+rA]=Math.ceil(M.width)+aA,O[KT]=O["max"+oA]=Math.ceil(M.height)+aA,O[iA]=O[iA+eA]=O[iA+JT]=O[iA+tA]=O[iA+QT]="0",O[nA]=w[nA],O[nA+eA]=w[nA+eA],O[nA+JT]=w[nA+JT],O[nA+tA]=w[nA+tA],O[nA+QT]=w[nA+QT],b=function e(t,n,i){for(var r,o=[],a=t.length,s=i?8:0;s<a;s+=2)r=t[s],o.push(r,r in n?n[r]:t[s+1]);return o.t=t.t,o}(y,O,oe),yT&&Te(0)),i?(P=i._initted,iT(1),i.render(i.duration(),!0,!0),C=S(ue.a)-k+v+ee,D=Math.abs(v-C)>1,ge&&D&&b.splice(b.length-2,2),i.render(0,!0,!0),P||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),iT(0)):C=v,H&&(H.value?H.style["overflow"+ue.a.toUpperCase()]=H.value:H.style.removeProperty("overflow-"+ue.a));z&&z.forEach(function(e){return e.revert(!1,!0)}),xe.start=c,xe.end=u,s=l=yT?V:Te(),se||yT||(s<V&&Te(V),xe.scroll.rec=0),xe.revert(!1,!0),ke=wT(),B&&(Me=-1,B.restart(!0)),YC=0,i&&he&&(i._initted||F)&&i.progress()!==F&&i.progress(F||0,!0).render(i.time(),!0,!0),(X||Ce!==xe.progress||se||Q||i&&!i._initted)&&(i&&!he&&(i._initted||Ce||!1!==i.vars.immediateRender)&&i.totalProgress(se&&c<-.001&&!Ce?zC.utils.normalize(c,u,0):Ce,!0),xe.progress=X||(s-c)/v===Ce?0:Ce),K&&J&&(_._pinOffset=Math.round(xe.progress*C)),N&&N.invalidate(),isNaN(W)||(W-=zC.getProperty(p,ue.p),$-=zC.getProperty(f,ue.p),tI(p,ue,W),tI(h,ue,W-(g||0)),tI(f,ue,$),tI(d,ue,$-(g||0))),X&&!yT&&xe.update(),!q||yT||m||(m=!0,q(xe),m=!1)}},xe.getVelocity=function(){return(Te()-l)/(wT()-XC)*1e3||0},xe.endAnimation=function(){jT(xe.callbackAnimation),i&&(N?N.progress(1):i.paused()?he||jT(i,xe.direction<0,1):jT(i,i.reversed()))},xe.labelToScroll=function(e){return i&&i.labels&&(c||xe.refresh()||c)+i.labels[e]/i.duration()*v||0},xe.getTrailing=function(e){var t=SA.indexOf(xe),n=xe.direction>0?SA.slice(0,t).reverse():SA.slice(t+1);return(FT(e)?n.filter(function(t){return t.vars.preventOverlaps===e}):n).filter(function(e){return xe.direction>0?e.end<=c:e.start>=u})},xe.update=function(e,t,n){if(!se||n||e){var o,a,h,d,f,g,m,y=!0===yT?V:xe.scroll(),w=e?0:(y-c)/v,S=w<0?0:w>1?1:w||0,A=xe.progress;if(t&&(l=s,s=se?Te():y,re&&(R=L,L=i&&!he?i.totalProgress():S)),ee&&K&&!YC&&!_T&&MT&&(!S&&c<y+(y-l)/(wT()-XC)*ee?S=1e-4:1===S&&u>y+(y-l)/(wT()-XC)*ee&&(S=.9999)),S!==A&&xe.enabled){if(d=(f=(o=xe.isActive=!!S&&S<1)!==(!!A&&A<1))||!!S!=!!A,xe.direction=S>A?1:-1,xe.progress=S,d&&!YC&&(a=S&&!A?0:1===S?1:1===A?2:3,he&&(h=!f&&"none"!==ve[a+1]&&ve[a+1]||ve[a],m=i&&("complete"===h||"reset"===h||h in i))),ce&&(f||m)&&(m||Y||!i)&&(HT(ce)?ce(xe):xe.getTrailing(ce).forEach(function(e){return e.endAnimation()})),he||(!N||YC||_T?i&&i.totalProgress(S,!(!YC||!ke&&!e)):(N._dp._time-N._start!==N._time&&N.render(N._dp._time-N._start),N.resetTo?N.resetTo("totalProgress",S,i._tTime/i._tDur):(N.vars.totalProgress=S,N.invalidate().restart()))),K)if(e&&J&&(_.style[J+ue.os2]=T),ge){if(d){if(g=!e&&S>A&&u+1>y&&y+1>=BT(de,ue),oe)if(e||!o&&!g)QA(K,_);else{var E=cA(K,!0),P=y-c;QA(K,WC,E.top+(ue===AC?P:0)+aA,E.left+(ue===AC?0:P)+aA)}qA(o||g?b:x),D&&S<1&&o||M(k+(1!==S||g?0:C))}}else M(ET(k+C*S));re&&!r.tween&&!YC&&!_T&&B.restart(!0),G&&(f||ie&&S&&(S<1||!mT))&&GC(G.targets).forEach(function(e){return e.classList[o||ie?"add":"remove"](G.className)}),j&&!he&&!e&&j(xe),d&&!YC?(he&&(m&&("complete"===h?i.pause().totalProgress(1):"reset"===h?i.restart(!0).pause():"restart"===h?i.restart(!0):i[h]()),j&&j(xe)),!f&&mT||(X&&f&&GT(xe,X),me[a]&&GT(xe,me[a]),ie&&(1===S?xe.kill(!1,1):me[a]=0),f||me[a=1===S?1:3]&&GT(xe,me[a])),le&&!o&&Math.abs(xe.getVelocity())>(WT(le)?le:2500)&&(jT(xe.callbackAnimation),N?N.progress(1):jT(i,"reverse"===h?1:!S,1))):he&&j&&!YC&&j(xe)}if(O){var z=se?y/se.duration()*(se._caScrollDist||0):y;I(z+(p._isFlipped?1:0)),O(z)}H&&H(-y/se.duration()*(se._caScrollDist||0))}},xe.enable=function(t,n){xe.enabled||(xe.enabled=!0,fA(de,"resize",AA),fe||fA(de,"scroll",CA),_e&&fA(e,"refreshInit",_e),!1!==t&&(xe.progress=Ce=0,s=l=Me=Te()),!1!==n&&xe.refresh())},xe.getTween=function(e){return e&&r?r.tween:N},xe.setPositions=function(e,t,n,i){if(se){var r=se.scrollTrigger,o=se.duration(),a=r.end-r.start;e=r.start+a*e/o,t=r.start+a*t/o}xe.refresh(!1,!1,{start:TT(e,n&&!!xe._startClamp),end:TT(t,n&&!!xe._endClamp)},i),xe.update()},xe.adjustPinSpacing=function(e){if(A&&e){var t=A.indexOf(ue.d)+1;A[t]=parseFloat(A[t])+e+aA,A[1]=parseFloat(A[1])+e+aA,qA(A)}},xe.disable=function(t,n){if(xe.enabled&&(!1!==t&&xe.revert(!0,!0),xe.enabled=xe.isActive=!1,n||N&&N.pause(),V=0,o&&(o.uncache=1),_e&&gA(e,"refreshInit",_e),B&&(B.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!fe)){for(var i=SA.length;i--;)if(SA[i].scroller===de&&SA[i]!==xe)return;gA(de,"resize",AA),fe||gA(de,"scroll",CA)}},xe.kill=function(e,t){xe.disable(e,t),N&&!t&&N.kill(),U&&delete MA[U];var r=SA.indexOf(xe);r>=0&&SA.splice(r,1),r===JC&&WA>0&&JC--,r=0,SA.forEach(function(e){return e.scroller===xe.scroller&&(r=1)}),r||yT||(xe.scroll.rec=0),i&&(i.scrollTrigger=null,e&&i.revert({kill:!1}),t||i.kill()),h&&[h,d,p,f].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),xT===xe&&(xT=0),K&&(o&&(o.uncache=1),r=0,SA.forEach(function(e){return e.pin===K&&r++}),r||(o.spacer=0)),n.onKill&&n.onKill(xe)},SA.push(xe),xe.enable(!1,!1),W&&W(xe),i&&i.add&&!v){var Oe=xe.update;xe.update=function(){xe.update=Oe,gC.cache++,c||u||xe.refresh()},zC.delayedCall(.01,xe.update),v=.01,c=u=0}else xe.refresh();K&&function e(){if(bT!==zA){var t=bT=zA;requestAnimationFrame(function(){return t===zA&&FA(!0)})}}()}else this.update=this.refresh=this.kill=OT},e.register=function t(n){return BC||(zC=n||RT(),LT()&&window.document&&e.enable(),BC=kT),BC},e.defaults=function e(t){if(t)for(var n in t)yA[n]=t[n];return yA},e.disable=function e(t,n){kT=0,SA.forEach(function(e){return e[n?"kill":"disable"](t)}),gA(VC,"wheel",CA),gA(FC,"scroll",CA),clearInterval(qC),gA(FC,"touchcancel",OT),gA(WC,"touchstart",OT),pA(gA,FC,"pointerdown,touchstart,mousedown",IT),pA(gA,FC,"pointerup,touchend,mouseup",DT),jC.kill(),VT(gA);for(var i=0;i<gC.length;i+=3)mA(gA,gC[i],gC[i+1]),mA(gA,gC[i],gC[i+2])},e.enable=function t(){if(VC=window,FC=document,HC=FC.documentElement,WC=FC.body,zC&&(GC=zC.utils.toArray,UC=zC.utils.clamp,uT=zC.core.context||OT,iT=zC.core.suppressOverwrites||OT,hT=VC.history.scrollRestoration||"auto",HA=VC.pageYOffset||0,zC.core.globals("ScrollTrigger",e),WC)){kT=1,(dT=document.createElement("div")).style.height="100vh",dT.style.position="absolute",BA(),AT(),PC.register(zC),e.isTouch=PC.isTouch,cT=PC.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),aT=1===PC.isTouch,fA(VC,"wheel",CA),$C=[VC,FC,HC,WC],zC.matchMedia&&(e.matchMedia=function(e){var t,n=zC.matchMedia();for(t in e)n.add(t,e[t]);return n},zC.addEventListener("matchMediaInit",function(){return NA()}),zC.addEventListener("matchMediaRevert",function(){return RA()}),zC.addEventListener("matchMedia",function(){FA(0,1),EA("matchMedia")}),zC.matchMedia().add("(orientation: portrait)",function(){return TA(),TA})),TA(),fA(FC,"scroll",CA);var n,i,r=WC.hasAttribute("style"),o=WC.style,a=o.borderTopStyle,s=zC.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function e(){return this.time(-.01,!0)}}),o.borderTopStyle="solid",n=cA(WC),AC.m=Math.round(n.top+AC.sc())||0,TC.m=Math.round(n.left+TC.sc())||0,a?o.borderTopStyle=a:o.removeProperty("border-top-style"),r||(WC.setAttribute("style",""),WC.removeAttribute("style")),qC=setInterval(kA,250),zC.delayedCall(.5,function(){return _T=0}),fA(FC,"touchcancel",OT),fA(WC,"touchstart",OT),pA(fA,FC,"pointerdown,touchstart,mousedown",IT),pA(fA,FC,"pointerup,touchend,mouseup",DT),KC=zC.utils.checkPrefix("transform"),GA.push(KC),BC=wT(),jC=zC.delayedCall(.2,FA).pause(),tT=[FC,"visibilitychange",function(){var e=VC.innerWidth,t=VC.innerHeight;FC.hidden?(QC=e,eT=t):QC===e&&eT===t||AA()},FC,"DOMContentLoaded",FA,VC,"load",FA,VC,"resize",AA],VT(fA),SA.forEach(function(e){return e.enable(0,1)}),i=0;i<gC.length;i+=3)mA(gA,gC[i],gC[i+1]),mA(gA,gC[i],gC[i+2])}},e.config=function t(n){"limitCallbacks"in n&&(mT=!!n.limitCallbacks);var i=n.syncInterval;i&&clearInterval(qC)||(qC=i)&&setInterval(kA,i),"ignoreMobileResize"in n&&(aT=1===e.isTouch&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(VT(gA)||VT(fA,n.autoRefreshEvents||"none"),rT=-1===(n.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function e(t,n){var i=IC(t),r=gC.indexOf(i),o=NT(i);~r&&gC.splice(r,o?6:2),n&&(o?mC.unshift(VC,n,WC,n,HC,n):mC.unshift(i,n))},e.clearMatchMedia=function e(t){SA.forEach(function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)})},e.isInViewport=function e(t,n,i){var r=(FT(t)?IC(t):t).getBoundingClientRect(),o=r[i?ZT:KT]*n||0;return i?r.right-o>0&&r.left+o<VC.innerWidth:r.bottom-o>0&&r.top+o<VC.innerHeight},e.positionInViewport=function e(t,n,i){FT(t)&&(t=IC(t));var r=t.getBoundingClientRect(),o=r[i?ZT:KT],a=null==n?o/2:n in bA?bA[n]*o:~n.indexOf("%")?parseFloat(n)*o/100:parseFloat(n)||0;return i?(r.left+a)/VC.innerWidth:(r.top+a)/VC.innerHeight},e.killAll=function e(t){if(SA.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==t){var n=IA.killAll||[];IA={},n.forEach(function(e){return e()})}},e}();iI.version="3.13.0",iI.saveStyles=function(e){return e?GC(e).forEach(function(e){if(e&&e.style){var t=LA.indexOf(e);t>=0&&LA.splice(t,5),LA.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),zC.core.getCache(e),uT())}}):LA},iI.revert=function(e,t){return NA(!e,t)},iI.create=function(e,t){return new iI(e,t)},iI.refresh=function(e){return e?AA(!0):(BC||iI.register())&&FA(!0)},iI.update=function(e){return++gC.cache&&$A(!0===e?2:0)},iI.clearScrollMemory=PA,iI.maxScroll=function(e,t){return BT(e,t?TC:AC)},iI.getScrollFunc=function(e,t){return DC(IC(e),t?TC:AC)},iI.getById=function(e){return MA[e]},iI.getAll=function(){return SA.filter(function(e){return"ScrollSmoother"!==e.vars.id})},iI.isScrolling=function(){return!!MT},iI.snapDirectional=dA,iI.addEventListener=function(e,t){var n=IA[e]||(IA[e]=[]);~n.indexOf(t)||n.push(t)},iI.removeEventListener=function(e,t){var n=IA[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},iI.batch=function(e,t){var n,i=[],r={},o=t.interval||.016,a=t.batchMax||1e9,s=function e(t,n){var i=[],r=[],s=zC.delayedCall(o,function(){n(i,r),i=[],r=[]}).pause();return function(e){i.length||s.restart(!0),i.push(e.trigger),r.push(e),a<=i.length&&s.progress(1)}};for(n in t)r[n]="on"===n.substr(0,2)&&HT(t[n])&&"onRefreshInit"!==n?s(0,t[n]):t[n];return HT(a)&&(a=a(),fA(iI,"refresh",function(){return a=t.batchMax()})),GC(e).forEach(function(e){var t={};for(n in r)t[n]=r[n];t.trigger=e,i.push(iI.create(t))}),i};var rI,oI=function e(t,n,i,r){return n>r?t(r):n<0&&t(0),i>r?(r-n)/(i-n):i<0?n/(n-i):1},aI=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(PC.isTouch?" pinch-zoom":""):"none",t===HC&&e(WC,n)},sI={auto:1,scroll:1},lI=function e(t){var n,i=t.event,r=t.target,o=t.axis,a=(i.changedTouches?i.changedTouches[0]:i).target,s=a._gsap||zC.core.getCache(a),l=wT();if(!s._isScrollT||l-s._isScrollT>2e3){for(;a&&a!==WC&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!sI[(n=sA(a)).overflowY]&&!sI[n.overflowX]);)a=a.parentNode;s._isScroll=a&&a!==r&&!NT(a)&&(sI[(n=sA(a)).overflowY]||sI[n.overflowX]),s._isScrollT=l}(s._isScroll||"x"===o)&&(i.stopPropagation(),i._gsapAllow=!0)},cI=function e(t,n,i,r){return PC.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:r=r&&lI,onPress:r,onDrag:r,onScroll:r,onEnable:function e(){return i&&fA(FC,PC.eventTypes[0],hI,!1,!0)},onDisable:function e(){return gA(FC,PC.eventTypes[0],hI,!0)}})},uI=/(input|label|select|textarea)/i,hI=function e(t){var n=uI.test(t.target.tagName);(n||rI)&&(t._gsapAllow=!0,rI=n)},dI=function e(t){$T(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var n,i,r,o,a,s,l,c,u=t,h=u.normalizeScrollX,d=u.momentum,p=u.allowNestedScroll,f=u.onRelease,g=IC(t.target)||HC,m=zC.core.globals().ScrollSmoother,v=m&&m.get(),y=cT&&(t.content&&IC(t.content)||v&&!1!==t.content&&!v.smooth()&&v.content()),b=DC(g,AC),x=DC(g,TC),_=1,w=(PC.isTouch&&VC.visualViewport?VC.visualViewport.scale*VC.visualViewport.width:VC.outerWidth)/VC.innerWidth,S=0,M=HT(d)?function(){return d(n)}:function(){return d||2.8},k=cI(g,t.type,!0,p),C=function e(){return o=!1},T=OT,A=OT,I=function e(){i=BT(g,AC),A=UC(cT?1:0,i),h&&(T=UC(0,BT(g,TC))),r=zA},D=function e(){y._gsap.y=ET(parseFloat(y._gsap.y)+b.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",b.offset=b.cacheID=0},O=function e(){I(),a.isActive()&&a.vars.scrollY>i&&(b()>i?a.progress(1)&&b(i):a.resetTo("scrollY",i))};return y&&zC.set(y,{y:"+=0"}),t.ignoreCheck=function(e){return cT&&"touchmove"===e.type&&function e(){if(o){requestAnimationFrame(C);var t=ET(n.deltaY/2),i=A(b.v-t);if(y&&i!==b.v+b.offset){b.offset=i-b.v;var r=ET((parseFloat(y&&y._gsap.y)||0)-b.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",y._gsap.y=r+"px",b.cacheID=gC.cache,$A()}return!0}b.offset&&D(),o=!0}()||_>1.05&&"touchstart"!==e.type||n.isGesturing||e.touches&&e.touches.length>1},t.onPress=function(){o=!1;var e=_;_=ET((VC.visualViewport&&VC.visualViewport.scale||1)/w),a.pause(),e!==_&&aI(g,_>1.01||!h&&"x"),s=x(),l=b(),I(),r=zA},t.onRelease=t.onGestureStart=function(e,t){if(b.offset&&D(),t){gC.cache++;var n,r,o=M();h&&(r=(n=x())+.05*o*-e.velocityX/.227,o*=oI(x,n,r,BT(g,TC)),a.vars.scrollX=T(r)),r=(n=b())+.05*o*-e.velocityY/.227,o*=oI(b,n,r,BT(g,AC)),a.vars.scrollY=A(r),a.invalidate().duration(o).play(.01),(cT&&a.vars.scrollY>=i||n>=i-1)&&zC.to({},{onUpdate:O,duration:o})}else c.restart(!0);f&&f(e)},t.onWheel=function(){a._ts&&a.pause(),wT()-S>1e3&&(r=0,S=wT())},t.onChange=function(e,t,n,i,o){if(zA!==r&&I(),t&&h&&x(T(i[2]===t?s+(e.startX-e.x):x()+t-i[1])),n){b.offset&&D();var a=o[2]===n,c=a?l+e.startY-e.y:b()+n-o[1],u=A(c);a&&c!==u&&(l+=u-c),b(u)}(n||t)&&$A()},t.onEnable=function(){aI(g,!h&&"x"),iI.addEventListener("refresh",O),fA(VC,"resize",O),b.smooth&&(b.target.style.scrollBehavior="auto",b.smooth=x.smooth=!1),k.enable()},t.onDisable=function(){aI(g,!0),gA(VC,"resize",O),iI.removeEventListener("refresh",O),k.kill()},t.lockAxis=!1!==t.lockAxis,(n=new PC(t)).iOS=cT,cT&&!b()&&b(1),cT&&zC.ticker.add(OT),c=n._dc,a=zC.to(n,{ease:"power4",paused:!0,inherit:!1,scrollX:h?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:eI(b,b(),function(){return a.pause()})},onUpdate:$A,onComplete:c.vars.onComplete}),n};function pI(e){this.content=e}function fI(e,t,n){for(let i=0;;i++){if(i==e.childCount||i==t.childCount)return e.childCount==t.childCount?null:n;let r=e.child(i),o=t.child(i);if(r!=o){if(!r.sameMarkup(o))return n;if(r.isText&&r.text!=o.text){for(let e=0;r.text[e]==o.text[e];e++)n++;return n}if(r.content.size||o.content.size){let e=fI(r.content,o.content,n+1);if(null!=e)return e}n+=r.nodeSize}else n+=r.nodeSize}}function gI(e,t,n,i){for(let r=e.childCount,o=t.childCount;;){if(0==r||0==o)return r==o?null:{a:n,b:i};let a=e.child(--r),s=t.child(--o),l=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:i};if(a.isText&&a.text!=s.text){let e=0,t=Math.min(a.text.length,s.text.length);for(;e<t&&a.text[a.text.length-e-1]==s.text[s.text.length-e-1];)e++,n--,i--;return{a:n,b:i}}if(a.content.size||s.content.size){let e=gI(a.content,s.content,n-1,i-1);if(e)return e}n-=l,i-=l}else n-=l,i-=l}}iI.sort=function(e){if(HT(e))return SA.sort(e);var t=VC.pageYOffset||0;return iI.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+VC.innerHeight}),SA.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},iI.observe=function(e){return new PC(e)},iI.normalizeScroll=function(e){if(void 0===e)return oT;if(!0===e&&oT)return oT.enable();if(!1===e)return oT&&oT.kill(),void(oT=e);var t=e instanceof PC?e:dI(e);return oT&&oT.target===t.target&&oT.kill(),NT(t.target)&&(oT=t),t},iI.core={_getVelocityProp:OC,_inputObserver:cI,_scrollers:gC,_proxies:mC,bridge:{ss:function e(){MT||EA("scrollStart"),MT=wT()},ref:function e(){return YC}}},RT()&&zC.registerPlugin(iI),pI.prototype={constructor:pI,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,r=i.find(e),o=i.content.slice();return-1==r?o.push(n||e,t):(o[r+1]=t,n&&(o[r]=n)),new pI(o)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new pI(n)},addToStart:function(e,t){return new pI([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new pI(n)},addBefore:function(e,t,n){var i=this.remove(t),r=i.content.slice(),o=i.find(e);return r.splice(-1==o?r.length:o,0,t,n),new pI(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=pI.from(e)).size?new pI(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=pI.from(e)).size?new pI(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=pI.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},pI.from=function(e){if(e instanceof pI)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new pI(t)};class mI{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,i=0,r){for(let o=0,a=0;a<t;o++){let s=this.content[o],l=a+s.nodeSize;if(l>e&&!1!==n(s,i+a,r||null,o)&&s.content.size){let r=a+1;s.nodesBetween(Math.max(0,e-r),Math.min(s.content.size,t-r),n,i+r)}a=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,i){let r="",o=!0;return this.nodesBetween(e,t,(a,s)=>{let l=a.isText?a.text.slice(Math.max(e,s)-s,t-s):a.isLeaf?i?"function"==typeof i?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&l||a.isTextblock)&&n&&(o?o=!1:r+=n),r+=l},0),r}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,i=this.content.slice(),r=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),r=1);r<e.content.length;r++)i.push(e.content[r]);return new mI(i,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],i=0;if(t>e)for(let r=0,o=0;o<t;r++){let a=this.content[r],s=o+a.nodeSize;s>e&&((o<e||s>t)&&(a=a.isText?a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),n.push(a),i+=a.nodeSize),o=s}return new mI(n,i)}cutByIndex(e,t){return e==t?mI.empty:0==e&&t==this.content.length?this:new mI(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let i=this.content.slice(),r=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new mI(i,r)}addToStart(e){return new mI([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new mI(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let i=this.content[t];e(i,n,t),n+=i.nodeSize}}findDiffStart(e,t=0){return fI(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return gI(this,e,t,n)}findIndex(e){if(0==e)return yI(0,e);if(e==this.size)return yI(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let i=n+this.child(t).nodeSize;if(i>=e)return i==e?yI(t+1,i):yI(t,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return mI.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new mI(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return mI.empty;let t,n=0;for(let i=0;i<e.length;i++){let r=e[i];n+=r.nodeSize,i&&r.isText&&e[i-1].sameMarkup(r)?(t||(t=e.slice(0,i)),t[t.length-1]=r.withText(t[t.length-1].text+r.text)):t&&t.push(r)}return new mI(t||e,n)}static from(e){if(!e)return mI.empty;if(e instanceof mI)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new mI([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}mI.empty=new mI([],0);const vI={index:0,offset:0};function yI(e,t){return vI.index=e,vI.offset=t,vI}function bI(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!bI(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!bI(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let xI=class e{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let i=0;i<e.length;i++){let r=e[i];if(this.eq(r))return e;if(this.type.excludes(r.type))t||(t=e.slice(0,i));else{if(r.type.excludes(this.type))return e;!n&&r.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(r)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&bI(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=n.create(t.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return e.none;if(t instanceof e)return[t];let n=t.slice();return n.sort((e,t)=>e.type.rank-t.type.rank),n}};xI.none=[];class _I extends Error{}class wI{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=MI(this.content,e+this.openStart,t);return n&&new wI(n,this.openStart,this.openEnd)}removeBetween(e,t){return new wI(SI(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return wI.empty;let n=t.openStart||0,i=t.openEnd||0;if("number"!=typeof n||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new wI(mI.fromJSON(e,t.content),n,i)}static maxOpen(e,t=!0){let n=0,i=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let r=e.lastChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.lastChild)i++;return new wI(e,n,i)}}function SI(e,t,n){let{index:i,offset:r}=e.findIndex(t),o=e.maybeChild(i),{index:a,offset:s}=e.findIndex(n);if(r==t||o.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(i!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(i,o.copy(SI(o.content,t-r-1,n-r-1)))}function MI(e,t,n,i){let{index:r,offset:o}=e.findIndex(t),a=e.maybeChild(r);if(o==t||a.isText)return i&&!i.canReplace(r,r,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=MI(a.content,t-o-1,n,a);return s&&e.replaceChild(r,a.copy(s))}function kI(e,t,n){if(n.openStart>e.depth)throw new _I("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new _I("Inconsistent open depths");return CI(e,t,n,0)}function CI(e,t,n,i){let r=e.index(i),o=e.node(i);if(r==t.index(i)&&i<e.depth-n.openStart){let a=CI(e,t,n,i+1);return o.copy(o.content.replaceChild(r,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=i||t.depth!=i){let{start:r,end:a}=function s(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let r=n-1;r>=0;r--)i=t.node(r).copy(mI.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}(n,e);return OI(o,EI(e,r,a,t,i))}{let i=e.parent,r=i.content;return OI(i,r.cut(0,e.parentOffset).append(n.content).append(r.cut(t.parentOffset)))}}return OI(o,LI(e,t,i))}function TI(e,t){if(!t.type.compatibleContent(e.type))throw new _I("Cannot join "+t.type.name+" onto "+e.type.name)}function AI(e,t,n){let i=e.node(n);return TI(i,t.node(n)),i}function II(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function DI(e,t,n,i){let r=(t||e).node(n),o=0,a=t?t.index(n):r.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(II(e.nodeAfter,i),o++));for(let s=o;s<a;s++)II(r.child(s),i);t&&t.depth==n&&t.textOffset&&II(t.nodeBefore,i)}function OI(e,t){return e.type.checkContent(t),e.copy(t)}function EI(e,t,n,i,r){let o=e.depth>r&&AI(e,t,r+1),a=i.depth>r&&AI(n,i,r+1),s=[];return DI(null,e,r,s),o&&a&&t.index(r)==n.index(r)?(TI(o,a),II(OI(o,EI(e,t,n,i,r+1)),s)):(o&&II(OI(o,LI(e,t,r+1)),s),DI(t,n,r,s),a&&II(OI(a,LI(n,i,r+1)),s)),DI(i,null,r,s),new mI(s)}function LI(e,t,n){let i=[];if(DI(null,e,n,i),e.depth>n){II(OI(AI(e,t,n+1),LI(e,t,n+1)),i)}return DI(t,null,n,i),new mI(i)}wI.empty=new wI(mI.empty,0,0);class RI{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],i=0==t?0:this.path[3*t-1]+1;for(let r=0;r<e;r++)i+=n.child(r).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return xI.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){let e=n;n=i,i=e}let r=n.marks;for(var o=0;o<r.length;o++)!1!==r[o].type.spec.inclusive||i&&r[o].isInSet(i.marks)||(r=r[o--].removeFromSet(r));return r}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,i=e.parent.maybeChild(e.index());for(var r=0;r<n.length;r++)!1!==n[r].type.spec.inclusive||i&&n[r].isInSet(i.marks)||(n=n[r--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new BI(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],i=0,r=t;for(let o=e;;){let{index:e,offset:t}=o.content.findIndex(r),a=r-t;if(n.push(o,e,i+t),!a)break;if(o=o.child(e),o.isText)break;r=a-1,i+=t+1}return new RI(t,n,r)}static resolveCached(e,t){let n=zI.get(e);if(n)for(let r=0;r<n.elts.length;r++){let e=n.elts[r];if(e.pos==t)return e}else zI.set(e,n=new NI);let i=n.elts[n.i]=RI.resolve(e,t);return n.i=(n.i+1)%PI,i}}class NI{constructor(){this.elts=[],this.i=0}}const PI=12,zI=new WeakMap;class BI{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const VI=Object.create(null);let FI=class e{constructor(e,t,n,i=xI.none){this.type=e,this.attrs=t,this.marks=i,this.content=n||mI.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,i=0){this.content.nodesBetween(e,t,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,i){return this.content.textBetween(e,t,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&bI(this.attrs,t||e.defaultAttrs||VI)&&xI.sameSet(this.marks,n||xI.none)}copy(t=null){return t==this.content?this:new e(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new e(this.type,this.attrs,this.content,t)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return wI.empty;let i=this.resolve(e),r=this.resolve(t),o=n?0:i.sharedDepth(t),a=i.start(o),s=i.node(o).content.cut(i.pos-a,r.pos-a);return new wI(s,i.depth-o,r.depth-o)}replace(e,t,n){return kI(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let i=this.content.child(t-1);return{node:i,index:t-1,offset:n-i.nodeSize}}resolve(e){return RI.resolveCached(this,e)}resolveNoCache(e){return RI.resolve(this,e)}rangeHasMark(e,t,n){let i=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),WI(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=mI.empty,i=0,r=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,i,r),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let s=i;s<r;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0}canReplaceWith(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;let r=this.contentMatchAt(e).matchType(n),o=r&&r.matchFragment(this.content,t);return!!o&&o.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=xI.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!xI.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let i=mI.fromJSON(e,t.content),r=e.nodeType(t.type).create(t.attrs,i,n);return r.type.checkAttrs(r.attrs),r}};FI.prototype.text=void 0;class HI extends FI{constructor(e,t,n,i){if(super(e,t,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):WI(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new HI(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new HI(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function WI(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class $I{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new jI(e,t);if(null==n.next)return $I.empty;let i=GI(n);n.next&&n.err("Unexpected trailing text");let r=function a(e){let t=Object.create(null);return n(KI(e,0));function n(i){let r=[];i.forEach(t=>{e[t].forEach(({term:t,to:n})=>{if(!t)return;let i;for(let e=0;e<r.length;e++)r[e][0]==t&&(i=r[e][1]);KI(e,n).forEach(e=>{i||r.push([t,i=[]]),-1==i.indexOf(e)&&i.push(e)})})});let o=t[i.join(",")]=new $I(i.indexOf(e.length-1)>-1);for(let e=0;e<r.length;e++){let i=r[e][1].sort(ZI);o.next.push({type:r[e][0],next:t[i.join(",")]||n(i)})}return o}}(function o(e){let t=[[]];return r(o(e,0),n()),t;function n(){return t.push([])-1}function i(e,n,i){let r={term:i,to:n};return t[e].push(r),r}function r(e,t){e.forEach(e=>e.to=t)}function o(e,t){if("choice"==e.type)return e.exprs.reduce((e,n)=>e.concat(o(n,t)),[]);if("seq"!=e.type){if("star"==e.type){let a=n();return i(t,a),r(o(e.expr,a),a),[i(a)]}if("plus"==e.type){let a=n();return r(o(e.expr,t),a),r(o(e.expr,a),a),[i(a)]}if("opt"==e.type)return[i(t)].concat(o(e.expr,t));if("range"==e.type){let a=t;for(let t=0;t<e.min;t++){let t=n();r(o(e.expr,a),t),a=t}if(-1==e.max)r(o(e.expr,a),a);else for(let t=e.min;t<e.max;t++){let t=n();i(a,t),r(o(e.expr,a),t),a=t}return[i(a)]}if("name"==e.type)return[i(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let i=0;;i++){let a=o(e.exprs[i],t);if(i==e.exprs.length-1)return a;r(a,t=n())}}}(i));return function s(e,t){for(let n=0,i=[e];n<i.length;n++){let e=i[n],r=!e.validEnd,o=[];for(let t=0;t<e.next.length;t++){let{type:n,next:a}=e.next[t];o.push(n.name),!r||n.isText||n.hasRequiredAttrs()||(r=!1),-1==i.indexOf(a)&&i.push(a)}r&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(r,n),r}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let i=this;for(let r=t;i&&r<n;r++)i=i.matchType(e.child(r).type);return i}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let i=[this];return function r(o,a){let s=o.matchFragment(e,n);if(s&&(!t||s.validEnd))return mI.from(a.map(e=>e.createAndFill()));for(let e=0;e<o.next.length;e++){let{type:t,next:n}=o.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==i.indexOf(n)){i.push(n);let e=r(n,a.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),r=i.match;if(r.matchType(e)){let e=[];for(let t=i;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<r.next.length;e++){let{type:o,next:a}=r.next[e];o.isLeaf||o.hasRequiredAttrs()||o.name in t||i.type&&!a.validEnd||(n.push({match:o.contentMatch,type:o,via:i}),t[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let i=0;i<n.next.length;i++)-1==e.indexOf(n.next[i].next)&&t(n.next[i].next)}(this),e.map((t,n)=>{let i=n+(t.validEnd?"*":" ")+" ";for(let r=0;r<t.next.length;r++)i+=(r?", ":"")+t.next[r].type.name+"->"+e.indexOf(t.next[r].next);return i}).join("\n")}}$I.empty=new $I(!0);class jI{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function GI(e){let t=[];do{t.push(UI(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function UI(e){let t=[];do{t.push(XI(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function XI(e){let t=function n(e){if(e.eat("(")){let t=GI(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function n(e,t){let n=e.nodeTypes,i=n[t];if(i)return[i];let r=[];for(let o in n){let e=n[o];e.isInGroup(t)&&r.push(e)}0==r.length&&e.err("No node type or group '"+t+"' found");return r}(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=YI(e,t)}return t}function qI(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function YI(e,t){let n=qI(e),i=n;return e.eat(",")&&(i="}"!=e.next?qI(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:t}}function ZI(e,t){return t-e}function KI(e,t){let n=[];return function t(i){let r=e[i];if(1==r.length&&!r[0].term)return t(r[0].to);n.push(i);for(let e=0;e<r.length;e++){let{term:i,to:o}=r[e];i||-1!=n.indexOf(o)||t(o)}}(t),n.sort(ZI)}function JI(e){let t=Object.create(null);for(let n in e){let i=e[n];if(!i.hasDefault)return null;t[n]=i.default}return t}function QI(e,t){let n=Object.create(null);for(let i in e){let r=t&&t[i];if(void 0===r){let t=e[i];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+i);r=t.default}n[i]=r}return n}function eD(e,t,n,i){for(let r in t)if(!(r in e))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in e){let n=e[r];n.validate&&n.validate(t[r])}}function tD(e,t){let n=Object.create(null);if(t)for(let i in t)n[i]=new iD(e,i,t[i]);return n}let nD=class e{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=tD(e,n.attrs),this.defaultAttrs=JI(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==$I.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:QI(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new FI(this,this.computeAttrs(e),mI.from(t),xI.setFrom(n))}createChecked(e=null,t,n){return t=mI.from(t),this.checkContent(t),new FI(this,this.computeAttrs(e),t,xI.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=mI.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let i=this.contentMatch.matchFragment(t),r=i&&i.fillBefore(mI.empty,!0);return r?new FI(this,e,t.append(r),xI.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){eD(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:xI.none:e}static compile(t,n){let i=Object.create(null);t.forEach((t,r)=>i[t]=new e(t,n,r));let r=n.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let e in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};class iD{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function i(e,t,n){let i=n.split("|");return n=>{let r=null===n?"null":typeof n;if(i.indexOf(r)<0)throw new RangeError(`Expected value of type ${i} for attribute ${t} on type ${e}, got ${r}`)}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class rD{constructor(e,t,n,i){this.name=e,this.rank=t,this.schema=n,this.spec=i,this.attrs=tD(e,i.attrs),this.excluded=null;let r=JI(this.attrs);this.instance=r?new xI(this,r):null}create(e=null){return!e&&this.instance?this.instance:new xI(this,QI(this.attrs,e))}static compile(e,t){let n=Object.create(null),i=0;return e.forEach((e,r)=>n[e]=new rD(e,i++,t,r)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){eD(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class oD{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=pI.from(e.nodes),t.marks=pI.from(e.marks||{}),this.nodes=nD.compile(this.spec.nodes,this),this.marks=rD.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let e=this.nodes[i],t=e.spec.content||"",r=e.spec.marks;if(e.contentMatch=n[t]||(n[t]=$I.parse(t,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!e.isInline||!e.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=e}e.markSet="_"==r?null:r?aD(this,r.split(" ")):""!=r&&e.inlineContent?null:[]}for(let i in this.marks){let e=this.marks[i],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:aD(this,t.split(" "))}this.nodeFromJSON=e=>FI.fromJSON(this,e),this.markFromJSON=e=>xI.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,i){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof nD))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,i)}text(e,t){let n=this.nodes.text;return new HI(n,n.defaultAttrs,e,xI.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function aD(e,t){let n=[];for(let i=0;i<t.length;i++){let r=t[i],o=e.marks[r],a=o;if(o)n.push(o);else for(let t in e.marks){let i=e.marks[t];("_"==r||i.spec.group&&i.spec.group.split(" ").indexOf(r)>-1)&&n.push(a=i)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return n}let sD=class e{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(function t(e){return null!=e.tag}(e))this.tags.push(e);else if(function i(e){return null!=e.style}(e)){let t=/[^=]*/.exec(e.style)[0];n.indexOf(t)<0&&n.push(t),this.styles.push(e)}}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new pD(this,t,!1);return n.addAll(e,xI.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new pD(this,t,!0);return n.addAll(e,xI.none,t.from,t.to),wI.maxOpen(n.finish())}matchTag(e,t,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let n=this.tags[i];if(fD(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,i){for(let r=i?this.styles.indexOf(i)+1:0;r<this.styles.length;r++){let i=this.styles[r],o=i.style;if(!(0!=o.indexOf(e)||i.context&&!n.matchesContext(i.context)||o.length>e.length&&(61!=o.charCodeAt(e.length)||o.slice(e.length+1)!=t))){if(i.getAttrs){let e=i.getAttrs(t);if(!1===e)continue;i.attrs=e||void 0}return i}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,i=0;for(;i<t.length;i++){let e=t[i];if((null==e.priority?50:e.priority)<n)break}t.splice(i,0,e)}for(let i in e.marks){let t=e.marks[i].spec.parseDOM;t&&t.forEach(e=>{n(e=gD(e)),e.mark||e.ignore||e.clearMark||(e.mark=i)})}for(let i in e.nodes){let t=e.nodes[i].spec.parseDOM;t&&t.forEach(e=>{n(e=gD(e)),e.node||e.ignore||e.mark||(e.node=i)})}return t}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new e(t,e.schemaRules(t)))}};const lD={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},cD={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},uD={ol:!0,ul:!0};function hD(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class dD{constructor(e,t,n,i,r,o){this.type=e,this.attrs=t,this.marks=n,this.solid=i,this.options=o,this.content=[],this.activeMarks=xI.none,this.match=r||(4&o?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(mI.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=mI.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(mI.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!lD.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class pD{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i,r=t.topNode,o=hD(null,t.preserveWhitespace,0)|(n?4:0);i=r?new dD(r.type,r.attrs,xI.none,!0,t.topMatch||r.type.contentMatch,o):new dD(n?null:e.schema.topNodeType,null,xI.none,!0,null,o),this.nodes=[i],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,i=this.top,r=2&i.options?"full":this.localPreserveWS||(1&i.options)>0,{schema:o}=this.parser;if("full"===r||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r)if("full"===r)n=n.replace(/\r\n?/g,"\n");else if(o.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(o.linebreakReplacement.create())){let e=n.split(/\r?\n|\r/);for(let n=0;n<e.length;n++)n&&this.insertNode(o.linebreakReplacement.create(),t,!0),e[n]&&this.insertNode(o.text(e[n]),t,!/\S/.test(e[n]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=i.content[i.content.length-1],r=e.previousSibling;(!t||r&&"BR"==r.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(o.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let i=this.localPreserveWS,r=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o,a=e.nodeName.toLowerCase();uD.hasOwnProperty(a)&&this.parser.normalizeLists&&function s(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&uD.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));e:if(l?l.ignore:cD.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let n,i=this.needsBlock;if(lD.hasOwnProperty(a))r.content.length&&r.content[0].isInline&&this.open&&(this.open--,r=this.top),n=!0,r.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let o=l&&l.skip?t:this.readStyles(e,t);o&&this.addAll(e,o),n&&this.sync(r),this.needsBlock=i}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,l,n,!1===l.consuming?o:void 0)}this.localPreserveWS=i}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let e=this.parser.matchedStyles[i],r=n.getPropertyValue(e);if(r)for(let n;;){let i=this.parser.matchStyle(e,r,this,n);if(!i)break;if(i.ignore)return null;if(t=i.clearMark?t.filter(e=>!i.clearMark(e)):t.concat(this.parser.schema.marks[i.mark].create(i.attrs)),!1!==i.consuming)break;n=i}}return t}addElementByRule(e,t,n,i){let r,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(o,t.attrs||null,n,t.preserveWhitespace);e&&(r=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n,!1));else{let i=e;"string"==typeof t.contentElement?i=e.querySelector(t.contentElement):"function"==typeof t.contentElement?i=t.contentElement(e):t.contentElement&&(i=t.contentElement),this.findAround(e,i,!0),this.addAll(i,n),this.findAround(e,i,!1)}r&&this.sync(a)&&this.open--}addAll(e,t,n,i){let r=n||0;for(let o=n?e.childNodes[n]:e.firstChild,a=null==i?null:e.childNodes[i];o!=a;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o,t);this.findAtPoint(e,r)}findPlace(e,t,n){let i,r;for(let o=this.open,a=0;o>=0;o--){let t=this.nodes[o],s=t.findWrapping(e);if(s&&(!i||i.length>s.length+a)&&(i=s,r=t,!s.length))break;if(t.solid){if(n)break;a+=2}}if(!i)return null;this.sync(r);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let i=this.findPlace(e,t,n);if(i){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=xI.none;for(let r of i.concat(e.marks))(t.type?t.type.allowsMarkType(r.type):mD(r.type,e.type))&&(n=r.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,i){let r=this.findPlace(e.create(t),n,!1);return r&&(r=this.enterInner(e,t,n,!0,i)),r}enterInner(e,t,n,i=!1,r){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=hD(e,r,o.options);4&o.options&&0==o.content.length&&(a|=4);let s=xI.none;return n=n.filter(t=>!(o.type?o.type.allowsMarkType(t.type):mD(t.type,e))||(s=t.addToSet(s),!1)),this.nodes.push(new dD(e,t,s,i,null,a)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)if(null==this.find[i].pos&&1==e.nodeType&&e.contains(this.find[i].node)){t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,i=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),r=-(n?n.depth+1:0)+(i?0:1),o=(e,a)=>{for(;e>=0;e--){let s=t[e];if(""==s){if(e==t.length-1||0==e)continue;for(;a>=r;a--)if(o(e-1,a))return!0;return!1}{let e=a>0||0==a&&i?this.nodes[a].type:n&&a>=r?n.node(a-r).type:null;if(!e||e.name!=s&&!e.isInGroup(s))return!1;a--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function fD(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function gD(e){let t={};for(let n in e)t[n]=e[n];return t}function mD(e,t){let n=t.schema.nodes;for(let i in n){let r=n[i];if(!r.allowsMarkType(e))continue;let o=[],a=e=>{o.push(e);for(let n=0;n<e.edgeCount;n++){let{type:i,next:r}=e.edge(n);if(i==t)return!0;if(o.indexOf(r)<0&&a(r))return!0}};if(a(r.contentMatch))return!0}}class vD{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=bD(t).createDocumentFragment());let i=n,r=[];return e.forEach(e=>{if(r.length||e.marks.length){let n=0,o=0;for(;n<r.length&&o<e.marks.length;){let t=e.marks[o];if(this.marks[t.type.name]){if(!t.eq(r[n][0])||!1===t.type.spec.spanning)break;n++,o++}else o++}for(;n<r.length;)i=r.pop()[1];for(;o<e.marks.length;){let n=e.marks[o++],a=this.serializeMark(n,e.isInline,t);a&&(r.push([n,i]),i.appendChild(a.dom),i=a.contentDOM||a.dom)}}i.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:i}=wD(bD(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let r=this.serializeMark(e.marks[i],e.isInline,t);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n}serializeMark(e,t,n={}){let i=this.marks[e.type.name];return i&&wD(bD(n),i(e,t),null,e.attrs)}static renderSpec(e,t,n=null,i){return wD(e,t,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new vD(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=yD(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return yD(e.marks)}}function yD(e){let t={};for(let n in e){let i=e[n].spec.toDOM;i&&(t[n]=i)}return t}function bD(e){return e.document||window.document}const xD=new WeakMap;function _D(e){let t=xD.get(e);return void 0===t&&xD.set(e,t=function n(e){let t=null;function n(e){if(e&&"object"==typeof e)if(Array.isArray(e))if("string"==typeof e[0])t||(t=[]),t.push(e);else for(let t=0;t<e.length;t++)n(e[t]);else for(let t in e)n(e[t])}return n(e),t}(e)),t}function wD(e,t,n,i){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,o=t[0];if("string"!=typeof o)throw new RangeError("Invalid array passed to renderSpec");if(i&&(r=_D(i))&&r.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a,s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let l=n?e.createElementNS(n,o):e.createElement(o),c=t[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):"style"==e&&l.style?l.style.cssText=c[e]:l.setAttribute(e,c[e])}}for(let h=u;h<t.length;h++){let r=t[h];if(0===r){if(h<t.length-1||h>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:o}=wD(e,r,n,i);if(l.appendChild(t),o){if(a)throw new RangeError("Multiple content holes");a=o}}}return{dom:l,contentDOM:a}}const SD=Math.pow(2,16);function MD(e,t){return e+t*SD}function kD(e){return 65535&e}class CD{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class TD{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&TD.empty)return TD.empty}recover(e){let t=0,n=kD(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function i(e){return(e-(65535&e))/SD}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let i=0,r=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let s=this.ranges[a]-(this.inverted?i:0);if(s>e)break;let l=this.ranges[a+r],c=this.ranges[a+o],u=s+l;if(e<=u){let r=s+i+((l?e==s?-1:e==u?1:t:t)<0?0:c);if(n)return r;let o=e==(t<0?s:u)?null:MD(a/3,e-s),h=e==s?2:e==u?1:4;return(t<0?e!=s:e!=u)&&(h|=8),new CD(r,h,o)}i+=c-l}return n?e+i:new CD(e+i,0,null)}touches(e,t){let n=0,i=kD(t),r=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let t=this.ranges[a]-(this.inverted?n:0);if(t>e)break;let s=this.ranges[a+r];if(e<=t+s&&a==3*i)return!0;n+=this.ranges[a+o]-s}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,r=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?r:0),s=o+(this.inverted?0:r),l=this.ranges[i+t],c=this.ranges[i+n];e(a,a+l,s,s+c),r+=c-l}}invert(){return new TD(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?TD.empty:new TD(e<0?[0,-e,0]:[0,0,e])}}TD.empty=new TD([]);class AD{constructor(e,t,n=0,i=(e?e.length:0)){this.mirror=t,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new AD(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],null!=i&&i<t?n+i:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=i&&i>t?n-i-1:void 0)}}invert(){let e=new AD;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let i=0;for(let r=this.from;r<this.to;r++){let n=this._maps[r].mapResult(e,t);if(null!=n.recover){let t=this.getMirror(r);if(null!=t&&t>r&&t<this.to){r=t,e=this._maps[t].recover(n.recover);continue}}i|=n.delInfo,e=n.pos}return n?e:new CD(e,i,null)}}const ID=Object.create(null);class DD{getMap(){return TD.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=ID[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in ID)throw new RangeError("Duplicate use of step JSON ID "+e);return ID[e]=t,t.prototype.jsonID=e,t}}class OD{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new OD(e,null)}static fail(e){return new OD(null,e)}static fromReplace(e,t,n,i){try{return OD.ok(e.replace(t,n,i))}catch(kLe){if(kLe instanceof _I)return OD.fail(kLe.message);throw kLe}}}function ED(e,t,n){let i=[];for(let r=0;r<e.childCount;r++){let o=e.child(r);o.content.size&&(o=o.copy(ED(o.content,t,o))),o.isInline&&(o=t(o,n,r)),i.push(o)}return mI.fromArray(i)}class LD extends DD{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),r=new wI(ED(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,i),t.openStart,t.openEnd);return OD.fromReplace(e,this.from,this.to,r)}invert(){return new RD(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new LD(t.pos,n.pos,this.mark)}merge(e){return e instanceof LD&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new LD(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new LD(t.from,t.to,e.markFromJSON(t.mark))}}DD.jsonID("addMark",LD);class RD extends DD{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new wI(ED(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return OD.fromReplace(e,this.from,this.to,n)}invert(){return new LD(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new RD(t.pos,n.pos,this.mark)}merge(e){return e instanceof RD&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new RD(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RD(t.from,t.to,e.markFromJSON(t.mark))}}DD.jsonID("removeMark",RD);class ND extends DD{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return OD.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return OD.fromReplace(e,this.pos,this.pos+1,new wI(mI.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new ND(this.pos,t.marks[n]);return new ND(this.pos,this.mark)}}return new PD(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ND(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ND(t.pos,e.markFromJSON(t.mark))}}DD.jsonID("addNodeMark",ND);class PD extends DD{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return OD.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return OD.fromReplace(e,this.pos,this.pos+1,new wI(mI.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new ND(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new PD(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new PD(t.pos,e.markFromJSON(t.mark))}}DD.jsonID("removeNodeMark",PD);class zD extends DD{constructor(e,t,n,i=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=i}apply(e){return this.structure&&VD(e,this.from,this.to)?OD.fail("Structure replace would overwrite content"):OD.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new TD([this.from,this.to-this.from,this.slice.size])}invert(e){return new zD(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new zD(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof zD)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?wI.empty:new wI(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new zD(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?wI.empty:new wI(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new zD(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new zD(t.from,t.to,wI.fromJSON(e,t.slice),!!t.structure)}}DD.jsonID("replace",zD);class BD extends DD{constructor(e,t,n,i,r,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=i,this.slice=r,this.insert=o,this.structure=a}apply(e){if(this.structure&&(VD(e,this.from,this.gapFrom)||VD(e,this.gapTo,this.to)))return OD.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return OD.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?OD.fromReplace(e,this.from,this.to,n):OD.fail("Content does not fit in gap")}getMap(){return new TD([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new BD(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),r=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||i<t.pos||r>n.pos?null:new BD(t.pos,n.pos,i,r,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new BD(t.from,t.to,t.gapFrom,t.gapTo,wI.fromJSON(e,t.slice),t.insert,!!t.structure)}}function VD(e,t,n){let i=e.resolve(t),r=n-t,o=i.depth;for(;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0){let e=i.node(o).maybeChild(i.indexAfter(o));for(;r>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,r--}}return!1}function FD(e,t,n,i=n.contentMatch,r=!0){let o=e.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let t=o.child(l),c=s+t.nodeSize,u=i.matchType(t.type);if(u){i=u;for(let i=0;i<t.marks.length;i++)n.allowsMarkType(t.marks[i].type)||e.step(new RD(s,c,t.marks[i]));if(r&&t.isText&&"pre"!=n.whitespace){let e,i,r=/\r?\n|\r/g;for(;e=r.exec(t.text);)i||(i=new wI(mI.from(n.schema.text(" ",n.allowedMarks(t.marks))),0,0)),a.push(new zD(s+e.index,s+e.index+e[0].length,i))}}else a.push(new zD(s,c,wI.empty));s=c}if(!i.validEnd){let t=i.fillBefore(mI.empty,!0);e.replace(s,s,new wI(t,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function HD(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function WD(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth,i=0,r=0;;--n){let o=e.$from.node(n),a=e.$from.index(n)+i,s=e.$to.indexAfter(n)-r;if(n<e.depth&&o.canReplace(a,s,t))return n;if(0==n||o.type.spec.isolating||!HD(o,a,s))break;a&&(i=1),s<o.childCount&&(r=1)}return null}function $D(e,t,n=null,i=e){let r=function o(e,t){let{parent:n,startIndex:i,endIndex:r}=e,o=n.contentMatchAt(i).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return n.canReplaceWith(i,r,a)?o:null}(e,t),a=r&&function s(e,t){let{parent:n,startIndex:i,endIndex:r}=e,o=n.child(i),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let s=(a.length?a[a.length-1]:t).contentMatch;for(let l=i;s&&l<r;l++)s=s.matchType(n.child(l).type);return s&&s.validEnd?a:null}(i,t);return a?r.map(jD).concat({type:t,attrs:n}).concat(a.map(jD)):null}function jD(e){return{type:e,attrs:null}}function GD(e,t,n,i){t.forEach((r,o)=>{if(r.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(r.text);){let r=e.mapping.slice(i).map(n+1+o+a.index);e.replaceWith(r,r+1,t.type.schema.linebreakReplacement.create())}}})}function UD(e,t,n,i){t.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let r=e.mapping.slice(i).map(n+1+o);e.replaceWith(r,r+1,t.type.schema.text("\n"))}})}function XD(e,t,n=1,i){let r=e.resolve(t),o=r.depth-n,a=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,u=n-2;c>o;c--,u--){let e=r.node(c),t=r.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),o=i&&i[u+1];o&&(n=n.replaceChild(0,o.type.create(o.attrs)));let a=i&&i[u]||e;if(!e.canReplace(t+1,e.childCount)||!a.type.validContent(n))return!1}let s=r.indexAfter(o),l=i&&i[0];return r.node(o).canReplaceWith(s,s,l?l.type:r.node(o+1).type)}function qD(e,t){let n=e.resolve(t),i=n.index();return YD(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function YD(e,t){return!(!e||!t||e.isLeaf||!function n(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:i}=e.type.schema;for(let r=0;r<t.childCount;r++){let o=t.child(r),a=o.type==i?e.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n)return!1;if(!e.type.allowsMarks(o.marks))return!1}return n.validEnd}(e,t))}function ZD(e,t,n=-1){let i=e.resolve(t);for(let r=i.depth;;r--){let e,o,a=i.index(r);if(r==i.depth?(e=i.nodeBefore,o=i.nodeAfter):n>0?(e=i.node(r+1),a++,o=i.node(r).maybeChild(a)):(e=i.node(r).maybeChild(a-1),o=i.node(r+1)),e&&!e.isTextblock&&YD(e,o)&&i.node(r).canReplace(a,a+1))return t;if(0==r)break;t=n<0?i.before(r):i.after(r)}}function KD(e,t,n){let i=e.resolve(t);if(!n.content.size)return t;let r=n.content;for(let o=0;o<n.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(0==n.openStart&&n.size?2:1);o++)for(let e=i.depth;e>=0;e--){let t=e==i.depth?0:i.pos<=(i.start(e+1)+i.end(e+1))/2?-1:1,n=i.index(e)+(t>0?1:0),a=i.node(e),s=!1;if(1==o)s=a.canReplace(n,n,r);else{let e=a.contentMatchAt(n).findWrapping(r.firstChild.type);s=e&&a.canReplaceWith(n,n,e[0])}if(s)return 0==t?i.pos:t<0?i.before(e+1):i.after(e+1)}return null}function JD(e,t,n=t,i=wI.empty){if(t==n&&!i.size)return null;let r=e.resolve(t),o=e.resolve(n);return QD(r,o,i)?new zD(t,n,i):new eO(r,o,i).fit()}function QD(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}DD.jsonID("replaceAround",BD);class eO{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=mI.empty;for(let i=0;i<=e.depth;i++){let t=e.node(i);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=mI.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let r=this.placed,o=n.depth,a=i.depth;for(;o&&a&&1==r.childCount;)r=r.firstChild.content,o--,a--;let s=new wI(r,o,a);return e>-1?new BD(n.pos,e,this.$to.pos,this.$to.end(),s,t):s.size||n.pos!=this.$to.pos?new zD(n.pos,i.pos,s):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let r=t.firstChild;if(t.childCount>1&&(i=0),r.type.spec.isolating&&i<=n){e=n;break}t=r.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,i=null;n?(i=iO(this.unplaced.content,n-1).firstChild,e=i.content):e=this.unplaced.content;let r=e.firstChild;for(let o=this.depth;o>=0;o--){let e,{type:a,match:s}=this.frontier[o],l=null;if(1==t&&(r?s.matchType(r.type)||(l=s.fillBefore(mI.from(r),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:o,parent:i,inject:l};if(2==t&&r&&(e=s.findWrapping(r.type)))return{sliceDepth:n,frontierDepth:o,parent:i,wrap:e};if(i&&s.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=iO(e,t);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new wI(e,t+1,Math.max(n,i.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,i=iO(e,t);if(i.childCount<=1&&t>0){let r=e.size-t<=t+i.size;this.unplaced=new wI(tO(e,t-1,1),t-1,r?t-1:n)}else this.unplaced=new wI(tO(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:i,wrap:r}){for(;this.depth>t;)this.closeFrontierNode();if(r)for(let f=0;f<r.length;f++)this.openFrontierNode(r[f]);let o=this.unplaced,a=n?n.content:o.content,s=o.openStart-e,l=0,c=[],{match:u,type:h}=this.frontier[t];if(i){for(let e=0;e<i.childCount;e++)c.push(i.child(e));u=u.matchFragment(i)}let d=a.size+e-(o.content.size-o.openEnd);for(;l<a.childCount;){let e=a.child(l),t=u.matchType(e.type);if(!t)break;l++,(l>1||0==s||e.content.size)&&(u=t,c.push(rO(e.mark(h.allowedMarks(e.marks)),1==l?s:0,l==a.childCount?d:-1)))}let p=l==a.childCount;p||(d=-1),this.placed=nO(this.placed,t,mI.from(c)),this.frontier[t].match=u,p&&d<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let f=0,g=a;f<d;f++){let e=g.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),g=e.content}this.unplaced=p?0==e?wI.empty:new wI(tO(o.content,e-1,1),e-1,d<0?o.openEnd:e-1):new wI(tO(o.content,e,l),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!oO(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:i}=this.frontier[t],r=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=oO(e,t,i,n,r);if(o){for(let n=t-1;n>=0;n--){let{match:t,type:i}=this.frontier[n],r=oO(e,n,i,t,!0);if(!r||r.childCount)continue e}return{depth:t,fit:o,move:r?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=nO(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),i=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,i)}return e}openFrontierNode(e,t=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=nO(this.placed,this.depth,mI.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(mI.empty,!0);e.childCount&&(this.placed=nO(this.placed,this.frontier.length,e))}}function tO(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(tO(e.firstChild.content,t-1,n)))}function nO(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(nO(e.lastChild.content,t-1,n)))}function iO(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function rO(e,t,n){if(t<=0)return e;let i=e.content;return t>1&&(i=i.replaceChild(0,rO(i.firstChild,t-1,1==i.childCount?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(mI.empty,!0)))),e.copy(i)}function oO(e,t,n,i,r){let o=e.node(t),a=r?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=i.fillBefore(o.content,!0,a);return s&&!function l(e,t,n){for(let i=n;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!0;return!1}(n,o.content,a)?s:null}function aO(e){return e.spec.defining||e.spec.definingForContent}function sO(e,t,n,i,r){if(t<n){let r=e.firstChild;e=e.replaceChild(0,r.copy(sO(r.content,t+1,n,i,r)))}if(t>i){let t=r.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(mI.empty,!0))}return e}function lO(e,t){let n=[];for(let i=Math.min(e.depth,t.depth);i>=0;i--){let r=e.start(i);if(r<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(r==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==r-1)&&n.push(i)}return n}class cO extends DD{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return OD.fail("No node at attribute step's position");let n=Object.create(null);for(let r in t.attrs)n[r]=t.attrs[r];n[this.attr]=this.value;let i=t.type.create(n,null,t.marks);return OD.fromReplace(e,this.pos,this.pos+1,new wI(mI.from(i),0,t.isLeaf?0:1))}getMap(){return TD.empty}invert(e){return new cO(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new cO(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new cO(t.pos,t.attr,t.value)}}DD.jsonID("attr",cO);class uO extends DD{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return OD.ok(n)}getMap(){return TD.empty}invert(e){return new uO(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new uO(t.attr,t.value)}}DD.jsonID("docAttr",uO);let hO=class extends Error{};hO=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(hO.prototype=Object.create(Error.prototype)).constructor=hO,hO.prototype.name="TransformError";class dO{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new AD}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new hO(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=wI.empty){let i=JD(this.doc,e,t,n);return i&&this.step(i),this}replaceWith(e,t,n){return this.replace(e,t,new wI(mI.from(n),0,0))}delete(e,t){return this.replace(e,t,wI.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function i(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),a=e.doc.resolve(n);if(QD(o,a,r))return e.step(new zD(t,n,r));let s=lO(o,a);0==s[s.length-1]&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let i=o.depth,p=o.pos-1;i>0;i--,p--){let e=o.node(i).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;s.indexOf(i)>-1?l=i:o.before(i)==p&&s.splice(1,0,-i)}let c=s.indexOf(l),u=[],h=r.openStart;for(let i=r.content,p=0;;p++){let e=i.firstChild;if(u.push(e),p==r.openStart)break;i=e.content}for(let i=h-1;i>=0;i--){let e=u[i],t=aO(e.type);if(t&&!e.sameMarkup(o.node(Math.abs(l)-1)))h=i;else if(t||!e.type.isTextblock)break}for(let i=r.openStart;i>=0;i--){let t=(i+h+1)%(r.openStart+1),l=u[t];if(l)for(let i=0;i<s.length;i++){let u=s[(i+c)%s.length],h=!0;u<0&&(h=!1,u=-u);let d=o.node(u-1),p=o.index(u-1);if(d.canReplaceWith(p,p,l.type,l.marks))return e.replace(o.before(u),h?a.after(u):n,new wI(sO(r.content,0,r.openStart,t),t,r.openEnd))}}let d=e.steps.length;for(let i=s.length-1;i>=0&&(e.replace(t,n,r),!(e.steps.length>d));i--){let e=s[i];e<0||(t=o.before(e),n=a.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function i(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=function o(e,t,n){let i=e.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),n))return t;if(0==i.parentOffset)for(let r=i.depth-1;r>=0;r--){let e=i.index(r);if(i.node(r).canReplaceWith(e,e,n))return i.before(r+1);if(e>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let e=i.indexAfter(r);if(i.node(r).canReplaceWith(e,e,n))return i.after(r+1);if(e<i.node(r).childCount)return null}return null}(e.doc,t,r.type);null!=i&&(t=n=i)}e.replaceRange(t,n,new wI(mI.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function n(e,t,i){let r=e.doc.resolve(t),o=e.doc.resolve(i),a=lO(r,o);for(let n=0;n<a.length;n++){let t=a[n],i=n==a.length-1;if(i&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),o.end(t));if(t>0&&(i||r.node(t-1).canReplace(r.index(t-1),o.indexAfter(t-1))))return e.delete(r.before(t),o.after(t))}for(let n=1;n<=r.depth&&n<=o.depth;n++)if(t-r.start(n)==r.depth-n&&i>r.end(n)&&o.end(n)-i!=o.depth-n&&r.start(n-1)==o.start(n-1)&&r.node(n-1).canReplace(r.index(n-1),o.index(n-1)))return e.delete(r.before(n),i);e.delete(t,i)}(this,e,t),this}lift(e,t){return function n(e,t,i){let{$from:r,$to:o,depth:a}=t,s=r.before(a+1),l=o.after(a+1),c=s,u=l,h=mI.empty,d=0;for(let n=a,g=!1;n>i;n--)g||r.index(n)>0?(g=!0,h=mI.from(r.node(n).copy(h)),d++):c--;let p=mI.empty,f=0;for(let n=a,g=!1;n>i;n--)g||o.after(n+1)<o.end(n)?(g=!0,p=mI.from(o.node(n).copy(p)),f++):u++;e.step(new BD(c,u,s,l,new wI(h.append(p),d,f),h.size-d,!0))}(this,e,t),this}join(e,t=1){return function n(e,t,i){let r=null,{linebreakReplacement:o}=e.doc.type.schema,a=e.doc.resolve(t-i),s=a.node().type;if(o&&s.inlineContent){let e="pre"==s.whitespace,t=!!s.contentMatch.matchType(o);e&&!t?r=!1:!e&&t&&(r=!0)}let l=e.steps.length;if(!1===r){let n=e.doc.resolve(t+i);UD(e,n.node(),n.before(),l)}s.inlineContent&&FD(e,t+i-1,s,a.node().contentMatchAt(a.index()),null==r);let c=e.mapping.slice(l),u=c.map(t-i);if(e.step(new zD(u,c.map(t+i,-1),wI.empty,!0)),!0===r){let t=e.doc.resolve(u);GD(e,t.node(),t.before(),e.steps.length)}return e}(this,e,t),this}wrap(e,t){return function n(e,t,i){let r=mI.empty;for(let n=i.length-1;n>=0;n--){if(r.size){let e=i[n].type.contentMatch.matchFragment(r);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=mI.from(i[n].type.create(i[n].attrs,r))}let o=t.start,a=t.end;e.step(new BD(o,a,o,a,new wI(r,0,0),i.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,i=null){return function r(e,t,n,i,o){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{let r="function"==typeof o?o(t):o;if(t.isTextblock&&!t.hasMarkup(i,r)&&function s(e,t,n){let i=e.resolve(t),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}(e.doc,e.mapping.slice(a).map(n),i)){let o=null;if(i.schema.linebreakReplacement){let e="pre"==i.whitespace,t=!!i.contentMatch.matchType(i.schema.linebreakReplacement);e&&!t?o=!1:!e&&t&&(o=!0)}!1===o&&UD(e,t,n,a),FD(e,e.mapping.slice(a).map(n,1),i,void 0,null===o);let s=e.mapping.slice(a),l=s.map(n,1),c=s.map(n+t.nodeSize,1);return e.step(new BD(l,c,l+1,c-1,new wI(mI.from(i.create(r,null,t.marks)),0,0),1,!0)),!0===o&&GD(e,t,n,a),!1}})}(this,e,t,n,i),this}setNodeMarkup(e,t,n=null,i){return function r(e,t,n,i,o){let a=e.doc.nodeAt(t);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let s=n.create(i,null,o||a.marks);if(a.isLeaf)return e.replaceWith(t,t+a.nodeSize,s);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new BD(t,t+a.nodeSize,t+1,t+a.nodeSize-1,new wI(mI.from(s),0,0),1,!0))}(this,e,t,n,i),this}setNodeAttribute(e,t,n){return this.step(new cO(e,t,n)),this}setDocAttribute(e,t){return this.step(new uO(e,t)),this}addNodeMark(e,t){return this.step(new ND(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof xI)t.isInSet(n.marks)&&this.step(new PD(e,t));else{let i,r=n.marks,o=[];for(;i=t.isInSet(r);)o.push(new PD(e,i)),r=i.removeFromSet(r);for(let e=o.length-1;e>=0;e--)this.step(o[e])}return this}split(e,t=1,n){return function i(e,t,n=1,r){let o=e.doc.resolve(t),a=mI.empty,s=mI.empty;for(let i=o.depth,l=o.depth-n,c=n-1;i>l;i--,c--){a=mI.from(o.node(i).copy(a));let e=r&&r[c];s=mI.from(e?e.type.create(e.attrs,s):o.node(i).copy(s))}e.step(new zD(t,t,new wI(a.append(s),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function i(e,t,n,r){let o,a,s=[],l=[];e.doc.nodesBetween(t,n,(e,i,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(i,t),h=Math.min(i+e.nodeSize,n),d=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(d)||(o&&o.to==c&&o.mark.eq(u[e])?o.to=h:s.push(o=new RD(c,h,u[e])));a&&a.to==c?a.to=h:l.push(a=new LD(c,h,r))}}),s.forEach(t=>e.step(t)),l.forEach(t=>e.step(t))}(this,e,t,n),this}removeMark(e,t,n){return function i(e,t,n,r){let o=[],a=0;e.doc.nodesBetween(t,n,(e,i)=>{if(!e.isInline)return;a++;let s=null;if(r instanceof rD){let t,n=e.marks;for(;t=r.isInSet(n);)(s||(s=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(s=[r]):s=e.marks;if(s&&s.length){let r=Math.min(i+e.nodeSize,n);for(let e=0;e<s.length;e++){let n,l=s[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==a-1&&l.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=a):o.push({style:l,from:Math.max(i,t),to:r,step:a})}}}),o.forEach(t=>e.step(new RD(t.from,t.to,t.style)))}(this,e,t,n),this}clearIncompatible(e,t,n){return FD(this,e,t,n),this}}const pO=Object.create(null);class fO{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new gO(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=wI.empty){let n=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=n,n=n.lastChild;let r=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:s,$to:l}=o[a],c=e.mapping.slice(r);e.replaceRange(c.map(s.pos),c.map(l.pos),a?wI.empty:t),0==a&&kO(e,r,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,i=this.ranges;for(let r=0;r<i.length;r++){let{$from:o,$to:a}=i[r],s=e.mapping.slice(n),l=s.map(o.pos),c=s.map(a.pos);r?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),kO(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let i=e.parent.inlineContent?new yO(e):MO(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(let r=e.depth-1;r>=0;r--){let i=t<0?MO(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):MO(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(i)return i}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new wO(e.node(0))}static atStart(e){return MO(e,e,0,0,1)||new wO(e)}static atEnd(e){return MO(e,e,e.content.size,e.childCount,-1)||new wO(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=pO[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in pO)throw new RangeError("Duplicate use of selection JSON ID "+e);return pO[e]=t,t.prototype.jsonID=e,t}getBookmark(){return yO.between(this.$anchor,this.$head).getBookmark()}}fO.prototype.visible=!0;class gO{constructor(e,t){this.$from=e,this.$to=t}}let mO=!1;function vO(e){mO||e.parent.inlineContent||(mO=!0)}class yO extends fO{constructor(e,t=e){vO(e),vO(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return fO.near(n);let i=e.resolve(t.map(this.anchor));return new yO(i.parent.inlineContent?i:n,n)}replace(e,t=wI.empty){if(super.replace(e,t),t==wI.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof yO&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new bO(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new yO(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))}static between(e,t,n){let i=e.pos-t.pos;if(n&&!i||(n=i>=0?1:-1),!t.parent.inlineContent){let e=fO.findFrom(t,n,!0)||fO.findFrom(t,-n,!0);if(!e)return fO.near(t,n);t=e.$head}return e.parent.inlineContent||(0==i||(e=(fO.findFrom(e,-n,!0)||fO.findFrom(e,n,!0)).$anchor).pos<t.pos!=i<0)&&(e=t),new yO(e,t)}}fO.jsonID("text",yO);class bO{constructor(e,t){this.anchor=e,this.head=t}map(e){return new bO(e.map(this.anchor),e.map(this.head))}resolve(e){return yO.between(e.resolve(this.anchor),e.resolve(this.head))}}class xO extends fO{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),r=e.resolve(i);return n?fO.near(r):new xO(r)}content(){return new wI(mI.from(this.node),0,0)}eq(e){return e instanceof xO&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new _O(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new xO(e.resolve(t.anchor))}static create(e,t){return new xO(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}xO.prototype.visible=!1,fO.jsonID("node",xO);class _O{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new bO(n,n):new _O(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&xO.isSelectable(n)?new xO(t):fO.near(t)}}class wO extends fO{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=wI.empty){if(t==wI.empty){e.delete(0,e.doc.content.size);let t=fO.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new wO(e)}map(e){return new wO(e)}eq(e){return e instanceof wO}getBookmark(){return SO}}fO.jsonID("all",wO);const SO={map(){return this},resolve:e=>new wO(e)};function MO(e,t,n,i,r,o=!1){if(t.inlineContent)return yO.create(e,n);for(let a=i-(r>0?0:1);r>0?a<t.childCount:a>=0;a+=r){let i=t.child(a);if(i.isAtom){if(!o&&xO.isSelectable(i))return xO.create(e,n-(r<0?i.nodeSize:0))}else{let t=MO(e,i,n+r,r<0?i.childCount:0,r,o);if(t)return t}n+=i.nodeSize*r}return null}function kO(e,t,n){let i=e.steps.length-1;if(i<t)return;let r,o=e.steps[i];(o instanceof zD||o instanceof BD)&&(e.mapping.maps[i].forEach((e,t,n,i)=>{null==r&&(r=i)}),e.setSelection(fO.near(e.doc.resolve(r),n)))}class CO extends dO{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return xI.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||xI.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let i=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),!e)return this.deleteRange(t,n);let r=this.storedMarks;if(!r){let e=this.doc.resolve(t);r=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,r)),this.selection.empty||this.selection.to!=t+e.length||this.setSelection(fO.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function TO(e,t){return t&&e?e.bind(t):e}class AO{constructor(e,t,n){this.name=e,this.init=TO(t.init,n),this.apply=TO(t.apply,n)}}const IO=[new AO("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new AO("selection",{init:(e,t)=>e.selection||fO.atStart(t.doc),apply:e=>e.selection}),new AO("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,i)=>i.selection.$cursor?e.storedMarks:null}),new AO("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class DO{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=IO.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new AO(e.key,e.spec.state,e))})}}class OO{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),i=null;for(;;){let r=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let s=i?i[o].n:0,l=i?i[o].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let e=0;e<this.config.plugins.length;e++)i.push(e<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),r=!0}i&&(i[o]={state:n,n:t.length})}}if(!r)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new OO(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let r=n[i];t[r.name]=r.apply(e,this[r.name],this,t)}return t}get tr(){return new CO(this)}static create(e){let t=new DO(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new OO(t);for(let i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n}reconfigure(e){let t=new DO(this.schema,e.plugins),n=t.fields,i=new OO(t);for(let r=0;r<n.length;r++){let t=n[r].name;i[t]=this.hasOwnProperty(t)?this[t]:n[r].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],r=i.spec.state;r&&r.toJSON&&(t[n]=r.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new DO(e.schema,e.plugins),r=new OO(i);return i.fields.forEach(i=>{if("doc"==i.name)r.doc=FI.fromJSON(e.schema,t.doc);else if("selection"==i.name)r.selection=fO.fromJSON(r.doc,t.selection);else if("storedMarks"==i.name)t.storedMarks&&(r.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let o in n){let a=n[o],s=a.spec.state;if(a.key==i.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,o))return void(r[i.name]=s.fromJSON.call(a,e,t[o],r))}r[i.name]=i.init(e,r)}}),r}}function EO(e,t,n){for(let i in e){let r=e[i];r instanceof Function?r=r.bind(t):"handleDOMEvents"==i&&(r=EO(r,t,{})),n[i]=r}return n}class LO{constructor(e){this.spec=e,this.props={},e.props&&EO(e.props,this,this.props),this.key=e.key?e.key.key:NO("plugin")}getState(e){return e[this.key]}}const RO=Object.create(null);function NO(e){return e in RO?e+"$"+ ++RO[e]:(RO[e]=0,e+"$")}class PO{constructor(e="key"){this.key=NO(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const zO=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},BO=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let VO=null;const FO=function(e,t,n){let i=VO||(VO=document.createRange());return i.setEnd(e,null==n?e.nodeValue.length:n),i.setStart(e,t||0),i},HO=function(e,t,n,i){return n&&($O(e,t,n,i,-1)||$O(e,t,n,i,1))},WO=/^(img|br|input|textarea|hr)$/i;function $O(e,t,n,i,r){for(var o;;){if(e==n&&t==i)return!0;if(t==(r<0?0:jO(e))){let n=e.parentNode;if(!n||1!=n.nodeType||GO(e)||WO.test(e.nodeName)||"false"==e.contentEditable)return!1;t=zO(e)+(r<0?0:1),e=n}else{if(1!=e.nodeType)return!1;{let n=e.childNodes[t+(r<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(!(null===(o=n.pmViewDesc)||void 0===o?void 0:o.ignoreForSelection))return!1;t+=r}else e=n,t=r<0?jO(e):0}}}}function jO(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function GO(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const UO=function(e){return e.focusNode&&HO(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function XO(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const qO="undefined"!=typeof navigator?navigator:null,YO="undefined"!=typeof document?document:null,ZO=qO&&qO.userAgent||"",KO=/Edge\/(\d+)/.exec(ZO),JO=/MSIE \d/.exec(ZO),QO=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ZO),eE=!!(JO||QO||KO),tE=JO?document.documentMode:QO?+QO[1]:KO?+KO[1]:0,nE=!eE&&/gecko\/(\d+)/i.test(ZO);nE&&(/Firefox\/(\d+)/.exec(ZO)||[0,0])[1];const iE=!eE&&/Chrome\/(\d+)/.exec(ZO),rE=!!iE,oE=iE?+iE[1]:0,aE=!eE&&!!qO&&/Apple Computer/.test(qO.vendor),sE=aE&&(/Mobile\/\w+/.test(ZO)||!!qO&&qO.maxTouchPoints>2),lE=sE||!!qO&&/Mac/.test(qO.platform),cE=!!qO&&/Win/.test(qO.platform),uE=/Android \d/.test(ZO),hE=!!YO&&"webkitFontSmoothing"in YO.documentElement.style,dE=hE?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function pE(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function fE(e,t){return"number"==typeof e?e:e[t]}function gE(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*i}}function mE(e,t,n){let i=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(1!=a.nodeType){a=BO(a);continue}let e=a,n=e==o.body,s=n?pE(o):gE(e),l=0,c=0;if(t.top<s.top+fE(i,"top")?c=-(s.top-t.top+fE(r,"top")):t.bottom>s.bottom-fE(i,"bottom")&&(c=t.bottom-t.top>s.bottom-s.top?t.top+fE(r,"top")-s.top:t.bottom-s.bottom+fE(r,"bottom")),t.left<s.left+fE(i,"left")?l=-(s.left-t.left+fE(r,"left")):t.right>s.right-fE(i,"right")&&(l=t.right-s.right+fE(r,"right")),l||c)if(n)o.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,i=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let r=e.scrollLeft-n,o=e.scrollTop-i;t={left:t.left-r,top:t.top-o,right:t.right-r,bottom:t.bottom-o}}let u=n?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(u))break;a="absolute"==u?a.offsetParent:BO(a)}}function vE(e){let t=[],n=e.ownerDocument;for(let i=e;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),e!=n);i=BO(i));return t}function yE(e,t){for(let n=0;n<e.length;n++){let{dom:i,top:r,left:o}=e[n];i.scrollTop!=r+t&&(i.scrollTop=r+t),i.scrollLeft!=o&&(i.scrollLeft=o)}}let bE=null;function xE(e,t){let n,i,r,o,a=2e8,s=0,l=t.top,c=t.top;for(let h=e.firstChild,d=0;h;h=h.nextSibling,d++){let e;if(1==h.nodeType)e=h.getClientRects();else{if(3!=h.nodeType)continue;e=FO(h).getClientRects()}for(let u=0;u<e.length;u++){let p=e[u];if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l),c=Math.min(p.top,c);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<a){n=h,a=e,i=e&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==h.nodeType&&e&&(s=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!r&&p.left<=t.left&&p.right>=t.left&&(r=h,o={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=d+1)}}return!n&&r&&(n=r,i=o,a=0),n&&3==n.nodeType?function u(e,t){let n,i=e.nodeValue.length,r=document.createRange();for(let o=0;o<i;o++){r.setEnd(e,o+1),r.setStart(e,o);let i=kE(r,1);if(i.top!=i.bottom&&_E(t,i)){n={node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)};break}}return r.detach(),n||{node:e,offset:0}}(n,i):!n||a&&1==n.nodeType?{node:e,offset:s}:xE(n,i)}function _E(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function wE(e,t,n){let i=e.childNodes.length;if(i&&n.top<n.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-n.top)/(n.bottom-n.top))-2)),o=r;;){let n=e.childNodes[o];if(1==n.nodeType){let e=n.getClientRects();for(let i=0;i<e.length;i++){let r=e[i];if(_E(t,r))return wE(n,t,r)}}if((o=(o+1)%i)==r)break}return e}function SE(e,t){let n,i=e.dom.ownerDocument,r=0,o=function a(e,t,n){if(e.caretPositionFromPoint)try{let i=e.caretPositionFromPoint(t,n);if(i)return{node:i.offsetNode,offset:Math.min(jO(i.offsetNode),i.offset)}}catch(i){}if(e.caretRangeFromPoint){let i=e.caretRangeFromPoint(t,n);if(i)return{node:i.startContainer,offset:Math.min(jO(i.startContainer),i.startOffset)}}}(i,t.left,t.top);o&&({node:n,offset:r}=o);let s,l=(e.root.elementFromPoint?e.root:i).elementFromPoint(t.left,t.top);if(!l||!e.dom.contains(1!=l.nodeType?l.parentNode:l)){let n=e.dom.getBoundingClientRect();if(!_E(t,n))return null;if(l=wE(e.dom,t,n),!l)return null}if(aE)for(let d=l;n&&d;d=BO(d))d.draggable&&(n=void 0);if(l=function c(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(l,t),n){if(nE&&1==n.nodeType&&(r=Math.min(r,n.childNodes.length),r<n.childNodes.length)){let e,i=n.childNodes[r];"IMG"==i.nodeName&&(e=i.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&r++}let i;hE&&r&&1==n.nodeType&&1==(i=n.childNodes[r-1]).nodeType&&"false"==i.contentEditable&&i.getBoundingClientRect().top>=t.top&&r--,n==e.dom&&r==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=r&&1==n.nodeType&&"BR"==n.childNodes[r-1].nodeName||(s=function o(e,t,n,i){let r=-1;for(let o=t,a=!1;o!=e.dom;){let t,n=e.docView.nearestDesc(o,!0);if(!n)return null;if(1==n.dom.nodeType&&(n.node.isBlock&&n.parent||!n.contentDOM)&&((t=n.dom.getBoundingClientRect()).width||t.height)&&(n.node.isBlock&&n.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(n.dom.nodeName)&&(!a&&t.left>i.left||t.top>i.top?r=n.posBefore:(!a&&t.right<i.left||t.bottom<i.top)&&(r=n.posAfter),a=!0),!n.contentDOM&&r<0&&!n.node.isText))return(n.node.isBlock?i.top<(t.top+t.bottom)/2:i.left<(t.left+t.right)/2)?n.posBefore:n.posAfter;o=n.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n,-1)}(e,n,r,t))}null==s&&(s=function u(e,t,n){let{node:i,offset:r}=xE(t,n),o=-1;if(1==i.nodeType&&!i.firstChild){let e=i.getBoundingClientRect();o=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(i,r,o)}(e,l,t));let h=e.docView.nearestDesc(l,!0);return{pos:s,inside:h?h.posAtStart-h.border:-1}}function ME(e){return e.top<e.bottom||e.left<e.right}function kE(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(ME(e))return e}return Array.prototype.find.call(n,ME)||e.getBoundingClientRect()}const CE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function TE(e,t,n){let{node:i,offset:r,atom:o}=e.docView.domFromPos(t,n<0?-1:1),a=hE||nE;if(3==i.nodeType){if(!a||!CE.test(i.nodeValue)&&(n<0?r:r!=i.nodeValue.length)){let e=r,t=r,o=n<0?1:-1;return n<0&&!r?(t++,o=-1):n>=0&&r==i.nodeValue.length?(e--,o=1):n<0?e--:t++,AE(kE(FO(i,e,t),o),o<0)}{let e=kE(FO(i,r,r),n);if(nE&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let t=kE(FO(i,r-1,r-1),-1);if(t.top==e.top){let n=kE(FO(i,r,r+1),-1);if(n.top!=e.top)return AE(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(null==o&&r&&(n<0||r==jO(i))){let e=i.childNodes[r-1];if(1==e.nodeType)return IE(e.getBoundingClientRect(),!1)}if(null==o&&r<jO(i)){let e=i.childNodes[r];if(1==e.nodeType)return IE(e.getBoundingClientRect(),!0)}return IE(i.getBoundingClientRect(),n>=0)}if(null==o&&r&&(n<0||r==jO(i))){let e=i.childNodes[r-1],t=3==e.nodeType?FO(e,jO(e)-(a?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return AE(kE(t,1),!1)}if(null==o&&r<jO(i)){let e=i.childNodes[r];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?FO(e,0,a?0:1):1==e.nodeType?e:null:null;if(t)return AE(kE(t,-1),!0)}return AE(kE(3==i.nodeType?FO(i):i,-n),n>=0)}function AE(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function IE(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function DE(e,t,n){let i=e.state,r=e.root.activeElement;i!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),r!=e.dom&&r&&r.focus()}}const OE=/[\u0590-\u08ac]/;let EE=null,LE=null,RE=!1;function NE(e,t,n){return EE==t&&LE==n?RE:(EE=t,LE=n,RE="up"==n||"down"==n?function i(e,t,n){let i=t.selection,r="up"==n?i.$from:i.$to;return DE(e,t,()=>{let{node:t}=e.docView.domFromPos(r.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let i=TE(e,r.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=FO(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let r=t[e];if(r.bottom>r.top+1&&("up"==n?i.top-r.top>2*(r.bottom-i.top):r.bottom-i.bottom>2*(i.bottom-r.top)))return!1}}return!0})}(e,t,n):function r(e,t,n){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,o=!r,a=r==i.parent.content.size,s=e.domSelection();return s?OE.test(i.parent.textContent)&&s.modify?DE(e,t,()=>{let{focusNode:t,focusOffset:r,anchorNode:o,anchorOffset:a}=e.domSelectionRange(),l=s.caretBidiLevel;s.modify("move",n,"character");let c=i.depth?e.docView.domAfterPos(i.before()):e.dom,{focusNode:u,focusOffset:h}=e.domSelectionRange(),d=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&r==h;try{s.collapse(o,a),t&&(t!=o||r!=a)&&s.extend&&s.extend(t,r)}catch(p){}return null!=l&&(s.caretBidiLevel=l),d}):"left"==n||"backward"==n?o:a:i.pos==i.start()||i.pos==i.end()}(e,t,n))}class PE{constructor(e,t,n,i){this.parent=e,this.children=t,this.dom=n,this.contentDOM=i,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let i=this.children[t];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,i;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(i=n.pmViewDesc)||i.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(i)+i.size:this.posAtStart}{let n,i;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(i=n.pmViewDesc)||i.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(i):this.posAtEnd}}let i;if(e==this.dom&&this.contentDOM)i=t>zO(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){i=!1;break}if(t.previousSibling)break}if(null==i&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){i=!0;break}if(t.nextSibling)break}}return(null==i?n>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,i=e;i;i=i.parentNode){let r,o=this.getDesc(i);if(o&&(!t||o.node)){if(!n||!(r=o.nodeDOM)||(1==r.nodeType?r.contains(1==e.nodeType?e:e.parentNode):r==e))return o;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let i=e;i;i=i.parentNode){let r=this.getDesc(i);if(r)return r.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let i=this.children[t],r=n+i.size;if(n==e&&r!=n){for(;!i.border&&i.children.length;)for(let e=0;e<i.children.length;e++){let t=i.children[e];if(t.size){i=t;break}}return i}if(e<r)return i.descAt(e-n-i.border);n=r}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let r=0;n<this.children.length;n++){let t=this.children[n],o=r+t.size;if(o>e||t instanceof $E){i=e-r;break}r=o}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(let r;n&&!(r=this.children[n-1]).size&&r instanceof zE&&r.side>=0;n--);if(t<=0){let e,i=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,i=!1);return e&&t&&i&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?zO(e.dom)+1:0}}{let e,i=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,i=!1);return e&&i&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?zO(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,r=-1;for(let o=n,a=0;;a++){let n=this.children[a],s=o+n.size;if(-1==i&&e<=s){let r=o+n.border;if(e>=r&&t<=s-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,r);e=o;for(let t=a;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){i=zO(n.dom)+1;break}e-=n.size}-1==i&&(i=0)}if(i>-1&&(s>t||a==this.children.length-1)){t=s;for(let e=a+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){r=zO(n.dom);break}t+=n.size}-1==r&&(r=this.contentDOM.childNodes.length);break}o=s}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:r}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,i=!1){let r=Math.min(e,t),o=Math.max(e,t);for(let p=0,f=0;p<this.children.length;p++){let a=this.children[p],s=f+a.size;if(r>f&&o<s)return a.setSelection(e-f-a.border,t-f-a.border,n,i);f=s}let a=this.domFromPos(e,e?-1:1),s=t==e?a:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),u=!1;if((nE||aE)&&e==t){let{node:e,offset:t}=a;if(3==e.nodeType){if(u=!(!t||"\n"!=e.nodeValue[t-1]),u&&t==e.nodeValue.length)for(let n,i=e;i;i=i.parentNode){if(n=i.nextSibling){"BR"==n.nodeName&&(a=s={node:n.parentNode,offset:zO(n)+1});break}let e=i.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];u=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(nE&&c.focusNode&&c.focusNode!=s.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(i=!0)}if(!(i||u&&aE)&&HO(a.node,a.offset,c.anchorNode,c.anchorOffset)&&HO(s.node,s.offset,c.focusNode,c.focusOffset))return;let h=!1;if((l.extend||e==t)&&(!u||!nE)){l.collapse(a.node,a.offset);try{e!=t&&l.extend(s.node,s.offset),h=!0}catch(d){}}if(!h){if(e>t){let e=a;a=s,s=e}let n=document.createRange();n.setEnd(s.node,s.offset),n.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,i=0;i<this.children.length;i++){let r=this.children[i],o=n+r.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let i=n+r.border,a=o-r.border;if(e>=i&&t<=a)return this.dirty=e==n||t==o?2:1,void(e!=i||t!=a||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-i,t-i):r.dirty=3);r.dirty=r.dom!=r.contentDOM||r.dom.parentNode!=this.contentDOM||r.children.length?3:2}n=o}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class zE extends PE{constructor(e,t,n,i){let r,o=t.type.toDOM;if("function"==typeof o&&(o=o(n,()=>r?r.parent?r.parent.posBeforeChild(r):void 0:i)),!t.type.spec.raw){if(1!=o.nodeType){let e=document.createElement("span");e.appendChild(o),o=e}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,r=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class BE extends PE{constructor(e,t,n,i){super(e,[],t,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class VE extends PE{constructor(e,t,n,i,r){super(e,[],n,i),this.mark=t,this.spec=r}static create(e,t,n,i){let r=i.nodeViews[t.type.name],o=r&&r(t,i,n);return o&&o.dom||(o=vD.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new VE(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let i=VE.create(this.parent,this.mark,!0,n),r=this.children,o=this.size;t<o&&(r=nL(r,t,o,n)),e>0&&(r=nL(r,0,e,n));for(let a=0;a<r.length;a++)r[a].parent=i;return i.children=r,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class FE extends PE{constructor(e,t,n,i,r,o,a,s,l){super(e,[],r,o),this.node=t,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=a}static create(e,t,n,i,r,o){let a,s=r.nodeViews[t.type.name],l=s&&s(t,r,()=>a?a.parent?a.parent.posBeforeChild(a):void 0:o,n,i),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=vD.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:u}=e)}u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let h=c;return c=KE(c,n,t),l?a=new jE(e,t,n,i,c,u||null,h,l,r,o+1):t.isText?new WE(e,t,n,i,c,h,r):new FE(e,t,n,i,c,u||null,h,r,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>mI.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&JE(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,i=t,r=e.composing?this.localCompositionInfo(e,t):null,o=r&&r.pos>-1?r:null,a=r&&r.pos<0,s=new eL(this,o&&o.node,e);!function l(e,t,n,i){let r=t.locals(e),o=0;if(0==r.length){for(let n=0;n<e.childCount;n++){let a=e.child(n);i(a,r,t.forChild(o,a),n),o+=a.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let u,h,d,p;for(;a<r.length&&r[a].to==o;){let e=r[a++];e.widget&&(u?(h||(h=[u])).push(e):u=e)}if(u)if(h){h.sort(tL);for(let e=0;e<h.length;e++)n(h[e],c,!!l)}else n(u,c,!!l);if(l)p=-1,d=l,l=null;else{if(!(c<e.childCount))break;p=c,d=e.child(c++)}for(let e=0;e<s.length;e++)s[e].to<=o&&s.splice(e--,1);for(;a<r.length&&r[a].from<=o&&r[a].to>o;)s.push(r[a++]);let f=o+d.nodeSize;if(d.isText){let e=f;a<r.length&&r[a].from<e&&(e=r[a].from);for(let t=0;t<s.length;t++)s[t].to<e&&(e=s[t].to);e<f&&(l=d.cut(e-o),d=d.cut(0,e-o),f=e,p=-1)}else for(;a<r.length&&r[a].to<f;)a++;i(d,d.isInline&&!d.isLeaf?s.filter(e=>!e.inline):s.slice(),t.forChild(o,d),p),o=f}}(this.node,this.innerDeco,(t,r,o)=>{t.spec.marks?s.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!o&&s.syncToMarks(r==this.node.childCount?xI.none:this.node.child(r).marks,n,e),s.placeWidget(t,e,i)},(t,o,l,c)=>{let u;s.syncToMarks(t.marks,n,e),s.findNodeMatch(t,o,l,c)||a&&e.state.selection.from>i&&e.state.selection.to<i+t.nodeSize&&(u=s.findIndexWithChild(r.node))>-1&&s.updateNodeAt(t,o,l,u,e)||s.updateNextNode(t,o,l,e,c,i)||s.addNode(t,o,l,e,i),i+=t.nodeSize}),s.syncToMarks([],n,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(o&&this.protectLocalComposition(e,o),GE(this.contentDOM,this.children,e),sE&&function c(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof yO)||n<t||i>t+this.node.content.size)return null;let r=e.input.compositionNode;if(!r||!this.dom.contains(r.parentNode))return null;if(this.node.inlineContent){let e=r.nodeValue,o=function a(e,t,n,i){for(let r=0,o=0;r<e.childCount&&o<=i;){let a=e.child(r++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;r<e.childCount;){let t=e.child(r++);if(o+=t.nodeSize,!t.isText)break;l+=t.text}if(o>=n){if(o>=i&&l.slice(i-t.length-s,i-s)==t)return i-t.length;let e=s<i?l.lastIndexOf(t,i-s-1):-1;if(e>=0&&e+t.length+s>=n)return s+e;if(n==i&&l.length>=i+t.length-s&&l.slice(i-s,i-s+t.length)==t)return i}}return-1}(this.node.content,e,n-t,i-t);return o<0?null:{node:r,pos:o,text:e}}return{node:r,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:i}){if(this.getDesc(t))return;let r=t;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let o=new BE(this,r,t,i);e.input.compositionNodes.push(o),this.children=nL(this.children,n,n+i.length,e,o)}update(e,t,n,i){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,i),!0)}updateInner(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(JE(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=YE(this.dom,this.nodeDOM,qE(this.outerDeco,this.node,t),qE(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function HE(e,t,n,i,r){KE(i,t,e);let o=new FE(void 0,e,t,n,i,i,i,r,0);return o.contentDOM&&o.updateChildren(r,0),o}class WE extends FE{constructor(e,t,n,i,r,o,a){super(e,t,n,i,r,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let i=this.node.cut(e,t),r=document.createTextNode(i.text);return new WE(this.parent,i,this.outerDeco,this.innerDeco,r,r,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class $E extends PE{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class jE extends FE{constructor(e,t,n,i,r,o,a,s,l,c){super(e,t,n,i,r,o,a,l,c),this.spec=s}update(e,t,n,i){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let r=this.spec.update(e,t,n);return r&&this.updateInner(e,t,n,i),r}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,i){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function GE(e,t,n){let i=e.firstChild,r=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=i;)i=QE(i),r=!0;i=i.nextSibling}else r=!0,e.insertBefore(s,i);if(a instanceof VE){let t=i?i.previousSibling:e.lastChild;GE(a.contentDOM,a.children,n),i=t?t.nextSibling:e.firstChild}}for(;i;)i=QE(i),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}const UE=function(e){e&&(this.nodeName=e)};UE.prototype=Object.create(null);const XE=[new UE];function qE(e,t,n){if(0==e.length)return XE;let i=n?XE[0]:new UE,r=[i];for(let o=0;o<e.length;o++){let a=e[o].type.attrs;if(a){a.nodeName&&r.push(i=new UE(a.nodeName));for(let e in a){let o=a[e];null!=o&&(n&&1==r.length&&r.push(i=new UE(t.isInline?"span":"div")),"class"==e?i.class=(i.class?i.class+" ":"")+o:"style"==e?i.style=(i.style?i.style+";":"")+o:"nodeName"!=e&&(i[e]=o))}}}return r}function YE(e,t,n,i){if(n==XE&&i==XE)return t;let r=t;for(let o=0;o<i.length;o++){let t=i[o],a=n[o];if(o){let n;a&&a.nodeName==t.nodeName&&r!=e&&(n=r.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(r),a=XE[0]),r=n}ZE(r,a||XE[0],t)}return r}function ZE(e,t,n){for(let i in t)"class"==i||"style"==i||"nodeName"==i||i in n||e.removeAttribute(i);for(let i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=t[i]&&e.setAttribute(i,n[i]);if(t.class!=n.class){let i=t.class?t.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<i.length;t++)-1==r.indexOf(i[t])&&e.classList.remove(i[t]);for(let t=0;t<r.length;t++)-1==i.indexOf(r[t])&&e.classList.add(r[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=i.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function KE(e,t,n){return YE(e,e,XE,qE(t,n,1!=e.nodeType))}function JE(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function QE(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class eL{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function i(e,t){let n=t,i=n.children.length,r=e.childCount,o=new Map,a=[];e:for(;r>0;){let s;for(;;)if(i){let e=n.children[i-1];if(!(e instanceof VE)){s=e,i--;break}n=e,i=e.children.length}else{if(n==t)break e;i=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(r-1))break;--r,o.set(s,r),a.push(s)}}return{index:r,matched:o,matches:a.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let i=0,r=this.stack.length>>1,o=Math.min(r,e.length);for(;i<o&&(i==r-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&!1!==e[i].type.spec.spanning;)i++;for(;i<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);let i=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[r])&&!this.isLocked(n.dom)){i=t;break}}if(i>-1)i>this.index&&(this.changed=!0,this.destroyBetween(this.index,i)),this.top=this.top.children[this.index];else{let i=VE.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,i),this.top=i,this.changed=!0}this.index=0,r++}}findNodeMatch(e,t,n,i){let r,o=-1;if(i>=this.preMatch.index&&(r=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&r.matchesNode(e,t,n))o=this.top.children.indexOf(r,this.index);else for(let a=this.index,s=Math.min(this.top.children.length,a+5);a<s;a++){let i=this.top.children[a];if(i.matchesNode(e,t,n)&&!this.preMatch.matched.has(i)){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,n,i,r){let o=this.top.children[i];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(e,t,n,r)&&(this.destroyBetween(this.index,i),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,i,r,o){for(let a=this.index;a<this.top.children.length;a++){let s=this.top.children[a];if(s instanceof FE){let l=this.preMatch.matched.get(s);if(null!=l&&l!=r)return!1;let c,u=s.dom,h=this.isLocked(u)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&JE(t,s.outerDeco));if(!h&&s.update(e,t,n,i))return this.destroyBetween(this.index,a),s.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(c=this.recreateWrapper(s,e,t,n,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(i,o+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,i,r,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!JE(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=FE.create(this.top,t,n,i,r,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let e of a.children)e.parent=a}return e.destroy(),a}addNode(e,t,n,i,r){let o=FE.create(this.top,e,t,n,i,r);o.contentDOM&&o.updateChildren(i,r+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(e)||e!=i.widget&&i.widget.type.toDOM.parentNode){let i=new zE(this.top,e,t,n);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof VE;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof WE)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((aE||rE)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let i=new $E(this.top,[],n,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function tL(e,t){return e.type.side-t.type.side}function nL(e,t,n,i,r){let o=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,u=s+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,i)),r&&(o.push(r),r=void 0),u>n&&o.push(l.slice(n-c,l.size,i)))}return o}function iL(e,t=null){let n=e.domSelectionRange(),i=e.state.doc;if(!n.focusNode)return null;let r=e.docView.nearestDesc(n.focusNode),o=r&&0==r.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s,l,c=i.resolve(a);if(UO(n)){for(s=a;r&&!r.node;)r=r.parent;let e=r.node;if(r&&e.isAtom&&xO.isSelectable(e)&&r.parent&&(!e.isInline||!function t(e,n,i){for(let t=0==n,r=n==jO(e);t||r;){if(e==i)return!0;let n=zO(e);if(!(e=e.parentNode))return!1;t=t&&0==n,r=r&&n==jO(e)}}(n.focusNode,n.focusOffset,r.dom))){let e=r.posBefore;l=new xO(a==e?c:i.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=a,r=a;for(let i=0;i<n.rangeCount;i++){let o=n.getRangeAt(i);t=Math.min(t,e.docView.posFromDOM(o.startContainer,o.startOffset,1)),r=Math.max(r,e.docView.posFromDOM(o.endContainer,o.endOffset,-1))}if(t<0)return null;[s,a]=r==e.state.selection.anchor?[r,t]:[t,r],c=i.resolve(a)}else s=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(s<0)return null}let u=i.resolve(s);if(!l){l=dL(e,u,c,"pointer"==t||e.state.selection.head<c.pos&&!o?1:-1)}return l}function rL(e){return e.editable?e.hasFocus():fL(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function oL(e,t=!1){let n=e.state.selection;if(uL(e,n),rL(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&rE){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&HO(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function i(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,i="IMG"==n.nodeName;i?t.collapse(n.parentNode,zO(n)+1):t.collapse(n,0);!i&&!e.state.selection.visible&&eE&&tE<=11&&(n.disabled=!0,n.disabled=!1)}(e);else{let i,r,{anchor:o,head:a}=n;!aL||n instanceof yO||(n.$from.parent.inlineContent||(i=sL(e,n.from)),n.empty||n.$from.parent.inlineContent||(r=sL(e,n.to))),e.docView.setSelection(o,a,e,t),aL&&(i&&cL(i),r&&cL(r)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function s(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),i=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==i&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{rL(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const aL=aE||rE&&oE<63;function sL(e,t){let{node:n,offset:i}=e.docView.domFromPos(t,0),r=i<n.childNodes.length?n.childNodes[i]:null,o=i?n.childNodes[i-1]:null;if(aE&&r&&"false"==r.contentEditable)return lL(r);if(!(r&&"false"!=r.contentEditable||o&&"false"!=o.contentEditable)){if(r)return lL(r);if(o)return lL(o)}}function lL(e){return e.contentEditable="true",aE&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function cL(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function uL(e,t){if(t instanceof xO){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(hL(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else hL(e)}function hL(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function dL(e,t,n,i){return e.someProp("createSelectionBetween",i=>i(e,t,n))||yO.between(t,n,i)}function pL(e){return!(e.editable&&!e.hasFocus())&&fL(e)}function fL(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function gL(e,t){let{$anchor:n,$head:i}=e.selection,r=t>0?n.max(i):n.min(i),o=r.parent.inlineContent?r.depth?e.doc.resolve(t>0?r.after():r.before()):null:r;return o&&fO.findFrom(o,t)}function mL(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function vL(e,t,n){let i=e.state.selection;if(!(i instanceof yO)){if(i instanceof xO&&i.node.isInline)return mL(e,new yO(t>0?i.$to:i.$from));{let n=gL(e.state,t);return!!n&&mL(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=i,r=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!r||r.isText||!r.isLeaf)return!1;let o=e.state.doc.resolve(n.pos+r.nodeSize*(t<0?-1:1));return mL(e,new yO(i.$anchor,o))}if(!i.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=gL(e.state,t);return!!(n&&n instanceof xO)&&mL(e,n)}if(!(lE&&n.indexOf("m")>-1)){let n,r=i.$head,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText)return!1;let a=t<0?r.pos-o.nodeSize:r.pos;return!!(o.isAtom||(n=e.docView.descAt(a))&&!n.contentDOM)&&(xO.isSelectable(o)?mL(e,new xO(t<0?e.state.doc.resolve(r.pos-o.nodeSize):r)):!!hE&&mL(e,new yO(e.state.doc.resolve(t<0?a:a+o.nodeSize))))}}function yL(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function bL(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function xL(e,t){return t<0?function n(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let r,o,a=!1;nE&&1==n.nodeType&&i<yL(n)&&bL(n.childNodes[i],-1)&&(a=!0);for(;;)if(i>0){if(1!=n.nodeType)break;{let e=n.childNodes[i-1];if(bL(e,-1))r=n,o=--i;else{if(3!=e.nodeType)break;n=e,i=n.nodeValue.length}}}else{if(_L(n))break;{let t=n.previousSibling;for(;t&&bL(t,-1);)r=n.parentNode,o=zO(t),t=t.previousSibling;if(t)n=t,i=yL(n);else{if(n=n.parentNode,n==e.dom)break;i=0}}}a?wL(e,n,i):r&&wL(e,r,o)}(e):function i(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let r,o,a=yL(n);for(;;)if(i<a){if(1!=n.nodeType)break;if(!bL(n.childNodes[i],1))break;r=n,o=++i}else{if(_L(n))break;{let t=n.nextSibling;for(;t&&bL(t,1);)r=t.parentNode,o=zO(t)+1,t=t.nextSibling;if(t)n=t,i=0,a=yL(n);else{if(n=n.parentNode,n==e.dom)break;i=a=0}}}r&&wL(e,r,o)}(e)}function _L(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function wL(e,t,n){if(3!=t.nodeType){let e,i;(i=function r(e,t){for(;e&&t==e.childNodes.length&&!GO(e);)t=zO(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=i,n=0):(e=function o(e,t){for(;e&&!t&&!GO(e);)t=zO(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let i=e.domSelection();if(!i)return;if(UO(i)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),i.removeAllRanges(),i.addRange(e)}else i.extend&&i.extend(t,n);e.domObserver.setCurSelection();let{state:r}=e;setTimeout(()=>{e.state==r&&oL(e)},50)}function SL(e,t){let n=e.state.doc.resolve(t);if(!rE&&!cE&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),r=(n.top+n.bottom)/2;if(r>i.top&&r<i.bottom&&Math.abs(n.left-i.left)>1)return n.left<i.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),r=(n.top+n.bottom)/2;if(r>i.top&&r<i.bottom&&Math.abs(n.left-i.left)>1)return n.left>i.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function ML(e,t,n){let i=e.state.selection;if(i instanceof yO&&!i.empty||n.indexOf("s")>-1)return!1;if(lE&&n.indexOf("m")>-1)return!1;let{$from:r,$to:o}=i;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=gL(e.state,t);if(n&&n instanceof xO)return mL(e,n)}if(!r.parent.inlineContent){let n=t<0?r:o,a=i instanceof wO?fO.near(n,t):fO.findFrom(n,t);return!!a&&mL(e,a)}return!1}function kL(e,t){if(!(e.state.selection instanceof yO))return!0;let{$head:n,$anchor:i,empty:r}=e.state.selection;if(!n.sameParent(i))return!0;if(!r)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let i=e.state.tr;return t<0?i.delete(n.pos-o.nodeSize,n.pos):i.delete(n.pos,n.pos+o.nodeSize),e.dispatch(i),!0}return!1}function CL(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function TL(e,t){let n=t.keyCode,i=function r(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||lE&&72==n&&"c"==i)return kL(e,-1)||xL(e,-1);if(46==n&&!t.shiftKey||lE&&68==n&&"c"==i)return kL(e,1)||xL(e,1);if(13==n||27==n)return!0;if(37==n||lE&&66==n&&"c"==i){let t=37==n?"ltr"==SL(e,e.state.selection.from)?-1:1:-1;return vL(e,t,i)||xL(e,t)}if(39==n||lE&&70==n&&"c"==i){let t=39==n?"ltr"==SL(e,e.state.selection.from)?1:-1:1;return vL(e,t,i)||xL(e,t)}return 38==n||lE&&80==n&&"c"==i?ML(e,-1,i)||xL(e,-1):40==n||lE&&78==n&&"c"==i?function o(e){if(!aE||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;CL(e,n,"true"),setTimeout(()=>CL(e,n,"false"),20)}return!1}(e)||ML(e,1,i)||xL(e,1):i==(lE?"m":"c")&&(66==n||73==n||89==n||90==n)}function AL(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:i,openStart:r,openEnd:o}=t;for(;r>1&&o>1&&1==i.childCount&&1==i.firstChild.childCount;){r--,o--;let e=i.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),i=e.content}let a=e.someProp("clipboardSerializer")||vD.fromSchema(e.state.schema),s=BL(),l=s.createElement("div");l.appendChild(a.serializeFragment(i,{document:s}));let c,u=l.firstChild,h=0;for(;u&&1==u.nodeType&&(c=PL[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=s.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),h++}u=l.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${r} ${o}${h?` -${h}`:""} ${JSON.stringify(n)}`),{dom:l,text:e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function IL(e,t,n,i,r){let o,a,s=r.parent.type.spec.code;if(!n&&!t)return null;let l=!!t&&(i||s||!n);if(l){if(e.someProp("transformPastedText",n=>{t=n(t,s||i,e)}),s)return a=new wI(mI.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0),e.someProp("transformPasted",t=>{a=t(a,e,!0)}),a;let n=e.someProp("clipboardTextParser",n=>n(t,r,i,e));if(n)a=n;else{let n=r.marks(),{schema:i}=e.state,a=vD.fromSchema(i);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=o.appendChild(document.createElement("p"));e&&t.appendChild(a.serializeNode(i.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),o=function c(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,i=BL().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e);(n=r&&PL[r[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join(""));if(i.innerHTML=function o(e){let t=window.trustedTypes;if(!t)return e;VL||(VL=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e}));return VL.createHTML(e)}(e),n)for(let a=0;a<n.length;a++)i=i.querySelector(n[a])||i;return i}(n),hE&&function u(e){let t=e.querySelectorAll(rE?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let i=t[n];1==i.childNodes.length&&""==i.textContent&&i.parentNode&&i.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),i)}}(o);let h=o&&o.querySelector("[data-pm-slice]"),d=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let g=+d[3];g>0;g--){let e=o.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;o=e}if(!a){let t=e.someProp("clipboardParser")||e.someProp("domParser")||sD.fromSchema(e.state.schema);a=t.parseSlice(o,{preserveWhitespace:!(!l&&!d),context:r,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||DL.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(d)a=function p(e,t){if(!e.size)return e;let n,i=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(kLe){return e}let{content:r,openStart:o,openEnd:a}=e;for(let s=n.length-2;s>=0;s-=2){let e=i.nodes[n[s]];if(!e||e.hasRequiredAttrs())break;r=mI.from(e.create(n[s+1],r)),o++,a++}return new wI(r,o,a)}(NL(a,+d[1],+d[2]),d[4]);else if(a=wI.maxOpen(function f(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i,r=t.node(n).contentMatchAt(t.index(n)),o=[];if(e.forEach(e=>{if(!o)return;let t,n=r.findWrapping(e.type);if(!n)return o=null;if(t=o.length&&i.length&&EL(n,i,e,o[o.length-1],0))o[o.length-1]=t;else{o.length&&(o[o.length-1]=LL(o[o.length-1],i.length));let t=OL(e,n);o.push(t),r=r.matchType(t.type),i=n}}),o)return mI.from(o)}return e}(a.content,r),!0),a.openStart||a.openEnd){let e=0,t=0;for(let n=a.content.firstChild;e<a.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=a.content.lastChild;t<a.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);a=NL(a,e,t)}return e.someProp("transformPasted",t=>{a=t(a,e,l)}),a}const DL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function OL(e,t,n=0){for(let i=t.length-1;i>=n;i--)e=t[i].create(null,mI.from(e));return e}function EL(e,t,n,i,r){if(r<e.length&&r<t.length&&e[r]==t[r]){let o=EL(e,t,n,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==e.length-1?n.type:e[r+1]))return i.copy(i.content.append(mI.from(OL(n,e,r+1))))}}function LL(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,LL(e.lastChild,t-1)),i=e.contentMatchAt(e.childCount).fillBefore(mI.empty,!0);return e.copy(n.append(i))}function RL(e,t,n,i,r,o){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(o=0),r<i-1&&(s=RL(s,t,n,i,r+1,o)),r>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=r).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(mI.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function NL(e,t,n){return t<e.openStart&&(e=new wI(RL(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new wI(RL(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const PL={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let zL=null;function BL(){return zL||(zL=document.implementation.createHTMLDocument("title"))}let VL=null;const FL={},HL={},WL={touchstart:!0,touchmove:!0};class $L{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function jL(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function GL(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>UL(e,t))})}function UL(e,t){return e.someProp("handleDOMEvents",n=>{let i=n[t.type];return!!i&&(i(e,t)||t.defaultPrevented)})}function XL(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function qL(e){return{left:e.clientX,top:e.clientY}}function YL(e,t,n,i,r){if(-1==i)return!1;let o=e.state.doc.resolve(i);for(let a=o.depth+1;a>0;a--)if(e.someProp(t,t=>a>o.depth?t(e,n,o.nodeAfter,o.before(a),r,!0):t(e,n,o.node(a),o.before(a),r,!1)))return!0;return!1}function ZL(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let i=e.state.tr.setSelection(t);i.setMeta("pointer",!0),e.dispatch(i)}function KL(e,t,n,i,r){return YL(e,"handleClickOn",t,n,i)||e.someProp("handleClick",n=>n(e,t,i))||(r?function o(e,t){if(-1==t)return!1;let n,i,r=e.state.selection;r instanceof xO&&(n=r.node);let o=e.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let e=a>o.depth?o.nodeAfter:o.node(a);if(xO.isSelectable(e)){i=n&&r.$from.depth>0&&a>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?o.before(r.$from.depth):o.before(a);break}}return null!=i&&(ZL(e,xO.create(e.state.doc,i)),!0)}(e,n):function a(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),i=n.nodeAfter;return!!(i&&i.isAtom&&xO.isSelectable(i))&&(ZL(e,new xO(n)),!0)}(e,n))}function JL(e,t,n,i){return YL(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",n=>n(e,t,i))}function QL(e,t,n,i){return YL(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",n=>n(e,t,i))||function r(e,t,n){if(0!=n.button)return!1;let i=e.state.doc;if(-1==t)return!!i.inlineContent&&(ZL(e,yO.create(i,0,i.content.size)),!0);let r=i.resolve(t);for(let o=r.depth+1;o>0;o--){let t=o>r.depth?r.nodeAfter:r.node(o),n=r.before(o);if(t.inlineContent)ZL(e,yO.create(i,n+1,n+1+t.content.size));else{if(!xO.isSelectable(t))continue;ZL(e,xO.create(i,n))}return!0}}(e,n,i)}function eR(e){return lR(e)}HL.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!iR(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!uE||!rE||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!sE||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||TL(e,n)?n.preventDefault():jL(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,XO(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},HL.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},HL.keypress=(e,t)=>{let n=t;if(iR(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||lE&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let i=e.state.selection;if(!(i instanceof yO&&i.$from.sameParent(i.$to))){let t=String.fromCharCode(n.charCode),r=()=>e.state.tr.insertText(t).scrollIntoView();/[\r\n]/.test(t)||e.someProp("handleTextInput",n=>n(e,i.$from.pos,i.$to.pos,t,r))||e.dispatch(r()),n.preventDefault()}};const tR=lE?"metaKey":"ctrlKey";FL.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let i=eR(e),r=Date.now(),o="singleClick";r-e.input.lastClick.time<500&&function a(e,t){let n=t.x-e.clientX,i=t.y-e.clientY;return n*n+i*i<100}(n,e.input.lastClick)&&!n[tR]&&e.input.lastClick.button==n.button&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick")),e.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:o,button:n.button};let s=e.posAtCoords(qL(n));s&&("singleClick"==o?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new nR(e,s,n,!!i)):("doubleClick"==o?JL:QL)(e,s.pos,s.inside,n)?n.preventDefault():jL(e,"pointer"))};class nR{constructor(e,t,n,i){let r,o;if(this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[tR],this.allowDefault=n.shiftKey,t.inside>-1)r=e.state.doc.nodeAt(t.inside),o=t.inside;else{let n=e.state.doc.resolve(t.pos);r=n.parent,o=n.depth?n.before():0}const a=i?null:n.target,s=a?e.docView.nearestDesc(a,!0):null;this.target=s&&1==s.nodeDOM.nodeType?s.nodeDOM:null;let{selection:l}=e.state;(0==n.button&&r.type.spec.draggable&&!1!==r.type.spec.selectable||l instanceof xO&&l.from<=o&&l.to>o)&&(this.mightDrag={node:r,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!nE||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),jL(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>oL(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(qL(e))),this.updateAllowDefault(e),this.allowDefault||!t?jL(this.view,"pointer"):KL(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||aE&&this.mightDrag&&!this.mightDrag.node.isAtom||rE&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(ZL(this.view,fO.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):jL(this.view,"pointer")}move(e){this.updateAllowDefault(e),jL(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function iR(e,t){return!!e.composing||!!(aE&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}FL.touchstart=e=>{e.input.lastTouch=Date.now(),eR(e),jL(e,"pointer")},FL.touchmove=e=>{e.input.lastTouch=Date.now(),jL(e,"pointer")},FL.contextmenu=e=>eR(e);const rR=uE?5e3:-1;function oR(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>lR(e),t))}function aR(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function t(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function sR(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function i(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=jO(e=e.childNodes[t-1])}else{if(!e.parentNode||GO(e))return null;t=zO(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function o(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||GO(e))return null;t=zO(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return r}}return n||r}function lR(e,t=!1){if(!(uE&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),aR(e),t||e.docView&&e.docView.dirty){let n=iL(e),i=e.state.selection;return n&&!n.eq(i)?e.dispatch(e.state.tr.setSelection(n)):!e.markCursor&&!t||i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?e.updateState(e.state):e.dispatch(e.state.tr.deleteSelection()),!0}return!1}}HL.compositionstart=HL.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof yO&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)||rE&&cE&&function i(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||1!=t.nodeType||n>=t.childNodes.length)return!1;let i=t.childNodes[n];return 1==i.nodeType&&"false"==i.contentEditable}(e)))e.markCursor=e.state.storedMarks||n.marks(),lR(e,!0),e.markCursor=null;else if(lR(e,!t.selection.empty),nE&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,i=t.focusOffset;n&&1==n.nodeType&&0!=i;){let t=i<0?n.lastChild:n.childNodes[i-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,i=-1}}e.input.composing=!0}oR(e,rR)},HL.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,oR(e,20))};const cR=eE&&tE<15||sE&&dE<604;function uR(e,t,n,i,r){let o=IL(e,t,n,i,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,r,o||wI.empty)))return!0;if(!o)return!1;let a=function s(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(o),l=a?e.state.tr.replaceSelectionWith(a,i):e.state.tr.replaceSelection(o);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function hR(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}FL.copy=HL.cut=(e,t)=>{let n=t,i=e.state.selection,r="cut"==n.type;if(i.empty)return;let o=cR?null:n.clipboardData,a=i.content(),{dom:s,text:l}=AL(e,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):function c(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}(e,s),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},HL.paste=(e,t)=>{let n=t;if(e.composing&&!uE)return;let i=cR?null:n.clipboardData,r=e.input.shiftKey&&45!=e.input.lastKeyCode;i&&uR(e,hR(i),i.getData("text/html"),r,n)?n.preventDefault():function o(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?uR(e,i.value,null,r,t):uR(e,i.textContent,i.innerHTML,r,t)},50)}(e,n)};class dR{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const pR=lE?"altKey":"ctrlKey";function fR(e,t){let n=e.someProp("dragCopies",e=>!e(t));return null!=n?n:!t[pR]}FL.dragstart=(e,t)=>{let n=t,i=e.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let r,o=e.state.selection,a=o.empty?null:e.posAtCoords(qL(n));if(a&&a.pos>=o.from&&a.pos<=(o instanceof xO?o.to-1:o.to));else if(i&&i.mightDrag)r=xO.create(e.state.doc,i.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(r=xO.create(e.state.doc,t.posBefore))}let s=(r||e.state.selection).content(),{dom:l,text:c,slice:u}=AL(e,s);(!n.dataTransfer.files.length||!rE||oE>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(cR?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",cR||n.dataTransfer.setData("text/plain",c),e.dragging=new dR(u,fR(e,n),r)},FL.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},HL.dragover=HL.dragenter=(e,t)=>t.preventDefault(),HL.drop=(e,t)=>{try{!function n(e,t,i){if(!t.dataTransfer)return;let r=e.posAtCoords(qL(t));if(!r)return;let o=e.state.doc.resolve(r.pos),a=i&&i.slice;a?e.someProp("transformPasted",t=>{a=t(a,e,!1)}):a=IL(e,hR(t.dataTransfer),cR?null:t.dataTransfer.getData("text/html"),!1,o);let s=!(!i||!fR(e,t));if(e.someProp("handleDrop",n=>n(e,t,a||wI.empty,s)))return void t.preventDefault();if(!a)return;t.preventDefault();let l=a?KD(e.state.doc,o.pos,a):o.pos;null==l&&(l=o.pos);let c=e.state.tr;if(s){let{node:e}=i;e?e.replace(c):c.deleteSelection()}let u=c.mapping.map(l),h=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,d=c.doc;h?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a);if(c.doc.eq(d))return;let p=c.doc.resolve(u);if(h&&xO.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new xO(p));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((e,n,i,r)=>t=r),c.setSelection(dL(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}(e,t,e.dragging)}finally{e.dragging=null}},FL.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&oL(e)},20))},FL.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},FL.beforeinput=(e,t)=>{if(rE&&uE&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,XO(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let os in HL)FL[os]=HL[os];function gR(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class mR{constructor(e,t){this.toDOM=e,this.spec=t||_R,this.side=this.spec.side||0}map(e,t,n,i){let{pos:r,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new bR(r-n,r-n,this)}valid(){return!0}eq(e){return this==e||e instanceof mR&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&gR(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class vR{constructor(e,t){this.attrs=e,this.spec=t||_R}map(e,t,n,i){let r=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return r>=o?null:new bR(r,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof vR&&gR(this.attrs,e.attrs)&&gR(this.spec,e.spec)}static is(e){return e.type instanceof vR}destroy(){}}class yR{constructor(e,t){this.attrs=e,this.spec=t||_R}map(e,t,n,i){let r=e.mapResult(t.from+i,1);if(r.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=r.pos?null:new bR(r.pos-n,o.pos-n,this)}valid(e,t){let n,{index:i,offset:r}=e.content.findIndex(t.from);return r==t.from&&!(n=e.child(i)).isText&&r+n.nodeSize==t.to}eq(e){return this==e||e instanceof yR&&gR(this.attrs,e.attrs)&&gR(this.spec,e.spec)}destroy(){}}class bR{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new bR(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new bR(e,e,new mR(t,n))}static inline(e,t,n,i){return new bR(e,t,new vR(n,i))}static node(e,t,n,i){return new bR(e,t,new yR(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof vR}get widget(){return this.type instanceof mR}}const xR=[],_R={};class wR{constructor(e,t){this.local=e.length?e:xR,this.children=t.length?t:xR}static create(e,t){return t.length?AR(t,e,0,_R):SR}find(e,t,n){let i=[];return this.findInner(null==e?0:e,null==t?1e9:t,i,0,n),i}findInner(e,t,n,i,r){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!r||r(a.spec))&&n.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,n,i+a,r)}}map(e,t,n){return this==SR||0==e.maps.length?this:this.mapInner(e,t,0,0,n||_R)}mapInner(e,t,n,i,r){let o;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,i);a&&a.type.valid(t,a)?(o||(o=[])).push(a):r.onRemove&&r.onRemove(this.local[s].spec)}return this.children.length?function a(e,t,n,i,r,o,s){let l=e.slice();for(let a=0,u=o;a<n.maps.length;a++){let e=0;n.maps[a].forEach((t,n,i,r)=>{let o=r-i-(n-t);for(let a=0;a<l.length;a+=3){let i=l[a+1];if(i<0||t>i+u-e)continue;let r=l[a]+u-e;n>=r?l[a+1]=t<=r?-2:-1:t>=u&&o&&(l[a]+=o,l[a+1]+=o)}e+=o}),u=n.maps[a].map(u,-1)}let c=!1;for(let a=0;a<l.length;a+=3)if(l[a+1]<0){if(-2==l[a+1]){c=!0,l[a+1]=-1;continue}let t=n.map(e[a]+o),u=t-r;if(u<0||u>=i.content.size){c=!0;continue}let h=n.map(e[a+1]+o,-1)-r,{index:d,offset:p}=i.content.findIndex(u),f=i.maybeChild(d);if(f&&p==u&&p+f.nodeSize==h){let i=l[a+2].mapInner(n,f,t+1,e[a]+o+1,s);i!=SR?(l[a]=u,l[a+1]=h,l[a+2]=i):(l[a+1]=-2,c=!0)}else c=!0}if(c){let a=function c(e,t,n,i,r,o,a){function s(e,t){for(let o=0;o<e.local.length;o++){let s=e.local[o].map(i,r,t);s?n.push(s):a.onRemove&&a.onRemove(e.local[o].spec)}for(let n=0;n<e.children.length;n+=3)s(e.children[n+2],e.children[n]+t+1)}for(let l=0;l<e.length;l+=3)-1==e[l+1]&&s(e[l+2],t[l]+o+1);return n}(l,e,t,n,r,o,s),u=AR(a,i,0,s);t=u.local;for(let e=0;e<l.length;e+=3)l[e+1]<0&&(l.splice(e,3),e-=3);for(let e=0,t=0;e<u.children.length;e+=3){let n=u.children[e];for(;t<l.length&&l[t]<n;)t+=3;l.splice(t,0,u.children[e],u.children[e+1],u.children[e+2])}}return new wR(t.sort(IR),l)}(this.children,o||[],e,t,n,i,r):o?new wR(o.sort(IR),xR):SR}add(e,t){return t.length?this==SR?wR.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let i,r=0;e.forEach((e,o)=>{let a,s=o+n;if(a=CR(t,e,s)){for(i||(i=this.children.slice());r<i.length&&i[r]<o;)r+=3;i[r]==o?i[r+2]=i[r+2].addInner(e,a,s+1):i.splice(r,0,o,o+e.nodeSize,AR(a,e,s+1,_R)),r+=3}});let o=kR(r?TR(t):t,-n);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new wR(o.length?this.local.concat(o).sort(IR):this.local,i||this.children)}remove(e){return 0==e.length||this==SR?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,i=this.local;for(let r=0;r<n.length;r+=3){let i,o=n[r]+t,a=n[r+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>o&&t.to<a&&(e[n]=null,(i||(i=[])).push(t));if(!i)continue;n==this.children&&(n=this.children.slice());let s=n[r+2].removeInner(i,o+1);s!=SR?n[r+2]=s:(n.splice(r,3),r-=3)}if(i.length)for(let r,o=0;o<e.length;o++)if(r=e[o])for(let e=0;e<i.length;e++)i[e].eq(r,t)&&(i==this.local&&(i=this.local.slice()),i.splice(e--,1));return n==this.children&&i==this.local?this:i.length||n.length?new wR(i,n):SR}forChild(e,t){if(this==SR)return this;if(t.isLeaf)return wR.empty;let n,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let r=e+1,o=r+t.content.size;for(let a=0;a<this.local.length;a++){let e=this.local[a];if(e.from<o&&e.to>r&&e.type instanceof vR){let t=Math.max(r,e.from)-r,n=Math.min(o,e.to)-r;t<n&&(i||(i=[])).push(e.copy(t,n))}}if(i){let e=new wR(i.sort(IR),xR);return n?new MR([e,n]):e}return n||SR}eq(e){if(this==e)return!0;if(!(e instanceof wR)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return DR(this.localsInner(e))}localsInner(e){if(this==SR)return xR;if(e.inlineContent||!this.local.some(vR.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof vR||t.push(this.local[n]);return t}forEachSet(e){e(this)}}wR.empty=new wR([],[]),wR.removeOverlap=DR;const SR=wR.empty;class MR{constructor(e){this.members=e}map(e,t){const n=this.members.map(n=>n.map(e,t,_R));return MR.from(n)}forChild(e,t){if(t.isLeaf)return wR.empty;let n=[];for(let i=0;i<this.members.length;i++){let r=this.members[i].forChild(e,t);r!=SR&&(r instanceof MR?n=n.concat(r.members):n.push(r))}return MR.from(n)}eq(e){if(!(e instanceof MR)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let i=0;i<this.members.length;i++){let r=this.members[i].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<r.length;e++)t.push(r[e])}else t=r}return t?DR(n?t:t.sort(IR)):xR}static from(e){switch(e.length){case 0:return SR;case 1:return e[0];default:return new MR(e.every(e=>e instanceof wR)?e:e.reduce((e,t)=>e.concat(t instanceof wR?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function kR(e,t){if(!t||!e.length)return e;let n=[];for(let i=0;i<e.length;i++){let r=e[i];n.push(new bR(r.from+t,r.to+t,r.type))}return n}function CR(e,t,n){if(t.isLeaf)return null;let i=n+t.nodeSize,r=null;for(let o,a=0;a<e.length;a++)(o=e[a])&&o.from>n&&o.to<i&&((r||(r=[])).push(o),e[a]=null);return r}function TR(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function AR(e,t,n,i){let r=[],o=!1;t.forEach((t,a)=>{let s=CR(e,t,a+n);if(s){o=!0;let e=AR(s,t,n+a+1,i);e!=SR&&r.push(a,a+t.nodeSize,e)}});let a=kR(o?TR(e):e,-n).sort(IR);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(i.onRemove&&i.onRemove(a[s].spec),a.splice(s--,1));return a.length||r.length?new wR(a,r):SR}function IR(e,t){return e.from-t.from||e.to-t.to}function DR(e){let t=e;for(let n=0;n<t.length-1;n++){let i=t[n];if(i.from!=i.to)for(let r=n+1;r<t.length;r++){let o=t[r];if(o.from!=i.from){o.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,o.from),OR(t,r,i.copy(o.from,i.to)));break}o.to!=i.to&&(t==e&&(t=e.slice()),t[r]=o.copy(o.from,i.to),OR(t,r+1,o.copy(i.to,o.to)))}}return t}function OR(e,t,n){for(;t<e.length&&IR(n,e[t])>0;)t++;e.splice(t,0,n)}function ER(e){let t=[];return e.someProp("decorations",n=>{let i=n(e.state);i&&i!=SR&&t.push(i)}),e.cursorWrapper&&t.push(wR.create(e.state.doc,[e.cursorWrapper.deco])),MR.from(t)}const LR={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},RR=eE&&tE<=11;class NR{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class PR{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new NR,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);eE&&tE<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),RR&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,LR)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(pL(this.view)){if(this.suppressingSelectionUpdates)return oL(this.view);if(eE&&tE<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&HO(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let r=e.focusNode;r;r=BO(r))n.add(r);for(let r=e.anchorNode;r;r=BO(r))if(n.has(r)){t=r;break}let i=t&&this.view.docView.nearestDesc(t);return i&&i.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&pL(e)&&!this.ignoreSelectionChange(n),r=-1,o=-1,a=!1,s=[];if(e.editable)for(let u=0;u<t.length;u++){let e=this.registerMutation(t[u],s);e&&(r=r<0?e.from:Math.min(e.from,r),o=o<0?e.to:Math.max(e.to,o),e.typeOver&&(a=!0))}if(nE&&s.length){let t=s.filter(e=>"BR"==e.nodeName);if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let i of t){let t=i.parentNode;!t||"LI"!=t.nodeName||n&&FR(e,n)==t||i.remove()}}}else if((rE||aE)&&s.some(e=>"BR"==e.nodeName)&&(8==e.input.lastKeyCode||46==e.input.lastKeyCode))for(let u of s)if("BR"==u.nodeName&&u.parentNode){let e=u.nextSibling;e&&1==e.nodeType&&"false"==e.contentEditable&&u.parentNode.removeChild(u)}let l=null;r<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&UO(n)&&(l=iL(e))&&l.eq(fO.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,oL(e),this.currentSelection.set(n),e.scrollToSelection()):(r>-1||i)&&(r>-1&&(e.docView.markDirty(r,o),function c(e){if(zR.has(e))return;if(zR.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=nE,BR)return;BR=!0}}(e)),this.handleDOMChange(r,o,a,s),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||oL(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let i=e.addedNodes[n];t.push(i),3==i.nodeType&&(this.lastChangedTextNode=i)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,r=e.nextSibling;if(eE&&tE<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:o}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(i=n),(!o||Array.prototype.indexOf.call(e.addedNodes,o)<0)&&(r=o)}let o=i&&i.parentNode==e.target?zO(i)+1:0,a=n.localPosFromDOM(e.target,o,-1),s=r&&r.parentNode==e.target?zO(r):e.target.childNodes.length;return{from:a,to:n.localPosFromDOM(e.target,s,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let zR=new WeakMap,BR=!1;function VR(e,t){let n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return HO(a.node,a.offset,r,o)&&([n,i,r,o]=[r,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:o}}function FR(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function HR(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(aE&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||aE&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const WR=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function $R(e,t,n,i,r){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=iL(e,t);if(n&&!e.state.selection.eq(n)){if(rE&&uE&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,XO(13,"Enter"))))return;let i=e.state.tr.setSelection(n);"pointer"==t?i.setMeta("pointer",!0):"key"==t&&i.scrollIntoView(),o&&i.setMeta("composition",o),e.dispatch(i)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(n);t=a.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l,c,u=e.state.selection,h=function d(e,t,n){let i,{node:r,fromOffset:o,toOffset:a,from:s,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(i=[{node:u,offset:c.anchorOffset}],UO(c)||i.push({node:c.focusNode,offset:c.focusOffset})),rE&&8===e.input.lastKeyCode)for(let m=a;m>o;m--){let e=r.childNodes[m-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){a=m;break}if(!t||t.size)break}let h=e.state.doc,d=e.someProp("domParser")||sD.fromSchema(e.state.schema),p=h.resolve(s),f=null,g=d.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:o,to:a,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:i,ruleFromNode:HR,context:p});if(i&&null!=i[0].pos){let e=i[0].pos,t=i[1]&&i[1].pos;null==t&&(t=e),f={anchor:e+s,head:t+s}}return{doc:g,sel:f,from:s,to:l}}(e,t,n),p=e.state.doc,f=p.slice(h.from,h.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,c="end"):(l=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let g=function m(e,t,n,i,r){let o=e.findDiffStart(t,n);if(null==o)return null;let{a:a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==r){i-=a+Math.max(0,o-Math.min(a,s))-o}if(a<o&&e.size<t.size){let e=i<=o&&i>=a?o-i:0;o-=e,o&&o<t.size&&UR(t.textBetween(o-1,o+1))&&(o+=e?1:-1),s=o+(s-a),a=o}else if(s<o){let t=i<=o&&i>=s?o-i:0;o-=t,o&&o<e.size&&UR(e.textBetween(o-1,o+1))&&(o+=t?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}(f.content,h.doc.content,h.from,l,c);if(g&&e.input.domChangeCount++,(sE&&e.input.lastIOSEnter>Date.now()-225||uE)&&r.some(e=>1==e.nodeType&&!WR.test(e.nodeName))&&(!g||g.endA>=g.endB)&&e.someProp("handleKeyDown",t=>t(e,XO(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(!g){if(!(i&&u instanceof yO&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||h.sel&&h.sel.anchor!=h.sel.head){if(h.sel){let t=jR(e,e.state.doc,h.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);o&&n.setMeta("composition",o),e.dispatch(n)}}return}g={start:u.from,endA:u.to,endB:u.to}}e.state.selection.from<e.state.selection.to&&g.start==g.endB&&e.state.selection instanceof yO&&(g.start>e.state.selection.from&&g.start<=e.state.selection.from+2&&e.state.selection.from>=h.from?g.start=e.state.selection.from:g.endA<e.state.selection.to&&g.endA>=e.state.selection.to-2&&e.state.selection.to<=h.to&&(g.endB+=e.state.selection.to-g.endA,g.endA=e.state.selection.to)),eE&&tE<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>h.from&&" "==h.doc.textBetween(g.start-h.from-1,g.start-h.from+1)&&(g.start--,g.endA--,g.endB--);let v=h.doc.resolveNoCache(g.start-h.from),y=h.doc.resolveNoCache(g.endB-h.from),b=p.resolve(g.start),x=v.sameParent(y)&&v.parent.inlineContent&&b.end()>=g.endA;if((sE&&e.input.lastIOSEnter>Date.now()-225&&(!x||r.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!x&&v.pos<h.doc.content.size&&(!v.sameParent(y)||!v.parent.inlineContent)&&v.pos<y.pos&&!/\S/.test(h.doc.textBetween(v.pos,y.pos,"","")))&&e.someProp("handleKeyDown",t=>t(e,XO(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>g.start&&function _(e,t,n,i,r){if(n-t<=r.pos-i.pos||GR(i,!0,!1)<r.pos)return!1;let o=e.resolve(t);if(!i.parent.isTextblock){let e=o.nodeAfter;return null!=e&&n==t+e.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=e.resolve(GR(o,!0,!0));return!(!a.parent.isTextblock||a.pos>n||GR(a,!0,!1)<n)&&i.parent.content.cut(i.parentOffset).eq(a.parent.content)}(p,g.start,g.endA,v,y)&&e.someProp("handleKeyDown",t=>t(e,XO(8,"Backspace"))))return void(uE&&rE&&e.domObserver.suppressSelectionUpdates());rE&&g.endB==g.start&&(e.input.lastChromeDelete=Date.now()),uE&&!x&&v.start()!=y.start()&&0==y.parentOffset&&v.depth==y.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==g.endA&&(g.endB-=2,y=h.doc.resolveNoCache(g.endB-h.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,XO(13,"Enter"))})},20));let w,S=g.start,M=g.endA,k=t=>{let n=t||e.state.tr.replace(S,M,h.doc.slice(g.start-h.from,g.endB-h.from));if(h.sel){let t=jR(e,n.doc,h.sel);t&&!(rE&&e.composing&&t.empty&&(g.start!=g.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==S||t.head==n.mapping.map(M)-1)||eE&&t.empty&&t.head==S)&&n.setSelection(t)}return o&&n.setMeta("composition",o),n.scrollIntoView()};if(x)if(v.pos==y.pos){eE&&tE<=11&&0==v.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>oL(e),20));let t=k(e.state.tr.delete(S,M)),n=p.resolve(g.start).marksAcross(p.resolve(g.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(g.endA==g.endB&&(w=function C(e,t){let n,i,r,o=e.firstChild.marks,a=t.firstChild.marks,s=o,l=a;for(let u=0;u<a.length;u++)s=a[u].removeFromSet(s);for(let u=0;u<o.length;u++)l=o[u].removeFromSet(l);if(1==s.length&&0==l.length)i=s[0],n="add",r=e=>e.mark(i.addToSet(e.marks));else{if(0!=s.length||1!=l.length)return null;i=l[0],n="remove",r=e=>e.mark(i.removeFromSet(e.marks))}let c=[];for(let u=0;u<t.childCount;u++)c.push(r(t.child(u)));if(mI.from(c).eq(e))return{mark:i,type:n}}(v.parent.content.cut(v.parentOffset,y.parentOffset),b.parent.content.cut(b.parentOffset,g.endA-b.start())))){let t=k(e.state.tr);"add"==w.type?t.addMark(S,M,w.mark):t.removeMark(S,M,w.mark),e.dispatch(t)}else if(v.parent.child(v.index()).isText&&v.index()==y.index()-(y.textOffset?0:1)){let t=v.parent.textBetween(v.parentOffset,y.parentOffset),n=()=>k(e.state.tr.insertText(t,S,M));e.someProp("handleTextInput",i=>i(e,S,M,t,n))||e.dispatch(n())}else e.dispatch(k());else e.dispatch(k())}function jR(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:dL(e,t.resolve(n.anchor),t.resolve(n.head))}function GR(e,t,n){let i=e.depth,r=t?e.end():e.pos;for(;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,r++,t=!1;if(n){let t=e.node(i).maybeChild(e.indexAfter(i));for(;t&&!t.isLeaf;)t=t.firstChild,r++}return r}function UR(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class XR{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $L,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(JR),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ZR(this),YR(this),this.nodeViews=KR(this),this.docView=HE(this.state.doc,qR(this),ER(this),this.dom,this),this.domObserver=new PR(this,(e,t,n,i)=>$R(this,e,t,n,i)),this.domObserver.start(),function n(e){for(let t in FL){let n=FL[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!XL(e,t)||UL(e,t)||!e.editable&&t.type in HL||n(e,t)},WL[t]?{passive:!0}:void 0)}aE&&e.dom.addEventListener("input",()=>null),GL(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&GL(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(JR),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let i=this.state,r=!1,o=!1;e.storedMarks&&this.composing&&(aR(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=KR(this);(function t(e,n){let i=0,r=0;for(let t in e){if(e[t]!=n[t])return!0;i++}for(let t in n)r++;return i!=r})(e,this.nodeViews)&&(this.nodeViews=e,r=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&GL(this),this.editable=ZR(this),YR(this);let s=ER(this),l=qR(this),c=i.plugins==e.plugins||i.doc.eq(e.doc)?e.scrollToSelection>i.scrollToSelection?"to selection":"preserve":"reset",u=r||!this.docView.matchesNode(e.doc,l,s);!u&&e.selection.eq(i.selection)||(o=!0);let h="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function d(e){let t,n,i=e.dom.getBoundingClientRect(),r=Math.max(0,i.top);for(let o=(i.left+i.right)/2,a=r+1;a<Math.min(innerHeight,i.bottom);a+=5){let i=e.root.elementFromPoint(o,a);if(!i||i==e.dom||!e.dom.contains(i))continue;let s=i.getBoundingClientRect();if(s.top>=r-20){t=i,n=s.top;break}}return{refDOM:t,refTop:n,stack:vE(e.dom)}}(this);if(o){this.domObserver.stop();let t=u&&(eE||rE)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&function n(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(i.selection,e.selection);if(u){let n=rE?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=sR(this)),!r&&this.docView.update(e.doc,l,s,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=HE(e.doc,l,s,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function o(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return HO(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?oL(this,t):(uL(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():h&&function p({refDOM:e,refTop:t,stack:n}){let i=e?e.getBoundingClientRect().top:0;yE(n,0==i?0:i-t)}(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof xO){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&mE(this,t.getBoundingClientRect(),e)}else mE(this,this.coordsAtPos(this.state.selection.head,1),e);else;}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(i=e)}this.dragging=new dR(e.slice,e.move,i<0?void 0:xO.create(this.state.doc,i))}someProp(e,t){let n,i=this._props&&this._props[e];if(null!=i&&(n=t?t(i):i))return n;for(let o=0;o<this.directPlugins.length;o++){let i=this.directPlugins[o].props[e];if(null!=i&&(n=t?t(i):i))return n}let r=this.state.plugins;if(r)for(let o=0;o<r.length;o++){let i=r[o].props[e];if(null!=i&&(n=t?t(i):i))return n}}hasFocus(){if(eE){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function e(t){if(t.setActive)return t.setActive();if(bE)return t.focus(bE);let n=vE(t);t.focus(null==bE?{get preventScroll(){return bE={preventScroll:!0},!0}}:void 0),bE||(bE=!1,yE(n,0))}(this.dom),oL(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}updateRoot(){this._root=null}posAtCoords(e){return SE(this,e)}coordsAtPos(e,t=1){return TE(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let i=this.docView.posFromDOM(e,t,n);if(null==i)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return NE(this,t||this.state,e)}pasteHTML(e,t){return uR(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return uR(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return AL(this,e)}destroy(){this.docView&&(!function e(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ER(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,VO=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function t(e,n){UL(e,n)||!FL[n.type]||!e.editable&&n.type in HL||FL[n.type](e,n)}(this,e)}domSelectionRange(){let e=this.domSelection();return e?aE&&11===this.root.nodeType&&function t(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function n(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return VR(e,n)}let n;function i(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",i,!0),n?VR(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function qR(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[bR.node(0,e.state.doc.content.size,t)]}function YR(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:bR.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function ZR(e){return!e.someProp("editable",t=>!1===t(e.state))}function KR(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function JR(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}XR.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};for(var QR={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},eN={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},tN="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),nN="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),iN=0;iN<10;iN++)QR[48+iN]=QR[96+iN]=String(iN);for(iN=1;iN<=24;iN++)QR[iN+111]="F"+iN;for(iN=65;iN<=90;iN++)QR[iN]=String.fromCharCode(iN+32),eN[iN]=String.fromCharCode(iN);for(var rN in QR)eN.hasOwnProperty(rN)||(eN[rN]=QR[rN]);const oN="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),aN="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function sN(e){let t,n,i,r,o=e.split(/-(?!$)/),a=o[o.length-1];"Space"==a&&(a=" ");for(let s=0;s<o.length-1;s++){let e=o[s];if(/^(cmd|meta|m)$/i.test(e))r=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))i=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);oN?r=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),r&&(a="Meta-"+a),i&&(a="Shift-"+a),a}function lN(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function cN(e){let t=function n(e){let t=Object.create(null);for(let n in e)t[sN(n)]=e[n];return t}(e);return function(e,n){let i,r=function o(e){var t=!(tN&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||nN&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?eN:QR)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),a=t[lN(r,n)];if(a&&a(e.state,e.dispatch,e))return!0;if(1==r.length&&" "!=r){if(n.shiftKey){let i=t[lN(r,n,!1)];if(i&&i(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(aN&&n.ctrlKey&&n.altKey)&&(i=QR[n.keyCode])&&i!=r){let r=t[lN(i,n)];if(r&&r(e.state,e.dispatch,e))return!0}}return!1}}const uN=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function hN(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const dN=(e,t,n)=>{let i=hN(e,n);if(!i)return!1;let r=mN(i);if(!r){let n=i.blockRange(),r=n&&WD(n);return null!=r&&(t&&t(e.tr.lift(n,r).scrollIntoView()),!0)}let o=r.nodeBefore;if(TN(e,r,t,-1))return!0;if(0==i.parent.content.size&&(fN(o,"end")||xO.isSelectable(o)))for(let a=i.depth;;a--){let n=JD(e.doc,i.before(a),i.after(a),wI.empty);if(n&&n.slice.size<n.to-n.from){if(t){let i=e.tr.step(n);i.setSelection(fN(o,"end")?fO.findFrom(i.doc.resolve(i.mapping.map(r.pos,-1)),-1):xO.create(i.doc,r.pos-o.nodeSize)),t(i.scrollIntoView())}return!0}if(1==a||i.node(a-1).childCount>1)break}return!(!o.isAtom||r.depth!=i.depth-1)&&(t&&t(e.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0)};function pN(e,t,n){let i=t.nodeBefore,r=t.pos-1;for(;!i.isTextblock;r--){if(i.type.spec.isolating)return!1;let e=i.lastChild;if(!e)return!1;i=e}let o=t.nodeAfter,a=t.pos+1;for(;!o.isTextblock;a++){if(o.type.spec.isolating)return!1;let e=o.firstChild;if(!e)return!1;o=e}let s=JD(e.doc,r,a,wI.empty);if(!s||s.from!=r||s instanceof zD&&s.slice.size>=a-r)return!1;if(n){let t=e.tr.step(s);t.setSelection(yO.create(t.doc,r)),n(t.scrollIntoView())}return!0}function fN(e,t,n=!1){for(let i=e;i;i="start"==t?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&1!=i.childCount)return!1}return!1}const gN=(e,t,n)=>{let{$head:i,empty:r}=e.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):i.parentOffset>0)return!1;o=mN(i)}let a=o&&o.nodeBefore;return!(!a||!xO.isSelectable(a))&&(t&&t(e.tr.setSelection(xO.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function mN(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function vN(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const yN=(e,t,n)=>{let i=vN(e,n);if(!i)return!1;let r=xN(i);if(!r)return!1;let o=r.nodeAfter;if(TN(e,r,t,1))return!0;if(0==i.parent.content.size&&(fN(o,"start")||xO.isSelectable(o))){let n=JD(e.doc,i.before(),i.after(),wI.empty);if(n&&n.slice.size<n.to-n.from){if(t){let i=e.tr.step(n);i.setSelection(fN(o,"start")?fO.findFrom(i.doc.resolve(i.mapping.map(r.pos)),1):xO.create(i.doc,i.mapping.map(r.pos))),t(i.scrollIntoView())}return!0}}return!(!o.isAtom||r.depth!=i.depth-1)&&(t&&t(e.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0)},bN=(e,t,n)=>{let{$head:i,empty:r}=e.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)return!1;o=xN(i)}let a=o&&o.nodeAfter;return!(!a||!xO.isSelectable(a))&&(t&&t(e.tr.setSelection(xO.create(e.doc,o.pos)).scrollIntoView()),!0)};function xN(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const _N=(e,t)=>{let{$head:n,$anchor:i}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(i))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function wN(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const SN=(e,t)=>{let n=e.selection,{$from:i,$to:r}=n;if(n instanceof wO||i.parent.inlineContent||r.parent.inlineContent)return!1;let o=wN(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let n=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,a=e.tr.insert(n,o.createAndFill());a.setSelection(yO.create(a.doc,n+1)),t(a.scrollIntoView())}return!0},MN=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(XD(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let i=n.blockRange(),r=i&&WD(i);return null!=r&&(t&&t(e.tr.lift(i,r).scrollIntoView()),!0)};const kN=function CN(e){return(e,t)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof xO&&e.selection.node.isBlock)return!(!n.parentOffset||!XD(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let r,o,a=[],s=!1,l=!1;for(let d=n.depth;;d--){if(n.node(d).isBlock){s=n.end(d)==n.pos+(n.depth-d),l=n.start(d)==n.pos-(n.depth-d),o=wN(n.node(d-1).contentMatchAt(n.indexAfter(d-1))),a.unshift(s&&o?{type:o}:null),r=d;break}if(1==d)return!1;a.unshift(null)}let c=e.tr;(e.selection instanceof yO||e.selection instanceof wO)&&c.deleteSelection();let u=c.mapping.map(n.pos),h=XD(c.doc,u,a.length,a);if(h||(a[0]=o?{type:o}:null,h=XD(c.doc,u,a.length,a)),!h)return!1;if(c.split(u,a.length,a),!s&&l&&n.node(r).type!=o){let e=c.mapping.map(n.before(r)),t=c.doc.resolve(e);o&&n.node(r-1).canReplaceWith(t.index(),t.index()+1,o)&&c.setNodeMarkup(c.mapping.map(n.before(r)),o)}return t&&t(c.scrollIntoView()),!0}}();function TN(e,t,n,i){let r,o,a=t.nodeBefore,s=t.nodeAfter,l=a.type.spec.isolating||s.type.spec.isolating;if(!l&&function c(e,t,n){let i=t.nodeBefore,r=t.nodeAfter,o=t.index();return!(!(i&&r&&i.type.compatibleContent(r.type))||(!i.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(o,o+1)||!r.isTextblock&&!qD(e.doc,t.pos)||(n&&n(e.tr.join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let u=!l&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(r=(o=a.contentMatchAt(a.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){let i=t.pos+s.nodeSize,o=mI.empty;for(let e=r.length-1;e>=0;e--)o=mI.from(r[e].create(null,o));o=mI.from(a.copy(o));let l=e.tr.step(new BD(t.pos-1,i,t.pos,i,new wI(o,1,0),r.length,!0)),c=l.doc.resolve(i+2*r.length);c.nodeAfter&&c.nodeAfter.type==a.type&&qD(l.doc,c.pos)&&l.join(c.pos),n(l.scrollIntoView())}return!0}let h=s.type.spec.isolating||i>0&&l?null:fO.findFrom(t,1),d=h&&h.$from.blockRange(h.$to),p=d&&WD(d);if(null!=p&&p>=t.depth)return n&&n(e.tr.lift(d,p).scrollIntoView()),!0;if(u&&fN(s,"start",!0)&&fN(a,"end")){let i=a,r=[];for(;r.push(i),!i.isTextblock;)i=i.lastChild;let o=s,l=1;for(;!o.isTextblock;o=o.firstChild)l++;if(i.canReplace(i.childCount,i.childCount,o.content)){if(n){let i=mI.empty;for(let e=r.length-1;e>=0;e--)i=mI.from(r[e].copy(i));n(e.tr.step(new BD(t.pos-r.length,t.pos+s.nodeSize,t.pos+l,t.pos+s.nodeSize-l,new wI(i,r.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function AN(e){return function(t,n){let i=t.selection,r=e<0?i.$from:i.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return!!r.node(o).isTextblock&&(n&&n(t.tr.setSelection(yO.create(t.doc,e<0?r.start(o):r.end(o)))),!0)}}const IN=AN(-1),DN=AN(1);function ON(e,t=null){return function(n,i){let r=!1;for(let o=0;o<n.selection.ranges.length&&!r;o++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(i,a,(i,o)=>{if(r)return!1;if(i.isTextblock&&!i.hasMarkup(e,t))if(i.type==e)r=!0;else{let t=n.doc.resolve(o),i=t.index();r=t.parent.canReplaceWith(i,i+1,e)}})}if(!r)return!1;if(i){let r=n.tr;for(let i=0;i<n.selection.ranges.length;i++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[i];r.setBlockType(o,a,e,t)}i(r.scrollIntoView())}return!0}}function EN(...e){return function(t,n,i){for(let r=0;r<e.length;r++)if(e[r](t,n,i))return!0;return!1}}function LN(e,t=null){return function(n,i){let{$from:r,$to:o}=n.selection,a=r.blockRange(o);if(!a)return!1;let s=i?n.tr:null;return!!function l(e,t,n,i=null){let r=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=a.resolve(t.start-2);o=new BI(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new BI(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let s=$D(o,n,i,t);if(!s)return!1;e&&function l(e,t,n,i,r){let o=mI.empty;for(let u=n.length-1;u>=0;u--)o=mI.from(n[u].type.create(n[u].attrs,o));e.step(new BD(t.start-(i?2:0),t.end,t.start,t.end,new wI(o,0,0),n.length,!0));let a=0;for(let u=0;u<n.length;u++)n[u].type==r&&(a=u+1);let s=n.length-a,l=t.start+n.length-(i?2:0),c=t.parent;for(let u=t.startIndex,h=t.endIndex,d=!0;u<h;u++,d=!1)!d&&XD(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(u).nodeSize;return e}(e,t,s,r,n);return!0}(s,a,e,t)&&(i&&i(s.scrollIntoView()),!0)}}function RN(e){return function(t,n){let{$from:i,$to:r}=t.selection,o=i.blockRange(r,t=>t.childCount>0&&t.firstChild.type==e);return!!o&&(!n||(i.node(o.depth-1).type==e?function a(e,t,n,i){let r=e.tr,o=i.end,a=i.$to.end(i.depth);o<a&&(r.step(new BD(o-1,a,o,a,new wI(mI.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new BI(r.doc.resolve(i.$from.pos),r.doc.resolve(a),i.depth));const s=WD(i);if(null==s)return!1;r.lift(i,s);let l=r.doc.resolve(r.mapping.map(o,-1)-1);qD(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos);return t(r.scrollIntoView()),!0}(t,n,e,o):function s(e,t,n){let i=e.tr,r=n.parent;for(let p=n.end,f=n.endIndex-1,g=n.startIndex;f>g;f--)p-=r.child(f).nodeSize,i.delete(p-1,p+1);let o=i.doc.resolve(n.start),a=o.nodeAfter;if(i.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=0==n.startIndex,l=n.endIndex==r.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?mI.empty:mI.from(r))))return!1;let h=o.pos,d=h+a.nodeSize;return i.step(new BD(h-(s?1:0),d+(l?1:0),h+1,d-1,new wI((s?mI.empty:mI.from(r.copy(mI.empty))).append(l?mI.empty:mI.from(r.copy(mI.empty))),s?0:1,l?0:1),s?0:1)),t(i.scrollIntoView()),!0}(t,n,o)))}}function NN(e){const{state:t,transaction:n}=e;let{selection:i}=n,{doc:r}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return i},get doc(){return r},get tr(){return i=n.selection,r=n.doc,o=n.storedMarks,n}}}EN(uN,dN,gN),EN(uN,yN,bN),EN(_N,SN,MN,kN),"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();class PN{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:i}=t,{tr:r}=n,o=this.buildProps(r);return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(...e)=>{const n=t(...e)(o);return r.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(r),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:i,state:r}=this,{view:o}=i,a=[],s=!!e,l=e||r.tr,c={...Object.fromEntries(Object.entries(n).map(([e,n])=>[e,(...e)=>{const i=this.buildProps(l,t),r=n(...e)(i);return a.push(r),c}])),run:()=>(s||!t||l.getMeta("preventDispatch")||this.hasCustomState||o.dispatch(l),a.every(e=>!0===e))};return c}createCan(e){const{rawCommands:t,state:n}=this,i=!1,r=e||n.tr,o=this.buildProps(r,i);return{...Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...o,dispatch:void 0})])),chain:()=>this.createChain(r,i)}}buildProps(e,t=!0){const{rawCommands:n,editor:i,state:r}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:NN({state:r,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(a)]))}};return a}}class zN{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}once(e,t){const n=(...i)=>{this.off(e,n),t.apply(this,i)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}}function BN(e,t,n){if(void 0===e.config[t]&&e.parent)return BN(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind({...n,parent:e.parent?BN(e.parent,t,n):null})}return e.config[t]}function VN(e){return{baseExtensions:e.filter(e=>"extension"===e.type),nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function FN(e){const t=[],{nodeExtensions:n,markExtensions:i}=VN(e),r=[...n,...i],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{const n=BN(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:r});if(!n)return;n().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(([e,i])=>{t.push({type:n,name:e,attribute:{...o,...i}})})})})}),r.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},i=BN(e,"addAttributes",n);if(!i)return;const r=i();Object.entries(r).forEach(([n,i])=>{const r={...o,...i};"function"==typeof(null==r?void 0:r.default)&&(r.default=r.default()),(null==r?void 0:r.isRequired)&&void 0===(null==r?void 0:r.default)&&delete r.default,t.push({type:e.name,name:n,attribute:r})})}),t}function HN(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function WN(...e){return e.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([e,t])=>{if(n[e])if("class"===e){const i=t?String(t).split(" "):[],r=n[e]?n[e].split(" "):[],o=i.filter(e=>!r.includes(e));n[e]=[...r,...o].join(" ")}else if("style"===e){const i=t?t.split(";").map(e=>e.trim()).filter(Boolean):[],r=n[e]?n[e].split(";").map(e=>e.trim()).filter(Boolean):[],o=new Map;r.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());o.set(t,n)}),i.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());o.set(t,n)}),n[e]=Array.from(o.entries()).map(([e,t])=>`${e}: ${t}`).join("; ")}else n[e]=t;else n[e]=t}),n},{})}function $N(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>WN(e,t),{})}function jN(e){return"function"==typeof e}function GN(e,t=void 0,...n){return jN(e)?t?e.bind(t)(...n):e(...n):e}function UN(e,t){return"style"in e?e:{...e,getAttrs:n=>{const i=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===i)return!1;const r=t.reduce((e,t)=>{const i=t.attribute.parseHTML?t.attribute.parseHTML(n):function r(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==i?e:{...e,[t.name]:i}},{});return{...i,...r}}}}function XN(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>("attrs"!==e||!function n(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t))}function qN(e,t){return t.nodes[e]||t.marks[e]||null}function YN(e,t){return Array.isArray(t)?t.some(t=>("string"==typeof t?t:t.name)===e.name):t}function ZN(e,t){const n=vD.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function KN(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class JN{constructor(e){this.find=e.find,this.handler=e.handler}}function QN(e){var t;const{editor:n,from:i,to:r,text:o,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(i);if(c.parent.type.spec.code||(null===(t=c.nodeBefore||c.nodeAfter)||void 0===t?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let u=!1;const h=((e,t=500)=>{let n="";const i=e.parentOffset;return e.parent.nodesBetween(Math.max(0,i-t),i,(e,t,r,o)=>{var a,s;const l=(null===(s=(a=e.type.spec).toText)||void 0===s?void 0:s.call(a,{node:e,pos:t,parent:r,index:o}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,i-t))}),n})(c)+o;return a.forEach(e=>{if(u)return;const t=((e,t)=>{if(KN(t))return t.exec(e);const n=t(e);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=e,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith),i.push(n.replaceWith)),i})(h,e.find);if(!t)return;const a=l.state.tr,c=NN({state:l.state,transaction:a}),d={from:i-(t[0].length-o.length),to:r},{commands:p,chain:f,can:g}=new PN({editor:n,state:c});null!==e.handler({state:c,range:d,match:t,commands:p,chain:f,can:g})&&a.steps.length&&(a.setMeta(s,{transform:a,from:i,to:r,text:o}),l.dispatch(a),u=!0)}),u}function eP(e){const{editor:t,rules:n}=e,i=new LO({state:{init:()=>null,apply(e,r,o){const a=e.getMeta(i);if(a)return a;const s=e.getMeta("applyInputRules");return!!s&&setTimeout(()=>{let{text:e}=s;"string"==typeof e||(e=ZN(mI.from(e),o.schema));const{from:r}=s,a=r+e.length;QN({editor:t,from:r,to:a,text:e,rules:n,plugin:i})}),e.selectionSet||e.docChanged?null:r}},props:{handleTextInput:(e,r,o,a)=>QN({editor:t,from:r,to:o,text:a,rules:n,plugin:i}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{const{$cursor:r}=e.state.selection;r&&QN({editor:t,from:r.pos,to:r.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(e,r){if("Enter"!==r.key)return!1;const{$cursor:o}=e.state.selection;return!!o&&QN({editor:t,from:o.pos,to:o.pos,text:"\n",rules:n,plugin:i})}},isInputRules:!0});return i}function tP(e){return"Object"===function t(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function nP(e,t){const n={...e};return tP(e)&&tP(t)&&Object.keys(t).forEach(i=>{tP(t[i])&&tP(e[i])?n[i]=nP(e[i],t[i]):n[i]=t[i]}),n}class iP{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length,this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=GN(BN(this,"addOptions",{name:this.name}))),this.storage=GN(BN(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new iP(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>nP(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new iP(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length,t.options=GN(BN(t,"addOptions",{name:t.name})),t.storage=GN(BN(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const r=i.marks();if(!!!r.find(e=>(null==e?void 0:e.type.name)===t.name))return!1;const o=r.find(e=>(null==e?void 0:e.type.name)===t.name);return o&&n.removeStoredMark(o),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}}class rP{constructor(e){this.find=e.find,this.handler=e.handler}}function oP(e){const{editor:t,state:n,from:i,to:r,rule:o,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:u}=new PN({editor:t,state:n}),h=[];n.doc.nodesBetween(i,r,(e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const d=Math.max(i,t),p=Math.min(r,t+e.content.size);((e,t,n)=>{if(KN(t))return[...e.matchAll(t)];const i=t(e,n);return i?i.map(t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith),n.push(t.replaceWith)),n}):[]})(e.textBetween(d-t,p-t,void 0,""),o.find,a).forEach(e=>{if(void 0===e.index)return;const t=d+e.index+1,i=t+e[0].length,r={from:n.tr.mapping.map(t),to:n.tr.mapping.map(i)},p=o.handler({state:n,range:r,match:e,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:s});h.push(p)})});return h.every(e=>null!==e)}let aP=null;function sP(e){const{editor:t,rules:n}=e;let i,r=null,o=!1,a=!1,s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{i="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{i=null}const l=({state:e,from:n,to:r,rule:o,pasteEvt:a})=>{const l=e.tr,c=NN({state:e,transaction:l});if(oP({editor:t,state:c,from:Math.max(n-1,0),to:r.b-1,rule:o,pasteEvent:a,dropEvent:i})&&l.steps.length){try{i="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{i=null}return s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l}};return n.map(e=>new LO({view(e){const n=n=>{var i;r=(null===(i=e.dom.parentElement)||void 0===i?void 0:i.contains(n.target))?e.dom.parentElement:null,r&&(aP=t)},i=()=>{aP&&(aP=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",i),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",i)}}},props:{handleDOMEvents:{drop:(e,t)=>{if(a=r===e.dom.parentElement,i=t,!a){const e=aP;(null==e?void 0:e.isEditable)&&setTimeout(()=>{const t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})},10)}return!1},paste:(e,t)=>{var n;const i=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");return s=t,o=!!(null==i?void 0:i.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,i)=>{const r=t[0],c="paste"===r.getMeta("uiEvent")&&!o,u="drop"===r.getMeta("uiEvent")&&!a,h=r.getMeta("applyPasteRules"),d=!!h;if(!c&&!u&&!d)return;if(d){let{text:t}=h;"string"==typeof t||(t=ZN(mI.from(t),i.schema));const{from:n}=h,r=n+t.length,o=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null===(t=n.clipboardData)||void 0===t||t.setData("text/html",e),n})(t);return l({rule:e,state:i,from:n,to:{b:r},pasteEvt:o})}const p=n.doc.content.findDiffStart(i.doc.content),f=n.doc.content.findDiffEnd(i.doc.content);return function g(e){return"number"==typeof e}(p)&&f&&p!==f.b?l({rule:e,state:i,from:p,to:f,pasteEvt:s}):void 0}}))}class lP{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=lP.resolve(e),this.schema=function n(e,t){var n;const i=FN(e),{nodeExtensions:r,markExtensions:o}=VN(e),a=null===(n=r.find(e=>BN(e,"topNode")))||void 0===n?void 0:n.name,s=Object.fromEntries(r.map(n=>{const r=i.filter(e=>e.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:t},a=XN({...e.reduce((e,t)=>{const i=BN(t,"extendNodeSchema",o);return{...e,...i?i(n):{}}},{}),content:GN(BN(n,"content",o)),marks:GN(BN(n,"marks",o)),group:GN(BN(n,"group",o)),inline:GN(BN(n,"inline",o)),atom:GN(BN(n,"atom",o)),selectable:GN(BN(n,"selectable",o)),draggable:GN(BN(n,"draggable",o)),code:GN(BN(n,"code",o)),whitespace:GN(BN(n,"whitespace",o)),linebreakReplacement:GN(BN(n,"linebreakReplacement",o)),defining:GN(BN(n,"defining",o)),isolating:GN(BN(n,"isolating",o)),attrs:Object.fromEntries(r.map(e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]}))}),s=GN(BN(n,"parseHTML",o));s&&(a.parseDOM=s.map(e=>UN(e,r)));const l=BN(n,"renderHTML",o);l&&(a.toDOM=e=>l({node:e,HTMLAttributes:$N(e,r)}));const c=BN(n,"renderText",o);return c&&(a.toText=c),[n.name,a]})),l=Object.fromEntries(o.map(n=>{const r=i.filter(e=>e.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:t},a=XN({...e.reduce((e,t)=>{const i=BN(t,"extendMarkSchema",o);return{...e,...i?i(n):{}}},{}),inclusive:GN(BN(n,"inclusive",o)),excludes:GN(BN(n,"excludes",o)),group:GN(BN(n,"group",o)),spanning:GN(BN(n,"spanning",o)),code:GN(BN(n,"code",o)),attrs:Object.fromEntries(r.map(e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]}))}),s=GN(BN(n,"parseHTML",o));s&&(a.parseDOM=s.map(e=>UN(e,r)));const l=BN(n,"renderHTML",o);return l&&(a.toDOM=e=>l({mark:e,HTMLAttributes:$N(e,r)})),[n.name,a]}));return new oD({topNode:a,nodes:s,marks:l})}(this.extensions,t),this.setupExtensions()}static resolve(e){const t=lP.sort(lP.flatten(e));return function n(e){const t=e.filter((t,n)=>e.indexOf(t)!==n);return Array.from(new Set(t))}(t.map(e=>e.name)).length,t}static flatten(e){return e.map(e=>{const t=BN(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...this.flatten(t())]:e}).flat(10)}static sort(e){return e.sort((e,t)=>{const n=BN(e,"priority")||100,i=BN(t,"priority")||100;return n>i?-1:n<i?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const n=BN(t,"addCommands",{name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:qN(t.name,this.schema)});return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this,t=lP.sort([...this.extensions].reverse()),n=[],i=[],r=t.map(t=>{const r={name:t.name,options:t.options,storage:t.storage,editor:e,type:qN(t.name,this.schema)},o=[],a=BN(t,"addKeyboardShortcuts",r);let s={};if("mark"===t.type&&BN(t,"exitable",r)&&(s.ArrowRight=()=>iP.handleExit({editor:e,mark:t})),a){const t=Object.fromEntries(Object.entries(a()).map(([t,n])=>[t,()=>n({editor:e})]));s={...s,...t}}const l=function c(e){return new LO({props:{handleKeyDown:cN(e)}})}(s);o.push(l);const u=BN(t,"addInputRules",r);YN(t,e.options.enableInputRules)&&u&&n.push(...u());const h=BN(t,"addPasteRules",r);YN(t,e.options.enablePasteRules)&&h&&i.push(...h());const d=BN(t,"addProseMirrorPlugins",r);if(d){const e=d();o.push(...e)}return o}).flat();return[eP({editor:e,rules:n}),...sP({editor:e,rules:i}),...r]}get attributes(){return FN(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=VN(this.extensions);return Object.fromEntries(t.filter(e=>!!BN(e,"addNodeView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),i={name:t.name,options:t.options,storage:t.storage,editor:e,type:HN(t.name,this.schema)},r=BN(t,"addNodeView",i);if(!r)return[];return[t.name,(i,o,a,s,l)=>{const c=$N(i,n);return r()({node:i,view:o,getPos:a,decorations:s,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:qN(e.name,this.schema)};if("mark"===e.type){(null===(t=GN(BN(e,"keepOnSplit",n)))||void 0===t||t)&&this.splittableMarks.push(e.name)}const i=BN(e,"onBeforeCreate",n),r=BN(e,"onCreate",n),o=BN(e,"onUpdate",n),a=BN(e,"onSelectionUpdate",n),s=BN(e,"onTransaction",n),l=BN(e,"onFocus",n),c=BN(e,"onBlur",n),u=BN(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),r&&this.editor.on("create",r),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),s&&this.editor.on("transaction",s),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),u&&this.editor.on("destroy",u)})}}class cP{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length,this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=GN(BN(this,"addOptions",{name:this.name}))),this.storage=GN(BN(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new cP(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>nP(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new cP({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length,t.options=GN(BN(t,"addOptions",{name:t.name})),t.storage=GN(BN(t,"addStorage",{name:t.name,options:t.options})),t}}function uP(e,t,n){const{from:i,to:r}=t,{blockSeparator:o="\n\n",textSerializers:a={}}=n||{};let s="";return e.nodesBetween(i,r,(e,n,l,c)=>{var u;e.isBlock&&n>i&&(s+=o);const h=null==a?void 0:a[e.type.name];if(h)return l&&(s+=h({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(s+=null===(u=null==e?void 0:e.text)||void 0===u?void 0:u.slice(Math.max(i,n)-n,r-n))}),s}function hP(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const dP=cP.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new LO({key:new PO("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:i,selection:r}=t,{ranges:o}=r,a=Math.min(...o.map(e=>e.$from.pos)),s=Math.max(...o.map(e=>e.$to.pos)),l=hP(n);return uP(i,{from:a,to:s},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}});function pP(e,t,n={strict:!0}){const i=Object.keys(t);return!i.length||i.every(i=>n.strict?t[i]===e[i]:KN(t[i])?t[i].test(e[i]):t[i]===e[i])}function fP(e,t,n={}){return e.find(e=>e.type===t&&pP(Object.fromEntries(Object.keys(n).map(t=>[t,e.attrs[t]])),n))}function gP(e,t,n={}){return!!fP(e,t,n)}function mP(e,t,n){var i;if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(r.node&&r.node.marks.some(e=>e.type===t)||(r=e.parent.childBefore(e.parentOffset)),!r.node||!r.node.marks.some(e=>e.type===t))return;n=n||(null===(i=r.node.marks[0])||void 0===i?void 0:i.attrs);if(!fP([...r.node.marks],t,n))return;let o=r.index,a=e.start()+r.offset,s=o+1,l=a+r.node.nodeSize;for(;o>0&&gP([...e.parent.child(o-1).marks],t,n);)o-=1,a-=e.parent.child(o).nodeSize;for(;s<e.parent.childCount&&gP([...e.parent.child(s).marks],t,n);)l+=e.parent.child(s).nodeSize,s+=1;return{from:a,to:l}}function vP(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function yP(e){return e instanceof yO}function bP(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function xP(e,t=null){if(!t)return null;const n=fO.atStart(e),i=fO.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return i;const r=n.from,o=i.to;return"all"===t?yO.create(e,bP(0,r,o),bP(e.content.size,r,o)):yO.create(e,bP(t,r,o),bP(t,r,o))}function _P(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function wP(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const SP=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const i=t[n];3===i.nodeType&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?e.removeChild(i):1===i.nodeType&&SP(i)}return e};function MP(e){const t=`<body>${e}</body>`,n=(new window.DOMParser).parseFromString(t,"text/html").body;return SP(n)}function kP(e,t,n){if(e instanceof FI||e instanceof mI)return e;n={slice:!0,parseOptions:{},...n};const i="string"==typeof e;if("object"==typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return mI.fromArray(e.map(e=>t.nodeFromJSON(e)));const i=t.nodeFromJSON(e);return n.errorOnInvalidContent&&i.check(),i}catch(r){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:r});return kP("",t,n)}if(i){if(n.errorOnInvalidContent){let i=!1,r="";const o=new oD({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(i=!0,r="string"==typeof e?e:e.outerHTML,null)}]}})});if(n.slice?sD.fromSchema(o).parseSlice(MP(e),n.parseOptions):sD.fromSchema(o).parse(MP(e),n.parseOptions),n.errorOnInvalidContent&&i)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${r}`)})}const i=sD.fromSchema(t);return n.slice?i.parseSlice(MP(e),n.parseOptions).content:i.parse(MP(e),n.parseOptions)}return kP("",t,n)}function CP(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function TP(e,t,n={}){const{from:i,to:r,empty:o}=e.selection,a=t?HN(t,e.schema):null,s=[];e.doc.nodesBetween(i,r,(e,t)=>{if(e.isText)return;const n=Math.max(i,t),o=Math.min(r,t+e.nodeSize);s.push({node:e,from:n,to:o})});const l=r-i,c=s.filter(e=>!a||a.name===e.node.type.name).filter(e=>pP(e.node.attrs,n,{strict:!1}));if(o)return!!c.length;return c.reduce((e,t)=>e+t.to-t.from,0)>=l}function AP(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function IP(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,i)=>(n.includes(i)||(t[i]=e[i]),t),{})}function DP(e,t,n={},i={}){return kP(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}function OP(e,t){const n=vP(t,e.schema),{from:i,to:r,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(i,r,e=>{a.push(...e.marks)});const s=a.find(e=>e.type.name===n.name);return s?{...s.attrs}:{}}function EP(e,t){const n=[];return e.descendants((e,i)=>{t(e)&&n.push({node:e,pos:i})}),n}function LP(e,t){for(let n=e.depth;n>0;n-=1){const i=e.node(n);if(t(i))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:i}}}function RP(e){return t=>LP(t.$from,e)}function NP(e,t){const n=AP("string"==typeof t?t:t.name,e.schema);return"node"===n?function i(e,t){const n=HN(t,e.schema),{from:i,to:r}=e.selection,o=[];e.doc.nodesBetween(i,r,e=>{o.push(e)});const a=o.reverse().find(e=>e.type.name===n.name);return a?{...a.attrs}:{}}(e,t):"mark"===n?OP(e,t):{}}function PP(e){const t=function n(e,t=JSON.stringify){const n={};return e.filter(e=>{const i=t(e);return!Object.prototype.hasOwnProperty.call(n,i)&&(n[i]=!0)})}(e);return 1===t.length?t:t.filter((e,n)=>{const i=t.filter((e,t)=>t!==n);return!i.some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to)})}function zP(e,t,n){const i=[];return e===t?n.resolve(e).marks().forEach(t=>{const r=mP(n.resolve(e),t.type);r&&i.push({mark:t,...r})}):n.nodesBetween(e,t,(e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&i.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),i}function BP(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const i=e.find(e=>e.type===t&&e.name===n);return!!i&&i.attribute.keepOnSplit}))}function VP(e,t,n={}){const{empty:i,ranges:r}=e.selection,o=t?vP(t,e.schema):null;if(i)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!o||o.name===e.type.name).find(e=>pP(e.attrs,n,{strict:!1}));let a=0;const s=[];if(r.forEach(({$from:t,$to:n})=>{const i=t.pos,r=n.pos;e.doc.nodesBetween(i,r,(e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(i,t),o=Math.min(r,t+e.nodeSize);a+=o-n,s.push(...e.marks.map(e=>({mark:e,from:n,to:o})))})}),0===a)return!1;const l=s.filter(e=>!o||o.name===e.mark.type.name).filter(e=>pP(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=s.filter(e=>!o||e.mark.type!==o&&e.mark.type.excludes(o)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+c:l)>=a}function FP(e,t){const{nodeExtensions:n}=VN(t),i=n.find(t=>t.name===e);if(!i)return!1;const r=GN(BN(i,"group",{name:i.name,options:i.options,storage:i.storage}));return"string"==typeof r&&r.split(" ").includes("list")}function HP(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!==(i=e.text)&&void 0!==i?i:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let i=!0;return e.content.forEach(e=>{!1!==i&&(HP(e,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function WP(e){return e instanceof xO}function $P(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const i=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(i)}}const jP=(e,t)=>{const n=RP(e=>e.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===i)return!0;const r=e.doc.nodeAt(i);return n.node.type!==(null==r?void 0:r.type)||!qD(e.doc,n.pos)||(e.join(n.pos),!0)},GP=(e,t)=>{const n=RP(e=>e.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(n.start).after(n.depth);if(void 0===i)return!0;const r=e.doc.nodeAt(i);return n.node.type!==(null==r?void 0:r.type)||!qD(e.doc,i)||(e.join(i),!0)};var UP=Object.freeze({__proto__:null,blur:()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())}),!0),clearContent:(e=!1)=>({commands:t})=>t.setContent("",e),clearNodes:()=>({state:e,tr:t,dispatch:n})=>{const{selection:i}=t,{ranges:r}=i;return!n||(r.forEach(({$from:n,$to:i})=>{e.doc.nodesBetween(n.pos,i.pos,(e,n)=>{if(e.type.isText)return;const{doc:i,mapping:r}=t,o=i.resolve(r.map(n)),a=i.resolve(r.map(n+e.nodeSize)),s=o.blockRange(a);if(!s)return;const l=WD(s);if(e.type.isTextblock){const{defaultType:e}=o.parent.contentMatchAt(o.index());t.setNodeMarkup(s.start,e)}(l||0===l)&&t.lift(s,l)})}),!0)},command:e=>t=>e(t),createParagraphNear:()=>({state:e,dispatch:t})=>SN(e,t),cut:(e,t)=>({editor:n,tr:i})=>{const{state:r}=n,o=r.doc.slice(e.from,e.to);i.deleteRange(e.from,e.to);const a=i.mapping.map(t);return i.insert(a,o.content),i.setSelection(new yO(i.doc.resolve(Math.max(a-1,0)))),!0},deleteCurrentNode:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,i=n.$anchor.node();if(i.content.size>0)return!1;const r=e.selection.$anchor;for(let o=r.depth;o>0;o-=1){if(r.node(o).type===i.type){if(t){const t=r.before(o),n=r.after(o);e.delete(t,n).scrollIntoView()}return!0}}return!1},deleteNode:e=>({tr:t,state:n,dispatch:i})=>{const r=HN(e,n.schema),o=t.selection.$anchor;for(let e=o.depth;e>0;e-=1){if(o.node(e).type===r){if(i){const n=o.before(e),i=o.after(e);t.delete(n,i).scrollIntoView()}return!0}}return!1},deleteRange:e=>({tr:t,dispatch:n})=>{const{from:i,to:r}=e;return n&&t.delete(i,r),!0},deleteSelection:()=>({state:e,dispatch:t})=>uN(e,t),enter:()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode:()=>({state:e,dispatch:t})=>((e,t)=>{let{$head:n,$anchor:i}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let r=n.node(-1),o=n.indexAfter(-1),a=wN(r.contentMatchAt(o));if(!a||!r.canReplaceWith(o,o,a))return!1;if(t){let i=n.after(),r=e.tr.replaceWith(i,i,a.createAndFill());r.setSelection(fO.near(r.doc.resolve(i),1)),t(r.scrollIntoView())}return!0})(e,t),extendMarkRange:(e,t={})=>({tr:n,state:i,dispatch:r})=>{const o=vP(e,i.schema),{doc:a,selection:s}=n,{$from:l,from:c,to:u}=s;if(r){const e=mP(l,o,t);if(e&&e.from<=c&&e.to>=u){const t=yO.create(a,e.from,e.to);n.setSelection(t)}}return!0},first:e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1},focus:(e=null,t={})=>({editor:n,view:i,tr:r,dispatch:o})=>{t={scrollIntoView:!0,...t};const a=()=>{(wP()||_P())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())})};if(i.hasFocus()&&null===e||!1===e)return!0;if(o&&null===e&&!yP(n.state.selection))return a(),!0;const s=xP(r.doc,e)||n.state.selection,l=n.state.selection.eq(s);return o&&(l||r.setSelection(s),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),a()),!0},forEach:(e,t)=>n=>e.every((e,i)=>t(e,{...n,index:i})),insertContent:(e,t)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),insertContentAt:(e,t,n)=>({tr:i,dispatch:r,editor:o})=>{var a;if(r){let r;const s=e=>{o.emit("contentError",{editor:o,error:e,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},l={preserveWhitespace:"full",...(n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n}).parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{kP(t,o.schema,{parseOptions:l,errorOnInvalidContent:!0})}catch(kLe){s(kLe)}try{r=kP(t,o.schema,{parseOptions:l,errorOnInvalidContent:null!==(a=n.errorOnInvalidContent)&&void 0!==a?a:o.options.enableContentCheck})}catch(kLe){return s(kLe),!1}let{from:c,to:u}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},h=!0,d=!0;if(("type"in r?[r]:r).forEach(e=>{e.check(),h=!!h&&(e.isText&&0===e.marks.length),d=!!d&&e.isBlock}),c===u&&d){const{parent:e}=i.doc.resolve(c);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(c-=1,u+=1)}let p;if(h){if(Array.isArray(t))p=t.map(e=>e.text||"").join("");else if(t instanceof mI){let e="";t.forEach(t=>{t.text&&(e+=t.text)}),p=e}else p="object"==typeof t&&t&&t.text?t.text:t;i.insertText(p,c,u)}else p=r,i.replaceWith(c,u,p);n.updateSelection&&function f(e,t,n){const i=e.steps.length-1;if(i<t)return;const r=e.steps[i];if(!(r instanceof zD||r instanceof BD))return;const o=e.mapping.maps[i];let a=0;o.forEach((e,t,n,i)=>{0===a&&(a=i)}),e.setSelection(fO.near(e.doc.resolve(a),n))}(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:c,text:p}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:c,text:p})}return!0},joinBackward:()=>({state:e,dispatch:t})=>dN(e,t),joinDown:()=>({state:e,dispatch:t})=>((e,t)=>{let n,i=e.selection;if(i instanceof xO){if(i.node.isTextblock||!qD(e.doc,i.to))return!1;n=i.to}else if(n=ZD(e.doc,i.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0})(e,t),joinForward:()=>({state:e,dispatch:t})=>yN(e,t),joinItemBackward:()=>({state:e,dispatch:t,tr:n})=>{try{const i=ZD(e.doc,e.selection.$from.pos,-1);return null!=i&&(n.join(i,2),t&&t(n),!0)}catch{return!1}},joinItemForward:()=>({state:e,dispatch:t,tr:n})=>{try{const i=ZD(e.doc,e.selection.$from.pos,1);return null!=i&&(n.join(i,2),t&&t(n),!0)}catch{return!1}},joinTextblockBackward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let i=hN(e,n);if(!i)return!1;let r=mN(i);return!!r&&pN(e,r,t)})(e,t),joinTextblockForward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let i=vN(e,n);if(!i)return!1;let r=xN(i);return!!r&&pN(e,r,t)})(e,t),joinUp:()=>({state:e,dispatch:t})=>((e,t)=>{let n,i=e.selection,r=i instanceof xO;if(r){if(i.node.isTextblock||!qD(e.doc,i.from))return!1;n=i.from}else if(n=ZD(e.doc,i.from,-1),null==n)return!1;if(t){let i=e.tr.join(n);r&&i.setSelection(xO.create(i.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0})(e,t),keyboardShortcut:e=>({editor:t,view:n,tr:i,dispatch:r})=>{const o=function a(e){const t=e.split(/-(?!$)/);let n,i,r,o,a=t[t.length-1];"Space"===a&&(a=" ");for(let s=0;s<t.length-1;s+=1){const e=t[s];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))n=!0;else if(/^(c|ctrl|control)$/i.test(e))i=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error(`Unrecognized modifier name: ${e}`);wP()||CP()?o=!0:i=!0}}return n&&(a=`Alt-${a}`),i&&(a=`Ctrl-${a}`),o&&(a=`Meta-${a}`),r&&(a=`Shift-${a}`),a}(e).split(/-(?!$)/),s=o.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),l=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,l))});return null==c||c.steps.forEach(e=>{const t=e.map(i.mapping);t&&r&&i.maybeStep(t)}),!0},lift:(e,t={})=>({state:n,dispatch:i})=>!!TP(n,HN(e,n.schema),t)&&((e,t)=>{let{$from:n,$to:i}=e.selection,r=n.blockRange(i),o=r&&WD(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)})(n,i),liftEmptyBlock:()=>({state:e,dispatch:t})=>MN(e,t),liftListItem:e=>({state:t,dispatch:n})=>RN(HN(e,t.schema))(t,n),newlineInCode:()=>({state:e,dispatch:t})=>_N(e,t),resetAttributes:(e,t)=>({tr:n,state:i,dispatch:r})=>{let o=null,a=null;const s=AP("string"==typeof e?e:e.name,i.schema);return!!s&&("node"===s&&(o=HN(e,i.schema)),"mark"===s&&(a=vP(e,i.schema)),r&&n.selection.ranges.forEach(e=>{i.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,i)=>{o&&o===e.type&&n.setNodeMarkup(i,void 0,IP(e.attrs,t)),a&&e.marks.length&&e.marks.forEach(r=>{a===r.type&&n.addMark(i,i+e.nodeSize,a.create(IP(r.attrs,t)))})})}),!0)},scrollIntoView:()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),selectAll:()=>({tr:e,dispatch:t})=>{if(t){const t=new wO(e.doc);e.setSelection(t)}return!0},selectNodeBackward:()=>({state:e,dispatch:t})=>gN(e,t),selectNodeForward:()=>({state:e,dispatch:t})=>bN(e,t),selectParentNode:()=>({state:e,dispatch:t})=>((e,t)=>{let n,{$from:i,to:r}=e.selection,o=i.sharedDepth(r);return 0!=o&&(n=i.before(o),t&&t(e.tr.setSelection(xO.create(e.doc,n))),!0)})(e,t),selectTextblockEnd:()=>({state:e,dispatch:t})=>DN(e,t),selectTextblockStart:()=>({state:e,dispatch:t})=>IN(e,t),setContent:(e,t=!1,n={},i={})=>({editor:r,tr:o,dispatch:a,commands:s})=>{var l,c;const{doc:u}=o;if("full"!==n.preserveWhitespace){const s=DP(e,r.schema,n,{errorOnInvalidContent:null!==(l=i.errorOnInvalidContent)&&void 0!==l?l:r.options.enableContentCheck});return a&&o.replaceWith(0,u.content.size,s).setMeta("preventUpdate",!t),!0}return a&&o.setMeta("preventUpdate",!t),s.insertContentAt({from:0,to:u.content.size},e,{parseOptions:n,errorOnInvalidContent:null!==(c=i.errorOnInvalidContent)&&void 0!==c?c:r.options.enableContentCheck})},setMark:(e,t={})=>({tr:n,state:i,dispatch:r})=>{const{selection:o}=n,{empty:a,ranges:s}=o,l=vP(e,i.schema);if(r)if(a){const e=OP(i,l);n.addStoredMark(l.create({...e,...t}))}else s.forEach(e=>{const r=e.$from.pos,o=e.$to.pos;i.doc.nodesBetween(r,o,(e,i)=>{const a=Math.max(i,r),s=Math.min(i+e.nodeSize,o);e.marks.find(e=>e.type===l)?e.marks.forEach(e=>{l===e.type&&n.addMark(a,s,l.create({...e.attrs,...t}))}):n.addMark(a,s,l.create(t))})});return function c(e,t,n){var i;const{selection:r}=t;let o=null;if(yP(r)&&(o=r.$cursor),o){const t=null!==(i=e.storedMarks)&&void 0!==i?i:o.marks();return!!n.isInSet(t)||!t.some(e=>e.type.excludes(n))}const{ranges:a}=r;return a.some(({$from:t,$to:i})=>{let r=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,i.pos,(e,t,i)=>{if(r)return!1;if(e.isInline){const t=!i||i.type.allowsMarkType(n),o=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));r=t&&o}return!r}),r})}(i,n,l)},setMeta:(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),setNode:(e,t={})=>({state:n,dispatch:i,chain:r})=>{const o=HN(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),!!o.isTextblock&&r().command(({commands:e})=>!!ON(o,{...a,...t})(n)||e.clearNodes()).command(({state:e})=>ON(o,{...a,...t})(e,i)).run()},setNodeSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,i=bP(e,0,n.content.size),r=xO.create(n,i);t.setSelection(r)}return!0},setTextSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:i,to:r}="number"==typeof e?{from:e,to:e}:e,o=yO.atStart(n).from,a=yO.atEnd(n).to,s=bP(i,o,a),l=bP(r,o,a),c=yO.create(n,s,l);t.setSelection(c)}return!0},sinkListItem:e=>({state:t,dispatch:n})=>function i(e){return function(t,n){let{$from:i,$to:r}=t.selection,o=i.blockRange(r,t=>t.childCount>0&&t.firstChild.type==e);if(!o)return!1;let a=o.startIndex;if(0==a)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=e)return!1;if(n){let i=l.lastChild&&l.lastChild.type==s.type,r=mI.from(i?e.create():null),a=new wI(mI.from(e.create(null,mI.from(s.type.create(null,r)))),i?3:1,0),c=o.start,u=o.end;n(t.tr.step(new BD(c-(i?3:1),u,c,u,a,1,!0)).scrollIntoView())}return!0}}(HN(e,t.schema))(t,n),splitBlock:({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:i,editor:r})=>{const{selection:o,doc:a}=t,{$from:s,$to:l}=o,c=BP(r.extensionManager.attributes,s.node().type.name,s.node().attrs);if(o instanceof xO&&o.node.isBlock)return!(!s.parentOffset||!XD(a,s.pos))&&(i&&(e&&$P(n,r.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const u=l.parentOffset===l.parent.content.size,h=0===s.depth?void 0:function d(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(s.node(-1).contentMatchAt(s.indexAfter(-1)));let p=u&&h?[{type:h,attrs:c}]:void 0,f=XD(t.doc,t.mapping.map(s.pos),1,p);if(p||f||!XD(t.doc,t.mapping.map(s.pos),1,h?[{type:h}]:void 0)||(f=!0,p=h?[{type:h,attrs:c}]:void 0),i){if(f&&(o instanceof yO&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,p),h&&!u&&!s.parentOffset&&s.parent.type!==h)){const e=t.mapping.map(s.before()),n=t.doc.resolve(e);s.node(-1).canReplaceWith(n.index(),n.index()+1,h)&&t.setNodeMarkup(t.mapping.map(s.before()),h)}e&&$P(n,r.extensionManager.splittableMarks),t.scrollIntoView()}return f},splitListItem:(e,t={})=>({tr:n,state:i,dispatch:r,editor:o})=>{var a;const s=HN(e,i.schema),{$from:l,$to:c}=i.selection,u=i.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const h=l.node(-1);if(h.type!==s)return!1;const d=o.extensionManager.attributes;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let e=mI.empty;const i=l.index(-1)?1:l.index(-2)?2:3;for(let t=l.depth-i;t>=l.depth-3;t-=1)e=mI.from(l.node(t).copy(e));const r=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,o={...BP(d,l.node().type.name,l.node().attrs),...t},c=(null===(a=s.contentMatch.defaultType)||void 0===a?void 0:a.createAndFill(o))||void 0;e=e.append(mI.from(s.createAndFill(null,c)||void 0));const u=l.before(l.depth-(i-1));n.replace(u,l.after(-r),new wI(e,4-i,0));let h=-1;n.doc.nodesBetween(u,n.doc.content.size,(e,t)=>{if(h>-1)return!1;e.isTextblock&&0===e.content.size&&(h=t+1)}),h>-1&&n.setSelection(yO.near(n.doc.resolve(h))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?h.contentMatchAt(0).defaultType:null,f={...BP(d,h.type.name,h.attrs),...t},g={...BP(d,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const m=p?[{type:s,attrs:f},{type:p,attrs:g}]:[{type:s,attrs:f}];if(!XD(n.doc,l.pos,2))return!1;if(r){const{selection:e,storedMarks:t}=i,{splittableMarks:a}=o.extensionManager,s=t||e.$to.parentOffset&&e.$from.marks();if(n.split(l.pos,2,m).scrollIntoView(),!s||!r)return!0;const c=s.filter(e=>a.includes(e.type.name));n.ensureMarks(c)}return!0},toggleList:(e,t,n,i={})=>({editor:r,tr:o,state:a,dispatch:s,chain:l,commands:c,can:u})=>{const{extensions:h,splittableMarks:d}=r.extensionManager,p=HN(e,a.schema),f=HN(t,a.schema),{selection:g,storedMarks:m}=a,{$from:v,$to:y}=g,b=v.blockRange(y),x=m||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const _=RP(e=>FP(e.type.name,h))(g);if(b.depth>=1&&_&&b.depth-_.depth<=1){if(_.node.type===p)return c.liftListItem(f);if(FP(_.node.type.name,h)&&p.validContent(_.node.content)&&s)return l().command(()=>(o.setNodeMarkup(_.pos,p),!0)).command(()=>jP(o,p)).command(()=>GP(o,p)).run()}return n&&x&&s?l().command(()=>{const e=u().wrapInList(p,i),t=x.filter(e=>d.includes(e.type.name));return o.ensureMarks(t),!!e||c.clearNodes()}).wrapInList(p,i).command(()=>jP(o,p)).command(()=>GP(o,p)).run():l().command(()=>!!u().wrapInList(p,i)||c.clearNodes()).wrapInList(p,i).command(()=>jP(o,p)).command(()=>GP(o,p)).run()},toggleMark:(e,t={},n={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:o=!1}=n,a=vP(e,i.schema);return VP(i,a,t)?r.unsetMark(a,{extendEmptyMarkRange:o}):r.setMark(a,t)},toggleNode:(e,t,n={})=>({state:i,commands:r})=>{const o=HN(e,i.schema),a=HN(t,i.schema),s=TP(i,o,n);let l;return i.selection.$anchor.sameParent(i.selection.$head)&&(l=i.selection.$anchor.parent.attrs),s?r.setNode(a,l):r.setNode(o,{...l,...n})},toggleWrap:(e,t={})=>({state:n,commands:i})=>{const r=HN(e,n.schema);return TP(n,r,t)?i.lift(r):i.wrapIn(r,t)},undoInputRule:()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let i=0;i<n.length;i+=1){const r=n[i];let o;if(r.spec.isInputRules&&(o=r.getState(e))){if(t){const t=e.tr,n=o.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(o.text){const n=t.doc.resolve(o.from).marks();t.replaceWith(o.from,o.to,e.schema.text(o.text,n))}else t.delete(o.from,o.to)}return!0}}return!1},unsetAllMarks:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:i,ranges:r}=n;return i||t&&r.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0},unsetMark:(e,t={})=>({tr:n,state:i,dispatch:r})=>{var o;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=vP(e,i.schema),{$from:c,empty:u,ranges:h}=s;if(!r)return!0;if(u&&a){let{from:e,to:t}=s;const i=null===(o=c.marks().find(e=>e.type===l))||void 0===o?void 0:o.attrs,r=mP(c,l,i);r&&(e=r.from,t=r.to),n.removeMark(e,t,l)}else h.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,l)});return n.removeStoredMark(l),!0},updateAttributes:(e,t={})=>({tr:n,state:i,dispatch:r})=>{let o=null,a=null;const s=AP("string"==typeof e?e:e.name,i.schema);return!!s&&("node"===s&&(o=HN(e,i.schema)),"mark"===s&&(a=vP(e,i.schema)),r&&n.selection.ranges.forEach(e=>{const r=e.$from.pos,s=e.$to.pos;let l,c,u,h;n.selection.empty?i.doc.nodesBetween(r,s,(e,t)=>{o&&o===e.type&&(u=Math.max(t,r),h=Math.min(t+e.nodeSize,s),l=t,c=e)}):i.doc.nodesBetween(r,s,(e,i)=>{i<r&&o&&o===e.type&&(u=Math.max(i,r),h=Math.min(i+e.nodeSize,s),l=i,c=e),i>=r&&i<=s&&(o&&o===e.type&&n.setNodeMarkup(i,void 0,{...e.attrs,...t}),a&&e.marks.length&&e.marks.forEach(o=>{if(a===o.type){const l=Math.max(i,r),c=Math.min(i+e.nodeSize,s);n.addMark(l,c,a.create({...o.attrs,...t}))}}))}),c&&(void 0!==l&&n.setNodeMarkup(l,void 0,{...c.attrs,...t}),a&&c.marks.length&&c.marks.forEach(e=>{a===e.type&&n.addMark(u,h,a.create({...e.attrs,...t}))}))}),!0)},wrapIn:(e,t={})=>({state:n,dispatch:i})=>function r(e,t=null){return function(n,i){let{$from:r,$to:o}=n.selection,a=r.blockRange(o),s=a&&$D(a,e,t);return!!s&&(i&&i(n.tr.wrap(a,s).scrollIntoView()),!0)}}(HN(e,n.schema),t)(n,i),wrapInList:(e,t={})=>({state:n,dispatch:i})=>LN(HN(e,n.schema),t)(n,i)});const XP=cP.create({name:"commands",addCommands:()=>({...UP})}),qP=cP.create({name:"drop",addProseMirrorPlugins(){return[new LO({key:new PO("tiptapDrop"),props:{handleDrop:(e,t,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:i})}}})]}}),YP=cP.create({name:"editable",addProseMirrorPlugins(){return[new LO({key:new PO("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ZP=new PO("focusEvents"),KP=cP.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new LO({key:ZP,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const i=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1},blur:(t,n)=>{e.isFocused=!1;const i=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1}}}})]}}),JP=cP.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{const{selection:n,doc:i}=t,{empty:r,$anchor:o}=n,{pos:a,parent:s}=o,l=o.parent.isTextblock&&a>0?t.doc.resolve(a-1):o,c=l.parent.type.spec.isolating,u=o.pos-o.parentOffset,h=c&&1===l.parent.childCount?u===o.pos:fO.atStart(i).from===a;return!(!r||!s.type.isTextblock||s.textContent.length||!h||h&&"paragraph"===o.parent.type.name)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},r={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return wP()||CP()?r:i},addProseMirrorPlugins(){return[new LO({key:new PO("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(e=>e.getMeta("composition")))return;const i=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),r=e.some(e=>e.getMeta("preventClearDocument"));if(!i||r)return;const{empty:o,from:a,to:s}=t.selection,l=fO.atStart(t.doc).from,c=fO.atEnd(t.doc).to;if(o||!(a===l&&s===c))return;if(!HP(n.doc))return;const u=n.tr,h=NN({state:n,transaction:u}),{commands:d}=new PN({editor:this.editor,state:h});return d.clearNodes(),u.steps.length?u:void 0}})]}}),QP=cP.create({name:"paste",addProseMirrorPlugins(){return[new LO({key:new PO("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),ez=cP.create({name:"tabindex",addProseMirrorPlugins(){return[new LO({key:new PO("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class tz{get name(){return this.node.type.name}constructor(e,t,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!==(e=this.actualDepth)&&void 0!==e?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return;t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new tz(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new tz(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new tz(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,n)=>{const i=t.isBlock&&!t.isTextblock,r=t.isAtom&&!t.isText,o=this.pos+n+(r?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const s=new tz(a,this.editor,i,i?t:null);i&&(s.actualDepth=this.depth+1),e.push(new tz(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(t).length>0){const e=i.node.attrs,n=Object.keys(t);for(let i=0;i<n.length;i+=1){const r=n[i];if(e[r]!==t[r])break}}else n=i;i=i.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let i=[];if(!this.children||0===this.children.length)return i;const r=Object.keys(t);return this.children.forEach(o=>{if(!(n&&i.length>0)){if(o.node.type.name===e){const e=r.every(e=>t[e]===o.node.attrs[e]);e&&i.push(o)}n&&i.length>0||(i=i.concat(o.querySelectorAll(e,t,n)))}}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}let nz=class e extends zN{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:e,slice:t,moved:n})=>this.options.onDrop(e,t,n)),this.on("paste",({event:e,slice:t})=>this.options.onPaste(e,t)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function e(t,n,i){const r=document.querySelector("style[data-tiptap-style]");if(null!==r)return r;const o=document.createElement("style");return n&&o.setAttribute("nonce",n),o.setAttribute("data-tiptap-style",""),o.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(o),o}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=jN(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(e=>{const t="string"==typeof e?`${e}$`:e.key;n=n.filter(e=>!e.key.startsWith(t))}),t.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[YP,dP.configure({blockSeparator:null===(t=null===(e=this.options.coreExtensionOptions)||void 0===e?void 0:e.clipboardTextSerializer)||void 0===t?void 0:t.blockSeparator}),XP,KP,JP,ez,qP,QP].filter(e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new lP(n,this)}createCommandManager(){this.commandManager=new PN({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=DP(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(kLe){if(!(kLe instanceof Error&&["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(kLe.message)))throw kLe;this.emit("contentError",{editor:this,error:kLe,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name),this.createExtensionManager()}}),t=DP(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=xP(t,this.options.autofocus);this.view=new XR(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...null===(e=this.options.editorProps)||void 0===e?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:OO.create({doc:t,selection:n||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach(e=>{var t;return null===(t=this.capturedTransaction)||void 0===t?void 0:t.step(e)}):void(this.capturedTransaction=e);const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),r=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),r&&this.emit("blur",{editor:this,event:r.event,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return NP(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,i="string"==typeof e?t:e;return function r(e,t,n={}){if(!t)return TP(e,null,n)||VP(e,null,n);const i=AP(t,e.schema);return"node"===i?TP(e,t,n):"mark"===i&&VP(e,t,n)}(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ZN(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return function i(e,t){return uP(e,{from:0,to:e.content.size},t)}(this.state.doc,{blockSeparator:t,textSerializers:{...hP(this.schema),...n}})}get isEmpty(){return HP(this.state.doc)}getCharacterCount(){return this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}$node(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new tz(t,this)}get $doc(){return this.$pos(0)}};function iz(e){return new JN({find:e.find,handler:({state:t,range:n,match:i})=>{const r=GN(e.getAttributes,void 0,i);if(!1===r||null===r)return null;const{tr:o}=t,a=i[i.length-1],s=i[0];if(a){const i=s.search(/\S/),l=n.from+s.indexOf(a),c=l+a.length;if(zP(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>l).length)return null;c<n.to&&o.delete(c,n.to),l>n.from&&o.delete(n.from+i,l);const u=n.from+i+a.length;o.addMark(n.from+i,u,e.type.create(r||{})),o.removeStoredMark(e.type)}}})}function rz(e){return new JN({find:e.find,handler:({state:t,range:n,match:i})=>{const r=GN(e.getAttributes,void 0,i)||{},{tr:o}=t,a=n.from;let s=n.to;const l=e.type.create(r);if(i[1]){let e=a+i[0].lastIndexOf(i[1]);e>s?e=s:s=e+i[1].length;const t=i[0][i[0].length-1];o.insertText(t,a+i[0].length-1),o.replaceWith(e,s,l)}else if(i[0]){const t=e.type.isInline?a:a-1;o.insert(t,e.type.create(r)).delete(o.mapping.map(a),o.mapping.map(s))}o.scrollIntoView()}})}function oz(e){return new JN({find:e.find,handler:({state:t,range:n,match:i})=>{const r=t.doc.resolve(n.from),o=GN(e.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function az(e){return new JN({find:e.find,handler:({state:t,range:n,match:i,chain:r})=>{const o=GN(e.getAttributes,void 0,i)||{},a=t.tr.delete(n.from,n.to),s=a.doc.resolve(n.from).blockRange(),l=s&&$D(s,e.type,o);if(!l)return null;if(a.wrap(s,l),e.keepMarks&&e.editor){const{selection:n,storedMarks:i}=t,{splittableMarks:r}=e.editor.extensionManager,o=i||n.$to.parentOffset&&n.$from.marks();if(o){const e=o.filter(e=>r.includes(e.type.name));a.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";r().updateAttributes(t,o).run()}const c=a.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&qD(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(i,c))&&a.join(n.from-1)}})}class sz{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length,this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=GN(BN(this,"addOptions",{name:this.name}))),this.storage=GN(BN(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new sz(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>nP(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new sz(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length,t.options=GN(BN(t,"addOptions",{name:t.name})),t.storage=GN(BN(t,"addStorage",{name:t.name,options:t.options})),t}}class lz{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,i,r,o,a,s;const{view:l}=this.editor,c=e.target,u=3===c.nodeType?null===(t=c.parentElement)||void 0===t?void 0:t.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||(null===(n=this.contentDOM)||void 0===n?void 0:n.contains(c))||!u)return;let h=0,d=0;if(this.dom!==u){const t=this.dom.getBoundingClientRect(),n=u.getBoundingClientRect(),s=null!==(i=e.offsetX)&&void 0!==i?i:null===(r=e.nativeEvent)||void 0===r?void 0:r.offsetX,l=null!==(o=e.offsetY)&&void 0!==o?o:null===(a=e.nativeEvent)||void 0===a?void 0:a.offsetY;h=n.x-t.x+s,d=n.y-t.y+l}const p=this.dom.cloneNode(!0);null===(s=e.dataTransfer)||void 0===s||s.setDragImage(p,h,d);const f=this.getPos();if("number"!=typeof f)return;const g=xO.create(l.state.doc,f),m=l.state.tr.setSelection(g);l.dispatch(m)}stopEvent(e){var t;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:e});const n=e.target;if(!(this.dom.contains(n)&&!(null===(t=this.contentDOM)||void 0===t?void 0:t.contains(n))))return!1;const i=e.type.startsWith("drag"),r="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!r&&!i)return!0;const{isEditable:o}=this.editor,{isDragging:a}=this,s=!!this.node.type.spec.draggable,l=xO.isSelectable(this.node),c="copy"===e.type,u="paste"===e.type,h="cut"===e.type,d="mousedown"===e.type;if(!s&&l&&i&&e.target===this.dom&&e.preventDefault(),s&&i&&!a&&e.target===this.dom)return e.preventDefault(),!1;if(s&&o&&!a&&d){const e=n.closest("[data-drag-handle]");e&&(this.dom===e||this.dom.contains(e))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(a||r||c||u||h||d&&l)}ignoreMutation(e){if(!this.dom||!this.contentDOM)return!0;if("function"==typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:e});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===e.type)return!1;if(this.dom.contains(e.target)&&"childList"===e.type&&(wP()||_P())&&this.editor.isFocused){if([...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(e=>e.isContentEditable))return!1}return this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const n=this.getPos();return"number"==typeof n&&(t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if("number"!=typeof e)return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function cz(e){return new rP({find:e.find,handler:({state:t,range:n,match:i,pasteEvent:r})=>{const o=GN(e.getAttributes,void 0,i,r);if(!1===o||null===o)return null;const{tr:a}=t,s=i[i.length-1],l=i[0];let c=n.to;if(s){const i=l.search(/\S/),r=n.from+l.indexOf(s),u=r+s.length;if(zP(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>r).length)return null;u<n.to&&a.delete(u,n.to),r>n.from&&a.delete(n.from+i,r),c=n.from+i+s.length,a.addMark(n.from+i,c,e.type.create(o||{})),a.removeStoredMark(e.type)}}})}var uz="top",hz="bottom",dz="right",pz="left",fz="auto",gz=[uz,hz,dz,pz],mz="start",vz="end",yz="viewport",bz="popper",xz=gz.reduce(function(e,t){return e.concat([t+"-"+mz,t+"-"+vz])},[]),_z=[].concat(gz,[fz]).reduce(function(e,t){return e.concat([t,t+"-"+mz,t+"-"+vz])},[]),wz=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Sz(e){return e?(e.nodeName||"").toLowerCase():null}function Mz(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function kz(e){return e instanceof Mz(e).Element||e instanceof Element}function Cz(e){return e instanceof Mz(e).HTMLElement||e instanceof HTMLElement}function Tz(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Mz(e).ShadowRoot||e instanceof ShadowRoot)}const Az={name:"applyStyles",enabled:!0,phase:"write",fn:function Iz(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];Cz(r)&&Sz(r)&&(Object.assign(r.style,n),Object.keys(i).forEach(function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function Dz(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});Cz(i)&&Sz(i)&&(Object.assign(i.style,o),Object.keys(r).forEach(function(e){i.removeAttribute(e)}))})}},requires:["computeStyles"]};function Oz(e){return e.split("-")[0]}var Ez=Math.max,Lz=Math.min,Rz=Math.round;function Nz(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Pz(){return!/^((?!chrome|android).)*safari/i.test(Nz())}function zz(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&Cz(e)&&(r=e.offsetWidth>0&&Rz(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Rz(i.height)/e.offsetHeight||1);var a=(kz(e)?Mz(e):window).visualViewport,s=!Pz()&&n,l=(i.left+(s&&a?a.offsetLeft:0))/r,c=(i.top+(s&&a?a.offsetTop:0))/o,u=i.width/r,h=i.height/o;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l,x:l,y:c}}function Bz(e){var t=zz(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Vz(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Tz(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Fz(e){return Mz(e).getComputedStyle(e)}function Hz(e){return["table","td","th"].indexOf(Sz(e))>=0}function Wz(e){return((kz(e)?e.ownerDocument:e.document)||window.document).documentElement}function $z(e){return"html"===Sz(e)?e:e.assignedSlot||e.parentNode||(Tz(e)?e.host:null)||Wz(e)}function jz(e){return Cz(e)&&"fixed"!==Fz(e).position?e.offsetParent:null}function Gz(e){for(var t=Mz(e),n=jz(e);n&&Hz(n)&&"static"===Fz(n).position;)n=jz(n);return n&&("html"===Sz(n)||"body"===Sz(n)&&"static"===Fz(n).position)?t:n||function i(e){var t=/firefox/i.test(Nz());if(/Trident/i.test(Nz())&&Cz(e)&&"fixed"===Fz(e).position)return null;var n=$z(e);for(Tz(n)&&(n=n.host);Cz(n)&&["html","body"].indexOf(Sz(n))<0;){var i=Fz(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}function Uz(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Xz(e,t,n){return Ez(e,Lz(t,n))}function qz(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Yz(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function Zz(e){return e.split("-")[1]}var Kz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jz(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,d=a.x,p=void 0===d?0:d,f=a.y,g=void 0===f?0:f,m="function"==typeof u?u({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=pz,x=uz,_=window;if(c){var w=Gz(n),S="clientHeight",M="clientWidth";if(w===Mz(n)&&"static"!==Fz(w=Wz(n)).position&&"absolute"===s&&(S="scrollHeight",M="scrollWidth"),r===uz||(r===pz||r===dz)&&o===vz)x=hz,g-=(h&&w===_&&_.visualViewport?_.visualViewport.height:w[S])-i.height,g*=l?1:-1;if(r===pz||(r===uz||r===hz)&&o===vz)b=dz,p-=(h&&w===_&&_.visualViewport?_.visualViewport.width:w[M])-i.width,p*=l?1:-1}var k,C=Object.assign({position:s},c&&Kz),T=!0===u?function A(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:Rz(n*r)/r||0,y:Rz(i*r)/r||0}}({x:p,y:g},Mz(n)):{x:p,y:g};return p=T.x,g=T.y,l?Object.assign({},C,((k={})[x]=y?"0":"",k[b]=v?"0":"",k.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",k)):Object.assign({},C,((t={})[x]=y?g+"px":"",t[b]=v?p+"px":"",t.transform="",t))}var Qz={passive:!0};var eB={left:"right",right:"left",bottom:"top",top:"bottom"};function tB(e){return e.replace(/left|right|bottom|top/g,function(e){return eB[e]})}var nB={start:"end",end:"start"};function iB(e){return e.replace(/start|end/g,function(e){return nB[e]})}function rB(e){var t=Mz(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function oB(e){return zz(Wz(e)).left+rB(e).scrollLeft}function aB(e){var t=Fz(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function sB(e){return["html","body","#document"].indexOf(Sz(e))>=0?e.ownerDocument.body:Cz(e)&&aB(e)?e:sB($z(e))}function lB(e,t){var n;void 0===t&&(t=[]);var i=sB(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),o=Mz(i),a=r?[o].concat(o.visualViewport||[],aB(i)?i:[]):i,s=t.concat(a);return r?s:s.concat(lB($z(a)))}function cB(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function uB(e,t,n){return t===yz?cB(function i(e,t){var n=Mz(e),i=Wz(e),r=n.visualViewport,o=i.clientWidth,a=i.clientHeight,s=0,l=0;if(r){o=r.width,a=r.height;var c=Pz();(c||!c&&"fixed"===t)&&(s=r.offsetLeft,l=r.offsetTop)}return{width:o,height:a,x:s+oB(e),y:l}}(e,n)):kz(t)?function r(e,t){var n=zz(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):cB(function o(e){var t,n=Wz(e),i=rB(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=Ez(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Ez(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-i.scrollLeft+oB(e),l=-i.scrollTop;return"rtl"===Fz(r||n).direction&&(s+=Ez(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(Wz(e)))}function hB(e,t,n,i){var r="clippingParents"===t?function o(e){var t=lB($z(e)),n=["absolute","fixed"].indexOf(Fz(e).position)>=0&&Cz(e)?Gz(e):e;return kz(n)?t.filter(function(e){return kz(e)&&Vz(e,n)&&"body"!==Sz(e)}):[]}(e):[].concat(t),a=[].concat(r,[n]),s=a[0],l=a.reduce(function(t,n){var r=uB(e,n,i);return t.top=Ez(r.top,t.top),t.right=Lz(r.right,t.right),t.bottom=Lz(r.bottom,t.bottom),t.left=Ez(r.left,t.left),t},uB(e,s,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function dB(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?Oz(r):null,a=r?Zz(r):null,s=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case uz:t={x:s,y:n.y-i.height};break;case hz:t={x:s,y:n.y+n.height};break;case dz:t={x:n.x+n.width,y:l};break;case pz:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?Uz(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case mz:t[c]=t[c]-(n[u]/2-i[u]/2);break;case vz:t[c]=t[c]+(n[u]/2-i[u]/2)}}return t}function pB(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?"clippingParents":s,c=n.rootBoundary,u=void 0===c?yz:c,h=n.elementContext,d=void 0===h?bz:h,p=n.altBoundary,f=void 0!==p&&p,g=n.padding,m=void 0===g?0:g,v=qz("number"!=typeof m?m:Yz(m,gz)),y=d===bz?"reference":bz,b=e.rects.popper,x=e.elements[f?y:d],_=hB(kz(x)?x:x.contextElement||Wz(e.elements.popper),l,u,a),w=zz(e.elements.reference),S=dB({reference:w,element:b,placement:r}),M=cB(Object.assign({},b,S)),k=d===bz?M:w,C={top:_.top-k.top+v.top,bottom:k.bottom-_.bottom+v.bottom,left:_.left-k.left+v.left,right:k.right-_.right+v.right},T=e.modifiersData.offset;if(d===bz&&T){var A=T[r];Object.keys(C).forEach(function(e){var t=[dz,hz].indexOf(e)>=0?1:-1,n=[uz,hz].indexOf(e)>=0?"y":"x";C[e]+=A[n]*t})}return C}const fB={name:"flip",enabled:!0,phase:"main",fn:function gB(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,f=void 0===p||p,g=n.allowedAutoPlacements,m=t.options.placement,v=Oz(m),y=l||(v===m||!f?[tB(m)]:function e(t){if(Oz(t)===fz)return[];var n=tB(t);return[iB(t),n,iB(n)]}(m)),b=[m].concat(y).reduce(function(e,n){return e.concat(Oz(n)===fz?function i(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?_z:l,u=Zz(i),h=u?s?xz:xz.filter(function(e){return Zz(e)===u}):gz,d=h.filter(function(e){return c.indexOf(e)>=0});0===d.length&&(d=h);var p=d.reduce(function(t,n){return t[n]=pB(e,{placement:n,boundary:r,rootBoundary:o,padding:a})[Oz(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:g}):n)},[]),x=t.rects.reference,_=t.rects.popper,w=new Map,S=!0,M=b[0],k=0;k<b.length;k++){var C=b[k],T=Oz(C),A=Zz(C)===mz,I=[uz,hz].indexOf(T)>=0,D=I?"width":"height",O=pB(t,{placement:C,boundary:u,rootBoundary:h,altBoundary:d,padding:c}),E=I?A?dz:pz:A?hz:uz;x[D]>_[D]&&(E=tB(E));var L=tB(E),R=[];if(o&&R.push(O[T]<=0),s&&R.push(O[E]<=0,O[L]<=0),R.every(function(e){return e})){M=C,S=!1;break}w.set(C,R)}if(S)for(var N=function e(t){var n=b.find(function(e){var n=w.get(e);if(n)return n.slice(0,t).every(function(e){return e})});if(n)return M=n,"break"},P=f?3:1;P>0;P--){if("break"===N(P))break}t.placement!==M&&(t.modifiersData[i]._skip=!0,t.placement=M,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function mB(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function vB(e){return[uz,dz,hz,pz].some(function(t){return e[t]>=0})}function yB(e,t,n){void 0===n&&(n=!1);var i=Cz(t),r=Cz(t)&&function o(e){var t=e.getBoundingClientRect(),n=Rz(t.width)/e.offsetWidth||1,i=Rz(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),a=Wz(t),s=zz(e,r,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!n)&&(("body"!==Sz(t)||aB(a))&&(l=function u(e){return e!==Mz(e)&&Cz(e)?function t(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):rB(e)}(t)),Cz(t)?((c=zz(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=oB(a))),{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function bB(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}}),i.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||r(e)}),i}var xB={placement:"bottom",modifiers:[],strategy:"absolute"};function _B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function wB(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?xB:r;return function e(t,n,r){void 0===r&&(r=o);var a,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},xB,o),modifiersData:{},elements:{reference:t,popper:n},attributes:{},styles:{}},c=[],u=!1,h={state:l,setOptions:function e(r){var a="function"==typeof r?r(l.options):r;d(),l.options=Object.assign({},o,l.options,a),l.scrollParents={reference:kz(t)?lB(t):t.contextElement?lB(t.contextElement):[],popper:lB(n)};var s=function p(e){var t=bB(e);return wz.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function u(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,l.options.modifiers)));return l.orderedModifiers=s.filter(function(e){return e.enabled}),function f(){l.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:l,name:t,instance:h,options:i}),a=function e(){};c.push(o||a)}})}(),h.update()},forceUpdate:function e(){if(!u){var t=l.elements,n=t.reference,i=t.popper;if(_B(n,i)){l.rects={reference:yB(n,Gz(i),"fixed"===l.options.strategy),popper:Bz(i)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(e){return l.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var o=l.orderedModifiers[r],a=o.fn,s=o.options,c=void 0===s?{}:s,d=o.name;"function"==typeof a&&(l=a({state:l,options:c,name:d,instance:h})||l)}else l.reset=!1,r=-1}}},update:(a=function(){return new Promise(function(e){h.forceUpdate(),e(l)})},function(){return s||(s=new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(a())})})),s}),destroy:function e(){d(),u=!0}};if(!_B(t,n))return h;function d(){c.forEach(function(e){return e()}),c=[]}return h.setOptions(r).then(function(e){!u&&r.onFirstUpdate&&r.onFirstUpdate(e)}),h}}var SB=wB({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function e(){},effect:function MB(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r||r,a=i.resize,s=void 0===a||a,l=Mz(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",n.update,Qz)}),s&&l.addEventListener("resize",n.update,Qz),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",n.update,Qz)}),s&&l.removeEventListener("resize",n.update,Qz)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function kB(e){var t=e.state,n=e.name;t.modifiersData[n]=dB({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function CB(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:Oz(t.placement),variation:Zz(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Jz(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Jz(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Az,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function TB(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,a=_z.reduce(function(e,n){return e[n]=function i(e,t,n){var i=Oz(e),r=[pz,uz].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[pz,dz].indexOf(i)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e},{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=a}},fB,{name:"preventOverflow",enabled:!0,phase:"main",fn:function AB(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,d=n.tether,p=void 0===d||d,f=n.tetherOffset,g=void 0===f?0:f,m=pB(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=Oz(t.placement),y=Zz(t.placement),b=!y,x=Uz(v),_=function w(e){return"x"===e?"y":"x"}(x),S=t.modifiersData.popperOffsets,M=t.rects.reference,k=t.rects.popper,C="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,T="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(S){if(o){var D,O="y"===x?uz:pz,E="y"===x?hz:dz,L="y"===x?"height":"width",R=S[x],N=R+m[O],P=R-m[E],z=p?-k[L]/2:0,B=y===mz?M[L]:k[L],V=y===mz?-k[L]:-M[L],F=t.elements.arrow,H=p&&F?Bz(F):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},$=W[O],j=W[E],G=Xz(0,M[L],H[L]),U=b?M[L]/2-z-G-$-T.mainAxis:B-G-$-T.mainAxis,X=b?-M[L]/2+z+G+j+T.mainAxis:V+G+j+T.mainAxis,q=t.elements.arrow&&Gz(t.elements.arrow),Y=q?"y"===x?q.clientTop||0:q.clientLeft||0:0,Z=null!=(D=null==A?void 0:A[x])?D:0,K=R+X-Z,J=Xz(p?Lz(N,R+U-Z-Y):N,R,p?Ez(P,K):P);S[x]=J,I[x]=J-R}if(s){var Q,ee="x"===x?uz:pz,te="x"===x?hz:dz,ne=S[_],ie="y"===_?"height":"width",re=ne+m[ee],oe=ne-m[te],ae=-1!==[uz,pz].indexOf(v),se=null!=(Q=null==A?void 0:A[_])?Q:0,le=ae?re:ne-M[ie]-k[ie]-se+T.altAxis,ce=ae?ne+M[ie]+k[ie]-se-T.altAxis:oe,ue=p&&ae?function e(t,n,i){var r=Xz(t,n,i);return r>i?i:r}(le,ne,ce):Xz(p?le:re,ne,p?ce:oe);S[_]=ue,I[_]=ue-ne}t.modifiersData[i]=I}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function IB(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Oz(n.placement),l=Uz(s),c=[pz,dz].indexOf(s)>=0?"height":"width";if(o&&a){var u=function e(t,n){return qz("number"!=typeof(t="function"==typeof t?t(Object.assign({},n.rects,{placement:n.placement})):t)?t:Yz(t,gz))}(r.padding,n),h=Bz(o),d="y"===l?uz:pz,p="y"===l?hz:dz,f=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],g=a[l]-n.rects.reference[l],m=Gz(o),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=f/2-g/2,b=u[d],x=v-h[c]-u[p],_=v/2-h[c]/2+y,w=Xz(b,_,x),S=l;n.modifiersData[i]=((t={})[S]=w,t.centerOffset=w-_,t)}},effect:function DB(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&Vz(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function OB(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,a=pB(t,{elementContext:"reference"}),s=pB(t,{altBoundary:!0}),l=mB(a,i),c=mB(s,r,o),u=vB(l),h=vB(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]}),EB="tippy-content",LB="tippy-arrow",RB="tippy-svg-arrow",NB={passive:!0,capture:!0},PB=function e(){return document.body};function zB(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function BB(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function VB(e,t){return"function"==typeof e?e.apply(void 0,t):e}function FB(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)};var n}function HB(e){return[].concat(e)}function WB(e,t){-1===e.indexOf(t)&&e.push(t)}function $B(e){return[].slice.call(e)}function jB(e){return Object.keys(e).reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{})}function GB(){return document.createElement("div")}function UB(e){return["Element","Fragment"].some(function(t){return BB(e,t)})}function XB(e){return UB(e)?[e]:function t(e){return BB(e,"NodeList")}(e)?$B(e):Array.isArray(e)?e:$B(document.querySelectorAll(e))}function qB(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function YB(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function ZB(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(t){e[i](t,n)})}function KB(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=null==n.getRootNode||null==(i=n.getRootNode())?void 0:i.host}return!1}var JB={isTouch:!1},QB=0;function eV(){JB.isTouch||(JB.isTouch=!0,window.performance&&document.addEventListener("mousemove",tV))}function tV(){var e=performance.now();e-QB<20&&(JB.isTouch=!1,document.removeEventListener("mousemove",tV)),QB=e}function nV(){var e=document.activeElement;if(function t(e){return!(!e||!e._tippy||e._tippy.reference!==e)}(e)){var n=e._tippy;e.blur&&!n.state.isVisible&&e.blur()}}var iV=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,rV=Object.assign({appendTo:PB,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function e(){},onBeforeUpdate:function e(){},onCreate:function e(){},onDestroy:function e(){},onHidden:function e(){},onHide:function e(){},onMount:function e(){},onShow:function e(){},onShown:function e(){},onTrigger:function e(){},onUntrigger:function e(){},onClickOutside:function e(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),oV=Object.keys(rV);function aV(e){var t=(e.plugins||[]).reduce(function(t,n){var i,r=n.name,o=n.defaultValue;r&&(t[r]=void 0!==e[r]?e[r]:null!=(i=rV[r])?i:o);return t},{});return Object.assign({},e,t)}function sV(e,t){var n=Object.assign({},t,{content:VB(t.content,[e])},t.ignoreAttributes?{}:function i(e,t){var n=(t?Object.keys(aV(Object.assign({},rV,{plugins:t}))):oV).reduce(function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(kLe){t[n]=i}return t},{});return n}(e,t.plugins));return n.aria=Object.assign({},rV.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function lV(e,t){e.innerHTML=t}function cV(e){var t=GB();return!0===e?t.className=LB:(t.className=RB,UB(e)?t.appendChild(e):lV(t,e)),t}function uV(e,t){UB(t.content)?(lV(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?lV(e,t.content):e.textContent=t.content)}function hV(e){var t=e.firstElementChild,n=$B(t.children);return{box:t,content:n.find(function(e){return e.classList.contains(EB)}),arrow:n.find(function(e){return e.classList.contains(LB)||e.classList.contains(RB)}),backdrop:n.find(function(e){return e.classList.contains("tippy-backdrop")})}}function dV(e){var t=GB(),n=GB();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=GB();function r(n,i){var r=hV(t),o=r.box,a=r.content,s=r.arrow;i.theme?o.setAttribute("data-theme",i.theme):o.removeAttribute("data-theme"),"string"==typeof i.animation?o.setAttribute("data-animation",i.animation):o.removeAttribute("data-animation"),i.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?o.setAttribute("role",i.role):o.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||uV(a,e.props),i.arrow?s?n.arrow!==i.arrow&&(o.removeChild(s),o.appendChild(cV(i.arrow))):o.appendChild(cV(i.arrow)):s&&o.removeChild(s)}return i.className=EB,i.setAttribute("data-state","hidden"),uV(i,e.props),t.appendChild(n),n.appendChild(i),r(e.props,e.props),{popper:t,onUpdate:r}}dV.$$tippy=!0;var pV=1,fV=[],gV=[];function mV(e,t){var n,i,r,o,a,s,l,c=sV(e,Object.assign({},rV,aV(jB(t)))),u=!1,h=!1,d=!1,p=!1,f=[],g=FB(ie,c.interactiveDebounce),m=pV++,v=function y(e){return e.filter(function(t,n){return e.indexOf(t)===n})}(c.plugins),b={id:m,reference:e,popper:GB(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:v,clearDelayTimeouts:function x(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(r)},setProps:function _(t){if(b.state.isDestroyed)return;$("onBeforeUpdate",[b,t]),te();var n=b.props,i=sV(e,Object.assign({},n,jB(t),{ignoreAttributes:!0}));b.props=i,ee(),n.interactiveDebounce!==i.interactiveDebounce&&(U(),g=FB(ie,i.interactiveDebounce));n.triggerTarget&&!i.triggerTarget?HB(n.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):i.triggerTarget&&e.removeAttribute("aria-expanded");G(),W(),E&&E(n,i);b.popperInstance&&(se(),ce().forEach(function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}));$("onAfterUpdate",[b,t])},setContent:function w(e){b.setProps({content:e})},show:function S(){var e=b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,i=JB.isTouch&&!b.props.touch,r=zB(b.props.duration,0,rV.duration);if(e||t||n||i)return;if(B().hasAttribute("disabled"))return;if($("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,z()&&(O.style.visibility="visible");W(),Z(),b.state.isMounted||(O.style.transition="none");if(z()){var o=F();qB([o.box,o.content],0)}s=function e(){var t;if(b.state.isVisible&&!p){if(p=!0,O.offsetHeight,O.style.transition=b.props.moveTransition,z()&&b.props.animation){var n=F(),i=n.box,o=n.content;qB([i,o],r),YB([i,o],"visible")}j(),G(),WB(gV,b),null==(t=b.popperInstance)||t.forceUpdate(),$("onMount",[b]),b.props.animation&&z()&&function e(t,n){J(t,n)}(r,function(){b.state.isShown=!0,$("onShown",[b])})}},function a(){var e,t=b.props.appendTo,n=B();e=b.props.interactive&&t===PB||"parent"===t?n.parentNode:VB(t,[n]);e.contains(O)||e.appendChild(O);b.state.isMounted=!0,se()}()},hide:function M(){var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,i=zB(b.props.duration,1,rV.duration);if(e||t||n)return;if($("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,p=!1,u=!1,z()&&(O.style.visibility="hidden");if(U(),K(),W(!0),z()){var r=F(),o=r.box,a=r.content;b.props.animation&&(qB([o,a],i),YB([o,a],"hidden"))}j(),G(),b.props.animation?z()&&function s(e,t){J(e,function(){!b.state.isVisible&&O.parentNode&&O.parentNode.contains(O)&&t()})}(i,b.unmount):b.unmount()},hideWithInteractivity:function k(e){V().addEventListener("mousemove",g),WB(fV,g),g(e)},enable:function C(){b.state.isEnabled=!0},disable:function T(){b.hide(),b.state.isEnabled=!1},unmount:function A(){b.state.isVisible&&b.hide();if(!b.state.isMounted)return;le(),ce().forEach(function(e){e._tippy.unmount()}),O.parentNode&&O.parentNode.removeChild(O);gV=gV.filter(function(e){return e!==b}),b.state.isMounted=!1,$("onHidden",[b])},destroy:function I(){if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),te(),delete e._tippy,b.state.isDestroyed=!0,$("onDestroy",[b])}};if(!c.render)return b;var D=c.render(b),O=D.popper,E=D.onUpdate;O.setAttribute("data-tippy-root",""),O.id="tippy-"+b.id,b.popper=O,e._tippy=b,O._tippy=b;var L=v.map(function(e){return e.fn(b)}),R=e.hasAttribute("aria-expanded");return ee(),G(),W(),$("onCreate",[b]),c.showOnCreate&&ue(),O.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),O.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&V().addEventListener("mousemove",g)}),b;function N(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function P(){return"hold"===N()[0]}function z(){var e;return!(null==(e=b.props.render)||!e.$$tippy)}function B(){return l||e}function V(){var e=B().parentNode;return e?function t(e){var t,n=HB(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}(e):document}function F(){return hV(O)}function H(e){return b.state.isMounted&&!b.state.isVisible||JB.isTouch||o&&"focus"===o.type?0:zB(b.props.delay,e?0:1,rV.delay)}function W(e){void 0===e&&(e=!1),O.style.pointerEvents=b.props.interactive&&!e?"":"none",O.style.zIndex=""+b.props.zIndex}function $(e,t,n){var i;(void 0===n&&(n=!0),L.forEach(function(n){n[e]&&n[e].apply(n,t)}),n)&&(i=b.props)[e].apply(i,t)}function j(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,i=O.id;HB(b.props.triggerTarget||e).forEach(function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var r=t&&t.replace(i,"").trim();r?e.setAttribute(n,r):e.removeAttribute(n)}})}}function G(){!R&&b.props.aria.expanded&&HB(b.props.triggerTarget||e).forEach(function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===B()?"true":"false"):e.removeAttribute("aria-expanded")})}function U(){V().removeEventListener("mousemove",g),fV=fV.filter(function(e){return e!==g})}function X(t){if(!JB.isTouch||!d&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!b.props.interactive||!KB(O,n)){if(HB(b.props.triggerTarget||e).some(function(e){return KB(e,n)})){if(JB.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[b,t]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),h=!0,setTimeout(function(){h=!1}),b.state.isMounted||K())}}}function q(){d=!0}function Y(){d=!1}function Z(){var e=V();e.addEventListener("mousedown",X,!0),e.addEventListener("touchend",X,NB),e.addEventListener("touchstart",Y,NB),e.addEventListener("touchmove",q,NB)}function K(){var e=V();e.removeEventListener("mousedown",X,!0),e.removeEventListener("touchend",X,NB),e.removeEventListener("touchstart",Y,NB),e.removeEventListener("touchmove",q,NB)}function J(e,t){var n=F().box;function i(e){e.target===n&&(ZB(n,"remove",i),t())}if(0===e)return t();ZB(n,"remove",a),ZB(n,"add",i),a=i}function Q(t,n,i){void 0===i&&(i=!1),HB(b.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,i),f.push({node:e,eventType:t,handler:n,options:i})})}function ee(){P()&&(Q("touchstart",ne,{passive:!0}),Q("touchend",re,{passive:!0})),function e(t){return t.split(/\s+/).filter(Boolean)}(b.props.trigger).forEach(function(e){if("manual"!==e)switch(Q(e,ne),e){case"mouseenter":Q("mouseleave",re);break;case"focus":Q(iV?"focusout":"blur",oe);break;case"focusin":Q("focusout",oe)}})}function te(){f.forEach(function(e){var t=e.node,n=e.eventType,i=e.handler,r=e.options;t.removeEventListener(n,i,r)}),f=[]}function ne(e){var t,n=!1;if(b.state.isEnabled&&!ae(e)&&!h){var i="focus"===(null==(t=o)?void 0:t.type);o=e,l=e.currentTarget,G(),!b.state.isVisible&&function r(e){return BB(e,"MouseEvent")}(e)&&fV.forEach(function(t){return t(e)}),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||u)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:ue(e),"click"===e.type&&(u=!n),n&&!i&&he(e)}}function ie(e){var t=e.target,n=B().contains(t)||O.contains(t);"mousemove"===e.type&&n||function i(e,t){var n=t.clientX,i=t.clientY;return e.every(function(e){var t=e.popperRect,r=e.popperState,o=e.props.interactiveBorder,a=function s(e){return e.split("-")[0]}(r.placement),l=r.modifiersData.offset;if(!l)return!0;var c="bottom"===a?l.top.y:0,u="top"===a?l.bottom.y:0,h="right"===a?l.left.x:0,d="left"===a?l.right.x:0,p=t.top-i+c>o,f=i-t.bottom-u>o,g=t.left-n+h>o,m=n-t.right-d>o;return p||f||g||m})}(ce().concat(O).map(function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:c}:null}).filter(Boolean),e)&&(U(),he(e))}function re(e){ae(e)||b.props.trigger.indexOf("click")>=0&&u||(b.props.interactive?b.hideWithInteractivity(e):he(e))}function oe(e){b.props.trigger.indexOf("focusin")<0&&e.target!==B()||b.props.interactive&&e.relatedTarget&&O.contains(e.relatedTarget)||he(e)}function ae(e){return!!JB.isTouch&&P()!==e.type.indexOf("touch")>=0}function se(){le();var t=b.props,n=t.popperOptions,i=t.placement,r=t.offset,o=t.getReferenceClientRect,a=t.moveTransition,l=z()?hV(O).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||B()}:e,u=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function e(t){var n=t.state;if(z()){var i=F().box;["placement","reference-hidden","escaped"].forEach(function(e){"placement"===e?i.setAttribute("data-placement",n.placement):n.attributes.popper["data-popper-"+e]?i.setAttribute("data-"+e,""):i.removeAttribute("data-"+e)}),n.attributes.popper={}}}}];z()&&l&&u.push({name:"arrow",options:{element:l,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),b.popperInstance=SB(c,O,Object.assign({},n,{placement:i,onFirstUpdate:s,modifiers:u}))}function le(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function ce(){return $B(O.querySelectorAll("[data-tippy-root]"))}function ue(e){b.clearDelayTimeouts(),e&&$("onTrigger",[b,e]),Z();var t=H(!0),i=N(),r=i[0],o=i[1];JB.isTouch&&"hold"===r&&o&&(t=o),t?n=setTimeout(function(){b.show()},t):b.show()}function he(e){if(b.clearDelayTimeouts(),$("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&u)){var t=H(!1);t?i=setTimeout(function(){b.state.isVisible&&b.hide()},t):r=requestAnimationFrame(function(){b.hide()})}}else K()}}function vV(e,t){void 0===t&&(t={});var n=rV.plugins.concat(t.plugins||[]);!function i(){document.addEventListener("touchstart",eV,NB),window.addEventListener("blur",nV)}();var r=Object.assign({},t,{plugins:n}),o=XB(e).reduce(function(e,t){var n=t&&mV(t,r);return n&&e.push(n),e},[]);return UB(e)?o[0]:o}vV.defaultProps=rV,vV.setDefaultProps=function e(t){Object.keys(t).forEach(function(e){rV[e]=t[e]})},vV.currentInput=JB,Object.assign({},Az,{effect:function e(t){var n=t.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}}),vV.setDefaultProps({render:dV});class yV{constructor({editor:e,element:t,view:n,tippyOptions:i={},updateDelay:r=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:e,state:t,from:n,to:i})=>{const{doc:r,selection:o}=t,{empty:a}=o,s=!r.textBetween(n,i).length&&yP(t.selection),l=this.element.contains(document.activeElement);return!(!e.hasFocus()&&!l||a||s||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=e=>{this.blurHandler({event:e})},this.handleDebouncedUpdate=(e,t)=>{const n=!(null==t?void 0:t.selection.eq(e.state.selection)),i=!(null==t?void 0:t.doc.eq(e.state.doc));(n||i)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(e,n,i,t)},this.updateDelay))},this.updateHandler=(e,t,n,i)=>{var r,o,a;const{state:s,composing:l}=e,{selection:c}=s;if(l||!t&&!n)return;this.createTooltip();const{ranges:u}=c,h=Math.min(...u.map(e=>e.$from.pos)),d=Math.max(...u.map(e=>e.$to.pos));(null===(r=this.shouldShow)||void 0===r?void 0:r.call(this,{editor:this.editor,element:this.element,view:e,state:s,oldState:i,from:h,to:d}))?(null===(o=this.tippy)||void 0===o||o.setProps({getReferenceClientRect:(null===(a=this.tippyOptions)||void 0===a?void 0:a.getReferenceClientRect)||(()=>{if(WP(s.selection)){let t=e.nodeDOM(h);if(t){const e=t.dataset.nodeViewWrapper?t:t.querySelector("[data-node-view-wrapper]");if(e&&(t=e.firstChild),t)return t.getBoundingClientRect()}}return function t(e,n,i){const r=e.state.doc.content.size,o=bP(n,0,r),a=bP(i,0,r),s=e.coordsAtPos(o),l=e.coordsAtPos(a,-1),c=Math.min(s.top,l.top),u=Math.max(s.bottom,l.bottom),h=Math.min(s.left,l.left),d=Math.max(s.right,l.right),p={top:c,bottom:u,left:h,right:d,width:d-h,height:u-c,x:h,y:c};return{...p,toJSON:()=>p}}(e,h,d)})}),this.show()):this.hide()},this.editor=e,this.element=t,this.view=n,this.updateDelay=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.element.tabIndex=0,!this.tippy&&t&&(this.tippy=vV(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:n}=e,i=n.selection.from!==n.selection.to;if(this.updateDelay>0&&i)return void this.handleDebouncedUpdate(e,t);const r=!(null==t?void 0:t.selection.eq(e.state.selection)),o=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,r,o,t)}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e,t;(null===(e=this.tippy)||void 0===e?void 0:e.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const bV=e=>new LO({key:"string"==typeof e.pluginKey?new PO(e.pluginKey):e.pluginKey,view:t=>new yV({view:t,...e})});cP.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[bV({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});const xV=Pn({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const n=St(null);return Zn(()=>{const{updateDelay:t,editor:i,pluginKey:r,shouldShow:o,tippyOptions:a}=e;i.registerPlugin(bV({updateDelay:t,editor:i,element:n.value,pluginKey:r,shouldShow:o,tippyOptions:a}))}),Qn(()=>{const{pluginKey:t,editor:n}=e;n.unregisterPlugin(t)}),()=>{var e;return mo("div",{ref:n},null===(e=t.default)||void 0===e?void 0:e.call(t))}}});function _V(e){return function t(e){return new Dt(e)}((t,n)=>({get:()=>(t(),e),set(t){e=t,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class wV extends nz{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=_V(this.view.state),this.reactiveExtensionStorage=_V(this.extensionStorage),this.on("beforeTransaction",({nextState:e})=>{this.reactiveState.value=e,this.reactiveExtensionStorage.value=this.extensionStorage}),bt(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){const n=super.registerPlugin(e,t);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(e){const t=super.unregisterPlugin(e);return this.reactiveState&&t&&(this.reactiveState.value=t),t}}const SV=Pn({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=St(),n=no();return $i(()=>{const i=e.editor;i&&i.options.element&&t.value&&Yt(()=>{if(!t.value||!i.options.element.firstChild)return;const e=Tt(t.value);t.value.append(...i.options.element.childNodes),i.contentComponent=n.ctx._,n&&(i.appContext={...n.appContext,provides:n.provides}),i.setOptions({element:e}),i.createNodeViews()})}),Qn(()=>{const t=e.editor;t&&(t.contentComponent=null,t.appContext=null)}),{rootEl:t}},render(){return mo("div",{ref:e=>{this.rootEl=e}})}}),MV=Pn({name:"NodeViewContent",props:{as:{type:String,default:"div"}},render(){return mo(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}}),kV=Pn({name:"NodeViewWrapper",props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var e,t;return mo(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e))}});class CV{constructor(e,{props:t={},editor:n}){this.editor=n,this.component=bt(e),this.el=document.createElement("div"),this.props=ut(t),this.renderedComponent=this.renderComponent()}get element(){return this.renderedComponent.el}get ref(){var e,t,n,i;return(null===(t=null===(e=this.renderedComponent.vNode)||void 0===e?void 0:e.component)||void 0===t?void 0:t.exposed)?this.renderedComponent.vNode.component.exposed:null===(i=null===(n=this.renderedComponent.vNode)||void 0===n?void 0:n.component)||void 0===i?void 0:i.proxy}renderComponent(){let e=mo(this.component,this.props);this.editor.appContext&&(e.appContext=this.editor.appContext),"undefined"!=typeof document&&this.el&&Va(e,this.el);return{vNode:e,destroy:()=>{this.el&&Va(null,this.el),this.el=null,e=null},el:this.el?this.el.firstElementChild:null}}updateProps(e={}){Object.entries(e).forEach(([e,t])=>{this.props[e]=t}),this.renderComponent()}destroy(){this.renderedComponent.destroy()}}class TV extends lz{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(e={})=>this.updateAttributes(e),deleteNode:()=>this.deleteNode()},t=this.onDragStart.bind(this);this.decorationClasses=St(this.getDecorationClasses());const n=Pn({extends:{...this.component},props:Object.keys(e),template:this.component.template,setup:e=>{var n,i;return Vi("onDragStart",t),Vi("decorationClasses",this.decorationClasses),null===(i=(n=this.component).setup)||void 0===i?void 0:i.call(n,e,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules,__name:this.component.__name,__file:this.component.__file});this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new CV(n,{editor:this.editor,props:e})}get dom(){if(!this.renderer.element||!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,n=this.getPos();if("number"==typeof n)if(e<=n&&t>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,n){const i=e=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(e)};if("function"==typeof this.options.update){const r=this.node,o=this.decorations,a=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=n,this.options.update({oldNode:r,oldDecorations:o,newNode:e,newDecorations:t,oldInnerDecorations:a,innerDecorations:n,updateProps:()=>i({node:e,decorations:t,innerDecorations:n})})}return e.type===this.node.type&&(e===this.node&&this.decorations===t&&this.innerDecorations===n||(this.node=e,this.decorations=t,this.innerDecorations=n,i({node:e,decorations:t,innerDecorations:n})),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element&&this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element&&this.renderer.element.classList.remove("ProseMirror-selectednode")}getDecorationClasses(){return this.decorations.map(e=>e.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate)}}function AV(e,t){return n=>{if(!n.editor.contentComponent)return{};const i="function"==typeof e&&"__vccOpts"in e?e.__vccOpts:e;return new TV(i,n,t)}}const IV=/^\s*>\s$/,DV=sz.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",WN(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[az({find:IV,type:this.type})]}}),OV=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,EV=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,LV=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,RV=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,NV=iP.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",WN(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[iz({find:OV,type:this.type}),iz({find:LV,type:this.type})]},addPasteRules(){return[cz({find:EV,type:this.type}),cz({find:RV,type:this.type})]}}),PV="textStyle",zV=/^\s*([-+*])\s$/,BV=sz.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",WN(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(PV)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=az({find:zV,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=az({find:zV,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(PV),editor:this.editor})),[e]}}),VV=/(^|[^`])`([^`]+)`(?!`)/,FV=/(^|[^`])`([^`]+)`(?!`)/g,HV=iP.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",WN(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[iz({find:VV,type:this.type})]},addPasteRules(){return[cz({find:FV,type:this.type})]}}),WV=/^```([a-z]+)?[\s\n]$/,$V=/^~~~([a-z]+)?[\s\n]$/,jV=sz.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,i=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter(e=>e.startsWith(n)).map(e=>e.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",WN(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type)return!1;const o=i.parentOffset===i.parent.nodeSize-2,a=i.parent.textContent.endsWith("\n\n");return!(!o||!a)&&e.chain().command(({tr:e})=>(e.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:i}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;if(!(r.parentOffset===r.parent.nodeSize-2))return!1;const a=r.after();if(void 0===a)return!1;return i.nodeAt(a)?e.commands.command(({tr:e})=>(e.setSelection(fO.near(i.resolve(a))),!0)):e.commands.exitCode()}}},addInputRules(){return[oz({find:WV,type:this.type,getAttributes:e=>({language:e[1]})}),oz({find:$V,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new LO({key:new PO("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),i=t.clipboardData.getData("vscode-editor-data"),r=i?JSON.parse(i):void 0,o=null==r?void 0:r.mode;if(!n||!o)return!1;const{tr:a,schema:s}=e.state,l=s.text(n.replace(/\r\n?/g,"\n"));return a.replaceSelectionWith(this.type.create({language:o},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(yO.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),GV=sz.create({name:"doc",topNode:!0,content:"block+"});function UV(e={}){return new LO({view:t=>new XV(t,e)})}class XV{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,i=this.editorView.dom,r=i.getBoundingClientRect(),o=r.width/i.offsetWidth,a=r.height/i.offsetHeight;if(n){let n=t.nodeBefore,i=t.nodeAfter;if(n||i){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let r=t.getBoundingClientRect(),o=n?r.bottom:r.top;n&&i&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let s=this.width/2*a;e={left:r.left,right:r.right,top:o-s,bottom:o+s}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*o;e={left:t.left-n,right:t.left+n,top:t.top,bottom:t.bottom}}let s,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!c||c==document.body&&"static"==getComputedStyle(c).position)s=-pageXOffset,l=-pageYOffset;else{let e=c.getBoundingClientRect(),t=e.width/c.offsetWidth,n=e.height/c.offsetHeight;s=e.left-c.scrollLeft*t,l=e.top-c.scrollTop*n}this.element.style.left=(e.left-s)/o+"px",this.element.style.top=(e.top-l)/a+"px",this.element.style.width=(e.right-e.left)/o+"px",this.element.style.height=(e.bottom-e.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=n&&n.type.spec.disableDropCursor,r="function"==typeof i?i(this.editorView,t,e):i;if(t&&!r){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=KD(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const qV=cP.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[UV(this.options)]}});class YV extends fO{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return YV.valid(n)?new YV(n):fO.near(n)}content(){return wI.empty}eq(e){return e instanceof YV&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new YV(e.resolve(t.pos))}getBookmark(){return new ZV(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function n(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),i=e.node(t);if(0!=n)for(let e=i.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||KV(e.type))return!0;if(e.inlineContent)return!1}else if(i.type.spec.isolating)return!0}return!0}(e)||!function i(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),i=e.node(t);if(n!=i.childCount)for(let e=i.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||KV(e.type))return!0;if(e.inlineContent)return!1}else if(i.type.spec.isolating)return!0}return!0}(e))return!1;let r=t.type.spec.allowGapCursor;if(null!=r)return r;let o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&YV.valid(e))return e;let i=e.pos,r=null;for(let n=e.depth;;n--){let o=e.node(n);if(t>0?e.indexAfter(n)<o.childCount:e.index(n)>0){r=o.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;i+=t;let a=e.doc.resolve(i);if(YV.valid(a))return a}for(;;){let o=t>0?r.firstChild:r.lastChild;if(!o){if(r.isAtom&&!r.isText&&!xO.isSelectable(r)){e=e.doc.resolve(i+r.nodeSize*t),n=!1;continue e}break}r=o,i+=t;let a=e.doc.resolve(i);if(YV.valid(a))return a}return null}}}YV.prototype.visible=!1,YV.findFrom=YV.findGapCursorFrom,fO.jsonID("gapcursor",YV);class ZV{constructor(e){this.pos=e}map(e){return new ZV(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return YV.valid(t)?new YV(t):fO.near(t)}}function KV(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function JV(){return new LO({props:{decorations:iF,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&YV.valid(n)?new YV(n):null,handleClick:tF,handleKeyDown:QV,handleDOMEvents:{beforeinput:nF}}})}const QV=cN({ArrowLeft:eF("horiz",-1),ArrowRight:eF("horiz",1),ArrowUp:eF("vert",-1),ArrowDown:eF("vert",1)});function eF(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,i,r){let o=e.selection,a=t>0?o.$to:o.$from,s=o.empty;if(o instanceof yO){if(!r.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}let l=YV.findGapCursorFrom(a,t,s);return!!l&&(i&&i(e.tr.setSelection(new YV(l))),!0)}}function tF(e,t,n){if(!e||!e.editable)return!1;let i=e.state.doc.resolve(t);if(!YV.valid(i))return!1;let r=e.posAtCoords({left:n.clientX,top:n.clientY});return!(r&&r.inside>-1&&xO.isSelectable(e.state.doc.nodeAt(r.inside)))&&(e.dispatch(e.state.tr.setSelection(new YV(i))),!0)}function nF(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof YV))return!1;let{$from:n}=e.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!i)return!1;let r=mI.empty;for(let a=i.length-1;a>=0;a--)r=mI.from(i[a].createAndFill(null,r));let o=e.state.tr.replace(n.pos,n.pos,new wI(r,0,0));return o.setSelection(yO.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function iF(e){if(!(e.selection instanceof YV))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",wR.create(e.doc,[bR.widget(e.selection.head,t,{key:"gapcursor"})])}const rF=cP.create({name:"gapCursor",addProseMirrorPlugins:()=>[JV()],extendNodeSchema(e){var t;return{allowGapCursor:null!==(t=GN(BN(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))&&void 0!==t?t:null}}}),oF=sz.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",WN(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:i})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:e,storedMarks:r}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=i.extensionManager,s=r||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&s&&o){const t=s.filter(e=>a.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),aF=sz.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,WN(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>oz({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var sF=200,lF=function e(){};lF.prototype.append=function e(t){return t.length?(t=lF.from(t),!this.length&&t||t.length<sF&&this.leafAppend(t)||this.length<sF&&t.leafPrepend(this)||this.appendInner(t)):this},lF.prototype.prepend=function e(t){return t.length?lF.from(t).append(this):this},lF.prototype.appendInner=function e(t){return new uF(this,t)},lF.prototype.slice=function e(t,n){return void 0===t&&(t=0),void 0===n&&(n=this.length),t>=n?lF.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))},lF.prototype.get=function e(t){if(!(t<0||t>=this.length))return this.getInner(t)},lF.prototype.forEach=function e(t,n,i){void 0===n&&(n=0),void 0===i&&(i=this.length),n<=i?this.forEachInner(t,n,i,0):this.forEachInvertedInner(t,n,i,0)},lF.prototype.map=function e(t,n,i){void 0===n&&(n=0),void 0===i&&(i=this.length);var r=[];return this.forEach(function(e,n){return r.push(t(e,n))},n,i),r},lF.from=function e(t){return t instanceof lF?t:t&&t.length?new cF(t):lF.empty};var cF=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function e(){return this.values},t.prototype.sliceInner=function e(n,i){return 0==n&&i==this.length?this:new t(this.values.slice(n,i))},t.prototype.getInner=function e(t){return this.values[t]},t.prototype.forEachInner=function e(t,n,i,r){for(var o=n;o<i;o++)if(!1===t(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function e(t,n,i,r){for(var o=n-1;o>=i;o--)if(!1===t(this.values[o],r+o))return!1},t.prototype.leafAppend=function e(n){if(this.length+n.length<=sF)return new t(this.values.concat(n.flatten()))},t.prototype.leafPrepend=function e(n){if(this.length+n.length<=sF)return new t(n.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(lF);lF.empty=new cF([]);var uF=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function e(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function e(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},t.prototype.forEachInner=function e(t,n,i,r){var o=this.left.length;return!(n<o&&!1===this.left.forEachInner(t,n,Math.min(i,o),r))&&(!(i>o&&!1===this.right.forEachInner(t,Math.max(n-o,0),Math.min(this.length,i)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function e(t,n,i,r){var o=this.left.length;return!(n>o&&!1===this.right.forEachInvertedInner(t,n-o,Math.max(i,o)-o,r+o))&&(!(i<o&&!1===this.left.forEachInvertedInner(t,Math.min(n,o),i,r))&&void 0)},t.prototype.sliceInner=function e(t,n){if(0==t&&n==this.length)return this;var i=this.left.length;return n<=i?this.left.slice(t,n):t>=i?this.right.slice(t-i,n-i):this.left.slice(t,i).append(this.right.slice(0,n-i))},t.prototype.leafAppend=function e(n){var i=this.right.leafAppend(n);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function e(n){var i=this.left.leafPrepend(n);if(i)return new t(i,this.right)},t.prototype.appendInner=function e(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(lF);class hF{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,i,r=this.items.length;for(;;r--){if(this.items.get(r-1).selection){--r;break}}t&&(n=this.remapping(r,this.items.length),i=n.maps.length);let o,a,s=e.tr,l=[],c=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(r,t+1),i=n.maps.length),i--,void c.push(e);if(n){c.push(new dF(e.map));let t,r=e.step.map(n.slice(i));r&&s.maybeStep(r).doc&&(t=s.mapping.maps[s.mapping.maps.length-1],l.push(new dF(t,void 0,void 0,l.length+c.length))),i--,t&&n.appendMap(t,i)}else s.maybeStep(e.step);return e.selection?(o=n?e.selection.map(n.slice(i)):e.selection,a=new hF(this.items.slice(0,r).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:a,transform:s,selection:o}}addTransform(e,t,n,i){let r=[],o=this.eventCount,a=this.items,s=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let n,l=e.steps[u].invert(e.docs[u]),c=new dF(e.mapping.maps[u],l,t);(n=s&&s.merge(c))&&(c=n,u?r.pop():a=a.slice(0,a.length-1)),r.push(c),t&&(o++,t=void 0),i||(s=c)}let l=o-n.depth;return l>fF&&(a=function c(e,t){let n;return e.forEach((e,i)=>{if(e.selection&&0==t--)return n=i,!1}),e.slice(n)}(a,l),o-=l),new hF(a.append(r),o)}remapping(e,t){let n=new AD;return this.items.forEach((t,i)=>{let r=null!=t.mirrorOffset&&i-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,r)},e,t),n}addMaps(e){return 0==this.eventCount?this:new hF(this.items.append(e.map(e=>new dF(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-t),r=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(e=>{e.selection&&a--},i);let s=t;this.items.forEach(t=>{let i=r.getMirror(--s);if(null==i)return;o=Math.min(o,i);let l=r.maps[i];if(t.step){let o=e.steps[i].invert(e.docs[i]),c=t.selection&&t.selection.map(r.slice(s+1,i));c&&a++,n.push(new dF(l,o,c))}else n.push(new dF(l))},i);let l=[];for(let h=t;h<o;h++)l.push(new dF(r.maps[h]));let c=this.items.slice(0,i).append(l).append(n),u=new hF(c,a);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,i=[],r=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&r++;else if(o.step){let e=o.step.map(t.slice(n)),a=e&&e.getMap();if(n--,a&&t.appendMap(a,n),e){let s=o.selection&&o.selection.map(t.slice(n));s&&r++;let l,c=new dF(a.invert(),e,s),u=i.length-1;(l=i.length&&i[u].merge(c))?i[u]=l:i.push(c)}}else o.map&&n--},this.items.length,0),new hF(lF.from(i.reverse()),r)}}hF.empty=new hF(lF.empty,0);class dF{constructor(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new dF(t.getMap().invert(),t,this.selection)}}}class pF{constructor(e,t,n,i,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i,this.prevComposition=r}}const fF=20;function gF(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,i,r)=>t.push(i,r));return t}function mF(e,t){if(!e)return null;let n=[];for(let i=0;i<e.length;i+=2){let r=t.map(e[i],1),o=t.map(e[i+1],-1);r<=o&&n.push(r,o)}return n}let vF=!1,yF=null;function bF(e){let t=e.plugins;if(yF!=t){vF=!1,yF=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){vF=!0;break}}return vF}const xF=new PO("history"),_F=new PO("closeHistory");function wF(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new LO({key:xF,state:{init:()=>new pF(hF.empty,hF.empty,null,0,-1),apply:(t,n,i)=>function r(e,t,n,i){let r,o=n.getMeta(xF);if(o)return o.historyState;n.getMeta(_F)&&(e=new pF(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(xF))return a.getMeta(xF).redo?new pF(e.done.addTransform(n,void 0,i,bF(t)),e.undone,gF(n.mapping.maps),e.prevTime,e.prevComposition):new pF(e.done,e.undone.addTransform(n,void 0,i,bF(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new pF(e.done.rebased(n,r),e.undone.rebased(n,r),mF(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new pF(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),mF(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let r=n.getMeta("composition"),o=0==e.prevTime||!a&&e.prevComposition!=r&&(e.prevTime<(n.time||0)-i.newGroupDelay||!function s(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,i)=>{for(let r=0;r<t.length;r+=2)e<=t[r+1]&&i>=t[r]&&(n=!0)}),n}(n,e.prevRanges)),l=a?mF(e.prevRanges,n.mapping):gF(n.mapping.maps);return new pF(e.done.addTransform(n,o?t.selection.getBookmark():void 0,i,bF(t)),hF.empty,l,n.time,null==r?e.prevComposition:r)}}(n,i,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,i="historyUndo"==n?MF:"historyRedo"==n?kF:null;return!(!i||!e.editable)&&(t.preventDefault(),i(e.state,e.dispatch))}}}})}function SF(e,t){return(n,i)=>{let r=xF.getState(n);if(!r||0==(e?r.undone:r.done).eventCount)return!1;if(i){let o=function a(e,t,n){let i=bF(t),r=xF.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,i);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),r,i),l=new pF(n?s:o.remaining,n?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(xF,{redo:n,historyState:l})}(r,n,e);o&&i(t?o.scrollIntoView():o)}return!0}}const MF=SF(!1,!0),kF=SF(!0,!0),CF=cP.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>MF(e,t),redo:()=>({state:e,dispatch:t})=>kF(e,t)}),addProseMirrorPlugins(){return[wF(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),TF=sz.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",WN(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!function n(e,t){const{selection:n}=e,{$from:i}=n;if(n instanceof xO){const e=i.index();return i.parent.canReplaceWith(e,e+1,t)}let r=i.depth;for(;r>=0;){const e=i.index(r);if(i.node(r).contentMatchAt(e).matchType(t))return!0;r-=1}return!1}(t,t.schema.nodes[this.name]))return!1;const{selection:i}=t,{$from:r,$to:o}=i,a=e();return 0===r.parentOffset?a.insertContentAt({from:Math.max(r.pos-1,0),to:o.pos},{type:this.name}):WP(i)?a.insertContentAt(o.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({tr:e,dispatch:t})=>{var n;if(t){const{$to:t}=e.selection,i=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?e.setSelection(yO.create(e.doc,t.pos+1)):t.nodeAfter.isBlock?e.setSelection(xO.create(e.doc,t.pos)):e.setSelection(yO.create(e.doc,t.pos));else{const r=null===(n=t.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();r&&(e.insert(i,r),e.setSelection(yO.create(e.doc,i+1)))}e.scrollIntoView()}return!0}).run()}}},addInputRules(){return[rz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),AF=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,IF=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,DF=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,OF=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,EF=iP.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",WN(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[iz({find:AF,type:this.type}),iz({find:DF,type:this.type})]},addPasteRules(){return[cz({find:IF,type:this.type}),cz({find:OF,type:this.type})]}}),LF=sz.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",WN(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),RF="textStyle",NF=/^(\d+)\.\s$/,PF=sz.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",WN(this.options.HTMLAttributes,n),0]:["ol",WN(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(RF)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=az({find:NF,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=az({find:NF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(RF)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),zF=sz.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",WN(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),BF=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,VF=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,FF=iP.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",WN(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[iz({find:BF,type:this.type})]},addPasteRules(){return[cz({find:VF,type:this.type})]}}),HF=sz.create({name:"text",group:"inline"}),WF=cP.create({name:"starterKit",addExtensions(){const e=[];return!1!==this.options.bold&&e.push(NV.configure(this.options.bold)),!1!==this.options.blockquote&&e.push(DV.configure(this.options.blockquote)),!1!==this.options.bulletList&&e.push(BV.configure(this.options.bulletList)),!1!==this.options.code&&e.push(HV.configure(this.options.code)),!1!==this.options.codeBlock&&e.push(jV.configure(this.options.codeBlock)),!1!==this.options.document&&e.push(GV.configure(this.options.document)),!1!==this.options.dropcursor&&e.push(qV.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&e.push(rF.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&e.push(oF.configure(this.options.hardBreak)),!1!==this.options.heading&&e.push(aF.configure(this.options.heading)),!1!==this.options.history&&e.push(CF.configure(this.options.history)),!1!==this.options.horizontalRule&&e.push(TF.configure(this.options.horizontalRule)),!1!==this.options.italic&&e.push(EF.configure(this.options.italic)),!1!==this.options.listItem&&e.push(LF.configure(this.options.listItem)),!1!==this.options.orderedList&&e.push(PF.configure(this.options.orderedList)),!1!==this.options.paragraph&&e.push(zF.configure(this.options.paragraph)),!1!==this.options.strike&&e.push(FF.configure(this.options.strike)),!1!==this.options.text&&e.push(HF.configure(this.options.text)),e}}),$F=iP.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",WN(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});let jF,GF;if("undefined"!=typeof WeakMap){let e=new WeakMap;jF=t=>e.get(t),GF=(t,n)=>(e.set(t,n),n)}else{const e=[],t=10;let n=0;jF=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},GF=(i,r)=>(n==t&&(n=0),e[n++]=i,e[n++]=r)}var UF=class{constructor(e,t,n,i){this.width=e,this.height=t,this.map=n,this.problems=i}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const i=t%this.width,r=t/this.width|0;let o=i+1,a=r+1;for(let e=1;o<this.width&&this.map[t+e]==n;e++)o++;for(let e=1;a<this.height&&this.map[t+this.width*e]==n;e++)a++;return{left:i,top:r,right:o,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:i,right:r,top:o,bottom:a}=this.findCell(e);return"horiz"==t?(n<0?0==i:r==this.width)?null:this.map[o*this.width+(n<0?i-1:r)]:(n<0?0==o:a==this.height)?null:this.map[i+this.width*(n<0?o-1:a)]}rectBetween(e,t){const{left:n,right:i,top:r,bottom:o}=this.findCell(e),{left:a,right:s,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(r,l),right:Math.max(i,s),bottom:Math.max(o,c)}}cellsInRect(e){const t=[],n={};for(let i=e.top;i<e.bottom;i++)for(let r=e.left;r<e.right;r++){const o=i*this.width+r,a=this.map[o];n[a]||(n[a]=!0,r==e.left&&r&&this.map[o-1]==a||i==e.top&&i&&this.map[o-this.width]==a||t.push(a))}return t}positionAt(e,t,n){for(let i=0,r=0;;i++){const o=r+n.child(i).nodeSize;if(i==e){let n=t+e*this.width;const i=(e+1)*this.width;for(;n<i&&this.map[n]<r;)n++;return n==i?o-1:this.map[n]}r=o}}static get(e){return jF(e)||GF(e,function t(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);const t=function n(e){let t=-1,n=!1;for(let i=0;i<e.childCount;i++){const r=e.child(i);let o=0;if(n)for(let t=0;t<i;t++){const n=e.child(t);for(let e=0;e<n.childCount;e++){const r=n.child(e);t+r.attrs.rowspan>i&&(o+=r.attrs.colspan)}}for(let e=0;e<r.childCount;e++){const t=r.child(e);o+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=o:t!=o&&(t=Math.max(t,o))}return t}(e),i=e.childCount,r=[];let o=0,a=null;const s=[];for(let h=0,d=t*i;h<d;h++)r[h]=0;for(let h=0,d=0;h<i;h++){const n=e.child(h);d++;for(let e=0;;e++){for(;o<r.length&&0!=r[o];)o++;if(e==n.childCount)break;const l=n.child(e),{colspan:c,rowspan:u,colwidth:p}=l.attrs;for(let e=0;e<u;e++){if(e+h>=i){(a||(a=[])).push({type:"overlong_rowspan",pos:d,n:u-e});break}const n=o+e*t;for(let e=0;e<c;e++){0==r[n+e]?r[n+e]=d:(a||(a=[])).push({type:"collision",row:h,pos:d,n:c-e});const i=p&&p[e];if(i){const r=(n+e)%t*2,o=s[r];null==o||o!=i&&1==s[r+1]?(s[r]=i,s[r+1]=1):o==i&&s[r+1]++}}}o+=c,d+=l.nodeSize}const l=(h+1)*t;let c=0;for(;o<l;)0==r[o++]&&c++;c&&(a||(a=[])).push({type:"missing",row:h,n:c}),d++}0!==t&&0!==i||(a||(a=[])).push({type:"zero_sized"});const l=new UF(t,i,r,a);let c=!1;for(let h=0;!c&&h<s.length;h+=2)null!=s[h]&&s[h+1]<i&&(c=!0);c&&function u(e,t,n){e.problems||(e.problems=[]);const i={};for(let r=0;r<e.map.length;r++){const o=e.map[r];if(i[o])continue;i[o]=!0;const a=n.nodeAt(o);if(!a)throw new RangeError(`No cell with offset ${o} found`);let s=null;const l=a.attrs;for(let n=0;n<l.colspan;n++){const i=t[(r+n)%e.width*2];null==i||l.colwidth&&l.colwidth[n]==i||((s||(s=XF(l)))[n]=i)}s&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}(l,s,e);return l}(e))}};function XF(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function qF(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const i=e.nodes[n],r=i.spec.tableRole;r&&(t[r]=i)}}return t}const YF=new PO("selectingCells");function ZF(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function KF(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function JF(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&"cell"==t.node.type.spec.tableRole)return t.$anchor;const n=ZF(t.$head)||function i(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const i=t.type.spec.tableRole;if("cell"==i||"header_cell"==i)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const i=t.type.spec.tableRole;if("cell"==i||"header_cell"==i)return e.doc.resolve(n-t.nodeSize)}}(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function QF(e){return"row"==e.parent.type.spec.tableRole&&!!e.nodeAfter}function eH(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function tH(e,t,n){const i=e.node(-1),r=UF.get(i),o=e.start(-1),a=r.nextCell(e.pos-o,t,n);return null==a?null:e.node(0).resolve(o+a)}function nH(e,t,n=1){const i={...e,colspan:e.colspan-n};return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(t,n),i.colwidth.some(e=>e>0)||(i.colwidth=null)),i}function iH(e,t,n=1){const i={...e,colspan:e.colspan+n};if(i.colwidth){i.colwidth=i.colwidth.slice();for(let e=0;e<n;e++)i.colwidth.splice(t,0,0)}return i}var rH=class e extends fO{constructor(e,t=e){const n=e.node(-1),i=UF.get(n),r=e.start(-1),o=i.rectBetween(e.pos-r,t.pos-r),a=e.node(0),s=i.cellsInRect(o).filter(e=>e!=t.pos-r);s.unshift(t.pos-r);const l=s.map(e=>{const t=n.nodeAt(e);if(!t)throw new RangeError(`No cell with offset ${e} found`);const i=r+e+1;return new gO(a.resolve(i),a.resolve(i+t.content.size))});super(l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=t}map(t,n){const i=t.resolve(n.map(this.$anchorCell.pos)),r=t.resolve(n.map(this.$headCell.pos));if(QF(i)&&QF(r)&&eH(i,r)){const t=this.$anchorCell.node(-1)!=i.node(-1);return t&&this.isRowSelection()?e.rowSelection(i,r):t&&this.isColSelection()?e.colSelection(i,r):new e(i,r)}return yO.between(i,r)}content(){const e=this.$anchorCell.node(-1),t=UF.get(e),n=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},o=[];for(let s=i.top;s<i.bottom;s++){const n=[];for(let o=s*t.width+i.left,a=i.left;a<i.right;a++,o++){const a=t.map[o];if(r[a])continue;r[a]=!0;const s=t.findCell(a);let l=e.nodeAt(a);if(!l)throw new RangeError(`No cell with offset ${a} found`);const c=i.left-s.left,u=s.right-i.right;if(c>0||u>0){let e=l.attrs;if(c>0&&(e=nH(e,0,c)),u>0&&(e=nH(e,e.colspan-u,u)),s.left<i.left){if(l=l.type.createAndFill(e),!l)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(e)}`)}else l=l.type.create(e,l.content)}if(s.top<i.top||s.bottom>i.bottom){const e={...l.attrs,rowspan:Math.min(s.bottom,i.bottom)-Math.max(s.top,i.top)};l=s.top<i.top?l.type.createAndFill(e):l.type.create(e,l.content)}n.push(l)}o.push(e.child(s).copy(mI.from(n)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new wI(mI.from(a),1,1)}replace(e,t=wI.empty){const n=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:r,$to:a}=i[o],s=e.mapping.slice(n);e.replace(s.map(r.pos),s.map(a.pos),o?wI.empty:t)}const r=fO.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);r&&e.setSelection(r)}replaceWith(e,t){this.replace(e,new wI(mI.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),n=UF.get(t),i=this.$anchorCell.start(-1),r=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<r.length;o++)e(t.nodeAt(r[o]),i+r[o])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const i=t.node(-1),r=UF.get(i),o=t.start(-1),a=r.findCell(t.pos-o),s=r.findCell(n.pos-o),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(o+r.map[a.left])),s.bottom<r.height&&(n=l.resolve(o+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(o+r.map[s.left])),a.bottom<r.height&&(t=l.resolve(o+r.map[r.width*(r.height-1)+a.right-1]))),new e(t,n)}isRowSelection(){const e=this.$anchorCell.node(-1),t=UF.get(e),n=this.$anchorCell.start(-1),i=t.colCount(this.$anchorCell.pos-n),r=t.colCount(this.$headCell.pos-n);if(Math.min(i,r)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,a=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==t.width}eq(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const i=t.node(-1),r=UF.get(i),o=t.start(-1),a=r.findCell(t.pos-o),s=r.findCell(n.pos-o),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(o+r.map[a.top*r.width])),s.right<r.width&&(n=l.resolve(o+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(o+r.map[s.top*r.width])),a.right<r.width&&(t=l.resolve(o+r.map[r.width*(a.top+1)-1]))),new e(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,i=n){return new e(t.resolve(n),t.resolve(i))}getBookmark(){return new oH(this.$anchorCell.pos,this.$headCell.pos)}};rH.prototype.visible=!1,fO.jsonID("cell",rH);var oH=class e{constructor(e,t){this.anchor=e,this.head=t}map(t){return new e(t.map(this.anchor),t.map(this.head))}resolve(e){const t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&eH(t,n)?new rH(t,n):fO.near(n,1)}};function aH(e){if(!(e.selection instanceof rH))return null;const t=[];return e.selection.forEachCell((e,n)=>{t.push(bR.node(n,n+e.nodeSize,{class:"selectedCell"}))}),wR.create(e.doc,t)}const sH=new PO("fix-tables");function lH(e,t,n,i){const r=e.childCount,o=t.childCount;e:for(let a=0,s=0;a<o;a++){const o=t.child(a);for(let t=s,i=Math.min(r,a+3);t<i;t++)if(e.child(t)==o){s=t+1,n+=o.nodeSize;continue e}i(o,n),s<r&&e.child(s).sameMarkup(o)?lH(e.child(s),o,n+1,i):o.nodesBetween(0,o.content.size,i,n+1),n+=o.nodeSize}}function cH(e,t){let n;const i=(t,i)=>{"table"==t.type.spec.tableRole&&(n=function r(e,t,n,i){const r=UF.get(t);if(!r.problems)return i;i||(i=e.tr);const o=[];for(let l=0;l<r.height;l++)o.push(0);for(let l=0;l<r.problems.length;l++){const e=r.problems[l];if("collision"==e.type){const r=t.nodeAt(e.pos);if(!r)continue;const a=r.attrs;for(let t=0;t<a.rowspan;t++)o[e.row+t]+=e.n;i.setNodeMarkup(i.mapping.map(n+1+e.pos),null,nH(a,a.colspan-e.n,e.n))}else if("missing"==e.type)o[e.row]+=e.n;else if("overlong_rowspan"==e.type){const r=t.nodeAt(e.pos);if(!r)continue;i.setNodeMarkup(i.mapping.map(n+1+e.pos),null,{...r.attrs,rowspan:r.attrs.rowspan-e.n})}else if("colwidth mismatch"==e.type){const r=t.nodeAt(e.pos);if(!r)continue;i.setNodeMarkup(i.mapping.map(n+1+e.pos),null,{...r.attrs,colwidth:e.colwidth})}else if("zero_sized"==e.type){const e=i.mapping.map(n);i.delete(e,e+t.nodeSize)}}let a,s;for(let l=0;l<o.length;l++)o[l]&&(null==a&&(a=l),s=l);for(let l=0,c=n+1;l<r.height;l++){const n=t.child(l),r=c+n.nodeSize,u=o[l];if(u>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);const o=[];for(let n=0;n<u;n++){const n=qF(e.schema)[t].createAndFill();n&&o.push(n)}const h=0!=l&&a!=l-1||s!=l?r-1:c+1;i.insert(i.mapping.map(h),o)}c=r}return i.setMeta(sH,{fixTables:!0})}(e,t,i,n))};return t?t.doc!=e.doc&&lH(t.doc,e.doc,0,i):e.doc.descendants(i),n}function uH(e){const t=e.selection,n=JF(e),i=n.node(-1),r=n.start(-1),o=UF.get(i);return{...t instanceof rH?o.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r):o.findCell(n.pos-r),tableStart:r,map:o,table:i}}function hH(e,{map:t,tableStart:n,table:i},r){let o=r>0?-1:0;(function a(e,t,n){const i=qF(t.type.schema).header_cell;for(let r=0;r<e.height;r++)if(t.nodeAt(e.map[n+r*e.width]).type!=i)return!1;return!0})(t,i,r+o)&&(o=0==r||r==t.width?null:0);for(let s=0;s<t.height;s++){const a=s*t.width+r;if(r>0&&r<t.width&&t.map[a-1]==t.map[a]){const o=t.map[a],l=i.nodeAt(o);e.setNodeMarkup(e.mapping.map(n+o),null,iH(l.attrs,r-t.colCount(o))),s+=l.attrs.rowspan-1}else{const l=null==o?qF(i.type.schema).cell:i.nodeAt(t.map[a+o]).type,c=t.positionAt(s,r,i);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function dH(e,{map:t,table:n,tableStart:i},r){const o=e.mapping.maps.length;for(let a=0;a<t.height;){const s=a*t.width+r,l=t.map[s],c=n.nodeAt(l),u=c.attrs;if(r>0&&t.map[s-1]==l||r<t.width-1&&t.map[s+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(i+l),null,nH(u,r-t.colCount(l)));else{const t=e.mapping.slice(o).map(i+l);e.delete(t,t+c.nodeSize)}a+=u.rowspan}}function pH(e,{map:t,tableStart:n,table:i},r){let o=n;for(let u=0;u<r;u++)o+=i.child(u).nodeSize;const a=[];let s=r>0?-1:0;(function l(e,t,n){var i;const r=qF(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if((null===(i=t.nodeAt(e.map[o+n*e.width]))||void 0===i?void 0:i.type)!=r)return!1;return!0})(t,i,r+s)&&(s=0==r||r==t.height?null:0);for(let u=0,h=t.width*r;u<t.width;u++,h++)if(r>0&&r<t.height&&t.map[h]==t.map[h-t.width]){const r=t.map[h],o=i.nodeAt(r).attrs;e.setNodeMarkup(n+r,null,{...o,rowspan:o.rowspan+1}),u+=o.colspan-1}else{var c;const e=null==s?qF(i.type.schema).cell:null===(c=i.nodeAt(t.map[h+s*t.width]))||void 0===c?void 0:c.type,n=null==e?void 0:e.createAndFill();n&&a.push(n)}return e.insert(o,qF(i.type.schema).row.create(null,a)),e}function fH(e,{map:t,table:n,tableStart:i},r){let o=0;for(let c=0;c<r;c++)o+=n.child(c).nodeSize;const a=o+n.child(r).nodeSize,s=e.mapping.maps.length;e.delete(o+i,a+i);const l=new Set;for(let c=0,u=r*t.width;c<t.width;c++,u++){const o=t.map[u];if(!l.has(o))if(l.add(o),r>0&&o==t.map[u-t.width]){const t=n.nodeAt(o).attrs;e.setNodeMarkup(e.mapping.slice(s).map(o+i),null,{...t,rowspan:t.rowspan-1}),c+=t.colspan-1}else if(r<t.height&&o==t.map[u+t.width]){const a=n.nodeAt(o),l=a.attrs,u=a.type.create({...l,rowspan:a.attrs.rowspan-1},a.content),h=t.positionAt(r+1,c,n);e.insert(e.mapping.slice(s).map(i+h),u),c+=l.colspan-1}}}function gH(e){const t=e.content;return 1==t.childCount&&t.child(0).isTextblock&&0==t.child(0).childCount}function mH(e,t){const n=e.selection;if(!(n instanceof rH)||n.$anchorCell.pos==n.$headCell.pos)return!1;const i=uH(e),{map:r}=i;if(function o({width:e,height:t,map:n},i){let r=i.top*e+i.left,o=r,a=(i.bottom-1)*e+i.left,s=r+(i.right-i.left-1);for(let l=i.top;l<i.bottom;l++){if(i.left>0&&n[o]==n[o-1]||i.right<e&&n[s]==n[s+1])return!0;o+=e,s+=e}for(let l=i.left;l<i.right;l++){if(i.top>0&&n[r]==n[r-e]||i.bottom<t&&n[a]==n[a+e])return!0;r++,a++}return!1}(r,i))return!1;if(t){const n=e.tr,o={};let a,s,l=mI.empty;for(let e=i.top;e<i.bottom;e++)for(let t=i.left;t<i.right;t++){const c=r.map[e*r.width+t],u=i.table.nodeAt(c);if(!o[c]&&u)if(o[c]=!0,null==a)a=c,s=u;else{gH(u)||(l=l.append(u.content));const e=n.mapping.map(c+i.tableStart);n.delete(e,e+u.nodeSize)}}if(null==a||null==s)return!0;if(n.setNodeMarkup(a+i.tableStart,null,{...iH(s.attrs,s.attrs.colspan,i.right-i.left-s.attrs.colspan),rowspan:i.bottom-i.top}),l.size>0){const e=a+1+s.content.size,t=gH(s)?a+1:e;n.replaceWith(t+i.tableStart,e+i.tableStart,l)}n.setSelection(new rH(n.doc.resolve(a+i.tableStart))),t(n)}return!0}function vH(e,t){const n=qF(e.schema);return function i(e){return(t,n)=>{const i=t.selection;let r,o;if(i instanceof rH){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{var a;if(r=function e(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}(i.$from),!r)return!1;o=null===(a=ZF(i.$from))||void 0===a?void 0:a.pos}if(null==r||null==o)return!1;if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){let a=r.attrs;const s=[],l=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const c=uH(t),u=t.tr;for(let e=0;e<c.right-c.left;e++)s.push(l?{...a,colwidth:l&&l[e]?[l[e]]:null}:a);let h;for(let t=c.top;t<c.bottom;t++){let n=c.map.positionAt(t,c.left,c.table);t==c.top&&(n+=r.nodeSize);for(let i=c.left,o=0;i<c.right;i++,o++)i==c.left&&t==c.top||u.insert(h=u.mapping.map(n+c.tableStart,1),e({node:r,row:t,col:i}).createAndFill(s[o]))}u.setNodeMarkup(o,e({node:r,row:c.top,col:c.left}),s[0]),i instanceof rH&&u.setSelection(new rH(u.doc.resolve(i.$anchorCell.pos),h?u.doc.resolve(h):void 0)),n(u)}return!0}}(({node:e})=>n[e.type.spec.tableRole])(e,t)}function yH(e,t,n){const i=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let r=0;r<i.length;r++){const e=t.table.nodeAt(i[r]);if(e&&e.type!==n.header_cell)return!1}return!0}function bH(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function n(e){return function(t,n){if(!KF(t))return!1;if(n){const i=qF(t.schema),r=uH(t),o=t.tr,a=r.map.cellsInRect("column"==e?{left:r.left,top:0,right:r.right,bottom:r.map.height}:"row"==e?{left:0,top:r.top,right:r.map.width,bottom:r.bottom}:r),s=a.map(e=>r.table.nodeAt(e));for(let e=0;e<a.length;e++)s[e].type==i.header_cell&&o.setNodeMarkup(r.tableStart+a[e],i.cell,s[e].attrs);if(0===o.steps.length)for(let e=0;e<a.length;e++)o.setNodeMarkup(r.tableStart+a[e],i.header_cell,s[e].attrs);n(o)}return!0}}(e):function(t,n){if(!KF(t))return!1;if(n){const i=qF(t.schema),r=uH(t),o=t.tr,a=yH("row",r,i),s=yH("column",r,i),l=("column"===e?a:"row"===e&&s)?1:0,c="column"==e?{left:0,top:l,right:1,bottom:r.map.height}:"row"==e?{left:l,top:0,right:r.map.width,bottom:1}:r,u="column"==e?s?i.cell:i.header_cell:"row"==e?a?i.cell:i.header_cell:i.cell;r.map.cellsInRect(c).forEach(e=>{const t=e+r.tableStart,n=o.doc.nodeAt(t);n&&o.setNodeMarkup(t,u,n.attrs)}),n(o)}return!0}}bH("row",{useDeprecatedLogic:!0}),bH("column",{useDeprecatedLogic:!0});const xH=bH("cell",{useDeprecatedLogic:!0});function _H(e){return function(t,n){if(!KF(t))return!1;const i=function r(e,t){if(t<0){const t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let n=e.index(-1)-1,i=e.before();n>=0;n--){const t=e.node(-1).child(n),r=t.lastChild;if(r)return i-1-r.nodeSize;i-=t.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const t=e.node(-1);for(let n=e.indexAfter(-1),i=e.after();n<t.childCount;n++){const e=t.child(n);if(e.childCount)return i+1;i+=e.nodeSize}}return null}(JF(t),e);if(null==i)return!1;if(n){const e=t.doc.resolve(i);n(t.tr.setSelection(yO.between(e,function r(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}(e))).scrollIntoView())}return!0}}function wH(e,t){const n=e.selection;if(!(n instanceof rH))return!1;if(t){const i=e.tr,r=qF(e.schema).cell.createAndFill().content;n.forEachCell((e,t)=>{e.content.eq(r)||i.replace(i.mapping.map(t+1),i.mapping.map(t+e.nodeSize-1),new wI(r,0,0))}),i.docChanged&&t(i)}return!0}function SH(e){if(0===e.size)return null;let{content:t,openStart:n,openEnd:i}=e;for(;1==t.childCount&&(n>0&&i>0||"table"==t.child(0).type.spec.tableRole);)n--,i--,t=t.child(0).content;const r=t.child(0),o=r.type.spec.tableRole,a=r.type.schema,s=[];if("row"==o)for(let c=0;c<t.childCount;c++){let e=t.child(c).content;const r=c?0:Math.max(0,n-1),o=c<t.childCount-1?0:Math.max(0,i-1);(r||o)&&(e=MH(qF(a).row,new wI(e,r,o)).content),s.push(e)}else{if("cell"!=o&&"header_cell"!=o)return null;s.push(n||i?MH(qF(a).row,new wI(t,n,i)).content:t)}return function l(e,t){const n=[];for(let r=0;r<t.length;r++){const e=t[r];for(let t=e.childCount-1;t>=0;t--){const{rowspan:i,colspan:o}=e.child(t).attrs;for(let e=r;e<r+i;e++)n[e]=(n[e]||0)+o}}let i=0;for(let r=0;r<n.length;r++)i=Math.max(i,n[r]);for(let r=0;r<n.length;r++)if(r>=t.length&&t.push(mI.empty),n[r]<i){const o=qF(e).cell.createAndFill(),a=[];for(let e=n[r];e<i;e++)a.push(o);t[r]=t[r].append(mI.from(a))}return{height:t.length,width:i,rows:t}}(a,s)}function MH(e,t){const n=e.createAndFill();return new dO(n).replace(0,n.content.size,t).doc}function kH(e,t,n,i,r,o,a,s){if(0==a||a==t.height)return!1;let l=!1;for(let c=r;c<o;c++){const r=a*t.width+c,o=t.map[r];if(t.map[r-t.width]==o){l=!0;const r=n.nodeAt(o),{top:u,left:h}=t.findCell(o);e.setNodeMarkup(e.mapping.slice(s).map(o+i),null,{...r.attrs,rowspan:a-u}),e.insert(e.mapping.slice(s).map(t.positionAt(a,h,n)),r.type.createAndFill({...r.attrs,rowspan:u+r.attrs.rowspan-a})),c+=r.attrs.colspan-1}}return l}function CH(e,t,n,i,r,o,a,s){if(0==a||a==t.width)return!1;let l=!1;for(let c=r;c<o;c++){const r=c*t.width+a,o=t.map[r];if(t.map[r-1]==o){l=!0;const r=n.nodeAt(o),u=t.colCount(o),h=e.mapping.slice(s).map(o+i);e.setNodeMarkup(h,null,nH(r.attrs,a-u,r.attrs.colspan-(a-u))),e.insert(h+r.nodeSize,r.type.createAndFill(nH(r.attrs,0,a-u))),c+=r.attrs.rowspan-1}}return l}function TH(e,t,n,i,r){let o=n?e.doc.nodeAt(n-1):e.doc;if(!o)throw new Error("No table found");let a=UF.get(o);const{top:s,left:l}=i,c=l+r.width,u=s+r.height,h=e.tr;let d=0;function p(){if(o=n?h.doc.nodeAt(n-1):h.doc,!o)throw new Error("No table found");a=UF.get(o),d=h.mapping.maps.length}(function f(e,t,n,i,r,o,a){const s=qF(e.doc.type.schema);let l,c;if(r>t.width)for(let u=0,h=0;u<t.height;u++){const o=n.child(u);h+=o.nodeSize;const d=[];let p;p=null==o.lastChild||o.lastChild.type==s.cell?l||(l=s.cell.createAndFill()):c||(c=s.header_cell.createAndFill());for(let e=t.width;e<r;e++)d.push(p);e.insert(e.mapping.slice(a).map(h-1+i),d)}if(o>t.height){const u=[];for(let e=0,i=(t.height-1)*t.width;e<Math.max(t.width,r);e++){const r=!(e>=t.width)&&n.nodeAt(t.map[i+e]).type==s.header_cell;u.push(r?c||(c=s.header_cell.createAndFill()):l||(l=s.cell.createAndFill()))}const h=s.row.create(null,mI.from(u)),d=[];for(let e=t.height;e<o;e++)d.push(h);e.insert(e.mapping.slice(a).map(i+n.nodeSize-2),d)}return!(!l&&!c)})(h,a,o,n,c,u,d)&&p(),kH(h,a,o,n,l,c,s,d)&&p(),kH(h,a,o,n,l,c,u,d)&&p(),CH(h,a,o,n,s,u,l,d)&&p(),CH(h,a,o,n,s,u,c,d)&&p();for(let g=s;g<u;g++){const e=a.positionAt(g,l,o),t=a.positionAt(g,c,o);h.replace(h.mapping.slice(d).map(e+n),h.mapping.slice(d).map(t+n),new wI(r.rows[g-s],0,0))}p(),h.setSelection(new rH(h.doc.resolve(n+a.positionAt(s,l,o)),h.doc.resolve(n+a.positionAt(u-1,c-1,o)))),t(h)}const AH=cN({ArrowLeft:DH("horiz",-1),ArrowRight:DH("horiz",1),ArrowUp:DH("vert",-1),ArrowDown:DH("vert",1),"Shift-ArrowLeft":OH("horiz",-1),"Shift-ArrowRight":OH("horiz",1),"Shift-ArrowUp":OH("vert",-1),"Shift-ArrowDown":OH("vert",1),Backspace:wH,"Mod-Backspace":wH,Delete:wH,"Mod-Delete":wH});function IH(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function DH(e,t){return(n,i,r)=>{if(!r)return!1;const o=n.selection;if(o instanceof rH)return IH(n,i,fO.near(o.$headCell,t));if("horiz"!=e&&!o.empty)return!1;const a=NH(r,e,t);if(null==a)return!1;if("horiz"==e)return IH(n,i,fO.near(n.doc.resolve(o.head+t),t));{const r=n.doc.resolve(a),o=tH(r,e,t);let s;return s=o?fO.near(o,1):t<0?fO.near(n.doc.resolve(r.before(-1)),-1):fO.near(n.doc.resolve(r.after(-1)),1),IH(n,i,s)}}}function OH(e,t){return(n,i,r)=>{if(!r)return!1;const o=n.selection;let a;if(o instanceof rH)a=o;else{const i=NH(r,e,t);if(null==i)return!1;a=new rH(n.doc.resolve(i))}const s=tH(a.$headCell,e,t);return!!s&&IH(n,i,new rH(a.$anchorCell,s))}}function EH(e,t){const n=ZF(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new rH(n))),!0)}function LH(e,t,n){if(!KF(e.state))return!1;let i=SH(n);const r=e.state.selection;if(r instanceof rH){i||(i={width:1,height:1,rows:[mI.from(MH(qF(e.state.schema).cell,n))]});const t=r.$anchorCell.node(-1),o=r.$anchorCell.start(-1),a=UF.get(t).rectBetween(r.$anchorCell.pos-o,r.$headCell.pos-o);return i=function s({width:e,height:t,rows:n},i,r){if(e!=i){const t=[],r=[];for(let e=0;e<n.length;e++){const o=n[e],a=[];for(let n=t[e]||0,r=0;n<i;r++){let s=o.child(r%o.childCount);n+s.attrs.colspan>i&&(s=s.type.createChecked(nH(s.attrs,s.attrs.colspan,n+s.attrs.colspan-i),s.content)),a.push(s),n+=s.attrs.colspan;for(let n=1;n<s.attrs.rowspan;n++)t[e+n]=(t[e+n]||0)+s.attrs.colspan}r.push(mI.from(a))}n=r,e=i}if(t!=r){const e=[];for(let i=0,o=0;i<r;i++,o++){const a=[],s=n[o%t];for(let e=0;e<s.childCount;e++){let t=s.child(e);i+t.attrs.rowspan>r&&(t=t.type.create({...t.attrs,rowspan:Math.max(1,r-t.attrs.rowspan)},t.content)),a.push(t)}e.push(mI.from(a))}n=e,t=r}return{width:e,height:t,rows:n}}(i,a.right-a.left,a.bottom-a.top),TH(e.state,e.dispatch,o,a,i),!0}if(i){const t=JF(e.state),n=t.start(-1);return TH(e.state,e.dispatch,n,UF.get(t.node(-1)).findCell(t.pos-n),i),!0}return!1}function RH(e,t){var n;if(t.ctrlKey||t.metaKey)return;const i=PH(e,t.target);let r;if(t.shiftKey&&e.state.selection instanceof rH)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&i&&null!=(r=ZF(e.state.selection.$anchor))&&(null===(n=zH(e,t))||void 0===n?void 0:n.pos)!=r.pos)o(r,t),t.preventDefault();else if(!i)return;function o(t,n){let i=zH(e,n);const r=null==YF.getState(e.state);if(!i||!eH(t,i)){if(!r)return;i=t}const o=new rH(t,i);if(r||!e.state.selection.eq(o)){const n=e.state.tr.setSelection(o);r&&n.setMeta(YF,t.pos),e.dispatch(n)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",s),null!=YF.getState(e.state)&&e.dispatch(e.state.tr.setMeta(YF,-1))}function s(n){const r=n,s=YF.getState(e.state);let l;if(null!=s)l=e.state.doc.resolve(s);else if(PH(e,r.target)!=i&&(l=zH(e,t),!l))return a();l&&o(l,r)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",s)}function NH(e,t,n){if(!(e.state.selection instanceof yO))return null;const{$head:i}=e.state.selection;for(let r=i.depth-1;r>=0;r--){const o=i.node(r);if((n<0?i.index(r):i.indexAfter(r))!=(n<0?0:o.childCount))return null;if("cell"==o.type.spec.tableRole||"header_cell"==o.type.spec.tableRole){const o=i.before(r),a="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?o:null}}return null}function PH(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t;return null}function zH(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n)return null;const i=n.inside>=0?n.inside:n.pos;return ZF(e.state.doc.resolve(i))}var BH=class e{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),VH(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type==this.node.type&&(this.node=e,VH(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))}};function VH(e,t,n,i,r,o){let a=0,s=!0,l=t.firstChild;const c=e.firstChild;if(c){for(let e=0,n=0;e<c.childCount;e++){const{colspan:u,colwidth:h}=c.child(e).attrs;for(let e=0;e<u;e++,n++){const c=r==n?o:h&&h[e],u=c?c+"px":"";if(a+=c||i,c||(s=!1),l)l.style.width!=u&&(l.style.width=u),l=l.nextSibling;else{const e=document.createElement("col");e.style.width=u,t.appendChild(e)}}}for(;l;){var u;const e=l.nextSibling;null===(u=l.parentNode)||void 0===u||u.removeChild(l),l=e}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}const FH=new PO("tableColumnResizing");function HH({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:i=BH,lastColumnResizable:r=!0}={}){const o=new LO({key:FH,state:{init(e,t){var r;const a=null===(r=o.spec)||void 0===r||null===(r=r.props)||void 0===r?void 0:r.nodeViews,s=qF(t.schema).table.name;return i&&a&&(a[s]=(e,t)=>new i(e,n,t)),new WH(-1,!1)},apply:(e,t)=>t.apply(e)},props:{attributes:e=>{const t=FH.getState(e);return t&&t.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(t,n)=>{!function i(e,t,n,r){if(!e.editable)return;const o=FH.getState(e.state);if(!o)return;if(!o.dragging){const i=function a(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target);let s=-1;if(i){const{left:r,right:o}=i.getBoundingClientRect();t.clientX-r<=n?s=$H(e,t,"left",n):o-t.clientX<=n&&(s=$H(e,t,"right",n))}if(s!=o.activeHandle){if(!r&&-1!==s){const t=e.state.doc.resolve(s),n=t.node(-1),i=UF.get(n),r=t.start(-1);if(i.colCount(t.pos-r)+t.nodeAfter.attrs.colspan-1==i.width-1)return}GH(e,s)}}}(t,n,e,r)},mouseleave:e=>{!function t(e){if(!e.editable)return;const t=FH.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&GH(e,-1)}(e)},mousedown:(e,i)=>{!function r(e,t,n,i){var r;if(!e.editable)return!1;const o=null!==(r=e.dom.ownerDocument.defaultView)&&void 0!==r?r:window,a=FH.getState(e.state);if(!a||-1==a.activeHandle||a.dragging)return!1;const s=e.state.doc.nodeAt(a.activeHandle),l=function c(e,t,{colspan:n,colwidth:i}){const r=i&&i[i.length-1];if(r)return r;const o=e.domAtPos(t);let a=o.node.childNodes[o.offset].offsetWidth,s=n;if(i)for(let l=0;l<n;l++)i[l]&&(a-=i[l],s--);return a/s}(e,a.activeHandle,s.attrs);function u(t){o.removeEventListener("mouseup",u),o.removeEventListener("mousemove",h);const i=FH.getState(e.state);(null==i?void 0:i.dragging)&&(!function r(e,t,n){const i=e.state.doc.resolve(t),r=i.node(-1),o=UF.get(r),a=i.start(-1),s=o.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let c=0;c<o.height;c++){const e=c*o.width+s;if(c&&o.map[e]==o.map[e-o.width])continue;const t=o.map[e],i=r.nodeAt(t).attrs,u=1==i.colspan?0:s-o.colCount(t);if(i.colwidth&&i.colwidth[u]==n)continue;const h=i.colwidth?i.colwidth.slice():XH(i.colspan);h[u]=n,l.setNodeMarkup(a+t,null,{...i,colwidth:h})}l.docChanged&&e.dispatch(l)}(e,i.activeHandle,jH(i.dragging,t,n)),e.dispatch(e.state.tr.setMeta(FH,{setDragging:null})))}function h(t){if(!t.which)return u(t);const r=FH.getState(e.state);if(r&&r.dragging){const o=jH(r.dragging,t,n);UH(e,r.activeHandle,o,i)}}return e.dispatch(e.state.tr.setMeta(FH,{setDragging:{startX:t.clientX,startWidth:l}})),UH(e,a.activeHandle,l,i),o.addEventListener("mouseup",u),o.addEventListener("mousemove",h),t.preventDefault(),!0}(e,i,t,n)}},decorations:e=>{const t=FH.getState(e);if(t&&t.activeHandle>-1)return function n(e,t){const n=[],i=e.doc.resolve(t),r=i.node(-1);if(!r)return wR.empty;const o=UF.get(r),a=i.start(-1),s=o.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;for(let c=0;c<o.height;c++){const t=s+c*o.width;if(!(s!=o.width-1&&o.map[t]==o.map[t+1]||0!=c&&o.map[t]==o.map[t-o.width])){var l;const i=o.map[t],s=a+i+r.nodeAt(i).nodeSize-1,c=document.createElement("div");c.className="column-resize-handle",(null===(l=FH.getState(e))||void 0===l?void 0:l.dragging)&&n.push(bR.node(a+i,a+i+r.nodeAt(i).nodeSize,{class:"column-resize-dragging"})),n.push(bR.widget(s,c))}}return wR.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}});return o}var WH=class e{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(t){const n=this,i=t.getMeta(FH);if(i&&null!=i.setHandle)return new e(i.setHandle,!1);if(i&&void 0!==i.setDragging)return new e(n.activeHandle,i.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return QF(t.doc.resolve(i))||(i=-1),new e(i,n.dragging)}return n}};function $H(e,t,n,i){const r="right"==n?-i:i,o=e.posAtCoords({left:t.clientX+r,top:t.clientY});if(!o)return-1;const{pos:a}=o,s=ZF(e.state.doc.resolve(a));if(!s)return-1;if("right"==n)return s.pos;const l=UF.get(s.node(-1)),c=s.start(-1),u=l.map.indexOf(s.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function jH(e,t,n){const i=t.clientX-e.startX;return Math.max(n,e.startWidth+i)}function GH(e,t){e.dispatch(e.state.tr.setMeta(FH,{setHandle:t}))}function UH(e,t,n,i){const r=e.state.doc.resolve(t),o=r.node(-1),a=r.start(-1),s=UF.get(o).colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;let l=e.domAtPos(r.start(-1)).node;for(;l&&"TABLE"!=l.nodeName;)l=l.parentNode;l&&VH(o,l.firstChild,l,i,s,n)}function XH(e){return Array(e).fill(0)}function qH({allowTableNodeSelection:e=!1}={}){return new LO({key:YF,state:{init:()=>null,apply(e,t){const n=e.getMeta(YF);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;const{deleted:i,pos:r}=e.mapping.mapResult(t);return i?null:r}},props:{decorations:aH,handleDOMEvents:{mousedown:RH},createSelectionBetween:e=>null!=YF.getState(e.state)?e.state.selection:null,handleTripleClick:EH,handleKeyDown:AH,handlePaste:LH},appendTransaction:(t,n,i)=>function r(e,t,n){const i=(t||e).selection,r=(t||e).doc;let o,a;if(i instanceof xO&&(a=i.node.type.spec.tableRole)){if("cell"==a||"header_cell"==a)o=rH.create(r,i.from);else if("row"==a){const e=r.resolve(i.from+1);o=rH.rowSelection(e,e)}else if(!n){const e=UF.get(i.node),t=i.from+1,n=t+e.map[e.width*e.height-1];o=rH.create(r,t+1,n)}}else i instanceof yO&&function s({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,i=t.pos,r=e.depth;for(;r>=0&&!(e.after(r+1)<e.end(r));r--,n++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,i--);return n==i&&/row|table/.test(e.node(r).type.spec.tableRole)}(i)?o=yO.create(r,i.from):i instanceof yO&&function l({$from:e,$to:t}){let n,i;for(let r=e.depth;r>0;r--){const t=e.node(r);if("cell"===t.type.spec.tableRole||"header_cell"===t.type.spec.tableRole){n=t;break}}for(let r=t.depth;r>0;r--){const e=t.node(r);if("cell"===e.type.spec.tableRole||"header_cell"===e.type.spec.tableRole){i=e;break}}return n!==i&&0===t.parentOffset}(i)&&(o=yO.create(r,i.$from.start(),i.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}(i,cH(i,n),e)})}var YH=sz.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{var t,n;const i=e.getAttribute("colwidth"),r=i?i.split(",").map(e=>parseInt(e,10)):null;if(!r){const i=null==(t=e.closest("table"))?void 0:t.querySelectorAll("colgroup > col"),r=Array.from((null==(n=e.parentElement)?void 0:n.children)||[]).indexOf(e);if(r&&r>-1&&i&&i[r]){const e=i[r].getAttribute("width");return e?[parseInt(e,10)]:null}}return r}}}),tableRole:"cell",isolating:!0,parseHTML:()=>[{tag:"td"}],renderHTML({HTMLAttributes:e}){return["td",WN(this.options.HTMLAttributes,e),0]}}),ZH=sz.create({name:"tableHeader",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(e=>parseInt(e,10)):null}}}),tableRole:"header_cell",isolating:!0,parseHTML:()=>[{tag:"th"}],renderHTML({HTMLAttributes:e}){return["th",WN(this.options.HTMLAttributes,e),0]}}),KH=sz.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML:()=>[{tag:"tr"}],renderHTML({HTMLAttributes:e}){return["tr",WN(this.options.HTMLAttributes,e),0]}});function JH(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function QH(e,t,n,i,r,o){var a;let s=0,l=!0,c=t.firstChild;const u=e.firstChild;if(null!==u)for(let d=0,p=0;d<u.childCount;d+=1){const{colspan:e,colwidth:n}=u.child(d).attrs;for(let a=0;a<e;a+=1,p+=1){const e=r===p?o:n&&n[a],u=e?`${e}px`:"";if(s+=e||i,e||(l=!1),c){if(c.style.width!==u){const[t,n]=JH(i,e);c.style.setProperty(t,n)}c=c.nextSibling}else{const n=document.createElement("col"),[r,o]=JH(i,e);n.style.setProperty(r,o),t.appendChild(n)}}}for(;c;){const e=c.nextSibling;null==(a=c.parentNode)||a.removeChild(c),c=e}const h=e.attrs.style&&"string"==typeof e.attrs.style&&/\bwidth\s*:/i.test(e.attrs.style);l&&!h?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}var eW=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),e.attrs.style&&(this.table.style.cssText=e.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),QH(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type===this.node.type&&(this.node=e,QH(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){const t=e.target,n=this.dom.contains(t),i=this.contentDOM.contains(t);return!(!n||i||"attributes"!==e.type&&"childList"!==e.type&&"characterData"!==e.type)}};function tW(e,t){return e.createAndFill()}function nW(e,t,n,i,r){const o=function a(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const i=e.nodes[n];i.spec.tableRole&&(t[i.spec.tableRole]=i)}),e.cached.tableNodeTypes=t,t}(e),s=[],l=[];for(let u=0;u<n;u+=1){const e=tW(o.cell);if(e&&l.push(e),i){const e=tW(o.header_cell);e&&s.push(e)}}const c=[];for(let u=0;u<t;u+=1)c.push(o.row.createChecked(null,i&&0===u?s:l));return o.table.createChecked(null,c)}var iW=({editor:e})=>{const{selection:t}=e.state;if(!function n(e){return e instanceof rH}(t))return!1;let i=0;const r=LP(t.ranges[0].$from,e=>"table"===e.type.name);null==r||r.node.descendants(e=>{if("table"===e.type.name)return!1;["tableCell","tableHeader"].includes(e.type.name)&&(i+=1)});return i===t.ranges.length&&(e.commands.deleteTable(),!0)};var rW=function oW(e,t,n={}){var i;const r=null!=(i=n.cellLineSeparator)?i:"";if(!e||!e.content||0===e.content.length)return"";const o=[];e.content.forEach(e=>{const n=[];e.content&&e.content.forEach(e=>{let i="";if(e.content&&Array.isArray(e.content)&&e.content.length>1){i=e.content.map(e=>t.renderChildren(e)).join(r)}else i=e.content?t.renderChildren(e.content):"";const o=function a(e){return(e||"").replace(/\s+/g," ").trim()}(i),s="tableHeader"===e.type;n.push({text:o,isHeader:s})}),o.push(n)});const a=o.reduce((e,t)=>Math.max(e,t.length),0);if(0===a)return"";const s=new Array(a).fill(0);o.forEach(e=>{var t;for(let n=0;n<a;n+=1){const i=((null==(t=e[n])?void 0:t.text)||"").length;i>s[n]&&(s[n]=i),s[n]<3&&(s[n]=3)}});const l=(e,t)=>e+" ".repeat(Math.max(0,t-e.length)),c=o[0],u=c.some(e=>e.isHeader);let h="\n";const d=new Array(a).fill(0).map((e,t)=>u&&c[t]&&c[t].text||"");return h+=`| ${d.map((e,t)=>l(e,s[t])).join(" | ")} |\n`,h+=`| ${s.map(e=>"-".repeat(Math.max(3,e))).join(" | ")} |\n`,(u?o.slice(1):o).forEach(e=>{h+=`| ${new Array(a).fill(0).map((t,n)=>l(e[n]&&e[n].text||"",s[n])).join(" | ")} |\n`}),h},aW=sz.create({name:"table",addOptions:()=>({HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:eW,lastColumnResizable:!0,allowTableNodeSelection:!1}),content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML:()=>[{tag:"table"}],renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:i,tableMinWidth:r}=function o(e,t,n,i){let r=0,o=!0;const a=[],s=e.firstChild;if(!s)return{};for(let u=0,h=0;u<s.childCount;u+=1){const{colspan:e,colwidth:l}=s.child(u).attrs;for(let s=0;s<e;s+=1,h+=1){const e=n===h?i:l&&l[s];r+=e||t,e||(o=!1);const[c,u]=JH(t,e);a.push(["col",{style:`${c}: ${u}`}])}}const l=o?`${r}px`:"",c=o?"":`${r}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:c}}(e,this.options.cellMinWidth),a=t.style;const s=["table",WN(this.options.HTMLAttributes,t,{style:function l(){return a||(i?`width: ${i}`:`min-width: ${r}`)}()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},s]:s},parseMarkdown:(e,t)=>{const n=[];if(e.header){const i=[];e.header.forEach(e=>{i.push(t.createNode("tableHeader",{},[{type:"paragraph",content:t.parseInline(e.tokens)}]))}),n.push(t.createNode("tableRow",{},i))}return e.rows&&e.rows.forEach(e=>{const i=[];e.forEach(e=>{i.push(t.createNode("tableCell",{},[{type:"paragraph",content:t.parseInline(e.tokens)}]))}),n.push(t.createNode("tableRow",{},i))}),t.createNode("table",void 0,n)},renderMarkdown:(e,t)=>rW(e,t),addCommands:()=>({insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:i,dispatch:r,editor:o})=>{const a=nW(o.schema,e,t,n);if(r){const e=i.selection.from+1;i.replaceSelectionWith(a).scrollIntoView().setSelection(yO.near(i.doc.resolve(e)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>function n(e,t){if(!KF(e))return!1;if(t){const n=uH(e);t(hH(e.tr,n,n.left))}return!0}(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>function n(e,t){if(!KF(e))return!1;if(t){const n=uH(e);t(hH(e.tr,n,n.right))}return!0}(e,t),deleteColumn:()=>({state:e,dispatch:t})=>function n(e,t){if(!KF(e))return!1;if(t){const n=uH(e),i=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let e=n.right-1;dH(i,n,e),e!=n.left;e--){const e=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc;if(!e)throw new RangeError("No table found");n.table=e,n.map=UF.get(e)}t(i)}return!0}(e,t),addRowBefore:()=>({state:e,dispatch:t})=>function n(e,t){if(!KF(e))return!1;if(t){const n=uH(e);t(pH(e.tr,n,n.top))}return!0}(e,t),addRowAfter:()=>({state:e,dispatch:t})=>function n(e,t){if(!KF(e))return!1;if(t){const n=uH(e);t(pH(e.tr,n,n.bottom))}return!0}(e,t),deleteRow:()=>({state:e,dispatch:t})=>function n(e,t){if(!KF(e))return!1;if(t){const n=uH(e),i=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let e=n.bottom-1;fH(i,n,e),e!=n.top;e--){const e=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc;if(!e)throw new RangeError("No table found");n.table=e,n.map=UF.get(n.table)}t(i)}return!0}(e,t),deleteTable:()=>({state:e,dispatch:t})=>function n(e,t){const n=e.selection.$anchor;for(let i=n.depth;i>0;i--)if("table"==n.node(i).type.spec.tableRole)return t&&t(e.tr.delete(n.before(i),n.after(i)).scrollIntoView()),!0;return!1}(e,t),mergeCells:()=>({state:e,dispatch:t})=>mH(e,t),splitCell:()=>({state:e,dispatch:t})=>vH(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>bH("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>bH("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>xH(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>!!mH(e,t)||vH(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:i})=>function r(e,t){return function(n,i){if(!KF(n))return!1;const r=JF(n);if(r.nodeAfter.attrs[e]===t)return!1;if(i){const o=n.tr;n.selection instanceof rH?n.selection.forEachCell((n,i)=>{n.attrs[e]!==t&&o.setNodeMarkup(i,null,{...n.attrs,[e]:t})}):o.setNodeMarkup(r.pos,null,{...r.nodeAfter.attrs,[e]:t}),i(o)}return!0}}(e,t)(n,i),goToNextCell:()=>({state:e,dispatch:t})=>_H(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>_H(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&cH(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const n=rH.create(t.doc,e.anchorCell,e.headCell);t.setSelection(n)}return!0}}),addKeyboardShortcuts(){return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:iW,"Mod-Backspace":iW,Delete:iW,"Mod-Delete":iW}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[HH({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],qH({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema:e=>({tableRole:GN(BN(e,"tableRole",{name:e.name,options:e.options,storage:e.storage}))})});cP.create({name:"tableKit",addExtensions(){const e=[];return!1!==this.options.table&&e.push(aW.configure(this.options.table)),!1!==this.options.tableCell&&e.push(YH.configure(this.options.tableCell)),!1!==this.options.tableHeader&&e.push(ZH.configure(this.options.tableHeader)),!1!==this.options.tableRow&&e.push(KH.configure(this.options.tableRow)),e}});var sW=KH,lW=YH,cW=ZH;const uW=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,hW=sz.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",WN(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[rz({find:uW,type:this.type,getAttributes:e=>{const[,,t,n,i]=e;return{src:n,alt:t,title:i}}})]}}),dW=768,pW="24px",fW="25px",gW={MOBILE:16,DESKTOP:9},mW={MOBILE:"-8px",DESKTOP:"-4px"},vW={BORDER:"#6C6C6C",BACKGROUND:"rgba(255, 255, 255, 1)"},yW={LEFT:"https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/format_align_left/default/20px.svg",CENTER:"https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/format_align_center/default/20px.svg",RIGHT:"https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/format_align_right/default/20px.svg"},bW={isMobile:()=>document.documentElement.clientWidth<dW,getDotPosition:()=>bW.isMobile()?mW.MOBILE:mW.DESKTOP,getDotSize:()=>bW.isMobile()?gW.MOBILE:gW.DESKTOP,clearContainerBorder(e){const t=e.getAttribute("style"),n=null==t?void 0:t.replace("border: 1px dashed #6C6C6C;","").replace("border: 1px dashed rgb(108, 108, 108)","");e.setAttribute("style",n)},removeResizeElements(e){if(e.childElementCount>3)for(let t=0;t<5;t++)e.removeChild(e.lastChild)}};class xW{static getContainerStyle(e,t){return`${`width: ${t||"100%"}; height: auto; cursor: pointer;`} ${e?"display: inline-block;":""}`}static getWrapperStyle(e){return e?"display: inline-block; float: left; padding-right: 8px;":"display: flex"}static getPositionControllerStyle(e){return`\n      position: absolute; \n      top: 0%; \n      left: 50%; \n      width: ${e?"66px":"100px"}; \n      height: ${fW}; \n      z-index: 999; \n      background-color: ${vW.BACKGROUND}; \n      border-radius: 3px; \n      border: 1px solid ${vW.BORDER}; \n      cursor: pointer; \n      transform: translate(-50%, -50%); \n      display: flex; \n      justify-content: space-between; \n      align-items: center; \n      padding: 0 6px;\n    `.replace(/\s+/g," ").trim()}static getDotStyle(e){const t=bW.getDotPosition(),n=bW.getDotSize(),i=[`top: ${t}; left: ${t}; cursor: nwse-resize;`,`top: ${t}; right: ${t}; cursor: nesw-resize;`,`bottom: ${t}; left: ${t}; cursor: nesw-resize;`,`bottom: ${t}; right: ${t}; cursor: nwse-resize;`];return`\n      position: absolute; \n      width: ${n}px; \n      height: ${n}px; \n      border: 1.5px solid ${vW.BORDER}; \n      border-radius: 50%; \n      ${i[e]}\n    `.replace(/\s+/g," ").trim()}}class _W{static parseImageAttributes(e,t){Object.entries(e).forEach(([e,n])=>{if(null!=n&&"wrapperStyle"!==e){if("containerStyle"===e){const e=n.match(/width:\s*([0-9.]+)px/);return void(e&&t.setAttribute("width",e[1]))}t.setAttribute(e,n)}})}static extractWidthFromStyle(e){const t=e.match(/width:\s*([0-9.]+)px/);return t?t[1]:null}}class wW{constructor(e,t,n){this.elements=e,this.inline=t,this.dispatchNodeView=n}createControllerIcon(e){const t=document.createElement("img");return t.setAttribute("src",e),t.setAttribute("style",`width: ${pW}; height: ${pW}; cursor: pointer;`),t.addEventListener("mouseover",e=>{e.target.style.opacity="0.6"}),t.addEventListener("mouseout",e=>{e.target.style.opacity="1"}),t}handleLeftClick(){if(this.inline){const e="display: inline-block; float: left; padding-right: 8px;";this.elements.wrapper.setAttribute("style",e),this.elements.container.setAttribute("style",e)}else this.elements.container.setAttribute("style",`${this.elements.container.style.cssText} margin: 0 auto 0 0;`);this.dispatchNodeView()}handleCenterClick(){this.elements.container.setAttribute("style",`${this.elements.container.style.cssText} margin: 0 auto;`),this.dispatchNodeView()}handleRightClick(){if(this.inline){const e="display: inline-block; float: right; padding-left: 8px;";this.elements.wrapper.setAttribute("style",e),this.elements.container.setAttribute("style",e)}else this.elements.container.setAttribute("style",`${this.elements.container.style.cssText} margin: 0 0 0 auto;`);this.dispatchNodeView()}createPositionControls(){const e=document.createElement("div");e.setAttribute("style",xW.getPositionControllerStyle(this.inline));const t=this.createControllerIcon(yW.LEFT);if(t.addEventListener("click",()=>this.handleLeftClick()),e.appendChild(t),!this.inline){const t=this.createControllerIcon(yW.CENTER);t.addEventListener("click",()=>this.handleCenterClick()),e.appendChild(t)}const n=this.createControllerIcon(yW.RIGHT);return n.addEventListener("click",()=>this.handleRightClick()),e.appendChild(n),this.elements.container.appendChild(e),this}}class SW{constructor(e,t){this.state={isResizing:!1,startX:0,startWidth:0},this.handleMouseMove=(e,t)=>{if(!this.state.isResizing)return;const n=t%2==0?-(e.clientX-this.state.startX):e.clientX-this.state.startX,i=this.state.startWidth+n;this.elements.container.style.width=i+"px",this.elements.img.style.width=i+"px"},this.handleMouseUp=()=>{this.state.isResizing&&(this.state.isResizing=!1),this.dispatchNodeView()},this.handleTouchMove=(e,t)=>{if(!this.state.isResizing)return;const n=t%2==0?-(e.touches[0].clientX-this.state.startX):e.touches[0].clientX-this.state.startX,i=this.state.startWidth+n;this.elements.container.style.width=i+"px",this.elements.img.style.width=i+"px"},this.handleTouchEnd=()=>{this.state.isResizing&&(this.state.isResizing=!1),this.dispatchNodeView()},this.elements=e,this.dispatchNodeView=t}createResizeHandle(e){const t=document.createElement("div");return t.setAttribute("style",xW.getDotStyle(e)),t.addEventListener("mousedown",t=>{t.preventDefault(),this.state.isResizing=!0,this.state.startX=t.clientX,this.state.startWidth=this.elements.container.offsetWidth;const n=t=>this.handleMouseMove(t,e),i=()=>{this.handleMouseUp(),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",i)}),t.addEventListener("touchstart",t=>{t.cancelable&&t.preventDefault(),this.state.isResizing=!0,this.state.startX=t.touches[0].clientX,this.state.startWidth=this.elements.container.offsetWidth;const n=t=>this.handleTouchMove(t,e),i=()=>{this.handleTouchEnd(),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",i)};document.addEventListener("touchmove",n),document.addEventListener("touchend",i)},{passive:!1}),t}}class MW{constructor(e,t){this.clearContainerBorder=()=>{bW.clearContainerBorder(this.elements.container)},this.dispatchNodeView=()=>{var e;const{view:t,getPos:n}=this.context;if("function"==typeof n){this.clearContainerBorder();const i=Object.assign(Object.assign({},this.context.node.attrs),{width:null!==(e=_W.extractWidthFromStyle(this.elements.container.style.cssText))&&void 0!==e?e:this.context.node.attrs.width,containerStyle:`${this.elements.container.style.cssText}`,wrapperStyle:`${this.elements.wrapper.style.cssText}`});t.dispatch(t.state.tr.setNodeMarkup(n(),null,i))}},this.removeResizeElements=()=>{bW.removeResizeElements(this.elements.container)},this.context=e,this.inline=t,this.elements=this.createElements()}createElements(){return{wrapper:document.createElement("div"),container:document.createElement("div"),img:document.createElement("img")}}setupImageAttributes(){_W.parseImageAttributes(this.context.node.attrs,this.elements.img)}setupDOMStructure(){const{wrapperStyle:e,containerStyle:t}=this.context.node.attrs;this.elements.wrapper.setAttribute("style",e),this.elements.wrapper.appendChild(this.elements.container),this.elements.container.setAttribute("style",t),this.elements.container.appendChild(this.elements.img)}createPositionController(){new wW(this.elements,this.inline,this.dispatchNodeView).createPositionControls()}createResizeHandler(){const e=new SW(this.elements,this.dispatchNodeView);Array.from({length:4},(t,n)=>{const i=e.createResizeHandle(n);this.elements.container.appendChild(i)})}setupContainerClick(){this.elements.container.addEventListener("click",()=>{var e;bW.isMobile()&&(null===(e=document.querySelector(".ProseMirror-focused"))||void 0===e||e.blur()),this.removeResizeElements(),this.createPositionController(),this.elements.container.setAttribute("style",`position: relative; border: 1px dashed ${vW.BORDER}; ${this.context.node.attrs.containerStyle}`),this.createResizeHandler()})}setupContentClick(){document.addEventListener("click",e=>{const t=e.target;this.elements.container.contains(t)||t.style.cssText===`width: ${pW}; height: ${pW}; cursor: pointer;`||(this.clearContainerBorder(),this.removeResizeElements())})}initialize(){this.setupDOMStructure(),this.setupImageAttributes();const{editable:e}=this.context.editor.options;return e?(this.setupContainerClick(),this.setupContentClick(),{dom:this.elements.wrapper}):{dom:this.elements.container}}}const kW=hW.extend({name:"imageResize",addOptions(){var e;return Object.assign(Object.assign({},null===(e=this.parent)||void 0===e?void 0:e.call(this)),{inline:!1})},addAttributes(){var e;const t=this.options.inline;return Object.assign(Object.assign({},null===(e=this.parent)||void 0===e?void 0:e.call(this)),{containerStyle:{default:null,parseHTML:e=>{const n=e.getAttribute("containerstyle");if(n)return n;const i=e.getAttribute("width");return i?xW.getContainerStyle(t,`${i}px`):`${e.style.cssText}`}},wrapperStyle:{default:xW.getWrapperStyle(t)}})},addNodeView(){return({node:e,editor:t,getPos:n})=>{const i=this.options.inline,r={node:e,editor:t,view:t.view,getPos:"function"==typeof n?n:void 0};return new MW(r,i).initialize()}}});cP.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(e=>""!==e).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){const e=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(e)}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new LO({key:new PO("characterCount"),appendTransaction:(t,n,i)=>{if(e)return;const r=this.options.limit;if(null==r||0===r)return void(e=!0);const o=this.storage.characters({node:i.doc});if(o>r){const t=0,n=o-r,a=i.tr.deleteRange(t,n);return e=!0,a}e=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null==n)return!0;const i=this.storage.characters({node:t.doc}),r=this.storage.characters({node:e.doc});if(r<=n)return!0;if(i>n&&r>n&&r<=i)return!0;if(i>n&&r>n&&r>i)return!1;if(!e.getMeta("paste"))return!1;const o=e.selection.$head.pos,a=o-(r-n),s=o;e.deleteRange(a,s);return!(this.storage.characters({node:e.doc})>n)}})]}});var CW=cP.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[UV(this.options)]}});function TW({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(null==t?void 0:t.type)===e}function AW(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function IW(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],i=typeof n;"object"!==i&&"function"!==i||Object.isFrozen(n)||IW(n)}),e}cP.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new LO({key:new PO("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:i}=this.editor,{anchor:r}=t,o=[];if(!n||!i)return wR.create(e,[]);let a=0;"deepest"===this.options.mode&&e.descendants((e,t)=>{if(e.isText)return;if(!(r>=t&&r<=t+e.nodeSize-1))return!1;a+=1});let s=0;return e.descendants((e,t)=>{if(e.isText)return!1;if(!(r>=t&&r<=t+e.nodeSize-1))return!1;s+=1;if("deepest"===this.options.mode&&a-s>0||"shallowest"===this.options.mode&&s>1)return"deepest"===this.options.mode;o.push(bR.node(t,t+e.nodeSize,{class:this.options.className}))}),wR.create(e,o)}}})]}}),cP.create({name:"gapCursor",addProseMirrorPlugins:()=>[JV()],extendNodeSchema(e){var t;return{allowGapCursor:null!=(t=GN(BN(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))?t:null}}}),cP.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new LO({key:new PO("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=t,r=[];if(!n)return null;const o=this.editor.isEmpty;return e.descendants((e,t)=>{const n=i>=t&&i<=t+e.nodeSize,a=!e.isLeaf&&HP(e);if((n||!this.options.showOnlyCurrent)&&a){const i=[this.options.emptyNodeClass];o&&i.push(this.options.emptyEditorClass);const a=bR.node(t,t+e.nodeSize,{class:i.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});r.push(a)}return this.options.includeChildren}),wR.create(e,r)}}})]}}),cP.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new LO({key:new PO("selection"),props:{decorations:n=>n.selection.empty||e.isFocused||!e.isEditable||WP(n.selection)||e.view.dragging?null:wR.create(n.doc,[bR.inline(n.selection.from,n.selection.to,{class:t.className})])}})]}}),cP.create({name:"trailingNode",addOptions:()=>({node:void 0,notAfter:[]}),addProseMirrorPlugins(){var e;const t=new PO(this.name),n=this.options.node||(null==(e=this.editor.schema.topNodeType.contentMatch.defaultType)?void 0:e.name)||"paragraph",i=Object.entries(this.editor.schema.nodes).map(([,e])=>e).filter(e=>(this.options.notAfter||[]).concat(n).includes(e.name));return[new LO({key:t,appendTransaction:(e,i,r)=>{const{doc:o,tr:a,schema:s}=r,l=t.getState(r),c=o.content.size,u=s.nodes[n];if(l)return a.insert(c,u.create())},state:{init:(e,t)=>!TW({node:t.tr.doc.lastChild,types:i}),apply:(e,t)=>{if(!e.docChanged)return t;if(e.getMeta("__uniqueIDTransaction"))return t;return!TW({node:e.doc.lastChild,types:i})}}})]}}),cP.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>MF(e,t),redo:()=>({state:e,dispatch:t})=>kF(e,t)}),addProseMirrorPlugins(){return[wF(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}});class DW{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function OW(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function EW(e,...t){const n=Object.create(null);for(const i in e)n[i]=e[i];return t.forEach(function(e){for(const t in e)n[t]=e[t]}),n}const LW=e=>!!e.scope;class RW{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=OW(e)}openNode(e){if(!LW(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){LW(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const NW=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class PW{constructor(){this.rootNode=NW(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=NW({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{PW._collapse(e)}))}}class zW extends PW{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new RW(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function BW(e){return e?"string"==typeof e?e:e.source:null}function VW(e){return WW("(?=",e,")")}function FW(e){return WW("(?:",e,")*")}function HW(e){return WW("(?:",e,")?")}function WW(...e){return e.map(e=>BW(e)).join("")}function $W(...e){const t=function n(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map(e=>BW(e)).join("|")+")"}function jW(e){return new RegExp(e.toString()+"|").exec("").length-1}const GW=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function UW(e,{joinWith:t}){let n=0;return e.map(e=>{n+=1;const t=n;let i=BW(e),r="";for(;i.length>0;){const e=GW.exec(i);if(!e){r+=i;break}r+=i.substring(0,e.index),i=i.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?r+="\\"+String(Number(e[1])+t):(r+=e[0],"("===e[0]&&n++)}return r}).map(e=>`(${e})`).join(t)}const XW="[a-zA-Z]\\w*",qW="[a-zA-Z_]\\w*",YW="\\b\\d+(\\.\\d+)?",ZW="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",KW="\\b(0b[01]+)",JW={begin:"\\\\[\\s\\S]",relevance:0},QW={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[JW]},e$={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[JW]},t$=function(e,t,n={}){const i=EW({scope:"comment",begin:e,end:t,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=$W("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:WW(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},n$=t$("//","$"),i$=t$("/\\*","\\*/"),r$=t$("#","$"),o$={scope:"number",begin:YW,relevance:0},a$={scope:"number",begin:ZW,relevance:0},s$={scope:"number",begin:KW,relevance:0},l$={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[JW,{begin:/\[/,end:/\]/,relevance:0,contains:[JW]}]},c$={scope:"title",begin:XW,relevance:0},u$={scope:"title",begin:qW,relevance:0},h$={begin:"\\.\\s*"+qW,relevance:0};var d$=Object.freeze({__proto__:null,APOS_STRING_MODE:QW,BACKSLASH_ESCAPE:JW,BINARY_NUMBER_MODE:s$,BINARY_NUMBER_RE:KW,COMMENT:t$,C_BLOCK_COMMENT_MODE:i$,C_LINE_COMMENT_MODE:n$,C_NUMBER_MODE:a$,C_NUMBER_RE:ZW,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:r$,IDENT_RE:XW,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:h$,NUMBER_MODE:o$,NUMBER_RE:YW,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:e$,REGEXP_MODE:l$,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=WW(t,/.*\b/,e.binary,/\b.*/)),EW({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:c$,UNDERSCORE_IDENT_RE:qW,UNDERSCORE_TITLE_MODE:u$});function p$(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function f$(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function g$(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=p$,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function m$(e,t){Array.isArray(e.illegal)&&(e.illegal=$W(...e.illegal))}function v$(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function y$(e,t){void 0===e.relevance&&(e.relevance=1)}const b$=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=WW(n.beforeMatch,VW(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},x$=["of","and","for","in","not","or","if","then","parent","list","value"];function _$(e,t,n="keyword"){const i=Object.create(null);return"string"==typeof e?r(n,e.split(" ")):Array.isArray(e)?r(n,e):Object.keys(e).forEach(function(n){Object.assign(i,_$(e[n],t,n))}),i;function r(e,n){t&&(n=n.map(e=>e.toLowerCase())),n.forEach(function(t){const n=t.split("|");i[n[0]]=[e,w$(n[0],n[1])]})}}function w$(e,t){return t?Number(t):function n(e){return x$.includes(e.toLowerCase())}(e)?0:1}const S$={},M$=(e,t)=>{S$[`${e}/${t}`]||(S$[`${e}/${t}`]=!0)},k$=new Error;function C$(e,t,{key:n}){let i=0;const r=e[n],o={},a={};for(let s=1;s<=t.length;s++)a[s+i]=r[s],o[s+i]=!0,i+=jW(t[s-1]);e[n]=a,e[n]._emit=o,e[n]._multi=!0}function T$(e){!function t(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function n(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw k$;if("object"!=typeof e.beginScope||null===e.beginScope)throw k$;C$(e,e.begin,{key:"beginScope"}),e.begin=UW(e.begin,{joinWith:""})}}(e),function i(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw k$;if("object"!=typeof e.endScope||null===e.endScope)throw k$;C$(e,e.end,{key:"endScope"}),e.end=UW(e.end,{joinWith:""})}}(e)}function A$(e){function t(t,n){return new RegExp(BW(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=jW(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(UW(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),i=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,i)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=EW(e.classNameAliases||{}),function n(r,o){const a=r;if(r.isCompiled)return a;[f$,v$,T$,b$].forEach(e=>e(r,o)),e.compilerExtensions.forEach(e=>e(r,o)),r.__beforeBegin=null,[g$,m$,y$].forEach(e=>e(r,o)),r.isCompiled=!0;let s=null;return"object"==typeof r.keywords&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),s=r.keywords.$pattern,delete r.keywords.$pattern),s=s||/\w+/,r.keywords&&(r.keywords=_$(r.keywords,e.case_insensitive)),a.keywordPatternRe=t(s,!0),o&&(r.begin||(r.begin=/\B|\b/),a.beginRe=t(a.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(a.endRe=t(a.end)),a.terminatorEnd=BW(a.end)||"",r.endsWithParent&&o.terminatorEnd&&(a.terminatorEnd+=(r.end?"|":"")+o.terminatorEnd)),r.illegal&&(a.illegalRe=t(r.illegal)),r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map(function(e){return function t(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return EW(e,{variants:null},t)}));if(e.cachedVariants)return e.cachedVariants;if(I$(e))return EW(e,{starts:e.starts?EW(e.starts):null});if(Object.isFrozen(e))return EW(e);return e}("self"===e?r:e)})),r.contains.forEach(function(e){n(e,a)}),r.starts&&n(r.starts,o),a.matcher=function l(e){const t=new i;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(a),a}(e)}function I$(e){return!!e&&(e.endsWithParent||I$(e.starts))}class D$ extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const O$=OW,E$=EW,L$=Symbol("nomatch"),R$=function(e){const t=Object.create(null),n=Object.create(null),i=[];let r=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let s={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:zW};function l(e){return s.noHighlightRe.test(e)}function c(e,t,n){let i="",r="";"object"==typeof t?(i=e,n=t.ignoreIllegals,r=t.language):(M$("10.7.0","highlight(lang, code, ...args) has been deprecated."),M$("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=e,i=t),void 0===n&&(n=!0);const o={code:i,language:r};y("before:highlight",o);const a=o.result?o.result:u(o.language,o.code,n);return a.code=o.code,y("after:highlight",a),a}function u(e,n,i,a){const l=Object.create(null);function c(e,t){return e.keywords[t]}function d(){if(!C.keywords)return void A.addText(D);let e=0;C.keywordPatternRe.lastIndex=0;let t=C.keywordPatternRe.exec(D),n="";for(;t;){n+=D.substring(e,t.index);const i=S.case_insensitive?t[0].toLowerCase():t[0],r=c(C,i);if(r){const[e,o]=r;if(A.addText(n),n="",l[i]=(l[i]||0)+1,l[i]<=7&&(O+=o),e.startsWith("_"))n+=t[0];else{const n=S.classNameAliases[e]||e;f(t[0],n)}}else n+=t[0];e=C.keywordPatternRe.lastIndex,t=C.keywordPatternRe.exec(D)}n+=D.substring(e),A.addText(n)}function p(){null!=C.subLanguage?function e(){if(""===D)return;let e=null;if("string"==typeof C.subLanguage){if(!t[C.subLanguage])return void A.addText(D);e=u(C.subLanguage,D,!0,T[C.subLanguage]),T[C.subLanguage]=e._top}else e=h(D,C.subLanguage.length?C.subLanguage:null);C.relevance>0&&(O+=e.relevance),A.__addSublanguage(e._emitter,e.language)}():d(),D=""}function f(e,t){""!==e&&(A.startScope(t),A.addText(e),A.endScope())}function m(e,t){let n=1;const i=t.length-1;for(;n<=i;){if(!e._emit[n]){n++;continue}const i=S.classNameAliases[e[n]]||e[n],r=t[n];i?f(r,i):(D=r,d(),D=""),n++}}function v(e,t){return e.scope&&"string"==typeof e.scope&&A.openNode(S.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(f(D,S.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),D=""):e.beginScope._multi&&(m(e.beginScope,t),D="")),C=Object.create(e,{parent:{value:C}}),C}function y(e,t,n){let i=function r(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(i){if(e["on:end"]){const n=new DW(e);e["on:end"](t,n),n.isMatchIgnored&&(i=!1)}if(i){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return y(e.parent,t,n)}function b(e){return 0===C.matcher.regexIndex?(D+=e[0],1):(R=!0,0)}function x(e){const t=e[0],i=n.substring(e.index),r=y(C,e,i);if(!r)return L$;const o=C;C.endScope&&C.endScope._wrap?(p(),f(t,C.endScope._wrap)):C.endScope&&C.endScope._multi?(p(),m(C.endScope,e)):o.skip?D+=t:(o.returnEnd||o.excludeEnd||(D+=t),p(),o.excludeEnd&&(D=t));do{C.scope&&A.closeNode(),C.skip||C.subLanguage||(O+=C.relevance),C=C.parent}while(C!==r.parent);return r.starts&&v(r.starts,e),o.returnEnd?0:t.length}let _={};function w(t,o){const a=o&&o[0];if(D+=t,null==a)return p(),0;if("begin"===_.type&&"end"===o.type&&_.index===o.index&&""===a){if(D+=n.slice(o.index,o.index+1),!r){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=_.rule,t}return 1}if(_=o,"begin"===o.type)return function s(e){const t=e[0],n=e.rule,i=new DW(n),r=[n.__beforeBegin,n["on:begin"]];for(const o of r)if(o&&(o(e,i),i.isMatchIgnored))return b(t);return n.skip?D+=t:(n.excludeBegin&&(D+=t),p(),n.returnBegin||n.excludeBegin||(D=t)),v(n,e),n.returnBegin?0:t.length}(o);if("illegal"===o.type&&!i){const e=new Error('Illegal lexeme "'+a+'" for mode "'+(C.scope||"<unnamed>")+'"');throw e.mode=C,e}if("end"===o.type){const e=x(o);if(e!==L$)return e}if("illegal"===o.type&&""===a)return 1;if(L>1e5&&L>3*o.index){throw new Error("potential infinite loop, way more iterations than matches")}return D+=a,a.length}const S=g(e);if(!S)throw o.replace("{}",e),new Error('Unknown language: "'+e+'"');const M=A$(S);let k="",C=a||M;const T={},A=new s.__emitter(s);!function I(){const e=[];for(let t=C;t!==S;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>A.openNode(e))}();let D="",O=0,E=0,L=0,R=!1;try{if(S.__emitTokens)S.__emitTokens(n,A);else{for(C.matcher.considerAll();;){L++,R?R=!1:C.matcher.considerAll(),C.matcher.lastIndex=E;const e=C.matcher.exec(n);if(!e)break;const t=w(n.substring(E,e.index),e);E=e.index+t}w(n.substring(E))}return A.finalize(),k=A.toHTML(),{language:e,value:k,relevance:O,illegal:!1,_emitter:A,_top:C}}catch(N){if(N.message&&N.message.includes("Illegal"))return{language:e,value:O$(n),illegal:!0,relevance:0,_illegalBy:{message:N.message,index:E,context:n.slice(E-100,E+100),mode:N.mode,resultSoFar:k},_emitter:A};if(r)return{language:e,value:O$(n),illegal:!1,relevance:0,errorRaised:N,_emitter:A,_top:C};throw N}}function h(e,n){n=n||s.languages||Object.keys(t);const i=function r(e){const t={value:O$(e),illegal:!1,relevance:0,_top:a,_emitter:new s.__emitter(s)};return t._emitter.addText(e),t}(e),o=n.filter(g).filter(v).map(t=>u(t,e,!1));o.unshift(i);const l=o.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(g(e.language).supersetOf===t.language)return 1;if(g(t.language).supersetOf===e.language)return-1}return 0}),[c,h]=l,d=c;return d.secondBest=h,d}function d(e){let t=null;const i=function r(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=s.languageDetectRe.exec(t);if(n){const e=g(n[1]);return e||o.replace("{}",n[1]),e?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>l(e)||g(e))}(e);if(l(i))return;if(y("before:highlightElement",{el:e,language:i}),e.dataset.highlighted)return;if(e.children.length>0&&(s.ignoreUnescapedHTML,s.throwUnescapedHTML)){throw new D$("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const a=t.textContent,u=i?c(a,{language:i,ignoreIllegals:!0}):h(a);e.innerHTML=u.value,e.dataset.highlighted="yes",function d(e,t,i){const r=t&&n[t]||i;e.classList.add("hljs"),e.classList.add(`language-${r}`)}(e,i,u.language),e.result={language:u.language,re:u.relevance,relevance:u.relevance},u.secondBest&&(e.secondBest={language:u.secondBest.language,relevance:u.secondBest.relevance}),y("after:highlightElement",{el:e,result:u,text:a})}let p=!1;function f(){if("loading"===document.readyState)return void(p=!0);document.querySelectorAll(s.cssSelector).forEach(d)}function g(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function m(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{n[e.toLowerCase()]=t})}function v(e){const t=g(e);return t&&!t.disableAutodetect}function y(e,t){const n=e;i.forEach(function(e){e[n]&&e[n](t)})}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",function b(){p&&f()},!1),Object.assign(e,{highlight:c,highlightAuto:h,highlightAll:f,highlightElement:d,highlightBlock:function x(e){return M$("10.7.0","highlightBlock will be removed entirely in v12.0"),M$("10.7.0","Please use highlightElement now."),d(e)},configure:function _(e){s=E$(s,e)},initHighlighting:()=>{f(),M$("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function w(){f(),M$("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function S(n,i){let o=null;try{o=i(e)}catch(s){if("Language definition for '{}' could not be registered.".replace("{}",n),!r)throw s;o=a}o.name||(o.name=n),t[n]=o,o.rawDefinition=i.bind(null,e),o.aliases&&m(o.aliases,{languageName:n})},unregisterLanguage:function M(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]},listLanguages:function k(){return Object.keys(t)},getLanguage:g,registerAliases:m,autoDetection:v,inherit:E$,addPlugin:function C(e){!function t(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),i.push(e)},removePlugin:function T(e){const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}),e.debugMode=function(){r=!1},e.safeMode=function(){r=!0},e.versionString="11.10.0",e.regex={concat:WW,lookahead:VW,either:$W,optional:HW,anyNumberOfTimes:FW};for(const A in d$)"object"==typeof d$[A]&&IW(d$[A]);return Object.assign(e,d$),e},N$=R$({});N$.newInstance=()=>R$({});var P$=N$;N$.HighlightJS=N$,N$.default=N$;var z$=AW(P$);function B$(e,t=[]){return e.map(e=>{const n=[...t,...e.properties?e.properties.className:[]];return e.children?B$(e.children,n):{text:e.value,classes:n}}).flat()}function V$(e){return e.value||e.children||[]}function F$({doc:e,name:t,lowlight:n,defaultLanguage:i}){const r=[];return EP(e,e=>e.type.name===t).forEach(e=>{var t;let o=e.pos+1;const a=e.node.attrs.language||i,s=n.listLanguages();B$(a&&(s.includes(a)||function l(e){return Boolean(z$.getLanguage(e))}(a)||(null===(t=n.registered)||void 0===t?void 0:t.call(n,a)))?V$(n.highlight(a,e.node.textContent)):V$(n.highlightAuto(e.node.textContent))).forEach(e=>{const t=o+e.text.length;if(e.classes.length){const n=bR.inline(o,t,{class:e.classes.join(" ")});r.push(n)}o=t})}),wR.create(e,r)}function H$({name:e,lowlight:t,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(e=>function n(e){return"function"==typeof e}(t[e])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const i=new LO({key:new PO("lowlight"),state:{init:(i,{doc:r})=>F$({doc:r,name:e,lowlight:t,defaultLanguage:n}),apply:(i,r,o,a)=>{const s=o.selection.$head.parent.type.name,l=a.selection.$head.parent.type.name,c=EP(o.doc,t=>t.type.name===e),u=EP(a.doc,t=>t.type.name===e);return i.docChanged&&([s,l].includes(e)||u.length!==c.length||i.steps.some(e=>void 0!==e.from&&void 0!==e.to&&c.some(t=>t.pos>=e.from&&t.pos+t.node.nodeSize<=e.to)))?F$({doc:i.doc,name:e,lowlight:t,defaultLanguage:n}):r.map(i.mapping,i.doc)}},props:{decorations:e=>i.getState(e)}});return i}const W$=jV.extend({addOptions(){var e;return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},addProseMirrorPlugins(){var e;return[...(null===(e=this.parent)||void 0===e?void 0:e.call(this))||[],H$({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),$$="numeric",j$="ascii",G$="alpha",U$="asciinumeric",X$="alphanumeric",q$="domain",Y$="emoji",Z$="scheme",K$="slashscheme",J$="whitespace";function Q$(e,t){return e in t||(t[e]=[]),t[e]}function ej(e,t,n){t[$$]&&(t[U$]=!0,t[X$]=!0),t[j$]&&(t[U$]=!0,t[G$]=!0),t[U$]&&(t[X$]=!0),t[G$]&&(t[X$]=!0),t[X$]&&(t[q$]=!0),t[Y$]&&(t[q$]=!0);for(const i in t){const t=Q$(i,n);t.indexOf(e)<0&&t.push(e)}}function tj(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}tj.groups={},tj.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let i=0;i<t.jr.length;i++){const n=t.jr[i][0],r=t.jr[i][1];if(r&&n.test(e))return r}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,i){for(let r=0;r<e.length;r++)this.tt(e[r],t,n,i)},tr(e,t,n,i){let r;return i=i||tj.groups,t&&t.j?r=t:(r=new tj(t),n&&i&&ej(t,n,i)),this.jr.push([e,r]),r},ts(e,t,n,i){let r=this;const o=e.length;if(!o)return r;for(let a=0;a<o-1;a++)r=r.tt(e[a]);return r.tt(e[o-1],t,n,i)},tt(e,t,n,i){i=i||tj.groups;const r=this;if(t&&t.j)return r.j[e]=t,t;const o=t;let a,s=r.go(e);if(s?(a=new tj,Object.assign(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new tj,o){if(i)if(a.t&&"string"==typeof a.t){const e=Object.assign(function t(e,n){const i={};for(const t in n)n[t].indexOf(e)>=0&&(i[t]=!0);return i}(a.t,i),n);ej(o,e,i)}else n&&ej(o,n,i);a.t=o}return r.j[e]=a,a}};const nj=(e,t,n,i,r)=>e.ta(t,n,i,r),ij=(e,t,n,i,r)=>e.tr(t,n,i,r),rj=(e,t,n,i,r)=>e.ts(t,n,i,r),oj=(e,t,n,i,r)=>e.tt(t,n,i,r),aj="WORD",sj="UWORD",lj="ASCIINUMERICAL",cj="ALPHANUMERICAL",uj="LOCALHOST",hj="TLD",dj="UTLD",pj="SCHEME",fj="SLASH_SCHEME",gj="NUM",mj="WS",vj="NL",yj="OPENBRACE",bj="CLOSEBRACE",xj="OPENBRACKET",_j="CLOSEBRACKET",wj="OPENPAREN",Sj="CLOSEPAREN",Mj="OPENANGLEBRACKET",kj="CLOSEANGLEBRACKET",Cj="FULLWIDTHLEFTPAREN",Tj="FULLWIDTHRIGHTPAREN",Aj="LEFTCORNERBRACKET",Ij="RIGHTCORNERBRACKET",Dj="LEFTWHITECORNERBRACKET",Oj="RIGHTWHITECORNERBRACKET",Ej="FULLWIDTHLESSTHAN",Lj="FULLWIDTHGREATERTHAN",Rj="AMPERSAND",Nj="APOSTROPHE",Pj="ASTERISK",zj="AT",Bj="BACKSLASH",Vj="BACKTICK",Fj="CARET",Hj="COLON",Wj="COMMA",$j="DOLLAR",jj="DOT",Gj="EQUALS",Uj="EXCLAMATION",Xj="HYPHEN",qj="PERCENT",Yj="PIPE",Zj="PLUS",Kj="POUND",Jj="QUERY",Qj="QUOTE",eG="FULLWIDTHMIDDLEDOT",tG="SEMI",nG="SLASH",iG="TILDE",rG="UNDERSCORE",oG="EMOJI",aG="SYM";var sG=Object.freeze({__proto__:null,ALPHANUMERICAL:cj,AMPERSAND:Rj,APOSTROPHE:Nj,ASCIINUMERICAL:lj,ASTERISK:Pj,AT:zj,BACKSLASH:Bj,BACKTICK:Vj,CARET:Fj,CLOSEANGLEBRACKET:kj,CLOSEBRACE:bj,CLOSEBRACKET:_j,CLOSEPAREN:Sj,COLON:Hj,COMMA:Wj,DOLLAR:$j,DOT:jj,EMOJI:oG,EQUALS:Gj,EXCLAMATION:Uj,FULLWIDTHGREATERTHAN:Lj,FULLWIDTHLEFTPAREN:Cj,FULLWIDTHLESSTHAN:Ej,FULLWIDTHMIDDLEDOT:eG,FULLWIDTHRIGHTPAREN:Tj,HYPHEN:Xj,LEFTCORNERBRACKET:Aj,LEFTWHITECORNERBRACKET:Dj,LOCALHOST:uj,NL:vj,NUM:gj,OPENANGLEBRACKET:Mj,OPENBRACE:yj,OPENBRACKET:xj,OPENPAREN:wj,PERCENT:qj,PIPE:Yj,PLUS:Zj,POUND:Kj,QUERY:Jj,QUOTE:Qj,RIGHTCORNERBRACKET:Ij,RIGHTWHITECORNERBRACKET:Oj,SCHEME:pj,SEMI:tG,SLASH:nG,SLASH_SCHEME:fj,SYM:aG,TILDE:iG,TLD:hj,UNDERSCORE:rG,UTLD:dj,UWORD:sj,WORD:aj,WS:mj});const lG=/[a-z]/,cG=new RegExp("\\p{L}","u"),uG=new RegExp("\\p{Emoji}","u"),hG=/\d/,dG=/\s/;let pG=null,fG=null;function gG(e,t){const n=function i(e){const t=[],n=e.length;let i=0;for(;i<n;){let r,o=e.charCodeAt(i),a=o<55296||o>56319||i+1===n||(r=e.charCodeAt(i+1))<56320||r>57343?e[i]:e.slice(i,i+2);t.push(a),i+=a.length}return t}(t.replace(/[A-Z]/g,e=>e.toLowerCase())),r=n.length,o=[];let a=0,s=0;for(;s<r;){let i=e,l=null,c=0,u=null,h=-1,d=-1;for(;s<r&&(l=i.go(n[s]));)i=l,i.accepts()?(h=0,d=0,u=i):h>=0&&(h+=n[s].length,d++),c+=n[s].length,a+=n[s].length,s++;a-=h,s-=d,c-=h,o.push({t:u.t,v:t.slice(a-c,a),s:a-c,e:a})}return o}function mG(e,t,n,i,r){let o;const a=t.length;for(let s=0;s<a-1;s++){const n=t[s];e.j[n]?o=e.j[n]:(o=new tj(i),o.jr=r.slice(),e.j[n]=o),e=o}return o=new tj(n),o.jr=r.slice(),e.j[t[a-1]]=o,o}function vG(e){const t=[],n=[];let i=0;for(;i<e.length;){let r=0;for(;"0123456789".indexOf(e[i+r])>=0;)r++;if(r>0){t.push(n.join(""));for(let t=parseInt(e.substring(i,i+r),10);t>0;t--)n.pop();i+=r}else n.push(e[i]),i++}return t}const yG={defaultProtocol:"http",events:null,format:xG,formatHref:xG,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function bG(e,t=null){let n=Object.assign({},yG);e&&(n=Object.assign(n,e instanceof bG?e.o:e));const i=n.ignoreTags,r=[];for(let o=0;o<i.length;o++)r.push(i[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=r}function xG(e){return e}function _G(e,t){this.t="token",this.v=e,this.tk=t}function wG(e,t){class n extends _G{constructor(t,n){super(t,n),this.t=e}}for(const i in t)n.prototype[i]=t[i];return n.t=e,n}bG.prototype={o:yG,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const i=null!=t;let r=this.o[e];return r?("object"==typeof r?(r=n.t in r?r[n.t]:yG[e],"function"==typeof r&&i&&(r=r(t,n))):"function"==typeof r&&i&&(r=r(t,n.t,n)),r):r},getObj(e,t,n){let i=this.o[e];return"function"==typeof i&&null!=t&&(i=i(t,n.t,n)),i},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}},_G.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),i=e.get("format",t,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=yG.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),i=e.get("formatHref",n,this),r=e.get("tagName",n,t),o=this.toFormattedString(e),a={},s=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),h=e.getObj("events",n,t);return a.href=i,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),u&&Object.assign(a,u),{tagName:r,attributes:a,content:o,eventListeners:h}}};const SG=wG("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),MG=wG("text"),kG=wG("nl"),CG=wG("url",{isLink:!0,toHref(e=yG.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==uj&&e[1].t===Hj}}),TG=e=>new tj(e);function AG(e,t,n){const i=n[0].s,r=n[n.length-1].e;return new e(t.slice(i,r),n)}const IG="undefined"!=typeof console&&console&&console.warn||(()=>{}),DG={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function OG(e,t=!1){if(DG.initialized&&IG(`linkifyjs: already initialized - will not register custom scheme "${e}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');DG.customSchemes.push([e,t])}function EG(){DG.scanner=function e(t=[]){const n={};tj.groups=n;const i=new tj;null==pG&&(pG=vG("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==fG&&(fG=vG("121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222")),oj(i,"'",Nj),oj(i,"{",yj),oj(i,"}",bj),oj(i,"[",xj),oj(i,"]",_j),oj(i,"(",wj),oj(i,")",Sj),oj(i,"<",Mj),oj(i,">",kj),oj(i,"",Cj),oj(i,"",Tj),oj(i,"",Aj),oj(i,"",Ij),oj(i,"",Dj),oj(i,"",Oj),oj(i,"",Ej),oj(i,"",Lj),oj(i,"&",Rj),oj(i,"*",Pj),oj(i,"@",zj),oj(i,"`",Vj),oj(i,"^",Fj),oj(i,":",Hj),oj(i,",",Wj),oj(i,"$",$j),oj(i,".",jj),oj(i,"=",Gj),oj(i,"!",Uj),oj(i,"-",Xj),oj(i,"%",qj),oj(i,"|",Yj),oj(i,"+",Zj),oj(i,"#",Kj),oj(i,"?",Jj),oj(i,'"',Qj),oj(i,"/",nG),oj(i,";",tG),oj(i,"~",iG),oj(i,"_",rG),oj(i,"\\",Bj),oj(i,"",eG);const r=ij(i,hG,gj,{[$$]:!0});ij(r,hG,r);const o=ij(r,lG,lj,{[U$]:!0}),a=ij(r,cG,cj,{[X$]:!0}),s=ij(i,lG,aj,{[j$]:!0});ij(s,hG,o),ij(s,lG,s),ij(o,hG,o),ij(o,lG,o);const l=ij(i,cG,sj,{[G$]:!0});ij(l,lG),ij(l,hG,a),ij(l,cG,l),ij(a,hG,a),ij(a,lG),ij(a,cG,a);const c=oj(i,"\n",vj,{[J$]:!0}),u=oj(i,"\r",mj,{[J$]:!0}),h=ij(i,dG,mj,{[J$]:!0});oj(i,"",h),oj(u,"\n",c),oj(u,"",h),ij(u,dG,h),oj(h,"\r"),oj(h,"\n"),ij(h,dG,h),oj(h,"",h);const d=ij(i,uG,oG,{[Y$]:!0});oj(d,"#"),ij(d,uG,d),oj(d,"",d);const p=oj(d,"");oj(p,"#"),ij(p,uG,d);const f=[[lG,s],[hG,o]],g=[[lG,null],[cG,l],[hG,a]];for(let e=0;e<pG.length;e++)mG(i,pG[e],hj,aj,f);for(let e=0;e<fG.length;e++)mG(i,fG[e],dj,sj,g);ej(hj,{tld:!0,ascii:!0},n),ej(dj,{utld:!0,alpha:!0},n),mG(i,"file",pj,aj,f),mG(i,"mailto",pj,aj,f),mG(i,"http",fj,aj,f),mG(i,"https",fj,aj,f),mG(i,"ftp",fj,aj,f),mG(i,"ftps",fj,aj,f),ej(pj,{scheme:!0,ascii:!0},n),ej(fj,{slashscheme:!0,ascii:!0},n),t=t.sort((e,t)=>e[0]>t[0]?1:-1);for(let e=0;e<t.length;e++){const n=t[e][0],r=t[e][1]?{[Z$]:!0}:{[K$]:!0};n.indexOf("-")>=0?r[q$]=!0:lG.test(n)?hG.test(n)?r[U$]=!0:r[j$]=!0:r[$$]=!0,rj(i,n,n,r)}return rj(i,"localhost",uj,{ascii:!0}),i.jd=new tj(aG),{start:i,tokens:Object.assign({groups:n},sG)}}(DG.customSchemes);for(let n=0;n<DG.tokenQueue.length;n++)DG.tokenQueue[n][1]({scanner:DG.scanner});DG.parser=function t({groups:e}){const t=e.domain.concat([Rj,Pj,zj,Bj,Vj,Fj,$j,Gj,Xj,gj,qj,Yj,Zj,Kj,nG,aG,iG,rG]),n=[Nj,Hj,Wj,jj,Uj,qj,Jj,Qj,tG,Mj,kj,yj,bj,_j,xj,wj,Sj,Cj,Tj,Aj,Ij,Dj,Oj,Ej,Lj],i=[Rj,Nj,Pj,Bj,Vj,Fj,$j,Gj,Xj,yj,bj,qj,Yj,Zj,Kj,Jj,nG,aG,iG,rG],r=TG(),o=oj(r,iG);nj(o,i,o),nj(o,e.domain,o);const a=TG(),s=TG(),l=TG();nj(r,e.domain,a),nj(r,e.scheme,s),nj(r,e.slashscheme,l),nj(a,i,o),nj(a,e.domain,a);const c=oj(a,zj);oj(o,zj,c),oj(s,zj,c),oj(l,zj,c);const u=oj(o,jj);nj(u,i,o),nj(u,e.domain,o);const h=TG();nj(c,e.domain,h),nj(h,e.domain,h);const d=oj(h,jj);nj(d,e.domain,h);const p=TG(SG);nj(d,e.tld,p),nj(d,e.utld,p),oj(c,uj,p);const f=oj(h,Xj);oj(f,Xj,f),nj(f,e.domain,h),nj(p,e.domain,h),oj(p,jj,d),oj(p,Xj,f);const g=oj(p,Hj);nj(g,e.numeric,SG);const m=oj(a,Xj),v=oj(a,jj);oj(m,Xj,m),nj(m,e.domain,a),nj(v,i,o),nj(v,e.domain,a);const y=TG(CG);nj(v,e.tld,y),nj(v,e.utld,y),nj(y,e.domain,a),nj(y,i,o),oj(y,jj,v),oj(y,Xj,m),oj(y,zj,c);const b=oj(y,Hj),x=TG(CG);nj(b,e.numeric,x);const _=TG(CG),w=TG();nj(_,t,_),nj(_,n,w),nj(w,t,_),nj(w,n,w),oj(y,nG,_),oj(x,nG,_);const S=oj(s,Hj),M=oj(l,Hj),k=oj(M,nG),C=oj(k,nG);nj(s,e.domain,a),oj(s,jj,v),oj(s,Xj,m),nj(l,e.domain,a),oj(l,jj,v),oj(l,Xj,m),nj(S,e.domain,_),oj(S,nG,_),oj(S,Jj,_),nj(C,e.domain,_),nj(C,t,_),oj(C,nG,_);const T=[[yj,bj],[xj,_j],[wj,Sj],[Mj,kj],[Cj,Tj],[Aj,Ij],[Dj,Oj],[Ej,Lj]];for(let A=0;A<T.length;A++){const[e,i]=T[A],r=oj(_,e);oj(w,e,r),oj(r,i,_);const o=TG(CG);nj(r,t,o);const a=TG();nj(r,n),nj(o,t,o),nj(o,n,a),nj(a,t,o),nj(a,n,a),oj(o,i,_),oj(a,i,_)}return oj(r,uj,y),oj(r,vj,kG),{start:r,tokens:sG}}(DG.scanner.tokens);for(let n=0;n<DG.pluginQueue.length;n++)DG.pluginQueue[n][1]({scanner:DG.scanner,parser:DG.parser});return DG.initialized=!0,DG}function LG(e){return DG.initialized||EG(),function t(e,n,i){let r=i.length,o=0,a=[],s=[];for(;o<r;){let t=e,l=null,c=null,u=0,h=null,d=-1;for(;o<r&&!(l=t.go(i[o].t));)s.push(i[o++]);for(;o<r&&(c=l||t.go(i[o].t));)l=null,t=c,t.accepts()?(d=0,h=t):d>=0&&d++,o++,u++;if(d<0)o-=u,o<r&&(s.push(i[o]),o++);else{s.length>0&&(a.push(AG(MG,n,s)),s=[]),o-=d,u-=d;const e=h.t,t=i.slice(o-u,o);a.push(AG(e,n,t))}}return s.length>0&&a.push(AG(MG,n,s)),a}(DG.parser.start,e,gG(DG.scanner.start,e))}function RG(e,t=null,n=null){if(t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const i=new bG(n),r=LG(e),o=[];for(let a=0;a<r.length;a++){const e=r[a];!e.isLink||t&&e.t!==t||!i.check(e)||o.push(e.toFormattedObject(i))}return o}LG.scan=gG;var NG="[\0- -\u2029]",PG=new RegExp(NG),zG=new RegExp(`${NG}$`),BG=new RegExp(NG,"g");function VG(e){return new LO({key:new PO("autolink"),appendTransaction:(t,n,i)=>{const r=t.some(e=>e.docChanged)&&!n.doc.eq(i.doc),o=t.some(e=>e.getMeta("preventAutolink"));if(!r||o)return;const{tr:a}=i,s=function l(e,t){const n=new dO(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}(n.doc,[...t]),c=function u(e){const{mapping:t,steps:n}=e,i=[];return t.maps.forEach((e,r)=>{const o=[];if(e.ranges.length)e.forEach((e,t)=>{o.push({from:e,to:t})});else{const{from:e,to:t}=n[r];if(void 0===e||void 0===t)return;o.push({from:e,to:t})}o.forEach(({from:e,to:n})=>{const o=t.slice(r).map(e,-1),a=t.slice(r).map(n),s=t.invert().map(o,-1),l=t.invert().map(a);i.push({oldRange:{from:s,to:l},newRange:{from:o,to:a}})})}),PP(i)}(s);return c.forEach(({newRange:t})=>{const n=function r(e,t,n){const i=[];return e.nodesBetween(t.from,t.to,(e,t)=>{n(e)&&i.push({node:e,pos:t})}),i}(i.doc,t,e=>e.isTextblock);let o,s;if(n.length>1)o=n[0],s=i.doc.textBetween(o.pos,o.pos+o.node.nodeSize,void 0," ");else if(n.length){const e=i.doc.textBetween(t.from,t.to," "," ");if(!zG.test(e))return;o=n[0],s=i.doc.textBetween(o.pos,t.to,void 0," ")}if(o&&s){const t=s.split(PG).filter(Boolean);if(t.length<=0)return!1;const n=t[t.length-1],r=o.pos+s.lastIndexOf(n);if(!n)return!1;const l=LG(n).map(t=>t.toObject(e.defaultProtocol));if(!function c(e){return 1===e.length?e[0].isLink:!(3!==e.length||!e[1].isLink)&&["()","[]"].includes(e[0].value+e[2].value)}(l))return!1;l.filter(e=>e.isLink).map(e=>({...e,from:r+e.start+1,to:r+e.end+1})).filter(e=>!i.schema.marks.code||!i.doc.rangeHasMark(e.from,e.to,i.schema.marks.code)).filter(t=>e.validate(t.value)).filter(t=>e.shouldAutoLink(t.value)).forEach(t=>{zP(t.from,t.to,i.doc).some(t=>t.mark.type===e.type)||a.addMark(t.from,t.to,e.type.create({href:t.href}))})}}),a.steps.length?a:void 0}})}function FG(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{const t="string"==typeof e?e:e.scheme;t&&n.push(t)}),!e||e.replace(BG,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var HG=iP.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate),this.options.protocols.forEach(e=>{"string"!=typeof e?OG(e.scheme,e.optionalSlashes):OG(e)})},onDestroy(){!function e(){return tj.groups={},DG.scanner=null,DG.parser=null,DG.tokenQueue=[],DG.pluginQueue=[],DG.customSchemes=[],DG.initialized=!1,DG}()},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!FG(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!(!t||!this.options.isAllowedUri(t,{defaultValidate:e=>!!FG(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:e=>!!FG(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",WN(this.options.HTMLAttributes,e),0]:["a",WN(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const i=(null==(n=e.attrs)?void 0:n.href)||"";return`[${t.renderChildren(e)}](${i})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return!!this.options.isAllowedUri(n,{defaultValidate:e=>!!FG(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&t().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return!(n&&!this.options.isAllowedUri(n,{defaultValidate:e=>!!FG(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[cz({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:i}=this.options,r=RG(e).filter(e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!FG(e,n),protocols:n,defaultProtocol:i}));r.length&&r.forEach(e=>{this.options.shouldAutoLink(e.value)&&t.push({text:e.value,data:{href:e.href},index:e.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(VG({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!FG(e,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),!0===this.options.openOnClick&&e.push(function i(e){return new LO({key:new PO("handleClickLink"),props:{handleClick:(t,n,i)=>{var r,o;if(0!==i.button)return!1;if(!t.editable)return!1;let a=null;if(i.target instanceof HTMLAnchorElement)a=i.target;else{let e=i.target;const t=[];for(;"DIV"!==e.nodeName;)t.push(e),e=e.parentNode;a=t.find(e=>"A"===e.nodeName)}if(!a)return!1;const s=NP(t.state,e.type.name),l=null!=(r=null==a?void 0:a.href)?r:s.href,c=null!=(o=null==a?void 0:a.target)?o:s.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),!(!a||!l||(window.open(l,c),0))}}})}({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(function r(e){return new LO({key:new PO("handlePasteLink"),props:{handlePaste:(t,n,i)=>{const{shouldAutoLink:r}=e,{state:o}=t,{selection:a}=o,{empty:s}=a;if(s)return!1;let l="";i.content.forEach(e=>{l+=e.textContent});const c=RG(l,{defaultProtocol:e.defaultProtocol}).find(e=>e.isLink&&e.value===l);return!(!l||!c||void 0!==r&&!r(c.href))&&e.editor.commands.setMark(e.type,{href:c.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),WG=HG,$G=(e,t=0)=>{const n=[];return!e.children.length||t>20||Array.from(e.children).forEach(e=>{"SPAN"===e.tagName?n.push(e):e.children.length&&n.push(...$G(e,t+1))}),n},jG=iP.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{},mergeNestedSpanStyles:!0}),parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>!!e.hasAttribute("style")&&(this.options.mergeNestedSpanStyles&&(e=>{if(!e.children.length)return;const t=$G(e);t&&t.forEach(e=>{var t,n;const i=e.getAttribute("style"),r=null==(n=null==(t=e.parentElement)?void 0:t.closest("span"))?void 0:n.getAttribute("style");e.setAttribute("style",`${r};${i}`)})})(e),{})}]},renderHTML({HTMLAttributes:e}){return["span",WN(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(t,n)=>{if(t.isTextblock)return!0;t.marks.filter(e=>e.type===this.type).some(e=>Object.values(e.attrs).some(e=>!!e))||e.removeMark(n,n+t.nodeSize,this.type)}),!0}}}}),GG=cP.create({name:"backgroundColor",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const e=n.split(";").map(e=>e.trim()).filter(Boolean);for(let t=e.length-1;t>=0;t-=1){const n=e[t].split(":");if(n.length>=2){const e=n[0].trim().toLowerCase(),t=n.slice(1).join(":").trim();if("background-color"===e)return t.replace(/['"]+/g,"")}}}return null==(t=e.style.backgroundColor)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands:()=>({setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()})}),UG=cP.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const e=n.split(";").map(e=>e.trim()).filter(Boolean);for(let t=e.length-1;t>=0;t-=1){const n=e[t].split(":");if(n.length>=2){const e=n[0].trim().toLowerCase(),t=n.slice(1).join(":").trim();if("color"===e)return t.replace(/['"]+/g,"")}}}return null==(t=e.style.color)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands:()=>({setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()})}),XG=cP.create({name:"fontFamily",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands:()=>({setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()})}),qG=cP.create({name:"fontSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands:()=>({setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()})}),YG=cP.create({name:"lineHeight",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands:()=>({setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()})});cP.create({name:"textStyleKit",addExtensions(){const e=[];return!1!==this.options.backgroundColor&&e.push(GG.configure(this.options.backgroundColor)),!1!==this.options.color&&e.push(UG.configure(this.options.color)),!1!==this.options.fontFamily&&e.push(XG.configure(this.options.fontFamily)),!1!==this.options.fontSize&&e.push(qG.configure(this.options.fontSize)),!1!==this.options.lineHeight&&e.push(YG.configure(this.options.lineHeight)),!1!==this.options.textStyle&&e.push(jG.configure(this.options.textStyle)),e}});var ZG=UG,KG=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,JG=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,QG=iP.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:e}){return["mark",WN(this.options.HTMLAttributes,e),0]},renderMarkdown:(e,t)=>`==${t.renderChildren(e)}==`,parseMarkdown:(e,t)=>t.applyMark("highlight",t.parseInline(e.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:e=>e.indexOf("=="),tokenize(e,t,n){const i=/^(==)([^=]+)(==)/.exec(e);if(i){const e=i[2].trim(),t=n.inlineTokens(e);return{type:"highlight",raw:i[0],text:e,tokens:t}}}},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[iz({find:KG,type:this.type})]},addPasteRules(){return[cz({find:JG,type:this.type})]}}),eU=QG,tU=function(e,t){return(tU=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function nU(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}tU(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var iU=function(){return function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}}(),rU=new(function(){return function e(){this.browser=new iU,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window}}());"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(rU.wxa=!0,rU.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?rU.worker=!0:!rU.hasGlobalWindow||"Deno"in window||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Node.js")>-1?(rU.node=!0,rU.svgSupported=!0):function oU(e,t){var n=t.browser,i=e.match(/Firefox\/([\d.]+)/),r=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(e);i&&(n.firefox=!0,n.version=i[1]);r&&(n.ie=!0,n.version=r[1]);o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18);a&&(n.weChat=!0);if(t.svgSupported="undefined"!=typeof SVGRect,t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported="undefined"!=typeof document){var s=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}}(navigator.userAgent,rU);var aU="sans-serif",sU="12px "+aU;var lU=function cU(e){var t={};if("undefined"==typeof JSON)return t;for(var n=0;n<e.length;n++){var i=String.fromCharCode(n+32),r=(e.charCodeAt(n)-20)/100;t[i]=r}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),uU={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,i){if(!e){var r=uU.createCanvas();e=r&&r.getContext("2d")}if(e)return t!==i&&(t=e.font=i||sU),e.measureText(n);n=n||"";var o=/((?:\d+)?\.?\d*)px/.exec(i=i||sU),a=o&&+o[1]||12,s=0;if(i.indexOf("mono")>=0)s=a*n.length;else for(var l=0;l<n.length;l++){var c=lU[n[l]];s+=null==c?a:c*a}return{width:s}}}(),loadImage:function(e,t,n){var i=new Image;return i.onload=t,i.onerror=n,i.src=e,i}},hU=NU(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),dU=NU(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),pU=Object.prototype.toString,fU=Array.prototype,gU=fU.forEach,mU=fU.filter,vU=fU.slice,yU=fU.map,bU=function(){}.constructor,xU=bU?bU.prototype:null,_U="__proto__",wU=2311;function SU(){return wU++}function MU(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function kU(e){if(null==e||"object"!=typeof e)return e;var t=e,n=pU.call(e);if("[object Array]"===n){if(!lX(e)){t=[];for(var i=0,r=e.length;i<r;i++)t[i]=kU(e[i])}}else if(dU[n]){if(!lX(e)){var o=e.constructor;if(o.from)t=o.from(e);else{t=new o(e.length);for(i=0,r=e.length;i<r;i++)t[i]=e[i]}}}else if(!hU[n]&&!lX(e)&&!ZU(e))for(var a in t={},e)e.hasOwnProperty(a)&&a!==_U&&(t[a]=kU(e[a]));return t}function CU(e,t,n){if(!XU(t)||!XU(e))return n?kU(t):e;for(var i in t)if(t.hasOwnProperty(i)&&i!==_U){var r=e[i],o=t[i];!XU(o)||!XU(r)||WU(o)||WU(r)||ZU(o)||ZU(r)||qU(o)||qU(r)||lX(o)||lX(r)?!n&&i in e||(e[i]=kU(t[i])):CU(r,o,n)}return e}function TU(e,t){for(var n=e[0],i=1,r=e.length;i<r;i++)n=CU(n,e[i],t);return n}function AU(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==_U&&(e[n]=t[n]);return e}function IU(e,t,n){for(var i=BU(t),r=0,o=i.length;r<o;r++){var a=i[r];(n?null!=t[a]:null==e[a])&&(e[a]=t[a])}return e}function DU(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function OU(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(n?null!=t[o]:null==e[o])&&(e[o]=t[o])}else IU(e,t,n)}function EU(e){return!!e&&("string"!=typeof e&&"number"==typeof e.length)}function LU(e,t,n){if(e&&t)if(e.forEach&&e.forEach===gU)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function RU(e,t,n){if(!e)return[];if(!t)return nX(e);if(e.map&&e.map===yU)return e.map(t,n);for(var i=[],r=0,o=e.length;r<o;r++)i.push(t.call(n,e[r],r,e));return i}function NU(e,t,n,i){if(e&&t){for(var r=0,o=e.length;r<o;r++)n=t.call(i,n,e[r],r,e);return n}}function PU(e,t,n){if(!e)return[];if(!t)return nX(e);if(e.filter&&e.filter===mU)return e.filter(t,n);for(var i=[],r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i}function zU(e,t,n){if(e&&t)for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return e[i]}function BU(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}var VU=xU&&$U(xU.bind)?xU.call.bind(xU.bind):function FU(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return e.apply(t,n.concat(vU.call(arguments)))}};function HU(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(vU.call(arguments)))}}function WU(e){return Array.isArray?Array.isArray(e):"[object Array]"===pU.call(e)}function $U(e){return"function"==typeof e}function jU(e){return"string"==typeof e}function GU(e){return"[object String]"===pU.call(e)}function UU(e){return"number"==typeof e}function XU(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function qU(e){return!!hU[pU.call(e)]}function YU(e){return!!dU[pU.call(e)]}function ZU(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function KU(e){return null!=e.colorStops}function JU(e){return e!=e}function QU(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e.length;n<i;n++)if(null!=e[n])return e[n]}function eX(e,t){return null!=e?e:t}function tX(e,t,n){return null!=e?e:null!=t?t:n}function nX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return vU.apply(e,t)}function iX(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function rX(e,t){if(!e)throw new Error(t)}function oX(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var aX="__ec_primitive__";function sX(e){e[aX]=!0}function lX(e){return e[aX]}var cX=function(){function e(){this.data={}}return e.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},e.prototype.has=function(e){return this.data.hasOwnProperty(e)},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){return this.data[e]=t,this},e.prototype.keys=function(){return BU(this.data)},e.prototype.forEach=function(e){var t=this.data;for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},e}(),uX="function"==typeof Map;var hX=function(){function e(t){var n=WU(t);this.data=function i(){return uX?new Map:new cX}();var r=this;function o(e,t){n?r.set(e,t):r.set(t,e)}t instanceof e?t.each(o):t&&LU(t,o)}return e.prototype.hasKey=function(e){return this.data.has(e)},e.prototype.get=function(e){return this.data.get(e)},e.prototype.set=function(e,t){return this.data.set(e,t),t},e.prototype.each=function(e,t){this.data.forEach(function(n,i){e.call(t,n,i)})},e.prototype.keys=function(){var e=this.data.keys();return uX?Array.from(e):e},e.prototype.removeKey=function(e){this.data.delete(e)},e}();function dX(e){return new hX(e)}function pX(e,t){for(var n=new e.constructor(e.length+t.length),i=0;i<e.length;i++)n[i]=e[i];var r=e.length;for(i=0;i<t.length;i++)n[i+r]=t[i];return n}function fX(e,t){var n;if(Object.create)n=Object.create(e);else{var i=function(){};i.prototype=e,n=new i}return t&&AU(n,t),n}function gX(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function mX(e,t){return e.hasOwnProperty(t)}function vX(){}var yX=180/Math.PI,bX=function(e,t){return(bX=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function xX(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}bX(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function _X(e,t){return null==e&&(e=0),null==t&&(t=0),[e,t]}function wX(e,t){return e[0]=t[0],e[1]=t[1],e}function SX(e){return[e[0],e[1]]}function MX(e,t,n){return e[0]=t,e[1]=n,e}function kX(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function CX(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function TX(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function AX(e){return Math.sqrt(function t(e){return e[0]*e[0]+e[1]*e[1]}(e))}function IX(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function DX(e,t){var n=AX(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function OX(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var EX=OX;var LX=function RX(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])};function NX(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e}function PX(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r+n[4],e[1]=n[1]*i+n[3]*r+n[5],e}function zX(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function BX(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var VX=function(){return function e(t,n){this.target=t,this.topTarget=n&&n.topTarget}}(),FX=function(){function e(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new VX(t,e),"dragstart",e.event))},e.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,t.drift(r,o,e),this.handler.dispatchToElement(new VX(t,e),"drag",e.event);var a=this.handler.findHover(n,i,t).target,s=this._dropTarget;this._dropTarget=a,t!==a&&(s&&a!==s&&this.handler.dispatchToElement(new VX(s,e),"dragleave",e.event),a&&a!==s&&this.handler.dispatchToElement(new VX(a,e),"dragenter",e.event))}},e.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new VX(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new VX(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},e}(),HX=function(){function e(e){e&&(this._$eventProcessor=e)}return e.prototype.on=function(e,t,n,i){this._$handlers||(this._$handlers={});var r=this._$handlers;if("function"==typeof t&&(i=n,n=t,t=null),!n||!e)return this;var o=this._$eventProcessor;null!=t&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),r[e]||(r[e]=[]);for(var a=0;a<r[e].length;a++)if(r[e][a].h===n)return this;var s={h:n,query:t,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=r[e].length-1,c=r[e][l];return c&&c.callAtLast?r[e].splice(l,0,s):r[e].push(s),this},e.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},e.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],r=0,o=n[e].length;r<o;r++)n[e][r].h!==t&&i.push(n[e][r]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],r=this._$eventProcessor;if(i)for(var o=t.length,a=i.length,s=0;s<a;s++){var l=i[s];if(!r||!r.filter||null==l.query||r.filter(e,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,t[0]);break;case 2:l.h.call(l.ctx,t[0],t[1]);break;default:l.h.apply(l.ctx,t)}}return r&&r.afterTrigger&&r.afterTrigger(e),this},e.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],r=this._$eventProcessor;if(i)for(var o=t.length,a=t[o-1],s=i.length,l=0;l<s;l++){var c=i[l];if(!r||!r.filter||null==c.query||r.filter(e,c.query))switch(o){case 0:c.h.call(a);break;case 1:c.h.call(a,t[0]);break;case 2:c.h.call(a,t[0],t[1]);break;default:c.h.apply(a,t.slice(1,o-1))}}return r&&r.afterTrigger&&r.afterTrigger(e),this},e}(),WX=Math.log(2);function $X(e,t,n,i,r,o){var a=i+"-"+r,s=e.length;if(o.hasOwnProperty(a))return o[a];if(1===t){var l=Math.round(Math.log((1<<s)-1&~r)/WX);return e[n][l]}for(var c=i|1<<n,u=n+1;i&1<<u;)u++;for(var h=0,d=0,p=0;d<s;d++){var f=1<<d;f&r||(h+=(p%2?-1:1)*e[n][d]*$X(e,t-1,u,c,r|f,o),p++)}return o[a]=h,h}function jX(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],i={},r=$X(n,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*$X(n,7,0===a?1:0,1<<a,1<<s,i)/r*t[a];return function(e,t,n){var i=t*o[6]+n*o[7]+1;e[0]=(t*o[0]+n*o[1]+o[2])/i,e[1]=(t*o[3]+n*o[4]+o[5])/i}}}var GX="___zrEVENTSAVED",UX=[];function XX(e,t,n,i,r){if(t.getBoundingClientRect&&rU.domSupported&&!qX(t)){var o=t[GX]||(t[GX]={}),a=function l(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=o%2,l=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[s]+":0",r[l]+":0",i[1-s]+":auto",r[1-l]+":auto",""].join("!important;"),e.appendChild(a),n.push(a)}return t.clearMarkers=function(){LU(n,function(e){e.parentNode&&e.parentNode.removeChild(e)})},n}(t,o),s=function c(e,t,n){for(var i=n?"invTrans":"trans",r=t[i],o=t.srcCoords,a=[],s=[],l=!0,c=0;c<4;c++){var u=e[c].getBoundingClientRect(),h=2*c,d=u.left,p=u.top;a.push(d,p),l=l&&o&&d===o[h]&&p===o[h+1],s.push(e[c].offsetLeft,e[c].offsetTop)}return l&&r?r:(t.srcCoords=a,t[i]=n?jX(s,a):jX(a,s))}(a,o,r);if(s)return s(e,n,i),!0}return!1}function qX(e){return"CANVAS"===e.nodeName.toUpperCase()}var YX=/([&<>"'])/g,ZX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function KX(e){return null==e?"":(e+"").replace(YX,function(e,t){return ZX[t]})}var JX=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,QX=[],eq=rU.browser.firefox&&+rU.browser.version.split(".")[0]<39;function tq(e,t,n,i){return n=n||{},i?nq(e,t,n):eq&&null!=t.layerX&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):null!=t.offsetX?(n.zrX=t.offsetX,n.zrY=t.offsetY):nq(e,t,n),n}function nq(e,t,n){if(rU.domSupported&&e.getBoundingClientRect){var i=t.clientX,r=t.clientY;if(qX(e)){var o=e.getBoundingClientRect();return n.zrX=i-o.left,void(n.zrY=r-o.top)}if(XX(QX,e,i,r))return n.zrX=QX[0],void(n.zrY=QX[1])}n.zrX=n.zrY=0}function iq(e){return e||window.event}function rq(e,t,n){if(null!=(t=iq(t)).zrX)return t;var i=t.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?t.targetTouches[0]:t.changedTouches[0];r&&tq(e,r,t,n)}else{tq(e,t,t,n);var o=function i(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,i=e.deltaY;if(null==n||null==i)return t;return 3*(0!==i?Math.abs(i):Math.abs(n))*(i>0?-1:i<0?1:n>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var a=t.button;return null==t.which&&void 0!==a&&JX.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function oq(e,t,n,i){e.addEventListener(t,n,i)}function aq(e,t,n,i){e.removeEventListener(t,n,i)}var sq=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function lq(e){return 2===e.which||3===e.which}var cq=function(){function e(){this._track=[]}return e.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(e,t,n){var i=e.touches;if(i){for(var r={points:[],touches:[],target:t,event:e},o=0,a=i.length;o<a;o++){var s=i[o],l=tq(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},e.prototype._recognize=function(e){for(var t in hq)if(hq.hasOwnProperty(t)){var n=hq[t](this._track,e);if(n)return n}},e}();function uq(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}var hq={pinch:function(e,t){var n=e.length;if(n){var i=(e[n-1]||{}).points,r=(e[n-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var o=uq(i)/uq(r);!isFinite(o)&&(o=1),t.pinchScale=o;var a=function n(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}(i);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:e[0].target,event:t}}}}};function dq(){return[1,0,0,1,0,0]}function pq(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function fq(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function gq(e,t,n){var i=t[0]*n[0]+t[2]*n[1],r=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=i,e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e}function mq(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function vq(e,t,n,i){void 0===i&&(i=[0,0]);var r=t[0],o=t[2],a=t[4],s=t[1],l=t[3],c=t[5],u=Math.sin(n),h=Math.cos(n);return e[0]=r*h+s*u,e[1]=-r*u+s*h,e[2]=o*h+l*u,e[3]=-o*u+h*l,e[4]=h*(a-i[0])+u*(c-i[1])+i[0],e[5]=h*(c-i[1])-u*(a-i[0])+i[1],e}function yq(e,t,n){var i=n[0],r=n[1];return e[0]=t[0]*i,e[1]=t[1]*r,e[2]=t[2]*i,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*r,e}function bq(e,t){var n=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=n*a-o*i;return l?(l=1/l,e[0]=a*l,e[1]=-o*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-a*r)*l,e[5]=(o*r-n*s)*l,e):null}var xq=function(){function e(e,t){this.x=e||0,this.y=t||0}return e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},e.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},e.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},e.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},e.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},e.set=function(e,t,n){e.x=t,e.y=n},e.copy=function(e,t){e.x=t.x,e.y=t.y},e.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.lenSquare=function(e){return e.x*e.x+e.y*e.y},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},e.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},e.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},e.scaleAndAdd=function(e,t,n,i){e.x=t.x+n.x*i,e.y=t.y+n.y*i},e.lerp=function(e,t,n,i){var r=1-i;e.x=r*t.x+i*n.x,e.y=r*t.y+i*n.y},e}(),_q=Math.min,wq=Math.max,Sq=Math.abs,Mq=["x","y"],kq=["width","height"],Cq=new xq,Tq=new xq,Aq=new xq,Iq=new xq,Dq=Bq(),Oq=Dq.minTv,Eq=Dq.maxTv,Lq=[0,0],Rq=function(){function e(t,n,i,r){e.set(this,t,n,i,r)}return e.set=function(e,t,n,i,r){return i<0&&(t+=i,i=-i),r<0&&(n+=r,r=-r),e.x=t,e.y=n,e.width=i,e.height=r,e},e.prototype.union=function(e){var t=_q(e.x,this.x),n=_q(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=wq(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=wq(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,i=e.height/t.height,r=[1,0,0,1,0,0];return mq(r,r,[-t.x,-t.y]),yq(r,r,[n,i]),mq(r,r,[e.x,e.y]),r},e.prototype.intersect=function(t,n,i){return e.intersect(this,t,n,i)},e.intersect=function(t,n,i,r){i&&xq.set(i,0,0);var o=r&&r.outIntersectRect||null,a=r&&r.clamp;if(o&&(o.x=o.y=o.width=o.height=NaN),!t||!n)return!1;t instanceof e||(t=e.set(Nq,t.x,t.y,t.width,t.height)),n instanceof e||(n=e.set(Pq,n.x,n.y,n.width,n.height));var s=!!i;Dq.reset(r,s);var l=Dq.touchThreshold,c=t.x+l,u=t.x+t.width-l,h=t.y+l,d=t.y+t.height-l,p=n.x+l,f=n.x+n.width-l,g=n.y+l,m=n.y+n.height-l;if(c>u||h>d||p>f||g>m)return!1;var v=!(u<p||f<c||d<g||m<h);return(s||o)&&(Lq[0]=1/0,Lq[1]=0,zq(c,u,p,f,0,s,o,a),zq(h,d,g,m,1,s,o,a),s&&xq.copy(i,v?Dq.useDir?Dq.dirMinTv:Oq:Eq)),v},e.contain=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},e.prototype.contain=function(t,n){return e.contain(this,t,n)},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return 0===this.width||0===this.height},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(e,t){return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e},e.applyTransform=function(t,n,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],a=i[4],s=i[5];return t.x=n.x*r+a,t.y=n.y*o+s,t.width=n.width*r,t.height=n.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}Cq.x=Aq.x=n.x,Cq.y=Iq.y=n.y,Tq.x=Iq.x=n.x+n.width,Tq.y=Aq.y=n.y+n.height,Cq.transform(i),Iq.transform(i),Tq.transform(i),Aq.transform(i),t.x=_q(Cq.x,Tq.x,Aq.x,Iq.x),t.y=_q(Cq.y,Tq.y,Aq.y,Iq.y);var l=wq(Cq.x,Tq.x,Aq.x,Iq.x),c=wq(Cq.y,Tq.y,Aq.y,Iq.y);t.width=l-t.x,t.height=c-t.y}else t!==n&&e.copy(t,n)},e}(),Nq=new Rq(0,0,0,0),Pq=new Rq(0,0,0,0);function zq(e,t,n,i,r,o,a,s){var l=Sq(t-n),c=Sq(i-e),u=_q(l,c),h=Mq[r],d=Mq[1-r],p=kq[r];t<n||i<e?l<c?(o&&(Eq[h]=-l),s&&(a[h]=t,a[p]=0)):(o&&(Eq[h]=c),s&&(a[h]=e,a[p]=0)):(a&&(a[h]=wq(e,n),a[p]=_q(t,i)-a[h]),o&&(u<Lq[0]||Dq.useDir)&&(Lq[0]=_q(u,Lq[0]),(l<c||!Dq.bidirectional)&&(Oq[h]=l,Oq[d]=0,Dq.useDir&&Dq.calcDirMTV()),(l>=c||!Dq.bidirectional)&&(Oq[h]=-c,Oq[d]=0,Dq.useDir&&Dq.calcDirMTV())))}function Bq(){var e=0,t=new xq,n=new xq,i={minTv:new xq,maxTv:new xq,useDir:!1,dirMinTv:new xq,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(r,o){i.touchThreshold=0,r&&null!=r.touchThreshold&&(i.touchThreshold=wq(0,r.touchThreshold)),i.negativeSize=!1,o&&(i.minTv.set(1/0,1/0),i.maxTv.set(0,0),i.useDir=!1,r&&null!=r.direction&&(i.useDir=!0,i.dirMinTv.copy(i.minTv),n.copy(i.minTv),e=r.direction,i.bidirectional=null==r.bidirectional||!!r.bidirectional,i.bidirectional||t.set(Math.cos(e),Math.sin(e))))},calcDirMTV:function(){var o=i.minTv,a=i.dirMinTv,s=o.y*o.y+o.x*o.x,l=Math.sin(e),c=Math.cos(e),u=l*o.y+c*o.x;r(u)?r(o.x)&&r(o.y)&&a.set(0,0):(n.x=s*c/u,n.y=s*l/u,r(n.x)&&r(n.y)?a.set(0,0):(i.bidirectional||t.dot(n)>0)&&n.len()<a.len()&&a.copy(n))}};function r(e){return Sq(e)<1e-10}return i}var Vq="silent";function Fq(){sq(this.event)}var Hq=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handler=null,t}return xX(t,e),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(HX),Wq=function(){return function e(t,n){this.x=t,this.y=n}}(),$q=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],jq=new Rq(0,0,0,0),Gq=function(e){function t(t,n,i,r,o){var a=e.call(this)||this;return a._hovered=new Wq(0,0),a.storage=t,a.painter=n,a.painterRoot=r,a._pointerSize=o,i=i||new Hq,a.proxy=null,a.setHandlerProxy(i),a._draggingMgr=new FX(a),a}return xX(t,e),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(LU($q,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var t=e.zrX,n=e.zrY,i=qq(this,t,n),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var a=this._hovered=i?new Wq(t,n):this.findHover(t,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(r,"mouseout",e),this.dispatchToElement(a,"mousemove",e),s&&s!==o&&this.dispatchToElement(a,"mouseover",e)},t.prototype.mouseout=function(e){var t=e.zrEventControl;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Wq(0,0)},t.prototype.dispatch=function(e,t){var n=this[e];n&&n.call(this,t)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},t.prototype.dispatchToElement=function(e,t,n){var i=(e=e||{}).target;if(!i||!i.silent){for(var r="on"+t,o=function a(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:Fq}}(t,e,n);i&&(i[r]&&(o.cancelBubble=!!i[r].call(i,o)),i.trigger(t,o),i=i.__hostTarget?i.__hostTarget:i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(e){"function"==typeof e[r]&&e[r].call(e,o),e.trigger&&e.trigger(t,o)}))}},t.prototype.findHover=function(e,t,n){var i=this.storage.getDisplayList(),r=new Wq(e,t);if(Xq(i,r,e,t,n),this._pointerSize&&!r.target){for(var o=[],a=this._pointerSize,s=a/2,l=new Rq(e-s,t-s,a,a),c=i.length-1;c>=0;c--){var u=i[c];u===n||u.ignore||u.ignoreCoarsePointer||u.parent&&u.parent.ignoreCoarsePointer||(jq.copy(u.getBoundingRect()),u.transform&&jq.applyTransform(u.transform),jq.intersect(l)&&o.push(u))}if(o.length)for(var h=Math.PI/12,d=2*Math.PI,p=0;p<s;p+=4)for(var f=0;f<d;f+=h){if(Xq(o,r,e+p*Math.cos(f),t+p*Math.sin(f),n),r.target)return r}}return r},t.prototype.processGesture=function(e,t){this._gestureMgr||(this._gestureMgr=new cq);var n=this._gestureMgr;"start"===t&&n.clear();var i=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&n.clear(),i){var r=i.type;e.gestureEvent=r;var o=new Wq;o.target=i.target,this.dispatchToElement(o,r,i.event)}},t}(HX);function Uq(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i=e,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(t,n))return!1}i.silent&&(r=!0);var s=i.__hostTarget;i=s?i.ignoreHostSilent?null:s:i.parent}return!r||Vq}return!1}function Xq(e,t,n,i,r){for(var o=e.length-1;o>=0;o--){var a=e[o],s=void 0;if(a!==r&&!a.ignore&&(s=Uq(a,n,i))&&(!t.topTarget&&(t.topTarget=a),s!==Vq)){t.target=a;break}}}function qq(e,t,n){var i=e.painter;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}LU(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Gq.prototype[e]=function(t){var n,i,r=t.zrX,o=t.zrY,a=qq(this,r,o);if("mouseup"===e&&a||(i=(n=this.findHover(r,o)).target),"mousedown"===e)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===e)this._upEl=i;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||EX(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}});function Yq(e,t,n,i){var r=t+1;if(r===n)return 1;if(i(e[r++],e[t])<0){for(;r<n&&i(e[r],e[r-1])<0;)r++;!function o(e,t,n){n--;for(;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,r)}else for(;r<n&&i(e[r],e[r-1])>=0;)r++;return r-t}function Zq(e,t,n,i,r){for(i===t&&i++;i<n;i++){for(var o,a=e[i],s=t,l=i;s<l;)r(a,e[o=s+l>>>1])<0?l=o:s=o+1;var c=i-s;switch(c){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;c>0;)e[s+c]=e[s+c-1],c--}e[s]=a}}function Kq(e,t,n,i,r,o){var a=0,s=0,l=1;if(o(e,t[n+r])>0){for(s=i-r;l<s&&o(e,t[n+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(e,t[n+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}for(a++;a<l;){var u=a+(l-a>>>1);o(e,t[n+u])>0?a=u+1:l=u}return l}function Jq(e,t,n,i,r,o){var a=0,s=0,l=1;if(o(e,t[n+r])<0){for(s=r+1;l<s&&o(e,t[n+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}else{for(s=i-r;l<s&&o(e,t[n+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var u=a+(l-a>>>1);o(e,t[n+u])<0?l=u:a=u+1}return l}function Qq(e,t){var n,i,r=7,o=0,a=[];function s(s){var l=n[s],c=i[s],u=n[s+1],h=i[s+1];i[s]=c+h,s===o-3&&(n[s+1]=n[s+2],i[s+1]=i[s+2]),o--;var d=Jq(e[u],e,l,c,0,t);l+=d,0!==(c-=d)&&0!==(h=Kq(e[l+c-1],e,u,h,h-1,t))&&(c<=h?function p(n,i,o,s){var l=0;for(l=0;l<i;l++)a[l]=e[n+l];var c=0,u=o,h=n;if(e[h++]=e[u++],0===--s){for(l=0;l<i;l++)e[h+l]=a[c+l];return}if(1===i){for(l=0;l<s;l++)e[h+l]=e[u+l];return void(e[h+s]=a[c])}var d,p,f,g=r;for(;;){d=0,p=0,f=!1;do{if(t(e[u],a[c])<0){if(e[h++]=e[u++],p++,d=0,0===--s){f=!0;break}}else if(e[h++]=a[c++],d++,p=0,1===--i){f=!0;break}}while((d|p)<g);if(f)break;do{if(0!==(d=Jq(e[u],a,c,i,0,t))){for(l=0;l<d;l++)e[h+l]=a[c+l];if(h+=d,c+=d,(i-=d)<=1){f=!0;break}}if(e[h++]=e[u++],0===--s){f=!0;break}if(0!==(p=Kq(a[c],e,u,s,0,t))){for(l=0;l<p;l++)e[h+l]=e[u+l];if(h+=p,u+=p,0===(s-=p)){f=!0;break}}if(e[h++]=a[c++],1===--i){f=!0;break}g--}while(d>=7||p>=7);if(f)break;g<0&&(g=0),g+=2}if((r=g)<1&&(r=1),1===i){for(l=0;l<s;l++)e[h+l]=e[u+l];e[h+s]=a[c]}else{if(0===i)throw new Error;for(l=0;l<i;l++)e[h+l]=a[c+l]}}(l,c,u,h):function f(n,i,o,s){var l=0;for(l=0;l<s;l++)a[l]=e[o+l];var c=n+i-1,u=s-1,h=o+s-1,d=0,p=0;if(e[h--]=e[c--],0===--i){for(d=h-(s-1),l=0;l<s;l++)e[d+l]=a[l];return}if(1===s){for(p=(h-=i)+1,d=(c-=i)+1,l=i-1;l>=0;l--)e[p+l]=e[d+l];return void(e[h]=a[u])}var f=r;for(;;){var g=0,m=0,v=!1;do{if(t(a[u],e[c])<0){if(e[h--]=e[c--],g++,m=0,0===--i){v=!0;break}}else if(e[h--]=a[u--],m++,g=0,1===--s){v=!0;break}}while((g|m)<f);if(v)break;do{if(0!==(g=i-Jq(a[u],e,n,i,i-1,t))){for(i-=g,p=(h-=g)+1,d=(c-=g)+1,l=g-1;l>=0;l--)e[p+l]=e[d+l];if(0===i){v=!0;break}}if(e[h--]=a[u--],1===--s){v=!0;break}if(0!==(m=s-Kq(e[c],a,0,s,s-1,t))){for(s-=m,p=(h-=m)+1,d=(u-=m)+1,l=0;l<m;l++)e[p+l]=a[d+l];if(s<=1){v=!0;break}}if(e[h--]=e[c--],0===--i){v=!0;break}f--}while(g>=7||m>=7);if(v)break;f<0&&(f=0),f+=2}(r=f)<1&&(r=1);if(1===s){for(p=(h-=i)+1,d=(c-=i)+1,l=i-1;l>=0;l--)e[p+l]=e[d+l];e[h]=a[u]}else{if(0===s)throw new Error;for(d=h-(s-1),l=0;l<s;l++)e[d+l]=a[l]}}(l,c,u,h))}return n=[],i=[],{mergeRuns:function l(){for(;o>1;){var e=o-2;if(e>=1&&i[e-1]<=i[e]+i[e+1]||e>=2&&i[e-2]<=i[e]+i[e-1])i[e-1]<i[e+1]&&e--;else if(i[e]>i[e+1])break;s(e)}},forceMergeRuns:function c(){for(;o>1;){var e=o-2;e>0&&i[e-1]<i[e+1]&&e--,s(e)}},pushRun:function u(e,t){n[o]=e,i[o]=t,o+=1}}}function eY(e,t,n,i){n||(n=0),i||(i=e.length);var r=i-n;if(!(r<2)){var o=0;if(r<32)Zq(e,n,i,n+(o=Yq(e,n,i,t)),t);else{var a=Qq(e,t),s=function c(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(r);do{if((o=Yq(e,n,i,t))<s){var l=r;l>s&&(l=s),Zq(e,n,n+l,n+o,t),o=l}a.pushRun(n,o),a.mergeRuns(),r-=o,n+=o}while(0!==r);a.forceMergeRuns()}}}var tY=!1;function nY(){tY||(tY=!0)}function iY(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var rY,oY=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=iY}return e.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},e.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return!e&&n.length||this.updateDisplayList(t),n},e.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,r=t.length;i<r;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,eY(n,iY)},e.prototype._updateAndAddDisplayable=function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath(),r=t&&t.length,o=0,a=e.__clipPaths;if(!e.ignoreClip&&(r||i)){if(a||(a=e.__clipPaths=[]),r)for(var s=0;s<t.length;s++)a[o++]=t[s];for(var l=i,c=e;l;)l.parent=c,l.updateTransform(),a[o++]=l,c=l,l=l.getClipPath()}if(a&&(a.length=o),e.childrenRef){for(var u=e.childrenRef(),h=0;h<u.length;h++){var d=u[h];e.__dirty&&(d.__dirty|=1),this._updateAndAddDisplayable(d,a,n)}e.__dirty=0}else{var p=e;isNaN(p.z)&&(nY(),p.z=0),isNaN(p.z2)&&(nY(),p.z2=0),isNaN(p.zlevel)&&(nY(),p.zlevel=0),this._displayList[this._displayListLen++]=p}var f=e.getDecalElement&&e.getDecalElement();f&&this._updateAndAddDisplayable(f,a,n);var g=e.getTextGuideLine();g&&this._updateAndAddDisplayable(g,a,n);var m=e.getTextContent();m&&this._updateAndAddDisplayable(m,a,n)}},e.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},e.prototype.delRoot=function(e){if(e instanceof Array)for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);else{var i=DU(this._roots,e);i>=0&&this._roots.splice(i,1)}},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}();rY=rU.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var aY={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=i*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-aY.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*aY.bounceIn(2*e):.5*aY.bounceOut(2*e-1)+.5}},sY=Math.pow,lY=Math.sqrt,cY=1e-8,uY=1e-4,hY=lY(3),dY=1/3,pY=_X(),fY=_X(),gY=_X();function mY(e){return e>-1e-8&&e<cY}function vY(e){return e>cY||e<-1e-8}function yY(e,t,n,i,r){var o=1-r;return o*o*(o*e+3*r*t)+r*r*(r*i+3*o*n)}function bY(e,t,n,i,r){var o=1-r;return 3*(((t-e)*o+2*(n-t)*r)*o+(i-n)*r*r)}function xY(e,t,n,i,r,o){var a=i+3*(t-n)-e,s=3*(n-2*t+e),l=3*(t-e),c=e-r,u=s*s-3*a*l,h=s*l-9*a*c,d=l*l-3*s*c,p=0;if(mY(u)&&mY(h)){if(mY(s))o[0]=0;else(M=-l/s)>=0&&M<=1&&(o[p++]=M)}else{var f=h*h-4*u*d;if(mY(f)){var g=h/u,m=-g/2;(M=-s/a+g)>=0&&M<=1&&(o[p++]=M),m>=0&&m<=1&&(o[p++]=m)}else if(f>0){var v=lY(f),y=u*s+1.5*a*(-h+v),b=u*s+1.5*a*(-h-v);(M=(-s-((y=y<0?-sY(-y,dY):sY(y,dY))+(b=b<0?-sY(-b,dY):sY(b,dY))))/(3*a))>=0&&M<=1&&(o[p++]=M)}else{var x=(2*u*s-3*a*h)/(2*lY(u*u*u)),_=Math.acos(x)/3,w=lY(u),S=Math.cos(_),M=(-s-2*w*S)/(3*a),k=(m=(-s+w*(S+hY*Math.sin(_)))/(3*a),(-s+w*(S-hY*Math.sin(_)))/(3*a));M>=0&&M<=1&&(o[p++]=M),m>=0&&m<=1&&(o[p++]=m),k>=0&&k<=1&&(o[p++]=k)}}return p}function _Y(e,t,n,i,r){var o=6*n-12*t+6*e,a=9*t+3*i-3*e-9*n,s=3*t-3*e,l=0;if(mY(a)){if(vY(o))(u=-s/o)>=0&&u<=1&&(r[l++]=u)}else{var c=o*o-4*a*s;if(mY(c))r[0]=-o/(2*a);else if(c>0){var u,h=lY(c),d=(-o-h)/(2*a);(u=(-o+h)/(2*a))>=0&&u<=1&&(r[l++]=u),d>=0&&d<=1&&(r[l++]=d)}}return l}function wY(e,t,n,i,r,o){var a=(t-e)*r+e,s=(n-t)*r+t,l=(i-n)*r+n,c=(s-a)*r+a,u=(l-s)*r+s,h=(u-c)*r+c;o[0]=e,o[1]=a,o[2]=c,o[3]=h,o[4]=h,o[5]=u,o[6]=l,o[7]=i}function SY(e,t,n,i,r,o,a,s,l,c,u){var h,d,p,f,g,m=.005,v=1/0;pY[0]=l,pY[1]=c;for(var y=0;y<1;y+=.05)fY[0]=yY(e,n,r,a,y),fY[1]=yY(t,i,o,s,y),(f=LX(pY,fY))<v&&(h=y,v=f);v=1/0;for(var b=0;b<32&&!(m<uY);b++)d=h-m,p=h+m,fY[0]=yY(e,n,r,a,d),fY[1]=yY(t,i,o,s,d),f=LX(fY,pY),d>=0&&f<v?(h=d,v=f):(gY[0]=yY(e,n,r,a,p),gY[1]=yY(t,i,o,s,p),g=LX(gY,pY),p<=1&&g<v?(h=p,v=g):m*=.5);return u&&(u[0]=yY(e,n,r,a,h),u[1]=yY(t,i,o,s,h)),lY(v)}function MY(e,t,n,i,r,o,a,s,l){for(var c=e,u=t,h=0,d=1/l,p=1;p<=l;p++){var f=p*d,g=yY(e,n,r,a,f),m=yY(t,i,o,s,f),v=g-c,y=m-u;h+=Math.sqrt(v*v+y*y),c=g,u=m}return h}function kY(e,t,n,i){var r=1-i;return r*(r*e+2*i*t)+i*i*n}function CY(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function TY(e,t,n){var i=e+n-2*t;return 0===i?.5:(e-t)/i}function AY(e,t,n,i,r){var o=(t-e)*i+e,a=(n-t)*i+t,s=(a-o)*i+o;r[0]=e,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function IY(e,t,n,i,r,o,a,s,l){var c,u=.005,h=1/0;pY[0]=a,pY[1]=s;for(var d=0;d<1;d+=.05){fY[0]=kY(e,n,r,d),fY[1]=kY(t,i,o,d),(m=LX(pY,fY))<h&&(c=d,h=m)}h=1/0;for(var p=0;p<32&&!(u<uY);p++){var f=c-u,g=c+u;fY[0]=kY(e,n,r,f),fY[1]=kY(t,i,o,f);var m=LX(fY,pY);if(f>=0&&m<h)c=f,h=m;else{gY[0]=kY(e,n,r,g),gY[1]=kY(t,i,o,g);var v=LX(gY,pY);g<=1&&v<h?(c=g,h=v):u*=.5}}return l&&(l[0]=kY(e,n,r,c),l[1]=kY(t,i,o,c)),lY(h)}function DY(e,t,n,i,r,o,a){for(var s=e,l=t,c=0,u=1/a,h=1;h<=a;h++){var d=h*u,p=kY(e,n,r,d),f=kY(t,i,o,d),g=p-s,m=f-l;c+=Math.sqrt(g*g+m*m),s=p,l=f}return c}var OY=/cubic-bezier\(([0-9,\.e ]+)\)/;function EY(e){var t=e&&OY.exec(e);if(t){var n=t[1].split(","),i=+oX(n[0]),r=+oX(n[1]),o=+oX(n[2]),a=+oX(n[3]);if(isNaN(i+r+o+a))return;var s=[];return function(e){return e<=0?0:e>=1?1:xY(0,i,o,1,e,s)&&yY(0,r,a,1,s[0])}}}var LY=function(){function e(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||vX,this.ondestroy=e.ondestroy||vX,this.onrestart=e.onrestart||vX,e.easing&&this.setEasing(e.easing)}return e.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),!this._paused){var n=this._life,i=e-this._startTime-this._pausedTime,r=i/n;r<0&&(r=0),r=Math.min(r,1);var o=this.easingFunc,a=o?o(r):r;if(this.onframe(a),1===r){if(!this.loop)return!0;var s=i%n;this._startTime=e-s,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(e){this.easing=e,this.easingFunc=$U(e)?e:aY[e]||EY(e)},e}(),RY=function(){return function e(t){this.value=t}}(),NY=function(){function e(){this._len=0}return e.prototype.insert=function(e){var t=new RY(e);return this.insertEntry(t),t},e.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},e.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),PY=function(){function e(e){this._list=new NY,this._maxSize=10,this._map={},this._maxSize=e}return e.prototype.put=function(e,t){var n=this._list,i=this._map,r=null;if(null==i[e]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete i[s.key],r=s.value,this._lastRemovedEntry=s}a?a.value=t:a=new RY(t),a.key=e,n.insertEntry(a),i[e]=a}return r},e.prototype.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),zY={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function BY(e){return(e=Math.round(e))<0?0:e>255?255:e}function VY(e){return e<0?0:e>1?1:e}function FY(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?BY(parseFloat(t)/100*255):BY(parseInt(t,10))}function HY(e){var t=e;return t.length&&"%"===t.charAt(t.length-1)?VY(parseFloat(t)/100):VY(parseFloat(t))}function WY(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function $Y(e,t,n){return e+(t-e)*n}function jY(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}function GY(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var UY=new PY(20),XY=null;function qY(e,t){XY&&GY(XY,t),XY=UY.put(e,XY||t.slice())}function YY(e,t){if(e){t=t||[];var n=UY.get(e);if(n)return GY(t,n);var i=(e+="").replace(/ /g,"").toLowerCase();if(i in zY)return GY(t,zY[i]),qY(e,t),t;var r,o=i.length;if("#"===i.charAt(0))return 4===o||5===o?(r=parseInt(i.slice(1,4),16))>=0&&r<=4095?(jY(t,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(i.slice(4),16)/15:1),qY(e,t),t):void jY(t,0,0,0,1):7===o||9===o?(r=parseInt(i.slice(1,7),16))>=0&&r<=16777215?(jY(t,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(i.slice(7),16)/255:1),qY(e,t),t):void jY(t,0,0,0,1):void 0;var a=i.indexOf("("),s=i.indexOf(")");if(-1!==a&&s+1===o){var l=i.substr(0,a),c=i.substr(a+1,s-(a+1)).split(","),u=1;switch(l){case"rgba":if(4!==c.length)return 3===c.length?jY(t,+c[0],+c[1],+c[2],1):jY(t,0,0,0,1);u=HY(c.pop());case"rgb":return c.length>=3?(jY(t,FY(c[0]),FY(c[1]),FY(c[2]),3===c.length?u:HY(c[3])),qY(e,t),t):void jY(t,0,0,0,1);case"hsla":return 4!==c.length?void jY(t,0,0,0,1):(c[3]=HY(c[3]),ZY(c,t),qY(e,t),t);case"hsl":return 3!==c.length?void jY(t,0,0,0,1):(ZY(c,t),qY(e,t),t);default:return}}jY(t,0,0,0,1)}}function ZY(e,t){var n=(parseFloat(e[0])%360+360)%360/360,i=HY(e[1]),r=HY(e[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return jY(t=t||[],BY(255*WY(a,o,n+1/3)),BY(255*WY(a,o,n)),BY(255*WY(a,o,n-1/3)),1),4===e.length&&(t[3]=e[3]),t}function KY(e,t){var n=YY(e);if(n){for(var i=0;i<3;i++)n[i]=t<0?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0,n[i]>255?n[i]=255:n[i]<0&&(n[i]=0);return tZ(n,4===n.length?"rgba":"rgb")}}function JY(e,t,n){if(t&&t.length&&e>=0&&e<=1){n=n||[];var i=e*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=t[r],s=t[o],l=i-r;return n[0]=BY($Y(a[0],s[0],l)),n[1]=BY($Y(a[1],s[1],l)),n[2]=BY($Y(a[2],s[2],l)),n[3]=VY($Y(a[3],s[3],l)),n}}function QY(e,t,n,i){var r=YY(e);if(e)return r=function o(e){if(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a,c=(s+a)/2;if(0===l)t=0,n=0;else{n=c<.5?l/(s+a):l/(2-s-a);var u=((s-i)/6+l/2)/l,h=((s-r)/6+l/2)/l,d=((s-o)/6+l/2)/l;i===s?t=d-h:r===s?t=1/3+u-d:o===s&&(t=2/3+h-u),t<0&&(t+=1),t>1&&(t-=1)}var p=[360*t,n,c];return null!=e[3]&&p.push(e[3]),p}}(r),null!=t&&(r[0]=function a(e){return(e=Math.round(e))<0?0:e>360?360:e}($U(t)?t(r[0]):t)),null!=n&&(r[1]=HY($U(n)?n(r[1]):n)),null!=i&&(r[2]=HY($U(i)?i(r[2]):i)),tZ(ZY(r),"rgba")}function eZ(e,t){var n=YY(e);if(n&&null!=t)return n[3]=VY(t),tZ(n,"rgba")}function tZ(e,t){if(e&&e.length){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}}function nZ(e,t){var n=YY(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var iZ=new PY(100);function rZ(e){if(jU(e)){var t=iZ.get(e);return t||(t=KY(e,-.1),iZ.put(e,t)),t}if(KU(e)){var n=AU({},e);return n.colorStops=RU(e.colorStops,function(e){return{offset:e.offset,color:KY(e.color,-.1)}}),n}return e}var oZ=Math.round;function aZ(e){var t;if(e&&"transparent"!==e){if("string"==typeof e&&e.indexOf("rgba")>-1){var n=YY(e);n&&(e="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3])}}else e="none";return{color:e,opacity:null==t?1:t}}var sZ=1e-4;function lZ(e){return e<sZ&&e>-1e-4}function cZ(e){return oZ(1e3*e)/1e3}function uZ(e){return oZ(1e4*e)/1e4}var hZ={left:"start",right:"end",center:"middle",middle:"middle"};function dZ(e){return e&&!!e.image}function pZ(e){return dZ(e)||function t(e){return e&&!!e.svgElement}(e)}function fZ(e){return"linear"===e.type}function gZ(e){return"radial"===e.type}function mZ(e){return e&&("linear"===e.type||"radial"===e.type)}function vZ(e){return"url(#"+e+")"}function yZ(e){var t=e.getGlobalScale(),n=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function bZ(e){var t=e.x||0,n=e.y||0,i=(e.rotation||0)*yX,r=eX(e.scaleX,1),o=eX(e.scaleY,1),a=e.skewX||0,s=e.skewY||0,l=[];return(t||n)&&l.push("translate("+t+"px,"+n+"px)"),i&&l.push("rotate("+i+")"),1===r&&1===o||l.push("scale("+r+","+o+")"),(a||s)&&l.push("skew("+oZ(a*yX)+"deg, "+oZ(s*yX)+"deg)"),l.join(" ")}var xZ=rU.hasGlobalWindow&&$U(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:"undefined"!=typeof Buffer?function(e){return Buffer.from(e).toString("base64")}:function(e){return null},_Z=Array.prototype.slice;function wZ(e,t,n){return(t-e)*n+e}function SZ(e,t,n,i){for(var r=t.length,o=0;o<r;o++)e[o]=wZ(t[o],n[o],i);return e}function MZ(e,t,n,i){for(var r=t.length,o=0;o<r;o++)e[o]=t[o]+n[o]*i;return e}function kZ(e,t,n,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){e[a]||(e[a]=[]);for(var s=0;s<o;s++)e[a][s]=t[a][s]+n[a][s]*i}return e}function CZ(e,t){for(var n=e.length,i=t.length,r=n>i?t:e,o=Math.min(n,i),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(n,i);s++)r.push({offset:a.offset,color:a.color.slice()})}function TZ(e,t,n){var i=e,r=t;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var s=o;s<a;s++)i.push(1===n?r[s]:_Z.call(r[s]));var l=i[0]&&i[0].length;for(s=0;s<i.length;s++)if(1===n)isNaN(i[s])&&(i[s]=r[s]);else for(var c=0;c<l;c++)isNaN(i[s][c])&&(i[s][c]=r[s][c])}}function AZ(e){if(EU(e)){var t=e.length;if(EU(e[0])){for(var n=[],i=0;i<t;i++)n.push(_Z.call(e[i]));return n}return _Z.call(e)}return e}function IZ(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=null==e[3]?1:e[3],"rgba("+e.join(",")+")"}function DZ(e){return 4===e||5===e}function OZ(e){return 1===e||2===e}var EZ=[0,0,0,0],LZ=function(){function e(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var i=this.keyframes,r=i.length,o=!1,a=6,s=t;if(EU(t)){var l=function e(t){return EU(t&&t[0])?2:1}(t);a=l,(1===l&&!UU(t[0])||2===l&&!UU(t[0][0]))&&(o=!0)}else if(UU(t)&&!JU(t))a=0;else if(jU(t))if(isNaN(+t)){var c=YY(t);c&&(s=c,a=3)}else a=0;else if(KU(t)){var u=AU({},s);u.colorStops=RU(t.colorStops,function(e){return{offset:e.offset,color:YY(e.color)}}),fZ(t)?a=4:gZ(t)&&(a=5),s=u}0===r?this.valType=a:a===this.valType&&6!==a||(o=!0),this.discrete=this.discrete||o;var h={time:e,value:s,rawValue:t,percent:0};return n&&(h.easing=n,h.easingFunc=$U(n)?n:aY[n]||EY(n)),i.push(h),h},e.prototype.prepare=function(e,t){var n=this.keyframes;this._needsSort&&n.sort(function(e,t){return e.time-t.time});for(var i=this.valType,r=n.length,o=n[r-1],a=this.discrete,s=OZ(i),l=DZ(i),c=0;c<r;c++){var u=n[c],h=u.value,d=o.value;u.percent=u.time/e,a||(s&&c!==r-1?TZ(h,d,i):l&&CZ(h.colorStops,d.colorStops))}if(!a&&5!==i&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;var p=n[0].value;for(c=0;c<r;c++)0===i?n[c].additiveValue=n[c].value-p:3===i?n[c].additiveValue=MZ([],n[c].value,p,-1):OZ(i)&&(n[c].additiveValue=1===i?MZ([],n[c].value,p,-1):kZ([],n[c].value,p,-1))}},e.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,i,r,o=null!=this._additiveTrack,a=o?"additiveValue":"value",s=this.valType,l=this.keyframes,c=l.length,u=this.propName,h=3===s,d=this._lastFr,p=Math.min;if(1===c)i=r=l[0];else{if(t<0)n=0;else if(t<this._lastFrP){for(n=p(d+1,c-1);n>=0&&!(l[n].percent<=t);n--);n=p(n,c-2)}else{for(n=d;n<c&&!(l[n].percent>t);n++);n=p(n-1,c-2)}r=l[n+1],i=l[n]}if(i&&r){this._lastFr=n,this._lastFrP=t;var f=r.percent-i.percent,g=0===f?1:p((t-i.percent)/f,1);r.easingFunc&&(g=r.easingFunc(g));var m=o?this._additiveValue:h?EZ:e[u];if(!OZ(s)&&!h||m||(m=this._additiveValue=[]),this.discrete)e[u]=g<1?i.rawValue:r.rawValue;else if(OZ(s))1===s?SZ(m,i[a],r[a],g):function l(e,t,n,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){e[a]||(e[a]=[]);for(var s=0;s<o;s++)e[a][s]=wZ(t[a][s],n[a][s],i)}return e}(m,i[a],r[a],g);else if(DZ(s)){var v=i[a],y=r[a],b=4===s;e[u]={type:b?"linear":"radial",x:wZ(v.x,y.x,g),y:wZ(v.y,y.y,g),colorStops:RU(v.colorStops,function(e,t){var n=y.colorStops[t];return{offset:wZ(e.offset,n.offset,g),color:IZ(SZ([],e.color,n.color,g))}}),global:y.global},b?(e[u].x2=wZ(v.x2,y.x2,g),e[u].y2=wZ(v.y2,y.y2,g)):e[u].r=wZ(v.r,y.r,g)}else if(h)SZ(m,i[a],r[a],g),o||(e[u]=IZ(m));else{var x=wZ(i[a],r[a],g);o?this._additiveValue=x:e[u]=x}o&&this._addToTarget(e)}}},e.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,i=this._additiveValue;0===t?e[n]=e[n]+i:3===t?(YY(e[n],EZ),MZ(EZ,EZ,i,1),e[n]=IZ(EZ)):1===t?MZ(e[n],e[n],i,1):2===t&&kZ(e[n],e[n],i,1)},e}(),RZ=function(){function e(e,t,n,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i?MU("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=n)}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(e){this._target=e},e.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,BU(t),n)},e.prototype.whenWithKeys=function(e,t,n,i){for(var r=this._tracks,o=0;o<n.length;o++){var a=n[o],s=r[a];if(!s){s=r[a]=new LZ(a);var l=void 0,c=this._getAdditiveTrack(a);if(c){var u=c.keyframes,h=u[u.length-1];l=h&&h.value,3===c.valType&&l&&(l=IZ(l))}else l=this._target[a];if(null==l)continue;e>0&&s.addKeyframe(0,AZ(l),i),this._trackKeys.push(a)}s.addKeyframe(e,AZ(t[a]),i)}return this._maxTime=Math.max(this._maxTime,e),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},e.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},e.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var r=n[i].getTrack(e);r&&(t=r)}return t},e.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,n=[],i=this._maxTime||0,r=0;r<this._trackKeys.length;r++){var o=this._trackKeys[r],a=this._tracks[o],s=this._getAdditiveTrack(o),l=a.keyframes,c=l.length;if(a.prepare(i,s),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var u=l[c-1];u&&(t._target[a.propName]=u.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var h=new LY({life:i,loop:this._loop,delay:this._delay||0,onframe:function(e){t._started=2;var i=t._additiveAnimators;if(i){for(var r=!1,o=0;o<i.length;o++)if(i[o]._clip){r=!0;break}r||(t._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(t._target,e);var a=t._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](t._target,e)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},e.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},e.prototype.delay=function(e){return this._delay=e,this},e.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},e.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},e.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(e){return this._tracks[e]},e.prototype.getTracks=function(){var e=this;return RU(this._trackKeys,function(t){return e._tracks[t]})},e.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,r=0;r<e.length;r++){var o=n[e[r]];o&&!o.isFinished()&&(t?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(r=0;r<i.length;r++)if(!n[i[r]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},e.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];if(o&&!o.isFinished()){var a=o.keyframes,s=a[n?0:a.length-1];s&&(e[r]=AZ(s.rawValue))}}}},e.prototype.__changeFinalValue=function(e,t){t=t||BU(e);for(var n=0;n<t.length;n++){var i=t[n],r=this._tracks[i];if(r){var o=r.keyframes;if(o.length>1){var a=o.pop();r.addKeyframe(a.time,e[i]),r.prepare(this._maxTime,r.getAdditiveTrack())}}}},e}();function NZ(){return(new Date).getTime()}var PZ,zZ,BZ=function(e){function t(t){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return xX(t,e),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var t=e.getClip();t&&this.addClip(t)},t.prototype.removeClip=function(e){if(e.animation){var t=e.prev,n=e.next;t?t.next=n:this._head=n,n?n.prev=t:this._tail=t,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var t=e.getClip();t&&this.removeClip(t),e.animation=null},t.prototype.update=function(e){for(var t=NZ()-this._pausedTime,n=t-this._time,i=this._head;i;){var r=i.next;i.step(t,n)?(i.ondestroy(),this.removeClip(i),i=r):i=r}this._time=t,e||(this.trigger("frame",n),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,rY(function t(){e._running&&(rY(t),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=NZ(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=NZ(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=NZ()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var t=e.next;e.prev=e.next=e.animation=null,e=t}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,t){t=t||{},this.start();var n=new RZ(e,t.loop);return this.addAnimator(n),n},t}(HX),VZ=rU.domSupported,FZ=(zZ={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:PZ=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:RU(PZ,function(e){var t=e.replace("mouse","pointer");return zZ.hasOwnProperty(t)?t:e})}),HZ=["mousemove","mouseup"],WZ=["pointermove","pointerup"],$Z=!1;function jZ(e){var t=e.pointerType;return"pen"===t||"touch"===t}function GZ(e){e&&(e.zrByTouch=!0)}function UZ(e,t){for(var n=t,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return i}var XZ=function(){return function e(t,n){this.stopPropagation=vX,this.stopImmediatePropagation=vX,this.preventDefault=vX,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}}(),qZ={mousedown:function(e){e=rq(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=rq(this.dom,e);var t=this.__mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=rq(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){UZ(this,(e=rq(this.dom,e)).toElement||e.relatedTarget)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){$Z=!0,e=rq(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){$Z||(e=rq(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){GZ(e=rq(this.dom,e)),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),qZ.mousemove.call(this,e),qZ.mousedown.call(this,e)},touchmove:function(e){GZ(e=rq(this.dom,e)),this.handler.processGesture(e,"change"),qZ.mousemove.call(this,e)},touchend:function(e){GZ(e=rq(this.dom,e)),this.handler.processGesture(e,"end"),qZ.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<300&&qZ.click.call(this,e)},pointerdown:function(e){qZ.mousedown.call(this,e)},pointermove:function(e){jZ(e)||qZ.mousemove.call(this,e)},pointerup:function(e){qZ.mouseup.call(this,e)},pointerout:function(e){jZ(e)||qZ.mouseout.call(this,e)}};LU(["click","dblclick","contextmenu"],function(e){qZ[e]=function(t){t=rq(this.dom,t),this.trigger(e,t)}});var YZ={pointermove:function(e){jZ(e)||YZ.mousemove.call(this,e)},pointerup:function(e){YZ.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function ZZ(e,t){var n=t.domHandlers;rU.pointerEventsSupported?LU(FZ.pointer,function(i){JZ(t,i,function(t){n[i].call(e,t)})}):(rU.touchEventsSupported&&LU(FZ.touch,function(i){JZ(t,i,function(r){n[i].call(e,r),function o(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}(t)})}),LU(FZ.mouse,function(i){JZ(t,i,function(r){r=iq(r),t.touching||n[i].call(e,r)})}))}function KZ(e,t){function n(n){JZ(t,n,function i(r){r=iq(r),UZ(e,r.target)||(r=function o(e,t){return rq(e.dom,new XZ(e,t),!0)}(e,r),t.domHandlers[n].call(e,r))},{capture:!0})}rU.pointerEventsSupported?LU(WZ,n):rU.touchEventsSupported||LU(HZ,n)}function JZ(e,t,n,i){e.mounted[t]=n,e.listenerOpts[t]=i,oq(e.domTarget,t,n,i)}function QZ(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&aq(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var eK=function(){return function e(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}}(),tK=function(e){function t(t,n){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=n,i._localHandlerScope=new eK(t,qZ),VZ&&(i._globalHandlerScope=new eK(document,YZ)),ZZ(i,i._localHandlerScope),i}return xX(t,e),t.prototype.dispose=function(){QZ(this._localHandlerScope),VZ&&QZ(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,VZ&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var t=this._globalHandlerScope;e?KZ(this,t):QZ(t)}},t}(HX),nK=1;rU.hasGlobalWindow&&(nK=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var iK=nK,rK="#333",oK="#ccc",aK=pq,sK=5e-5;function lK(e){return e>sK||e<-5e-5}var cK,uK=[],hK=[],dK=[1,0,0,1,0,0],pK=Math.abs,fK=function(){function e(){}var t;return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},e.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},e.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},e.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},e.prototype.needLocalTransform=function(){return lK(this.rotation)||lK(this.x)||lK(this.y)||lK(this.scaleX-1)||lK(this.scaleY-1)||lK(this.skewX)||lK(this.skewY)},e.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;t||e?(n=n||[1,0,0,1,0,0],t?this.getLocalTransform(n):aK(n),e&&(t?gq(n,e,n):fq(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&(aK(n),this.invTransform=null)},e.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(uK);var n=uK[0]<0?-1:1,i=uK[1]<0?-1:1,r=((uK[0]-n)*t+n)/uK[0]||0,o=((uK[1]-i)*t+i)/uK[1]||0;e[0]*=r,e[1]*=r,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],bq(this.invTransform,e)},e.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},e.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),r=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(r),t=Math.sqrt(t),this.skewX=r,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||[1,0,0,1,0,0],gq(hK,e.invTransform,t),t=hK);var n=this.originX,i=this.originY;(n||i)&&(dK[4]=n,dK[5]=i,gq(hK,t,dK),hK[4]-=n,hK[5]-=i,t=hK),this.setLocalTransform(t)}},e.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},e.prototype.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&PX(n,n,i),n},e.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&PX(n,n,i),n},e.prototype.getLineScale=function(){var e=this.transform;return e&&pK(e[0]-1)>1e-10&&pK(e[3]-1)>1e-10?Math.sqrt(pK(e[0]*e[3]-e[2]*e[1])):1},e.prototype.copyTransform=function(e){mK(this,e)},e.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,i=e.originY||0,r=e.scaleX,o=e.scaleY,a=e.anchorX,s=e.anchorY,l=e.rotation||0,c=e.x,u=e.y,h=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(n||i||a||s){var p=n+a,f=i+s;t[4]=-p*r-h*f*o,t[5]=-f*o-d*p*r}else t[4]=t[5]=0;return t[0]=r,t[3]=o,t[1]=d*r,t[2]=h*o,l&&vq(t,t,l),t[4]+=n+c,t[5]+=i+u,t},e.initDefaultProps=((t=e.prototype).scaleX=t.scaleY=t.globalScaleRatio=1,void(t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0)),e}(),gK=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function mK(e,t){for(var n=0;n<gK.length;n++){var i=gK[n];e[i]=t[i]}}function vK(e){cK||(cK=new PY(100)),e=e||sU;var t=cK.get(e);return t||(t={font:e,strWidthCache:new PY(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:uU.measureText("",e).width,asciiCharWidth:uU.measureText("a",e).width},cK.put(e,t)),t}var yK=0,bK=5;function xK(e,t){return e.asciiWidthMapTried||(e.asciiWidthMap=function n(e){if(!(yK>=bK)){e=e||sU;for(var t=[],n=+new Date,i=0;i<=127;i++)t[i]=uU.measureText(String.fromCharCode(i),e).width;var r=+new Date-n;return r>16?yK=bK:r>2&&yK++,t}}(e.font),e.asciiWidthMapTried=!0),0<=t&&t<=127?null!=e.asciiWidthMap?e.asciiWidthMap[t]:e.asciiCharWidth:e.stWideCharWidth}function _K(e,t){var n=e.strWidthCache,i=n.get(t);return null==i&&(i=uU.measureText(t,e.font).width,n.put(t,i)),i}function wK(e,t,n,i){var r=_K(vK(t),e),o=CK(t),a=MK(0,r,n),s=kK(0,o,i);return new Rq(a,s,r,o)}function SK(e,t,n,i){var r=((e||"")+"").split("\n");if(1===r.length)return wK(r[0],t,n,i);for(var o=new Rq(0,0,0,0),a=0;a<r.length;a++){var s=wK(r[a],t,n,i);0===a?o.copy(s):o.union(s)}return o}function MK(e,t,n,i){return"right"===n?i?e+=t:e-=t:"center"===n&&(i?e+=t/2:e-=t/2),e}function kK(e,t,n,i){return"middle"===n?i?e+=t/2:e-=t/2:"bottom"===n&&(i?e+=t:e-=t),e}function CK(e){return vK(e).stWideCharWidth}function TK(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function AK(e,t,n){var i=t.position||"inside",r=null!=t.distance?t.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,c=n.y,u="left",h="top";if(i instanceof Array)l+=TK(i[0],n.width),c+=TK(i[1],n.height),u=null,h=null;else switch(i){case"left":l-=r,c+=s,u="right",h="middle";break;case"right":l+=r+a,c+=s,h="middle";break;case"top":l+=a/2,c-=r,u="center",h="bottom";break;case"bottom":l+=a/2,c+=o+r,u="center";break;case"inside":l+=a/2,c+=s,u="center",h="middle";break;case"insideLeft":l+=r,c+=s,h="middle";break;case"insideRight":l+=a-r,c+=s,u="right",h="middle";break;case"insideTop":l+=a/2,c+=r,u="center";break;case"insideBottom":l+=a/2,c+=o-r,u="center",h="bottom";break;case"insideTopLeft":l+=r,c+=r;break;case"insideTopRight":l+=a-r,c+=r,u="right";break;case"insideBottomLeft":l+=r,c+=o-r,h="bottom";break;case"insideBottomRight":l+=a-r,c+=o-r,u="right",h="bottom"}return(e=e||{}).x=l,e.y=c,e.align=u,e.verticalAlign=h,e}var IK="__zr_normal__",DK=gK.concat(["ignore"]),OK=NU(gK,function(e,t){return e[t]=!0,e},{ignore:!1}),EK={},LK=new Rq(0,0,0,0),RK=[],NK=function(){function e(e){this.id=SU(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return e.prototype._init=function(e){this.attr(e)},e.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,r=t.innerTransformable,o=void 0,a=void 0,s=!1;r.parent=i?this:null;var l=!1;r.copyTransform(t);var c=null!=n.position,u=n.autoOverflowArea,h=void 0;if((u||c)&&(h=LK,n.layoutRect?h.copy(n.layoutRect):h.copy(this.getBoundingRect()),i||h.applyTransform(this.transform)),c){this.calculateTextPosition?this.calculateTextPosition(EK,n,h):AK(EK,n,h),r.x=EK.x,r.y=EK.y,o=EK.align,a=EK.verticalAlign;var d=n.origin;if(d&&null!=n.rotation){var p=void 0,f=void 0;"center"===d?(p=.5*h.width,f=.5*h.height):(p=TK(d[0],h.width),f=TK(d[1],h.height)),l=!0,r.originX=-r.x+p+(i?0:h.x),r.originY=-r.y+f+(i?0:h.y)}}null!=n.rotation&&(r.rotation=n.rotation);var g=n.offset;g&&(r.x+=g[0],r.y+=g[1],l||(r.originX=-g[0],r.originY=-g[1]));var m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(u){var v=m.overflowRect=m.overflowRect||new Rq(0,0,0,0);r.getLocalTransform(RK),bq(RK,RK),Rq.copy(v,h),v.applyTransform(RK)}else m.overflowRect=null;var y=void 0,b=void 0,x=void 0;(null==n.inside?"string"==typeof n.position&&n.position.indexOf("inside")>=0:n.inside)&&this.canBeInsideText()?(y=n.insideFill,b=n.insideStroke,null!=y&&"auto"!==y||(y=this.getInsideTextFill()),null!=b&&"auto"!==b||(b=this.getInsideTextStroke(y),x=!0)):(y=n.outsideFill,b=n.outsideStroke,null!=y&&"auto"!==y||(y=this.getOutsideFill()),null!=b&&"auto"!==b||(b=this.getOutsideStroke(y),x=!0)),(y=y||"#000")===m.fill&&b===m.stroke&&x===m.autoStroke&&o===m.align&&a===m.verticalAlign||(s=!0,m.fill=y,m.stroke=b,m.autoStroke=x,m.align=o,m.verticalAlign=a,t.setDefaultTextStyle(m)),t.__dirty|=1,s&&t.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(e){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?oK:rK},e.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof t&&YY(t);n||(n=[255,255,255,1]);for(var i=n[3],r=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(r?0:255)*(1-i);return n[3]=1,tZ(n,"rgba")},e.prototype.traverse=function(e,t){},e.prototype.attrKV=function(e,t){"textConfig"===e?this.setTextConfig(t):"textContent"===e?this.setTextContent(t):"clipPath"===e?this.setClipPath(t):"extra"===e?(this.extra=this.extra||{},AU(this.extra,t)):this[e]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(XU(e))for(var n=BU(e),i=0;i<n.length;i++){var r=n[i];this.attrKV(r,e[r])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],r=i.__fromStateTransition;if(!(i.getLoop()||r&&r!==IK)){var o=i.targetName,a=o?t[o]:t;i.saveTo(a)}}},e.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,DK)},e.prototype._savePrimaryToNormal=function(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];null==e[r]||r in t||(t[r]=this[r])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(e){return this.states[e]},e.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},e.prototype.clearStates=function(e){this.useState(IK,!1,e)},e.prototype.useState=function(e,t,n,i){var r=e===IK;if(this.hasState()||!r){var o=this.currentStates,a=this.stateTransition;if(!(DU(o,e)>=0)||!t&&1!==o.length){var s;if(this.stateProxy&&!r&&(s=this.stateProxy(e)),s||(s=this.states&&this.states[e]),s||r){r||this.saveCurrentToNormalState(s);var l=!!(s&&s.hoverLayer||i);l&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,s,this._normalState,t,!n&&!this.__inHover&&a&&a.duration>0,a);var c=this._textContent,u=this._textGuide;return c&&c.useState(e,t,n,l),u&&u.useState(e,t,n,l),r?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!l&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),s}MU("State "+e+" not exists.")}}},e.prototype.useStates=function(e,t,n){if(e.length){var i=[],r=this.currentStates,o=e.length,a=o===r.length;if(a)for(var s=0;s<o;s++)if(e[s]!==r[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var l=e[s],c=void 0;this.stateProxy&&(c=this.stateProxy(l,e)),c||(c=this.states[l]),c&&i.push(c)}var u=i[o-1],h=!!(u&&u.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var f=this._textContent,g=this._textGuide;f&&f.useStates(e,t,h),g&&g.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},e.prototype.isSilent=function(){for(var e=this;e;){if(e.silent)return!0;var t=e.__hostTarget;e=t?e.ignoreHostSilent?null:t:e.parent}return!1},e.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},e.prototype.removeState=function(e){var t=DU(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},e.prototype.replaceState=function(e,t,n){var i=this.currentStates.slice(),r=DU(i,e),o=DU(i,t)>=0;r>=0?o?i.splice(r,1):i[r]=t:n&&!o&&i.push(t),this.useStates(i)},e.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},e.prototype._mergeStates=function(e){for(var t,n={},i=0;i<e.length;i++){var r=e[i];AU(n,r),r.textConfig&&AU(t=t||{},r.textConfig)}return t&&(n.textConfig=t),n},e.prototype._applyStateObj=function(e,t,n,i,r,o){var a=!(t&&i);t&&t.textConfig?(this.textConfig=AU({},i?this.textConfig:n.textConfig),AU(this.textConfig,t.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},l=!1,c=0;c<DK.length;c++){var u=DK[c],h=r&&OK[u];t&&null!=t[u]?h?(l=!0,s[u]=t[u]):this[u]=t[u]:a&&null!=n[u]&&(h?(l=!0,s[u]=n[u]):this[u]=n[u])}if(!r)for(c=0;c<this.animators.length;c++){var d=this.animators[c],p=d.targetName;d.getLoop()||d.__changeFinalValue(p?(t||n)[p]:t||n)}l&&this._transitionState(e,s,o)},e.prototype._attachComponent=function(e){if((!e.__zr||e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},e.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},e.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new fK,this._attachComponent(e),this._textContent=e,this.markRedraw())},e.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),AU(this.textConfig,e),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=1;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},e.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},e.prototype.animate=function(e,t,n){var i=e?this[e]:this,r=new RZ(i,t,n);return e&&(r.targetName=e),this.addAnimator(r,e),r},e.prototype.addAnimator=function(e,t){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var t=i.animators,n=DU(t,e);n>=0&&t.splice(n,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(e){this.markRedraw()},e.prototype.stopAnimation=function(e,t){for(var n=this.animators,i=n.length,r=[],o=0;o<i;o++){var a=n[o];e&&e!==a.scope?r.push(a):a.stop(t)}return this.animators=r,this},e.prototype.animateTo=function(e,t,n){PK(this,e,t,n)},e.prototype.animateFrom=function(e,t,n){PK(this,e,t,n,!0)},e.prototype._transitionState=function(e,t,n,i){for(var r=PK(this,t,n,i),o=0;o<r.length;o++)r[o].__fromStateTransition=e},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;function n(e,n,i,r){function o(e,t){Object.defineProperty(t,0,{get:function(){return e[i]},set:function(t){e[i]=t}}),Object.defineProperty(t,1,{get:function(){return e[r]},set:function(t){e[r]=t}})}Object.defineProperty(t,e,{get:function(){this[n]||o(this,this[n]=[]);return this[n]},set:function(e){this[i]=e[0],this[r]=e[1],this[n]=e,o(this,e)}})}t.type="element",t.name="",t.ignore=t.silent=t.ignoreHostSilent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=1,Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),e}();function PK(e,t,n,i,r){var o=[];VK(e,"",e,t,n=n||{},i,o,r);var a=o.length,s=!1,l=n.done,c=n.aborted,u=function(){s=!0,--a<=0&&(s?l&&l():c&&c())},h=function(){--a<=0&&(s?l&&l():c&&c())};a||l&&l(),o.length>0&&n.during&&o[0].during(function(e,t){n.during(t)});for(var d=0;d<o.length;d++){var p=o[d];u&&p.done(u),h&&p.aborted(h),n.force&&p.duration(n.duration),p.start(n.easing)}return o}function zK(e,t,n){for(var i=0;i<n;i++)e[i]=t[i]}function BK(e,t,n){if(EU(t[n]))if(EU(e[n])||(e[n]=[]),YU(t[n])){var i=t[n].length;e[n].length!==i&&(e[n]=new t[n].constructor(i),zK(e[n],t[n],i))}else{var r=t[n],o=e[n],a=r.length;if(function i(e){return EU(e[0])}(r))for(var s=r[0].length,l=0;l<a;l++)o[l]?zK(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else zK(o,r,a);o.length=r.length}else e[n]=t[n]}function VK(e,t,n,i,r,o,a,s){for(var l=BU(i),c=r.duration,u=r.delay,h=r.additive,d=r.setToFinal,p=!XU(o),f=e.animators,g=[],m=0;m<l.length;m++){var v=l[m],y=i[v];if(null!=y&&null!=n[v]&&(p||o[v]))if(!XU(y)||EU(y)||KU(y))g.push(v);else{if(t){s||(n[v]=y,e.updateDuringAnimation(t));continue}VK(e,v,n[v],y,r,o&&o[v],a,s)}else s||(n[v]=y,e.updateDuringAnimation(t),g.push(v))}var b=g.length;if(!h&&b)for(var x=0;x<f.length;x++){if((w=f[x]).targetName===t)if(w.stopTracks(g)){var _=DU(f,w);f.splice(_,1)}}if(r.force||(g=PU(g,function(e){return!function t(e,n){return e===n||EU(e)&&EU(n)&&function i(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}(e,n)}(i[e],n[e])}),b=g.length),b>0||r.force&&!a.length){var w,S=void 0,M=void 0,k=void 0;if(s){M={},d&&(S={});for(x=0;x<b;x++){M[v=g[x]]=n[v],d?S[v]=i[v]:n[v]=i[v]}}else if(d){k={};for(x=0;x<b;x++){k[v=g[x]]=AZ(n[v]),BK(n,i,v)}}(w=new RZ(n,!1,!1,h?PU(f,function(e){return e.targetName===t}):null)).targetName=t,r.scope&&(w.scope=r.scope),d&&S&&w.whenWithKeys(0,S,g),k&&w.whenWithKeys(0,k,g),w.whenWithKeys(null==c?500:c,s?M:i,g).delay(u||0),e.addAnimator(w,t),a.push(w)}}OU(NK,HX),OU(NK,fK);var FK=function(e){function t(t){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return xX(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);i>=0&&(n.splice(i,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,t){var n=DU(this._children,e);return n>=0&&this.replaceAt(t,n),this},t.prototype.replaceAt=function(e,t){var n=this._children,i=n[t];if(e&&e!==this&&e.parent!==this&&e!==i){n[t]=e,i.parent=null;var r=this.__zr;r&&i.removeSelfFromZr(r),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__zr;t&&t!==e.__zr&&e.addSelfToZr(t),t&&t.refresh()},t.prototype.remove=function(e){var t=this.__zr,n=this._children,i=DU(n,e);return i<0||(n.splice(i,1),e.parent=null,t&&e.removeSelfFromZr(t),t&&t.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,t=this.__zr,n=0;n<e.length;n++){var i=e[n];t&&i.removeSelfFromZr(t),i.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,t){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];e.call(t,r,i)}return this},t.prototype.traverse=function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n],r=e.call(t,i);i.isGroup&&!r&&i.traverse(e,t)}return this},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){this._children[n].addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){this._children[n].removeSelfFromZr(t)}},t.prototype.getBoundingRect=function(e){for(var t=new Rq(0,0,0,0),n=e||this._children,i=[],r=null,o=0;o<n.length;o++){var a=n[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(i);l?(Rq.applyTransform(t,s,l),(r=r||t.clone()).union(t)):(r=r||s.clone()).union(s)}}return r||t},t}(NK);FK.prototype.type="group";var HK={},WK={};var $K,jK=function(){function e(e,t,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var r=new oY,o=n.renderer||"canvas";HK[o]||(o=BU(HK)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var a=new HK[o](t,r,n,e),s=n.ssr||a.ssrOnly;this.storage=r,this.painter=a;var l,c=rU.node||rU.worker||s?null:new tK(a.getViewportRoot(),a.root),u=n.useCoarsePointer;(null==u||"auto"===u?rU.touchEventsSupported:!!u)&&(l=eX(n.pointerSize,44)),this.handler=new Gq(r,a,c,a.root,l),this.animation=new BZ({stage:{update:s?null:function(){return i._flush(!0)}}}),s||this.animation.start()}return e.prototype.add=function(e){!this._disposed&&e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},e.prototype.remove=function(e){!this._disposed&&e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},e.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=function t(e){if(!e)return!1;if("string"==typeof e)return nZ(e,1)<.4;if(e.colorStops){for(var t=e.colorStops,n=0,i=t.length,r=0;r<i;r++)n+=nZ(t[r].color,1);return(n/=i)<.4}return!1}(e))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(e){this._darkMode=e},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(e){var t,n=NZ();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=NZ();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},e.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},e.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},e.prototype.on=function(e,t,n){return this._disposed||this.handler.on(e,t,n),this},e.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},e.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},e.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof FK&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,function e(t){delete WK[t]}(this.id))},e}();function GK(e,t){var n=new jK(SU(),e,t);return WK[n.id]=n,n}var UK=1e-4;var XK=Math.min,qK=Math.max,YK=Math.abs;function ZK(e,t,n,i){var r=t[0],o=t[1],a=n[0],s=n[1],l=o-r,c=s-a;if(0===l)return 0===c?a:(a+s)/2;if(i)if(l>0){if(e<=r)return a;if(e>=o)return s}else{if(e>=r)return a;if(e<=o)return s}else{if(e===r)return a;if(e===o)return s}return(e-r)/l*c+a}var KK=function JK(e,t,n){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return QK(e,t,n)};function QK(e,t,n){return jU(e)?function i(e){return e.replace(/^\s+|\s+$/g,"")}(e).match(/%$/)?parseFloat(e)/100*t+(n||0):parseFloat(e):null==e?NaN:+e}function eJ(e,t,n){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),n?e:+e}function tJ(e){return e.sort(function(e,t){return e-t}),e}function nJ(e){if(e=+e,isNaN(e))return 0;if(e>1e-14)for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n;return function i(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),i=n>0?+t.slice(n+1):0,r=n>0?n:t.length,o=t.indexOf("."),a=o<0?0:r-1-o;return Math.max(0,a-i)}(e)}function iJ(e,t){var n=Math.log,i=Math.LN10,r=Math.floor(n(e[1]-e[0])/i),o=Math.round(n(YK(t[1]-t[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function rJ(e,t){var n=Math.max(nJ(e),nJ(t)),i=e+t;return n>20?i:eJ(i,n)}var oJ=9007199254740991;function aJ(e){var t=2*Math.PI;return(e%t+t)%t}function sJ(e){return e>-1e-4&&e<UK}var lJ=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function cJ(e){if(e instanceof Date)return e;if(jU(e)){var t=lJ.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==e?new Date(NaN):new Date(Math.round(e))}function uJ(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function hJ(e,t){var n=uJ(e),i=Math.pow(10,n),r=e/i;return e=(r<1.5?1:r<2.5?2:r<4?3:r<7?5:10)*i,n>=-20?+e.toFixed(n<0?-n:0):e}function dJ(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],o=n-i;return o?r+o*(e[i]-r):r}function pJ(e){e.sort(function(e,t){return s(e,t,0)?-1:1});for(var t=-1/0,n=1,i=0;i<e.length;){for(var r=e[i].interval,o=e[i].close,a=0;a<2;a++)r[a]<=t&&(r[a]=t,o[a]=a?1:1-n),t=r[a],n=o[a];r[0]===r[1]&&o[0]*o[1]!==1?e.splice(i,1):i++}return e;function s(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]===(n?-1:1)||!n&&s(e,t,1))}}function fJ(e){var t=parseFloat(e);return t==e&&(0!==t||!jU(e)||e.indexOf("x")<=0)?t:NaN}function gJ(e){return!isNaN(fJ(e))}function mJ(){return Math.round(9*Math.random())}function vJ(e,t){return 0===t?e:vJ(t,e%t)}function yJ(e,t){return null==e?t:null==t?e:e*t/vJ(e,t)}"undefined"!=typeof console&&console.warn&&console.log;function bJ(e,t){}function xJ(e){throw new Error(e)}function _J(e,t,n){return(t-e)*n+e}var wJ="series\0",SJ="\0_ec_\0";function MJ(e){return e instanceof Array?e:null==e?[]:[e]}function kJ(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var CJ=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function TJ(e){return!XU(e)||WU(e)||e instanceof Date?e:e.value}function AJ(e){return XU(e)&&!(e instanceof Array)}function IJ(e,t,n){var i="normalMerge"===n,r="replaceMerge"===n,o="replaceAll"===n;e=e||[],t=(t||[]).slice();var a=dX();LU(t,function(e,n){XU(e)||(t[n]=null)});var s=function l(e,t,n){var i=[];if("replaceAll"===n)return i;for(var r=0;r<e.length;r++){var o=e[r];o&&null!=o.id&&t.set(o.id,r),i.push({existing:"replaceMerge"===n||RJ(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}(e,a,n);return(i||r)&&function c(e,t,n,i){LU(i,function(r,o){if(r&&null!=r.id){var a=OJ(r.id),s=n.get(a);if(null!=s){var l=e[s];rX(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=r,l.existing=t[s],i[o]=null}}})}(s,e,a,t),i&&function u(e,t){LU(t,function(n,i){if(n&&null!=n.name)for(var r=0;r<e.length;r++){var o=e[r].existing;if(!e[r].newOption&&o&&(null==o.id||null==n.id)&&!RJ(n)&&!RJ(o)&&DJ("name",o,n))return e[r].newOption=n,void(t[i]=null)}})}(s,t),i||r?function h(e,t,n){LU(t,function(t){if(t){for(var i,r=0;(i=e[r])&&(i.newOption||RJ(i.existing)||i.existing&&null!=t.id&&!DJ("id",t,i.existing));)r++;i?(i.newOption=t,i.brandNew=n):e.push({newOption:t,brandNew:n,existing:null,keyInfo:null}),r++}})}(s,t,r):o&&function d(e,t){LU(t,function(t){e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}(s,t),function p(e){var t=dX();LU(e,function(e){var n=e.existing;n&&t.set(n.id,e)}),LU(e,function(e){var n=e.newOption;rX(!n||null==n.id||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})}),LU(e,function(e,n){var i=e.existing,r=e.newOption,o=e.keyInfo;if(XU(r)){if(o.name=null!=r.name?OJ(r.name):i?i.name:wJ+n,i)o.id=OJ(i.id);else if(null!=r.id)o.id=OJ(r.id);else{var a=0;do{o.id="\0"+o.name+"\0"+a++}while(t.get(o.id))}t.set(o.id,e)}})}(s),s}function DJ(e,t,n){var i=EJ(t[e],null),r=EJ(n[e],null);return null!=i&&null!=r&&i===r}function OJ(e){return EJ(e,"")}function EJ(e,t){return null==e?t:jU(e)?e:UU(e)||GU(e)?e+"":t}function LJ(e){var t=e.name;return!(!t||!t.indexOf(wJ))}function RJ(e){return e&&null!=e.id&&0===OJ(e.id).indexOf(SJ)}function NJ(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?WU(t.dataIndex)?RU(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?WU(t.name)?RU(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0}function PJ(){var e="__ec_inner_"+zJ++;return function(t){return t[e]||(t[e]={})}}var zJ=mJ();function BJ(e,t,n){var i=VJ(t,n),r=i.mainTypeSpecified,o=i.queryOptionMap,a=i.others,s=n?n.defaultMainType:null;return!r&&s&&o.set(s,{}),o.each(function(t,i){var r=WJ(e,i,t,{useDefault:s===i,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[i+"Models"]=r.models,a[i+"Model"]=r.models[0]}),a}function VJ(e,t){var n;if(jU(e)){var i={};i[e+"Index"]=0,n=i}else n=e;var r=dX(),o={},a=!1;return LU(n,function(e,n){if("dataIndex"!==n&&"dataIndexInside"!==n){var i=n.match(/^(\w+)(Index|Id|Name)$/)||[],s=i[1],l=(i[2]||"").toLowerCase();if(s&&l&&!(t&&t.includeMainTypes&&DU(t.includeMainTypes,s)<0))a=a||!!s,(r.get(s)||r.set(s,{}))[l]=e}else o[n]=e}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var FJ={useDefault:!0,enableAll:!1,enableNone:!1},HJ={useDefault:!1,enableAll:!0,enableNone:!0};function WJ(e,t,n,i){i=i||FJ;var r=n.index,o=n.id,a=n.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=e.getComponent(t))?[l]:[],s}if("none"===r||!1===r){if(i.enableNone)return s.models=[],s;r=-1}return"all"===r&&(r=i.enableAll?o=a=null:-1),s.models=e.queryComponents({mainType:t,index:r,id:o,name:a}),s}function $J(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function jJ(e,t){var n=dX(),i=[];return LU(e,function(e){var r=t(e);(n.get(r)||(i.push(r),n.set(r,[]))).push(e)}),{keys:i,buckets:n}}function GJ(e,t,n,i,r){var o=null==t||"auto"===t;if(null==i)return i;if(UU(i))return eJ(f=_J(n||0,i,r),o?Math.max(nJ(n||0),nJ(i)):t);if(jU(i))return r<1?n:i;for(var a=[],s=n,l=i,c=Math.max(s?s.length:0,l.length),u=0;u<c;++u){var h=e.getDimensionInfo(u);if(h&&"ordinal"===h.type)a[u]=(r<1&&s?s:l)[u];else{var d=s&&s[u]?s[u]:0,p=l[u],f=_J(d,p,r);a[u]=eJ(f,o?Math.max(nJ(d),nJ(p)):t)}}return a}var UJ=function(){function e(){}return e.prototype.reset=function(e,t,n,i){return this._list=e,this._step=i=i||1,this._idx=t,this._end=null!=n?n:i>0?e.length:0,this.item=null,this.key=NaN,this},e.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)&&(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0)},e}();function XJ(e){e.option=e.parentModel=e.ecModel=null}var qJ="___EC__COMPONENT__CONTAINER___",YJ="___EC__EXTENDED_CLASS___";function ZJ(e){var t={main:"",sub:""};if(e){var n=e.split(".");t.main=n[0]||"",t.sub=n[1]||""}return t}function KJ(e,t){e.$constructor=e,e.extend=function(e){var t,n=this;return!function i(e){return $U(e)&&/^class\s/.test(Function.prototype.toString.call(e))}(n)?(t=function(){(e.$constructor||n).apply(this,arguments)},function r(e,t){var n=e.prototype;function i(){}for(var r in i.prototype=t.prototype,e.prototype=new i,n)n.hasOwnProperty(r)&&(e.prototype[r]=n[r]);e.prototype.constructor=e,e.superClass=t}(t,this)):t=function(e){function t(){return e.apply(this,arguments)||this}return nU(t,e),t}(n),AU(t.prototype,e),t[YJ]=!0,t.extend=this.extend,t.superCall=eQ,t.superApply=tQ,t.superClass=n,t}}function JJ(e,t){e.extend=t.extend}var QJ=Math.round(10*Math.random());function eQ(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[t].apply(e,n)}function tQ(e,t,n){return this.superClass.prototype[t].apply(e,n)}function nQ(e){var t={};e.registerClass=function(e){var n=e.type||e.prototype.type;if(n){!function o(e){rX(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}(n),e.prototype.type=n;var i=ZJ(n);if(i.sub){if(i.sub!==qJ){var r=function n(e){var n=t[e.main];n&&n[qJ]||((n=t[e.main]={})[qJ]=!0);return n}(i);r[i.sub]=e}}else t[i.main]=e}return e},e.getClass=function(e,n,i){var r=t[e];if(r&&r[qJ]&&(r=n?r[n]:null),i&&!r)throw new Error(n?"Component "+e+"."+(n||"")+" is used but not imported.":e+".type should be specified.");return r},e.getClassesByMainType=function(e){var n=ZJ(e),i=[],r=t[n.main];return r&&r[qJ]?LU(r,function(e,t){t!==qJ&&i.push(e)}):i.push(r),i},e.hasClass=function(e){var n=ZJ(e);return!!t[n.main]},e.getAllClassMainTypes=function(){var e=[];return LU(t,function(t,n){e.push(n)}),e},e.hasSubTypes=function(e){var n=ZJ(e),i=t[n.main];return i&&i[qJ]}}function iQ(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(n,i,r){for(var o={},a=0;a<e.length;a++){var s=e[a][1];if(!(i&&DU(i,s)>=0||r&&DU(r,s)<0)){var l=n.getShallow(s,t);null!=l&&(o[e[a][0]]=l)}}return o}}var rQ=iQ([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),oQ=function(){function e(){}return e.prototype.getAreaStyle=function(e,t){return rQ(this,e,t)},e}(),aQ=new PY(50);function sQ(e){if("string"==typeof e){var t=aQ.get(e);return t&&t.image}return e}function lQ(e,t,n,i,r){if(e){if("string"==typeof e){if(t&&t.__zrImageSrc===e||!n)return t;var o=aQ.get(e),a={hostEl:n,cb:i,cbPayload:r};return o?!uQ(t=o.image)&&o.pending.push(a):((t=uU.loadImage(e,cQ,cQ)).__zrImageSrc=e,aQ.put(e,t.__cachedImgObj={image:t,pending:[a]})),t}return e}return t}function cQ(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function uQ(e){return e&&e.width&&e.height}var hQ=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function dQ(e,t,n,i,r,o){if(!n)return e.text="",void(e.isTruncated=!1);var a=(t+"").split("\n");o=pQ(n,i,r,o);for(var s=!1,l={},c=0,u=a.length;c<u;c++)fQ(l,a[c],o),a[c]=l.textLine,s=s||l.isTruncated;e.text=a.join("\n"),e.isTruncated=s}function pQ(e,t,n,i){var r=AU({},i=i||{});n=eX(n,"..."),r.maxIterations=eX(i.maxIterations,2);var o=r.minChar=eX(i.minChar,0),a=r.fontMeasureInfo=vK(t),s=a.asciiCharWidth;r.placeholder=eX(i.placeholder,"");for(var l=e=Math.max(0,e-1),c=0;c<o&&l>=s;c++)l-=s;var u=_K(a,n);return u>l&&(n="",u=0),l=e-u,r.ellipsis=n,r.ellipsisWidth=u,r.contentWidth=l,r.containerWidth=e,r}function fQ(e,t,n){var i=n.containerWidth,r=n.contentWidth,o=n.fontMeasureInfo;if(!i)return e.textLine="",void(e.isTruncated=!1);var a=_K(o,t);if(a<=i)return e.textLine=t,void(e.isTruncated=!1);for(var s=0;;s++){if(a<=r||s>=n.maxIterations){t+=n.ellipsis;break}var l=0===s?gQ(t,r,o):a>0?Math.floor(t.length*r/a):0;a=_K(o,t=t.substr(0,l))}""===t&&(t=n.placeholder),e.textLine=t,e.isTruncated=!0}function gQ(e,t,n){for(var i=0,r=0,o=e.length;r<o&&i<t;r++)i+=xK(n,e.charCodeAt(r));return r}var mQ=function(){return function e(){}}(),vQ=function(){return function e(t){this.tokens=[],t&&(this.tokens=t)}}(),yQ=function(){return function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}}();function bQ(e,t,n,i,r){var o,a,s=""===t,l=r&&n.rich[r]||{},c=e.lines,u=l.font||n.font,h=!1;if(i){var d=l.padding,p=d?d[1]+d[3]:0;if(null!=l.width&&"auto"!==l.width){var f=TK(l.width,i.width)+p;c.length>0&&f+i.accumWidth>i.width&&(o=t.split("\n"),h=!0),i.accumWidth=f}else{var g=wQ(t,u,i.width,i.breakAll,i.accumWidth);i.accumWidth=g.accumWidth+p,a=g.linesWidths,o=g.lines}}o||(o=t.split("\n"));for(var m=vK(u),v=0;v<o.length;v++){var y=o[v],b=new mQ;if(b.styleName=r,b.text=y,b.isLineHolder=!y&&!s,"number"==typeof l.width?b.width=l.width:b.width=a?a[v]:_K(m,y),v||h)c.push(new vQ([b]));else{var x=(c[c.length-1]||(c[0]=new vQ)).tokens,_=x.length;1===_&&x[0].isLineHolder?x[0]=b:(y||!_||s)&&x.push(b)}}}var xQ=NU(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function _Q(e){return!function t(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}(e)||!!xQ[e]}function wQ(e,t,n,i,r){for(var o=[],a=[],s="",l="",c=0,u=0,h=vK(t),d=0;d<e.length;d++){var p=e.charAt(d);if("\n"!==p){var f=xK(h,p.charCodeAt(0)),g=!i&&!_Q(p);(o.length?u+f>n:r+u+f>n)?u?(s||l)&&(g?(s||(s=l,l="",u=c=0),o.push(s),a.push(u-c),l+=p,s="",u=c+=f):(l&&(s+=l,l="",c=0),o.push(s),a.push(u),s=p,u=f)):g?(o.push(l),a.push(c),l=p,c=f):(o.push(p),a.push(f)):(u+=f,g?(l+=p,c+=f):(l&&(s+=l,l="",c=0),s+=p))}else l&&(s+=l,u+=c),o.push(s),a.push(u),s="",l="",c=0,u=0}return l&&(s+=l),s&&(o.push(s),a.push(u)),1===o.length&&(u+=r),{accumWidth:u,lines:o,linesWidths:a}}function SQ(e,t,n,i,r,o){if(e.baseX=n,e.baseY=i,e.outerWidth=e.outerHeight=null,t){var a=2*t.width,s=2*t.height;Rq.set(MQ,MK(n,a,r),kK(i,s,o),a,s),Rq.intersect(t,MQ,null,kQ);var l=kQ.outIntersectRect;e.outerWidth=l.width,e.outerHeight=l.height,e.baseX=MK(l.x,l.width,r,!0),e.baseY=kK(l.y,l.height,o,!0)}}var MQ=new Rq(0,0,0,0),kQ={outIntersectRect:{},clamp:!0};function CQ(e){return null!=e?e+="":e=""}function TQ(e,t,n,i){var r=new Rq(MK(e.x||0,t,e.textAlign),kK(e.y||0,n,e.textBaseline),t,n),o=null!=i?i:AQ(e)?e.lineWidth:0;return o>0&&(r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o),r}function AQ(e){var t=e.stroke;return null!=t&&"none"!==t&&e.lineWidth>0}var IQ="__zr_style_"+Math.round(10*Math.random()),DQ={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},OQ={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DQ[IQ]=!0;var EQ=["z","z2","invisible"],LQ=["invisible"],RQ=function(e){function t(t){return e.call(this,t)||this}var n;return xX(t,e),t.prototype._init=function(t){for(var n=BU(t),i=0;i<n.length;i++){var r=n[i];"style"===r?this.useStyle(t[r]):e.prototype.attrKV.call(this,r,t[r])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,t,n,i){var r=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function o(e,t,n){NQ.copy(e.getBoundingRect()),e.transform&&NQ.applyTransform(e.transform);return PQ.width=t,PQ.height=n,!NQ.intersect(PQ)}(this,e,t)||r&&!r[0]&&!r[3])return!1;if(n&&this.__clipPaths&&this.__clipPaths.length)for(var a=0;a<this.__clipPaths.length;++a)if(this.__clipPaths[a].isZeroArea())return!1;if(i&&this.parent)for(var s=this.parent;s;){if(s.ignore)return!1;s=s.parent}return!0},t.prototype.contain=function(e,t){return this.rectContain(e,t)},t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.rectContain=function(e,t){var n=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(n[0],n[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var t=this.transform,n=this.getBoundingRect(),i=this.style,r=i.shadowBlur||0,o=i.shadowOffsetX||0,a=i.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Rq(0,0,0,0)),t?Rq.applyTransform(e,n,t):e.copy(n),(r||o||a)&&(e.width+=2*r+Math.abs(o),e.height+=2*r+Math.abs(a),e.x=Math.min(e.x,e.x+o-r),e.y=Math.min(e.y,e.y+a-r));var s=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-s),e.y=Math.floor(e.y-s),e.width=Math.ceil(e.width+1+2*s),e.height=Math.ceil(e.height+1+2*s))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Rq(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(t,n){"style"!==t?e.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,t){return"string"==typeof e?this.style[e]=t:AU(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(e){return fX(DQ,e)},t.prototype.useStyle=function(e){e[IQ]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[IQ]},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,EQ)},t.prototype._applyStateObj=function(t,n,i,r,o,a){e.prototype._applyStateObj.call(this,t,n,i,r,o,a);var s,l=!(n&&r);if(n&&n.style?o?r?s=n.style:(s=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(s,n.style)):(s=this._mergeStyle(this.createStyle(),r?this.style:i.style),this._mergeStyle(s,n.style)):l&&(s=i.style),s)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var u=BU(c),h=0;h<u.length;h++){(p=u[h])in s&&(s[p]=s[p],this.style[p]=c[p])}var d=BU(s);for(h=0;h<d.length;h++){var p=d[h];this.style[p]=this.style[p]}this._transitionState(t,{style:s},a,this.getAnimationStyleProps())}else this.useStyle(s);var f=this.__inHover?LQ:EQ;for(h=0;h<f.length;h++){p=f[h];n&&null!=n[p]?this[p]=n[p]:l&&null!=i[p]&&(this[p]=i[p])}},t.prototype._mergeStates=function(t){for(var n,i=e.prototype._mergeStates.call(this,t),r=0;r<t.length;r++){var o=t[r];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(i.style=n),i},t.prototype._mergeStyle=function(e,t){return AU(e,t),e},t.prototype.getAnimationStyleProps=function(){return OQ},t.initDefaultProps=((n=t.prototype).type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,void(n.__dirty=3)),t}(NK),NQ=new Rq(0,0,0,0),PQ=new Rq(0,0,0,0);var zQ=Math.min,BQ=Math.max,VQ=Math.sin,FQ=Math.cos,HQ=2*Math.PI,WQ=_X(),$Q=_X(),jQ=_X();function GQ(e,t,n){if(0!==e.length){for(var i=e[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l<e.length;l++)i=e[l],r=zQ(r,i[0]),o=BQ(o,i[0]),a=zQ(a,i[1]),s=BQ(s,i[1]);t[0]=r,t[1]=a,n[0]=o,n[1]=s}}function UQ(e,t,n,i,r,o){r[0]=zQ(e,n),r[1]=zQ(t,i),o[0]=BQ(e,n),o[1]=BQ(t,i)}var XQ=[],qQ=[];function YQ(e,t,n,i,r,o,a,s,l,c){var u=_Y,h=yY,d=u(e,n,r,a,XQ);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var p=0;p<d;p++){var f=h(e,n,r,a,XQ[p]);l[0]=zQ(f,l[0]),c[0]=BQ(f,c[0])}d=u(t,i,o,s,qQ);for(p=0;p<d;p++){var g=h(t,i,o,s,qQ[p]);l[1]=zQ(g,l[1]),c[1]=BQ(g,c[1])}l[0]=zQ(e,l[0]),c[0]=BQ(e,c[0]),l[0]=zQ(a,l[0]),c[0]=BQ(a,c[0]),l[1]=zQ(t,l[1]),c[1]=BQ(t,c[1]),l[1]=zQ(s,l[1]),c[1]=BQ(s,c[1])}function ZQ(e,t,n,i,r,o,a,s){var l=TY,c=kY,u=BQ(zQ(l(e,n,r),1),0),h=BQ(zQ(l(t,i,o),1),0),d=c(e,n,r,u),p=c(t,i,o,h);a[0]=zQ(e,r,d),a[1]=zQ(t,o,p),s[0]=BQ(e,r,d),s[1]=BQ(t,o,p)}function KQ(e,t,n,i,r,o,a,s,l){var c=zX,u=BX,h=Math.abs(r-o);if(h%HQ<1e-4&&h>1e-4)return s[0]=e-n,s[1]=t-i,l[0]=e+n,void(l[1]=t+i);if(WQ[0]=FQ(r)*n+e,WQ[1]=VQ(r)*i+t,$Q[0]=FQ(o)*n+e,$Q[1]=VQ(o)*i+t,c(s,WQ,$Q),u(l,WQ,$Q),(r%=HQ)<0&&(r+=HQ),(o%=HQ)<0&&(o+=HQ),r>o&&!a?o+=HQ:r<o&&a&&(r+=HQ),a){var d=o;o=r,r=d}for(var p=0;p<o;p+=Math.PI/2)p>r&&(jQ[0]=FQ(p)*n+e,jQ[1]=VQ(p)*i+t,c(s,jQ,s),u(l,jQ,l))}var JQ={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},QQ=[],e0=[],t0=[],n0=[],i0=[],r0=[],o0=Math.min,a0=Math.max,s0=Math.cos,l0=Math.sin,c0=Math.abs,u0=Math.PI,h0=2*u0,d0="undefined"!=typeof Float32Array,p0=[];function f0(e){return Math.round(e/u0*1e8)/1e8%2*u0}function g0(e,t){var n=f0(e[0]);n<0&&(n+=h0);var i=n-e[0],r=e[1];r+=i,!t&&r-n>=h0?r=n+h0:t&&n-r>=h0?r=n-h0:!t&&n>r?r=n+(h0-f0(n-r)):t&&n<r&&(r=n-(h0-f0(r-n))),e[0]=n,e[1]=r}var m0=function(){function e(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}var t;return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(e,t,n){(n=n||0)>0&&(this._ux=c0(n/iK/e)||0,this._uy=c0(n/iK/t)||0)},e.prototype.setDPR=function(e){this.dpr=e},e.prototype.setContext=function(e){this._ctx=e},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(JQ.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},e.prototype.lineTo=function(e,t){var n=c0(e-this._xi),i=c0(t-this._yi),r=n>this._ux||i>this._uy;if(this.addData(JQ.L,e,t),this._ctx&&r&&this._ctx.lineTo(e,t),r)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(e,t,n,i,r,o){return this._drawPendingPt(),this.addData(JQ.C,e,t,n,i,r,o),this._ctx&&this._ctx.bezierCurveTo(e,t,n,i,r,o),this._xi=r,this._yi=o,this},e.prototype.quadraticCurveTo=function(e,t,n,i){return this._drawPendingPt(),this.addData(JQ.Q,e,t,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,i),this._xi=n,this._yi=i,this},e.prototype.arc=function(e,t,n,i,r,o){this._drawPendingPt(),p0[0]=i,p0[1]=r,g0(p0,o),i=p0[0];var a=(r=p0[1])-i;return this.addData(JQ.A,e,t,n,n,i,a,0,o?0:1),this._ctx&&this._ctx.arc(e,t,n,i,r,o),this._xi=s0(r)*n+e,this._yi=l0(r)*n+t,this},e.prototype.arcTo=function(e,t,n,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,i,r),this},e.prototype.rect=function(e,t,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,i),this.addData(JQ.R,e,t,n,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(JQ.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},e.prototype.fill=function(e){e&&e.fill(),this.toStatic()},e.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(e){if(this._saveData){var t=e.length;this.data&&this.data.length===t||!d0||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t}},e.prototype.appendPath=function(e){if(this._saveData){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,r=0;r<t;r++)n+=e[r].len();var o=this.data;if(d0&&(o instanceof Float32Array||!o)&&(this.data=new Float32Array(i+n),i>0&&o))for(var a=0;a<i;a++)this.data[a]=o[a];for(r=0;r<t;r++){var s=e[r].data;for(a=0;a<s.length;a++)this.data[i++]=s[a]}this._len=i}},e.prototype.addData=function(e,t,n,i,r,o,a,s,l){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var u=0;u<arguments.length;u++)c[this._len++]=arguments[u]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,d0&&this._len>11&&(this.data=new Float32Array(e)))}},e.prototype.getBoundingRect=function(){t0[0]=t0[1]=i0[0]=i0[1]=Number.MAX_VALUE,n0[0]=n0[1]=r0[0]=r0[1]=-Number.MAX_VALUE;var e,t=this.data,n=0,i=0,r=0,o=0;for(e=0;e<this._len;){var a=t[e++],s=1===e;switch(s&&(r=n=t[e],o=i=t[e+1]),a){case JQ.M:n=r=t[e++],i=o=t[e++],i0[0]=r,i0[1]=o,r0[0]=r,r0[1]=o;break;case JQ.L:UQ(n,i,t[e],t[e+1],i0,r0),n=t[e++],i=t[e++];break;case JQ.C:YQ(n,i,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],i0,r0),n=t[e++],i=t[e++];break;case JQ.Q:ZQ(n,i,t[e++],t[e++],t[e],t[e+1],i0,r0),n=t[e++],i=t[e++];break;case JQ.A:var l=t[e++],c=t[e++],u=t[e++],h=t[e++],d=t[e++],p=t[e++]+d;e+=1;var f=!t[e++];s&&(r=s0(d)*u+l,o=l0(d)*h+c),KQ(l,c,u,h,d,p,f,i0,r0),n=s0(p)*u+l,i=l0(p)*h+c;break;case JQ.R:UQ(r=n=t[e++],o=i=t[e++],r+t[e++],o+t[e++],i0,r0);break;case JQ.Z:n=r,i=o}zX(t0,t0,i0),BX(n0,n0,r0)}return 0===e&&(t0[0]=t0[1]=n0[0]=n0[1]=0),new Rq(t0[0],t0[1],n0[0]-t0[0],n0[1]-t0[1])},e.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,i=this._uy,r=0,o=0,a=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,c=0,u=0,h=0;h<t;){var d=e[h++],p=1===h;p&&(a=r=e[h],s=o=e[h+1]);var f=-1;switch(d){case JQ.M:r=a=e[h++],o=s=e[h++];break;case JQ.L:var g=e[h++],m=(b=e[h++])-o;(c0(I=g-r)>n||c0(m)>i||h===t-1)&&(f=Math.sqrt(I*I+m*m),r=g,o=b);break;case JQ.C:var v=e[h++],y=e[h++],b=(g=e[h++],e[h++]),x=e[h++],_=e[h++];f=MY(r,o,v,y,g,b,x,_,10),r=x,o=_;break;case JQ.Q:f=DY(r,o,v=e[h++],y=e[h++],g=e[h++],b=e[h++],10),r=g,o=b;break;case JQ.A:var w=e[h++],S=e[h++],M=e[h++],k=e[h++],C=e[h++],T=e[h++],A=T+C;h+=1,p&&(a=s0(C)*M+w,s=l0(C)*k+S),f=a0(M,k)*o0(h0,Math.abs(T)),r=s0(A)*M+w,o=l0(A)*k+S;break;case JQ.R:a=r=e[h++],s=o=e[h++],f=2*e[h++]+2*e[h++];break;case JQ.Z:var I=a-r;m=s-o;f=Math.sqrt(I*I+m*m),r=a,o=s}f>=0&&(l[u++]=f,c+=f)}return this._pathLen=c,c},e.prototype.rebuildPath=function(e,t){var n,i,r,o,a,s,l,c,u,h,d=this.data,p=this._ux,f=this._uy,g=this._len,m=t<1,v=0,y=0,b=0;if(!m||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,c=t*this._pathLen))e:for(var x=0;x<g;){var _=d[x++],w=1===x;switch(w&&(n=r=d[x],i=o=d[x+1]),_!==JQ.L&&b>0&&(e.lineTo(u,h),b=0),_){case JQ.M:n=r=d[x++],i=o=d[x++],e.moveTo(r,o);break;case JQ.L:a=d[x++],s=d[x++];var S=c0(a-r),M=c0(s-o);if(S>p||M>f){if(m){if(v+(q=l[y++])>c){var k=(c-v)/q;e.lineTo(r*(1-k)+a*k,o*(1-k)+s*k);break e}v+=q}e.lineTo(a,s),r=a,o=s,b=0}else{var C=S*S+M*M;C>b&&(u=a,h=s,b=C)}break;case JQ.C:var T=d[x++],A=d[x++],I=d[x++],D=d[x++],O=d[x++],E=d[x++];if(m){if(v+(q=l[y++])>c){wY(r,T,I,O,k=(c-v)/q,QQ),wY(o,A,D,E,k,e0),e.bezierCurveTo(QQ[1],e0[1],QQ[2],e0[2],QQ[3],e0[3]);break e}v+=q}e.bezierCurveTo(T,A,I,D,O,E),r=O,o=E;break;case JQ.Q:T=d[x++],A=d[x++],I=d[x++],D=d[x++];if(m){if(v+(q=l[y++])>c){AY(r,T,I,k=(c-v)/q,QQ),AY(o,A,D,k,e0),e.quadraticCurveTo(QQ[1],e0[1],QQ[2],e0[2]);break e}v+=q}e.quadraticCurveTo(T,A,I,D),r=I,o=D;break;case JQ.A:var L=d[x++],R=d[x++],N=d[x++],P=d[x++],z=d[x++],B=d[x++],V=d[x++],F=!d[x++],H=N>P?N:P,W=c0(N-P)>.001,$=z+B,j=!1;if(m)v+(q=l[y++])>c&&($=z+B*(c-v)/q,j=!0),v+=q;if(W&&e.ellipse?e.ellipse(L,R,N,P,V,z,$,F):e.arc(L,R,H,z,$,F),j)break e;w&&(n=s0(z)*N+L,i=l0(z)*P+R),r=s0($)*N+L,o=l0($)*P+R;break;case JQ.R:n=r=d[x],i=o=d[x+1],a=d[x++],s=d[x++];var G=d[x++],U=d[x++];if(m){if(v+(q=l[y++])>c){var X=c-v;e.moveTo(a,s),e.lineTo(a+o0(X,G),s),(X-=G)>0&&e.lineTo(a+G,s+o0(X,U)),(X-=U)>0&&e.lineTo(a+a0(G-X,0),s+U),(X-=G)>0&&e.lineTo(a,s+a0(U-X,0));break e}v+=q}e.rect(a,s,G,U);break;case JQ.Z:if(m){var q;if(v+(q=l[y++])>c){k=(c-v)/q;e.lineTo(r*(1-k)+n*k,o*(1-k)+i*k);break e}v+=q}e.closePath(),r=n,o=i}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.prototype.canSave=function(){return!!this._saveData},e.CMD=JQ,e.initDefaultProps=((t=e.prototype)._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,void(t._version=0)),e}();function v0(e,t,n,i,r,o,a){if(0===r)return!1;var s=r,l=0;if(a>t+s&&a>i+s||a<t-s&&a<i-s||o>e+s&&o>n+s||o<e-s&&o<n-s)return!1;if(e===n)return Math.abs(o-e)<=s/2;var c=(l=(t-i)/(e-n))*o-a+(e*i-n*t)/(e-n);return c*c/(l*l+1)<=s/2*s/2}function y0(e,t,n,i,r,o,a,s,l,c,u){if(0===l)return!1;var h=l;return!(u>t+h&&u>i+h&&u>o+h&&u>s+h||u<t-h&&u<i-h&&u<o-h&&u<s-h||c>e+h&&c>n+h&&c>r+h&&c>a+h||c<e-h&&c<n-h&&c<r-h&&c<a-h)&&SY(e,t,n,i,r,o,a,s,c,u,null)<=h/2}function b0(e,t,n,i,r,o,a,s,l){if(0===a)return!1;var c=a;return!(l>t+c&&l>i+c&&l>o+c||l<t-c&&l<i-c&&l<o-c||s>e+c&&s>n+c&&s>r+c||s<e-c&&s<n-c&&s<r-c)&&IY(e,t,n,i,r,o,s,l,null)<=c/2}var x0=2*Math.PI;function _0(e){return(e%=x0)<0&&(e+=x0),e}var w0=2*Math.PI;function S0(e,t,n,i,r,o,a,s,l){if(0===a)return!1;var c=a;s-=e,l-=t;var u=Math.sqrt(s*s+l*l);if(u-c>n||u+c<n)return!1;if(Math.abs(i-r)%w0<1e-4)return!0;if(o){var h=i;i=_0(r),r=_0(h)}else i=_0(i),r=_0(r);i>r&&(r+=w0);var d=Math.atan2(l,s);return d<0&&(d+=w0),d>=i&&d<=r||d+w0>=i&&d+w0<=r}function M0(e,t,n,i,r,o){if(o>t&&o>i||o<t&&o<i)return 0;if(i===t)return 0;var a=(o-t)/(i-t),s=i<t?1:-1;1!==a&&0!==a||(s=i<t?.5:-.5);var l=a*(n-e)+e;return l===r?1/0:l>r?s:0}var k0=m0.CMD,C0=2*Math.PI;var T0=[-1,-1,-1],A0=[-1,-1];function I0(){var e=A0[0];A0[0]=A0[1],A0[1]=e}function D0(e,t,n,i,r,o,a,s,l,c){if(c>t&&c>i&&c>o&&c>s||c<t&&c<i&&c<o&&c<s)return 0;var u=xY(t,i,o,s,c,T0);if(0===u)return 0;for(var h=0,d=-1,p=void 0,f=void 0,g=0;g<u;g++){var m=T0[g],v=0===m||1===m?.5:1;yY(e,n,r,a,m)<l||(d<0&&(d=_Y(t,i,o,s,A0),A0[1]<A0[0]&&d>1&&I0(),p=yY(t,i,o,s,A0[0]),d>1&&(f=yY(t,i,o,s,A0[1]))),2===d?m<A0[0]?h+=p<t?v:-v:m<A0[1]?h+=f<p?v:-v:h+=s<f?v:-v:m<A0[0]?h+=p<t?v:-v:h+=s<p?v:-v)}return h}function O0(e,t,n,i,r,o,a,s){if(s>t&&s>i&&s>o||s<t&&s<i&&s<o)return 0;var l=function c(e,t,n,i,r){var o=e-2*t+n,a=2*(t-e),s=e-i,l=0;if(mY(o))vY(a)&&(u=-s/a)>=0&&u<=1&&(r[l++]=u);else{var c=a*a-4*o*s;if(mY(c))(u=-a/(2*o))>=0&&u<=1&&(r[l++]=u);else if(c>0){var u,h=lY(c),d=(-a-h)/(2*o);(u=(-a+h)/(2*o))>=0&&u<=1&&(r[l++]=u),d>=0&&d<=1&&(r[l++]=d)}}return l}(t,i,o,s,T0);if(0===l)return 0;var u=TY(t,i,o);if(u>=0&&u<=1){for(var h=0,d=kY(t,i,o,u),p=0;p<l;p++){var f=0===T0[p]||1===T0[p]?.5:1;kY(e,n,r,T0[p])<a||(T0[p]<u?h+=d<t?f:-f:h+=o<d?f:-f)}return h}f=0===T0[0]||1===T0[0]?.5:1;return kY(e,n,r,T0[0])<a?0:o<t?f:-f}function E0(e,t,n,i,r,o,a,s){if((s-=t)>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);T0[0]=-l,T0[1]=l;var c=Math.abs(i-r);if(c<1e-4)return 0;if(c>=C0-1e-4){i=0,r=C0;var u=o?1:-1;return a>=T0[0]+e&&a<=T0[1]+e?u:0}if(i>r){var h=i;i=r,r=h}i<0&&(i+=C0,r+=C0);for(var d=0,p=0;p<2;p++){var f=T0[p];if(f+e>a){var g=Math.atan2(s,f);u=o?1:-1;g<0&&(g=C0+g),(g>=i&&g<=r||g+C0>=i&&g+C0<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(u=-u),d+=u)}}return d}function L0(e,t,n,i,r){for(var o,a,s=e.data,l=e.len(),c=0,u=0,h=0,d=0,p=0,f=0;f<l;){var g=s[f++],m=1===f;switch(g===k0.M&&f>1&&(n||(c+=M0(u,h,d,p,i,r))),m&&(d=u=s[f],p=h=s[f+1]),g){case k0.M:u=d=s[f++],h=p=s[f++];break;case k0.L:if(n){if(v0(u,h,s[f],s[f+1],t,i,r))return!0}else c+=M0(u,h,s[f],s[f+1],i,r)||0;u=s[f++],h=s[f++];break;case k0.C:if(n){if(y0(u,h,s[f++],s[f++],s[f++],s[f++],s[f],s[f+1],t,i,r))return!0}else c+=D0(u,h,s[f++],s[f++],s[f++],s[f++],s[f],s[f+1],i,r)||0;u=s[f++],h=s[f++];break;case k0.Q:if(n){if(b0(u,h,s[f++],s[f++],s[f],s[f+1],t,i,r))return!0}else c+=O0(u,h,s[f++],s[f++],s[f],s[f+1],i,r)||0;u=s[f++],h=s[f++];break;case k0.A:var v=s[f++],y=s[f++],b=s[f++],x=s[f++],_=s[f++],w=s[f++];f+=1;var S=!!(1-s[f++]);o=Math.cos(_)*b+v,a=Math.sin(_)*x+y,m?(d=o,p=a):c+=M0(u,h,o,a,i,r);var M=(i-v)*x/b+v;if(n){if(S0(v,y,x,_,_+w,S,t,M,r))return!0}else c+=E0(v,y,x,_,_+w,S,M,r);u=Math.cos(_+w)*b+v,h=Math.sin(_+w)*x+y;break;case k0.R:if(d=u=s[f++],p=h=s[f++],o=d+s[f++],a=p+s[f++],n){if(v0(d,p,o,p,t,i,r)||v0(o,p,o,a,t,i,r)||v0(o,a,d,a,t,i,r)||v0(d,a,d,p,t,i,r))return!0}else c+=M0(o,p,o,a,i,r),c+=M0(d,a,d,p,i,r);break;case k0.Z:if(n){if(v0(u,h,d,p,t,i,r))return!0}else c+=M0(u,h,d,p,i,r);u=d,h=p}}return n||function k(e,t){return Math.abs(e-t)<1e-4}(h,p)||(c+=M0(u,h,d,p,i,r)||0),0!==c}var R0=IU({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DQ),N0={style:IU({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},OQ.style)},P0=gK.concat(["invisible","culling","z","z2","zlevel","parent"]),z0=function(e){function t(t){return e.call(this,t)||this}var n;return xX(t,e),t.prototype.update=function(){var n=this;e.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new t;r.buildPath===t.prototype.buildPath&&(r.buildPath=function(e){n.buildPath(e,n.shape)}),r.silent=!0;var o=r.style;for(var a in i)o[a]!==i[a]&&(o[a]=i[a]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var s=0;s<P0.length;++s)r[P0[s]]=this[P0[s]];r.__dirty|=1}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(t){var n=BU(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var r=0;r<n.length;r++){var o=n[r],a=t[o];"style"===o?this.style?AU(this.style,a):this.useStyle(a):"shape"===o?AU(this.shape,a):e.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if(jU(e)){var t=nZ(e,0);return t>.5?rK:t>.2?"#eee":oK}if(e)return oK}return rK},t.prototype.getInsideTextStroke=function(e){var t=this.style.fill;if(jU(t)){var n=this.__zr;if(!(!n||!n.isDarkMode())===nZ(e,0)<.4)return t}},t.prototype.buildPath=function(e,t,n){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new m0(!1)},t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.getBoundingRect=function(){var e=this._rect,t=this.style,n=!e;if(n){var i=!1;this.path||(i=!0,this.createPathProxy());var r=this.path;(i||4&this.__dirty)&&(r.beginPath(),this.buildPath(r,this.shape,!1),this.pathUpdated()),e=r.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||n){o.copy(e);var a=t.strokeNoScale?this.getLineScale():1,s=t.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;s=Math.max(s,null==l?4:l)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return e},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),r=this.style;if(e=n[0],t=n[1],i.contain(e,t)){var o=this.path;if(this.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function n(e,t,i,r){return L0(e,t,!0,i,r)}(o,a/s,e,t)))return!0}if(this.hasFill())return function n(e,t,i){return L0(e,0,!1,t,i)}(o,e,t)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(t,n){"shape"===t?this.setShape(n):e.prototype.attrKV.call(this,t,n)},t.prototype.setShape=function(e,t){var n=this.shape;return n||(n=this.shape={}),"string"==typeof e?n[e]=t:AU(n,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(4&this.__dirty)},t.prototype.createStyle=function(e){return fX(R0,e)},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=AU({},this.shape))},t.prototype._applyStateObj=function(t,n,i,r,o,a){e.prototype._applyStateObj.call(this,t,n,i,r,o,a);var s,l=!(n&&r);if(n&&n.shape?o?r?s=n.shape:(s=AU({},i.shape),AU(s,n.shape)):(s=AU({},r?this.shape:i.shape),AU(s,n.shape)):l&&(s=i.shape),s)if(o){this.shape=AU({},this.shape);for(var c={},u=BU(s),h=0;h<u.length;h++){var d=u[h];"object"==typeof s[d]?this.shape[d]=s[d]:c[d]=s[d]}this._transitionState(t,{shape:c},a)}else this.shape=s,this.dirtyShape()},t.prototype._mergeStates=function(t){for(var n,i=e.prototype._mergeStates.call(this,t),r=0;r<t.length;r++){var o=t[r];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(i.shape=n),i},t.prototype.getAnimationStyleProps=function(){return N0},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=function(t){function n(n){var i=t.call(this,n)||this;return e.init&&e.init.call(i,n),i}return xX(n,t),n.prototype.getDefaultStyle=function(){return kU(e.style)},n.prototype.getDefaultShape=function(){return kU(e.shape)},n}(t);for(var i in e)"function"==typeof e[i]&&(n.prototype[i]=e[i]);return n},t.initDefaultProps=((n=t.prototype).type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,void(n.__dirty=7)),t}(RQ),B0=IU({strokeFirst:!0,font:sU,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},R0),V0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xX(t,e),t.prototype.hasStroke=function(){return AQ(this.style)},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return fX(B0,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){return this._rect||(this._rect=function e(t){var n=CQ(t.text),i=t.font;return TQ(t,_K(vK(i),n),CK(i),null)}(this.style)),this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(RQ);V0.prototype.type="tspan";var F0=IU({x:0,y:0},DQ),H0={style:IU({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},OQ.style)};var W0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xX(t,e),t.prototype.createStyle=function(e){return fX(F0,e)},t.prototype._getSize=function(e){var t=this.style,n=t[e];if(null!=n)return n;var i=function r(e){return!!(e&&"string"!=typeof e&&e.width&&e.height)}(t.image)?t.image:this.__image;if(!i)return 0;var o="width"===e?"height":"width",a=t[o];return null==a?i[e]:i[e]/i[o]*a},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return H0},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Rq(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(RQ);W0.prototype.type="image";var $0=Math.round;function j0(e,t,n){if(t){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;e.x1=i,e.x2=r,e.y1=o,e.y2=a;var s=n&&n.lineWidth;return s?($0(2*i)===$0(2*r)&&(e.x1=e.x2=U0(i,s,!0)),$0(2*o)===$0(2*a)&&(e.y1=e.y2=U0(o,s,!0)),e):e}}function G0(e,t,n){if(t){var i=t.x,r=t.y,o=t.width,a=t.height;e.x=i,e.y=r,e.width=o,e.height=a;var s=n&&n.lineWidth;return s?(e.x=U0(i,s,!0),e.y=U0(r,s,!0),e.width=Math.max(U0(i+o,s,!1)-e.x,0===o?0:1),e.height=Math.max(U0(r+a,s,!1)-e.y,0===a?0:1),e):e}}function U0(e,t,n){if(!t)return e;var i=$0(2*e);return(i+$0(t))%2==0?i/2:(i+(n?1:-1))/2}var X0=function(){return function e(){this.x=0,this.y=0,this.width=0,this.height=0}}(),q0={},Y0=function(e){function t(t){return e.call(this,t)||this}return xX(t,e),t.prototype.getDefaultShape=function(){return new X0},t.prototype.buildPath=function(e,t){var n,i,r,o;if(this.subPixelOptimize){var a=G0(q0,t,this.style);n=a.x,i=a.y,r=a.width,o=a.height,a.r=t.r,t=a}else n=t.x,i=t.y,r=t.width,o=t.height;t.r?function s(e,t){var n,i,r,o,a,s=t.x,l=t.y,c=t.width,u=t.height,h=t.r;c<0&&(s+=c,c=-c),u<0&&(l+=u,u=-u),"number"==typeof h?n=i=r=o=h:h instanceof Array?1===h.length?n=i=r=o=h[0]:2===h.length?(n=r=h[0],i=o=h[1]):3===h.length?(n=h[0],i=o=h[1],r=h[2]):(n=h[0],i=h[1],r=h[2],o=h[3]):n=i=r=o=0,n+i>c&&(n*=c/(a=n+i),i*=c/a),r+o>c&&(r*=c/(a=r+o),o*=c/a),i+r>u&&(i*=u/(a=i+r),r*=u/a),n+o>u&&(n*=u/(a=n+o),o*=u/a),e.moveTo(s+n,l),e.lineTo(s+c-i,l),0!==i&&e.arc(s+c-i,l+i,i,-Math.PI/2,0),e.lineTo(s+c,l+u-r),0!==r&&e.arc(s+c-r,l+u-r,r,0,Math.PI/2),e.lineTo(s+o,l+u),0!==o&&e.arc(s+o,l+u-o,o,Math.PI/2,Math.PI),e.lineTo(s,l+n),0!==n&&e.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}(e,t):e.rect(n,i,r,o)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(z0);Y0.prototype.type="rect";var Z0={fill:"#000"},K0={},J0={style:IU({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},OQ.style)},Q0=function(e){function t(t){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=Z0,n.attr(t),n}return xX(t,e),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):e.prototype.getLocalTransform.call(this,t)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,function e(t){return a1(t),LU(t.rich,a1),t}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Rq(0,0,0,0),t=this._children,n=[],i=null,r=0;r<t.length;r++){var o=t[r],a=o.getBoundingRect(),s=o.getLocalTransform(n);s?(e.copy(a),e.applyTransform(s),(i=i||e.clone()).union(e)):(i=i||a.clone()).union(a)}this._rect=i||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||Z0},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,t){if(!t)return e;var n=t.rich,i=e.rich||n&&{};return AU(e,t),n&&i?(this._mergeRich(i,n),e.rich=i):i&&(e.rich=i),e},t.prototype._mergeRich=function(e,t){for(var n=BU(t),i=0;i<n.length;i++){var r=n[i];e[r]=e[r]||{},AU(e[r],t[r])}},t.prototype.getAnimationStyleProps=function(){return J0},t.prototype._getOrCreateChild=function(e){var t=this._children[this._childCursor];return t&&t instanceof e||(t=new e),this._children[this._childCursor++]=t,t.__zr=this.__zr,t.parent=this,t},t.prototype._updatePlainTexts=function(){var e=this.style,t=e.font||sU,n=e.padding,i=this._defaultStyle,r=e.x||0,o=e.y||0,a=e.align||i.align||"left",s=e.verticalAlign||i.verticalAlign||"top";SQ(K0,i.overflowRect,r,o,a,s),r=K0.baseX,o=K0.baseY;var l=function c(e,t,n,i){var r=CQ(e),o=t.overflow,a=t.padding,s=a?a[1]+a[3]:0,l=a?a[0]+a[2]:0,c=t.font,u="truncate"===o,h=CK(c),d=eX(t.lineHeight,h),p="truncate"===t.lineOverflow,f=!1,g=t.width;null==g&&null!=n&&(g=n-s);var m,v=t.height;null==v&&null!=i&&(v=i-l);var y=(m=null==g||"break"!==o&&"breakAll"!==o?r?r.split("\n"):[]:r?wQ(r,t.font,g,"breakAll"===o,0).lines:[]).length*d;if(null==v&&(v=y),y>v&&p){var b=Math.floor(v/d);f=f||m.length>b,y=(m=m.slice(0,b)).length*d}if(r&&u&&null!=g)for(var x=pQ(g,c,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),_={},w=0;w<m.length;w++)fQ(_,m[w],x),m[w]=_.textLine,f=f||_.isTruncated;var S=v,M=0,k=vK(c);for(w=0;w<m.length;w++)M=Math.max(_K(k,m[w]),M);null==g&&(g=M);var C=g;return{lines:m,height:v,outerWidth:C+=s,outerHeight:S+=l,lineHeight:d,calculatedLineHeight:h,contentWidth:M,contentHeight:y,width:g,isTruncated:f}}(u1(e),e,K0.outerWidth,K0.outerHeight),u=h1(e),h=!!e.backgroundColor,d=l.outerHeight,p=l.outerWidth,f=l.lines,g=l.lineHeight;this.isTruncated=!!l.isTruncated;var m=r,v=kK(o,l.contentHeight,s);if(u||n){var y=MK(r,p,a),b=kK(o,d,s);u&&this._renderBackground(e,e,y,b,p,d)}v+=g/2,n&&(m=c1(r,a,n),"top"===s?v+=n[0]:"bottom"===s&&(v-=n[2]));for(var x=0,_=!1,w=!1,S=(l1("fill"in e?e.fill:(w=!0,i.fill))),M=(s1("stroke"in e?e.stroke:h||i.autoStroke&&!w?null:(x=2,_=!0,i.stroke))),k=e.textShadowBlur>0,C=0;C<f.length;C++){var T=this._getOrCreateChild(V0),A=T.createStyle();T.useStyle(A),A.text=f[C],A.x=m,A.y=v,A.textAlign=a,A.textBaseline="middle",A.opacity=e.opacity,A.strokeFirst=!0,k&&(A.shadowBlur=e.textShadowBlur||0,A.shadowColor=e.textShadowColor||"transparent",A.shadowOffsetX=e.textShadowOffsetX||0,A.shadowOffsetY=e.textShadowOffsetY||0),A.stroke=M,A.fill=S,M&&(A.lineWidth=e.lineWidth||x,A.lineDash=e.lineDash,A.lineDashOffset=e.lineDashOffset||0),A.font=t,r1(A,e),v+=g,T.setBoundingRect(TQ(A,l.contentWidth,l.calculatedLineHeight,_?0:null))}},t.prototype._updateRichTexts=function(){var e=this.style,t=this._defaultStyle,n=e.align||t.align,i=e.verticalAlign||t.verticalAlign,r=e.x||0,o=e.y||0;SQ(K0,t.overflowRect,r,o,n,i),r=K0.baseX,o=K0.baseY;var a=function s(e,t,n,i,r){var o=new yQ,a=CQ(e);if(!a)return o;var s=t.padding,l=s?s[1]+s[3]:0,c=s?s[0]+s[2]:0,u=t.width;null==u&&null!=n&&(u=n-l);var h=t.height;null==h&&null!=i&&(h=i-c);for(var d,p=t.overflow,f="break"!==p&&"breakAll"!==p||null==u?null:{width:u,accumWidth:0,breakAll:"breakAll"===p},g=hQ.lastIndex=0;null!=(d=hQ.exec(a));){var m=d.index;m>g&&bQ(o,a.substring(g,m),t,f),bQ(o,d[2],t,f,d[1]),g=hQ.lastIndex}g<a.length&&bQ(o,a.substring(g,a.length),t,f);var v=[],y=0,b=0,x="truncate"===p,_="truncate"===t.lineOverflow,w={};function S(e,t,n){e.width=t,e.lineHeight=n,y+=n,b=Math.max(b,t)}e:for(var M=0;M<o.lines.length;M++){for(var k=o.lines[M],C=0,T=0,A=0;A<k.tokens.length;A++){var I=(F=k.tokens[A]).styleName&&t.rich[F.styleName]||{},D=F.textPadding=I.padding,O=D?D[1]+D[3]:0,E=F.font=I.font||t.font;F.contentHeight=CK(E);var L=eX(I.height,F.contentHeight);if(F.innerHeight=L,D&&(L+=D[0]+D[2]),F.height=L,F.lineHeight=tX(I.lineHeight,t.lineHeight,L),F.align=I&&I.align||r,F.verticalAlign=I&&I.verticalAlign||"middle",_&&null!=h&&y+F.lineHeight>h){var R=o.lines.length;A>0?(k.tokens=k.tokens.slice(0,A),S(k,T,C),o.lines=o.lines.slice(0,M+1)):o.lines=o.lines.slice(0,M),o.isTruncated=o.isTruncated||o.lines.length<R;break e}var N=I.width,P=null==N||"auto"===N;if("string"==typeof N&&"%"===N.charAt(N.length-1))F.percentWidth=N,v.push(F),F.contentWidth=_K(vK(E),F.text);else{if(P){var z=I.backgroundColor,B=z&&z.image;B&&uQ(B=sQ(B))&&(F.width=Math.max(F.width,B.width*L/B.height))}var V=x&&null!=u?u-T:null;null!=V&&V<F.width?!P||V<O?(F.text="",F.width=F.contentWidth=0):(dQ(w,F.text,V-O,E,t.ellipsis,{minChar:t.truncateMinChar}),F.text=w.text,o.isTruncated=o.isTruncated||w.isTruncated,F.width=F.contentWidth=_K(vK(E),F.text)):F.contentWidth=_K(vK(E),F.text)}F.width+=O,T+=F.width,I&&(C=Math.max(C,F.lineHeight))}S(k,T,C)}for(o.outerWidth=o.width=eX(u,b),o.outerHeight=o.height=eX(h,y),o.contentHeight=y,o.contentWidth=b,o.outerWidth+=l,o.outerHeight+=c,M=0;M<v.length;M++){var F,H=(F=v[M]).percentWidth;F.width=parseInt(H,10)/100*o.width}return o}(u1(e),e,K0.outerWidth,K0.outerHeight,n),l=a.width,c=a.outerWidth,u=a.outerHeight,h=e.padding;this.isTruncated=!!a.isTruncated;var d=MK(r,c,n),p=kK(o,u,i),f=d,g=p;h&&(f+=h[3],g+=h[0]);var m=f+l;h1(e)&&this._renderBackground(e,e,d,p,c,u);for(var v=!!e.backgroundColor,y=0;y<a.lines.length;y++){for(var b=a.lines[y],x=b.tokens,_=x.length,w=b.lineHeight,S=b.width,M=0,k=f,C=m,T=_-1,A=void 0;M<_&&(!(A=x[M]).align||"left"===A.align);)this._placeToken(A,e,w,g,k,"left",v),S-=A.width,k+=A.width,M++;for(;T>=0&&"right"===(A=x[T]).align;)this._placeToken(A,e,w,g,C,"right",v),S-=A.width,C-=A.width,T--;for(k+=(l-(k-f)-(m-C)-S)/2;M<=T;)A=x[M],this._placeToken(A,e,w,g,k+A.width/2,"center",v),k+=A.width,M++;g+=w}},t.prototype._placeToken=function(e,t,n,i,r,o,a){var s=t.rich[e.styleName]||{};s.text=e.text;var l=e.verticalAlign,c=i+n/2;"top"===l?c=i+e.height/2:"bottom"===l&&(c=i+n-e.height/2),!e.isLineHolder&&h1(s)&&this._renderBackground(s,t,"right"===o?r-e.width:"center"===o?r-e.width/2:r,c-e.height/2,e.width,e.height);var u=!!s.backgroundColor,h=e.textPadding;h&&(r=c1(r,o,h),c-=e.height/2-h[0]-e.innerHeight/2);var d=this._getOrCreateChild(V0),p=d.createStyle();d.useStyle(p);var f=this._defaultStyle,g=!1,m=0,v=!1,y=l1("fill"in s?s.fill:"fill"in t?t.fill:(g=!0,f.fill)),b=s1("stroke"in s?s.stroke:"stroke"in t?t.stroke:u||a||f.autoStroke&&!g?null:(m=2,v=!0,f.stroke)),x=s.textShadowBlur>0||t.textShadowBlur>0;p.text=e.text,p.x=r,p.y=c,x&&(p.shadowBlur=s.textShadowBlur||t.textShadowBlur||0,p.shadowColor=s.textShadowColor||t.textShadowColor||"transparent",p.shadowOffsetX=s.textShadowOffsetX||t.textShadowOffsetX||0,p.shadowOffsetY=s.textShadowOffsetY||t.textShadowOffsetY||0),p.textAlign=o,p.textBaseline="middle",p.font=e.font||sU,p.opacity=tX(s.opacity,t.opacity,1),r1(p,s),b&&(p.lineWidth=tX(s.lineWidth,t.lineWidth,m),p.lineDash=eX(s.lineDash,t.lineDash),p.lineDashOffset=t.lineDashOffset||0,p.stroke=b),y&&(p.fill=y),d.setBoundingRect(TQ(p,e.contentWidth,e.contentHeight,v?0:null))},t.prototype._renderBackground=function(e,t,n,i,r,o){var a,s,l,c=e.backgroundColor,u=e.borderWidth,h=e.borderColor,d=c&&c.image,p=c&&!d,f=e.borderRadius,g=this;if(p||e.lineHeight||u&&h){(a=this._getOrCreateChild(Y0)).useStyle(a.createStyle()),a.style.fill=null;var m=a.shape;m.x=n,m.y=i,m.width=r,m.height=o,m.r=f,a.dirtyShape()}if(p)(l=a.style).fill=c||null,l.fillOpacity=eX(e.fillOpacity,1);else if(d){(s=this._getOrCreateChild(W0)).onload=function(){g.dirtyStyle()};var v=s.style;v.image=c.image,v.x=n,v.y=i,v.width=r,v.height=o}u&&h&&((l=a.style).lineWidth=u,l.stroke=h,l.strokeOpacity=eX(e.strokeOpacity,1),l.lineDash=e.borderDash,l.lineDashOffset=e.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(l.strokeFirst=!0,l.lineWidth*=2));var y=(a||s).style;y.shadowBlur=e.shadowBlur||0,y.shadowColor=e.shadowColor||"transparent",y.shadowOffsetX=e.shadowOffsetX||0,y.shadowOffsetY=e.shadowOffsetY||0,y.opacity=tX(e.opacity,t.opacity,1)},t.makeFont=function(e){var t="";return o1(e)&&(t=[e.fontStyle,e.fontWeight,i1(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),t&&oX(t)||e.textFont||e.font},t}(RQ),e1={left:!0,right:1,center:1},t1={top:1,bottom:1,middle:1},n1=["fontStyle","fontWeight","fontSize","fontFamily"];function i1(e){return"string"!=typeof e||-1===e.indexOf("px")&&-1===e.indexOf("rem")&&-1===e.indexOf("em")?isNaN(+e)?"12px":e+"px":e}function r1(e,t){for(var n=0;n<n1.length;n++){var i=n1[n],r=t[i];null!=r&&(e[i]=r)}}function o1(e){return null!=e.fontSize||e.fontFamily||e.fontWeight}function a1(e){if(e){e.font=Q0.makeFont(e);var t=e.align;"middle"===t&&(t="center"),e.align=null==t||e1[t]?t:"left";var n=e.verticalAlign;"center"===n&&(n="middle"),e.verticalAlign=null==n||t1[n]?n:"top",e.padding&&(e.padding=iX(e.padding))}}function s1(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function l1(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function c1(e,t,n){return"right"===t?e-n[1]:"center"===t?e+n[3]/2-n[1]/2:e+n[3]}function u1(e){var t=e.text;return null!=t&&(t+=""),t}function h1(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var d1=PJ(),p1=function(e,t,n,i){if(i){var r=d1(i);r.dataIndex=n,r.dataType=t,r.seriesIndex=e,r.ssrType="chart","group"===i.type&&i.traverse(function(i){var r=d1(i);r.seriesIndex=e,r.dataIndex=n,r.dataType=t,r.ssrType="chart"})}},f1=1,g1={},m1=PJ(),v1=PJ(),y1=["emphasis","blur","select"],b1=["normal","emphasis","blur","select"],x1=10,_1="highlight",w1="downplay",S1="select",M1="unselect",k1="toggleSelect",C1="selectchanged";function T1(e){return null!=e&&"none"!==e}function A1(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function I1(e){A1(e,"emphasis",2)}function D1(e){2===e.hoverState&&A1(e,"normal",0)}function O1(e){A1(e,"blur",1)}function E1(e){1===e.hoverState&&A1(e,"normal",0)}function L1(e){e.selected=!0}function R1(e){e.selected=!1}function N1(e,t,n){t(e,n)}function P1(e,t,n){N1(e,t,n),e.isGroup&&e.traverse(function(e){N1(e,t,n)})}function z1(e,t){switch(t){case"emphasis":e.hoverState=2;break;case"normal":e.hoverState=0;break;case"blur":e.hoverState=1;break;case"select":e.selected=!0}}function B1(e,t){var n=this.states[e];if(this.style){if("emphasis"===e)return function i(e,t,n,r){var o=n&&DU(n,"select")>=0,a=!1;if(e instanceof z0){var s=m1(e),l=o&&s.selectFill||s.normalFill,c=o&&s.selectStroke||s.normalStroke;if(T1(l)||T1(c)){var u=(r=r||{}).style||{};"inherit"===u.fill?(a=!0,r=AU({},r),(u=AU({},u)).fill=l):!T1(u.fill)&&T1(l)?(a=!0,r=AU({},r),(u=AU({},u)).fill=rZ(l)):!T1(u.stroke)&&T1(c)&&(a||(r=AU({},r),u=AU({},u)),u.stroke=rZ(c)),r.style=u}}if(r&&null==r.z2){a||(r=AU({},r));var h=e.z2EmphasisLift;r.z2=e.z2+(null!=h?h:x1)}return r}(this,0,t,n);if("blur"===e)return function r(e,t,n){var i=DU(e.currentStates,t)>=0,r=e.style.opacity,o=i?null:function a(e,t,n,i){for(var r=e.style,o={},a=0;a<t.length;a++){var s=t[a],l=r[s];o[s]=null==l?i&&i[s]:l}for(a=0;a<e.animators.length;a++){var c=e.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(n)<0&&"style"===c.targetName&&c.saveTo(o,t)}return o}(e,["opacity"],t,{opacity:1}),s=(n=n||{}).style||{};return null==s.opacity&&(n=AU({},n),s=AU({opacity:i?r:.1*o.opacity},s),n.style=s),n}(this,e,n);if("select"===e)return function o(e,t,n){if(n&&null==n.z2){n=AU({},n);var i=e.z2SelectLift;n.z2=e.z2+(null!=i?i:9)}return n}(this,0,n)}return n}function V1(e){e.stateProxy=B1;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=B1),n&&(n.stateProxy=B1)}function F1(e,t){!q1(e,t)&&!e.__highByOuter&&P1(e,I1)}function H1(e,t){!q1(e,t)&&!e.__highByOuter&&P1(e,D1)}function W1(e,t){e.__highByOuter|=1<<(t||0),P1(e,I1)}function $1(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&P1(e,D1)}function j1(e){P1(e,O1)}function G1(e){P1(e,E1)}function U1(e){P1(e,L1)}function X1(e){P1(e,R1)}function q1(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Y1(e){var t=e.getModel(),n=[],i=[];t.eachComponent(function(t,r){var o=v1(r),a="series"===t,s=a?e.getViewOfSeriesModel(r):e.getViewOfComponentModel(r);!a&&i.push(s),o.isBlured&&(s.group.traverse(function(e){E1(e)}),a&&n.push(r)),o.isBlured=!1}),LU(i,function(e){e&&e.toggleBlurSeries&&e.toggleBlurSeries(n,!1,t)})}function Z1(e,t,n,i){var r=i.getModel();function o(e,t){for(var n=0;n<t.length;n++){var i=e.getItemGraphicEl(t[n]);i&&G1(i)}}if(n=n||"coordinateSystem",null!=e&&t&&"none"!==t){var a=r.getSeriesByIndex(e),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(e){var r=a===e,c=e.coordinateSystem;if(c&&c.master&&(c=c.master),!("series"===n&&!r||"coordinateSystem"===n&&!(c&&s?c===s:r)||"series"===t&&r)){if(i.getViewOfSeriesModel(e).group.traverse(function(e){e.__highByOuter&&r&&"self"===t||O1(e)}),EU(t))o(e.getData(),t);else if(XU(t))for(var u=BU(t),h=0;h<u.length;h++)o(e.getData(u[h]),t[u[h]]);l.push(e),v1(e).isBlured=!0}}),r.eachComponent(function(e,t){if("series"!==e){var n=i.getViewOfComponentModel(t);n&&n.toggleBlurSeries&&n.toggleBlurSeries(l,!0,r)}})}}function K1(e,t,n){if(null!=e&&null!=t){var i=n.getModel().getComponent(e,t);if(i){v1(i).isBlured=!0;var r=n.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse(function(e){O1(e)})}}}function J1(e,t,n,i){var r={focusSelf:!1,dispatchers:null};if(null==e||"series"===e||null==t||null==n)return r;var o=i.getModel().getComponent(e,t);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s,l=a.findHighDownDispatchers(n),c=0;c<l.length;c++)if("self"===d1(l[c]).focus){s=!0;break}return{focusSelf:s,dispatchers:l}}function Q1(e){LU(e.getAllData(),function(t){var n=t.data,i=t.type;n.eachItemGraphicEl(function(t,n){e.isSelected(n,i)?U1(t):X1(t)})})}function e2(e){var t=[];return e.eachSeries(function(e){LU(e.getAllData(),function(n){n.data;var i=n.type,r=e.getSelectedDataIndices();if(r.length>0){var o={dataIndex:r,seriesIndex:e.seriesIndex};null!=i&&(o.dataType=i),t.push(o)}})}),t}function t2(e,t,n){s2(e,!0),P1(e,V1),i2(e,t,n)}function n2(e,t,n,i){i?function r(e){s2(e,!1)}(e):t2(e,t,n)}function i2(e,t,n){var i=d1(e);null!=t?(i.focus=t,i.blurScope=n):i.focus&&(i.focus=null)}var r2=["emphasis","blur","select"],o2={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function a2(e,t,n,i){n=n||"itemStyle";for(var r=0;r<r2.length;r++){var o=r2[r],a=t.getModel([o,n]);e.ensureState(o).style=i?i(a):a[o2[n]]()}}function s2(e,t){var n=!1===t,i=e;e.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=e.highDownSilentOnTouch),n&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!n)}function l2(e){return!(!e||!e.__highDownDispatcher)}function c2(e){var t=e.type;return t===S1||t===M1||t===k1}function u2(e){var t=e.type;return t===_1||t===w1}var h2=m0.CMD,d2=[[],[],[]],p2=Math.sqrt,f2=Math.atan2;function g2(e,t){if(t){var n,i,r,o,a,s,l=e.data,c=e.len(),u=h2.M,h=h2.C,d=h2.L,p=h2.R,f=h2.A,g=h2.Q;for(r=0,o=0;r<c;){switch(n=l[r++],o=r,i=0,n){case u:case d:i=1;break;case h:i=3;break;case g:i=2;break;case f:var m=t[4],v=t[5],y=p2(t[0]*t[0]+t[1]*t[1]),b=p2(t[2]*t[2]+t[3]*t[3]),x=f2(-t[1]/b,t[0]/y);l[r]*=y,l[r++]+=m,l[r]*=b,l[r++]+=v,l[r++]*=y,l[r++]*=b,l[r++]+=x,l[r++]+=x,o=r+=2;break;case p:s[0]=l[r++],s[1]=l[r++],PX(s,s,t),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],PX(s,s,t),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<i;a++){var _=d2[a];_[0]=l[r++],_[1]=l[r++],PX(_,_,t),l[o++]=_[0],l[o++]=_[1]}}e.increaseVersion()}}var m2=Math.sqrt,v2=Math.sin,y2=Math.cos,b2=Math.PI;function x2(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function _2(e,t){return(e[0]*t[0]+e[1]*t[1])/(x2(e)*x2(t))}function w2(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(_2(e,t))}function S2(e,t,n,i,r,o,a,s,l,c,u){var h=l*(b2/180),d=y2(h)*(e-n)/2+v2(h)*(t-i)/2,p=-1*v2(h)*(e-n)/2+y2(h)*(t-i)/2,f=d*d/(a*a)+p*p/(s*s);f>1&&(a*=m2(f),s*=m2(f));var g=(r===o?-1:1)*m2((a*a*(s*s)-a*a*(p*p)-s*s*(d*d))/(a*a*(p*p)+s*s*(d*d)))||0,m=g*a*p/s,v=g*-s*d/a,y=(e+n)/2+y2(h)*m-v2(h)*v,b=(t+i)/2+v2(h)*m+y2(h)*v,x=w2([1,0],[(d-m)/a,(p-v)/s]),_=[(d-m)/a,(p-v)/s],w=[(-1*d-m)/a,(-1*p-v)/s],S=w2(_,w);if(_2(_,w)<=-1&&(S=b2),_2(_,w)>=1&&(S=0),S<0){var M=Math.round(S/b2*1e6)/1e6;S=2*b2+M%2*b2}u.addData(c,y,b,a,s,x,S,h,o)}var M2=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,k2=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var C2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xX(t,e),t.prototype.applyTransform=function(e){},t}(z0);function T2(e){return null!=e.setData}function A2(e,t){var n=function i(e){var t=new m0;if(!e)return t;var n,i=0,r=0,o=i,a=r,s=m0.CMD,l=e.match(M2);if(!l)return t;for(var c=0;c<l.length;c++){for(var u=l[c],h=u.charAt(0),d=void 0,p=u.match(k2)||[],f=p.length,g=0;g<f;g++)p[g]=parseFloat(p[g]);for(var m=0;m<f;){var v=void 0,y=void 0,b=void 0,x=void 0,_=void 0,w=void 0,S=void 0,M=i,k=r,C=void 0,T=void 0;switch(h){case"l":i+=p[m++],r+=p[m++],d=s.L,t.addData(d,i,r);break;case"L":i=p[m++],r=p[m++],d=s.L,t.addData(d,i,r);break;case"m":i+=p[m++],r+=p[m++],d=s.M,t.addData(d,i,r),o=i,a=r,h="l";break;case"M":i=p[m++],r=p[m++],d=s.M,t.addData(d,i,r),o=i,a=r,h="L";break;case"h":i+=p[m++],d=s.L,t.addData(d,i,r);break;case"H":i=p[m++],d=s.L,t.addData(d,i,r);break;case"v":r+=p[m++],d=s.L,t.addData(d,i,r);break;case"V":r=p[m++],d=s.L,t.addData(d,i,r);break;case"C":d=s.C,t.addData(d,p[m++],p[m++],p[m++],p[m++],p[m++],p[m++]),i=p[m-2],r=p[m-1];break;case"c":d=s.C,t.addData(d,p[m++]+i,p[m++]+r,p[m++]+i,p[m++]+r,p[m++]+i,p[m++]+r),i+=p[m-2],r+=p[m-1];break;case"S":v=i,y=r,C=t.len(),T=t.data,n===s.C&&(v+=i-T[C-4],y+=r-T[C-3]),d=s.C,M=p[m++],k=p[m++],i=p[m++],r=p[m++],t.addData(d,v,y,M,k,i,r);break;case"s":v=i,y=r,C=t.len(),T=t.data,n===s.C&&(v+=i-T[C-4],y+=r-T[C-3]),d=s.C,M=i+p[m++],k=r+p[m++],i+=p[m++],r+=p[m++],t.addData(d,v,y,M,k,i,r);break;case"Q":M=p[m++],k=p[m++],i=p[m++],r=p[m++],d=s.Q,t.addData(d,M,k,i,r);break;case"q":M=p[m++]+i,k=p[m++]+r,i+=p[m++],r+=p[m++],d=s.Q,t.addData(d,M,k,i,r);break;case"T":v=i,y=r,C=t.len(),T=t.data,n===s.Q&&(v+=i-T[C-4],y+=r-T[C-3]),i=p[m++],r=p[m++],d=s.Q,t.addData(d,v,y,i,r);break;case"t":v=i,y=r,C=t.len(),T=t.data,n===s.Q&&(v+=i-T[C-4],y+=r-T[C-3]),i+=p[m++],r+=p[m++],d=s.Q,t.addData(d,v,y,i,r);break;case"A":b=p[m++],x=p[m++],_=p[m++],w=p[m++],S=p[m++],S2(M=i,k=r,i=p[m++],r=p[m++],w,S,b,x,_,d=s.A,t);break;case"a":b=p[m++],x=p[m++],_=p[m++],w=p[m++],S=p[m++],S2(M=i,k=r,i+=p[m++],r+=p[m++],w,S,b,x,_,d=s.A,t)}}"z"!==h&&"Z"!==h||(d=s.Z,t.addData(d),i=o,r=a),n=d}return t.toStatic(),t}(e),r=AU({},t);return r.buildPath=function(e){var t,i=T2(e);i&&e.canSave()?(e.appendPath(n),(t=e.getContext())&&e.rebuildPath(t,1)):(t=i?e.getContext():e)&&n.rebuildPath(t,1)},r.applyTransform=function(e){g2(n,e),this.dirtyShape()},r}function I2(e,t){return new C2(A2(e,t))}function D2(e,t){t=t||{};var n=new z0;return e.shape&&n.setShape(e.shape),n.setStyle(e.style),t.bakeTransform?g2(n.path,e.getComputedTransform()):t.toLocal?n.setLocalTransform(e.getComputedTransform()):n.copyTransform(e),n.buildPath=e.buildPath,n.applyTransform=n.applyTransform,n.z=e.z,n.z2=e.z2,n.zlevel=e.zlevel,n}var O2=function(){return function e(){this.cx=0,this.cy=0,this.r=0}}(),E2=function(e){function t(t){return e.call(this,t)||this}return xX(t,e),t.prototype.getDefaultShape=function(){return new O2},t.prototype.buildPath=function(e,t){e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI)},t}(z0);E2.prototype.type="circle";var L2=function(){return function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}}(),R2=function(e){function t(t){return e.call(this,t)||this}return xX(t,e),t.prototype.getDefaultShape=function(){return new L2},t.prototype.buildPath=function(e,t){var n=.5522848,i=t.cx,r=t.cy,o=t.rx,a=t.ry,s=o*n,l=a*n;e.moveTo(i-o,r),e.bezierCurveTo(i-o,r-l,i-s,r-a,i,r-a),e.bezierCurveTo(i+s,r-a,i+o,r-l,i+o,r),e.bezierCurveTo(i+o,r+l,i+s,r+a,i,r+a),e.bezierCurveTo(i-s,r+a,i-o,r+l,i-o,r),e.closePath()},t}(z0);R2.prototype.type="ellipse";var N2=Math.PI,P2=2*N2,z2=Math.sin,B2=Math.cos,V2=Math.acos,F2=Math.atan2,H2=Math.abs,W2=Math.sqrt,$2=Math.max,j2=Math.min,G2=1e-4;function U2(e,t,n,i,r,o,a){var s=e-n,l=t-i,c=(a?o:-o)/W2(s*s+l*l),u=c*l,h=-c*s,d=e+u,p=t+h,f=n+u,g=i+h,m=(d+f)/2,v=(p+g)/2,y=f-d,b=g-p,x=y*y+b*b,_=r-o,w=d*g-f*p,S=(b<0?-1:1)*W2($2(0,_*_*x-w*w)),M=(w*b-y*S)/x,k=(-w*y-b*S)/x,C=(w*b+y*S)/x,T=(-w*y+b*S)/x,A=M-m,I=k-v,D=C-m,O=T-v;return A*A+I*I>D*D+O*O&&(M=C,k=T),{cx:M,cy:k,x0:-u,y0:-h,x1:M*(r/_-1),y1:k*(r/_-1)}}function X2(e,t){var n,i=$2(t.r,0),r=$2(t.r0||0,0),o=i>0;if(o||r>0){if(o||(i=r,r=0),r>i){var a=i;i=r,r=a}var s=t.startAngle,l=t.endAngle;if(!isNaN(s)&&!isNaN(l)){var c=t.cx,u=t.cy,h=!!t.clockwise,d=H2(l-s),p=d>P2&&d%P2;if(p>G2&&(d=p),i>G2)if(d>P2-G2)e.moveTo(c+i*B2(s),u+i*z2(s)),e.arc(c,u,i,s,l,!h),r>G2&&(e.moveTo(c+r*B2(l),u+r*z2(l)),e.arc(c,u,r,l,s,h));else{var f=void 0,g=void 0,m=void 0,v=void 0,y=void 0,b=void 0,x=void 0,_=void 0,w=void 0,S=void 0,M=void 0,k=void 0,C=void 0,T=void 0,A=void 0,I=void 0,D=i*B2(s),O=i*z2(s),E=r*B2(l),L=r*z2(l),R=d>G2;if(R){var N=t.cornerRadius;N&&(f=(n=function e(t){var n;if(WU(t)){var i=t.length;if(!i)return t;n=1===i?[t[0],t[0],0,0]:2===i?[t[0],t[0],t[1],t[1]]:3===i?t.concat(t[2]):t}else n=[t,t,t,t];return n}(N))[0],g=n[1],m=n[2],v=n[3]);var P=H2(i-r)/2;if(y=j2(P,m),b=j2(P,v),x=j2(P,f),_=j2(P,g),M=w=$2(y,b),k=S=$2(x,_),(w>G2||S>G2)&&(C=i*B2(l),T=i*z2(l),A=r*B2(s),I=r*z2(s),d<N2)){var z=function e(t,n,i,r,o,a,s,l){var c=i-t,u=r-n,h=s-o,d=l-a,p=d*c-h*u;if(!(p*p<G2))return[t+(p=(h*(n-a)-d*(t-o))/p)*c,n+p*u]}(D,O,A,I,C,T,E,L);if(z){var B=D-z[0],V=O-z[1],F=C-z[0],H=T-z[1],W=1/z2(V2((B*F+V*H)/(W2(B*B+V*V)*W2(F*F+H*H)))/2),$=W2(z[0]*z[0]+z[1]*z[1]);M=j2(w,(i-$)/(W+1)),k=j2(S,(r-$)/(W-1))}}}if(R)if(M>G2){var j=j2(m,M),G=j2(v,M),U=U2(A,I,D,O,i,j,h),X=U2(C,T,E,L,i,G,h);e.moveTo(c+U.cx+U.x0,u+U.cy+U.y0),M<w&&j===G?e.arc(c+U.cx,u+U.cy,M,F2(U.y0,U.x0),F2(X.y0,X.x0),!h):(j>0&&e.arc(c+U.cx,u+U.cy,j,F2(U.y0,U.x0),F2(U.y1,U.x1),!h),e.arc(c,u,i,F2(U.cy+U.y1,U.cx+U.x1),F2(X.cy+X.y1,X.cx+X.x1),!h),G>0&&e.arc(c+X.cx,u+X.cy,G,F2(X.y1,X.x1),F2(X.y0,X.x0),!h))}else e.moveTo(c+D,u+O),e.arc(c,u,i,s,l,!h);else e.moveTo(c+D,u+O);if(r>G2&&R)if(k>G2){j=j2(f,k),U=U2(E,L,C,T,r,-(G=j2(g,k)),h),X=U2(D,O,A,I,r,-j,h);e.lineTo(c+U.cx+U.x0,u+U.cy+U.y0),k<S&&j===G?e.arc(c+U.cx,u+U.cy,k,F2(U.y0,U.x0),F2(X.y0,X.x0),!h):(G>0&&e.arc(c+U.cx,u+U.cy,G,F2(U.y0,U.x0),F2(U.y1,U.x1),!h),e.arc(c,u,r,F2(U.cy+U.y1,U.cx+U.x1),F2(X.cy+X.y1,X.cx+X.x1),h),j>0&&e.arc(c+X.cx,u+X.cy,j,F2(X.y1,X.x1),F2(X.y0,X.x0),!h))}else e.lineTo(c+E,u+L),e.arc(c,u,r,l,s,h);else e.lineTo(c+E,u+L)}else e.moveTo(c,u);e.closePath()}}}var q2=function(){return function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0}}(),Y2=function(e){function t(t){return e.call(this,t)||this}return xX(t,e),t.prototype.getDefaultShape=function(){return new q2},t.prototype.buildPath=function(e,t){X2(e,t)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(z0);Y2.prototype.type="sector";var Z2=function(){return function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}}(),K2=function(e){function t(t){return e.call(this,t)||this}return xX(t,e),t.prototype.getDefaultShape=function(){return new Z2},t.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,r=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,r,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,r,!0)},t}(z0);function J2(e,t,n){var i=t.smooth,r=t.points;if(r&&r.length>=2){if(i){var o=function h(e,t,n,i){var r,o,a,s,l=[],c=[],u=[],h=[];if(i){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,p=e.length;d<p;d++)zX(a,a,e[d]),BX(s,s,e[d]);zX(a,a,i[0]),BX(s,s,i[1])}for(d=0,p=e.length;d<p;d++){var f=e[d];if(n)r=e[d?d-1:p-1],o=e[(d+1)%p];else{if(0===d||d===p-1){l.push(SX(e[d]));continue}r=e[d-1],o=e[d+1]}TX(c,o,r),IX(c,c,t);var g=OX(f,r),m=OX(f,o),v=g+m;0!==v&&(g/=v,m/=v),IX(u,c,-g),IX(h,c,m);var y=kX([],f,u),b=kX([],f,h);i&&(BX(y,y,a),zX(y,y,s),BX(b,b,a),zX(b,b,s)),l.push(y),l.push(b)}return n&&l.push(l.shift()),l}(r,i,n,t.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],c=o[2*s+1],u=r[(s+1)%a];e.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{e.moveTo(r[0][0],r[0][1]);s=1;for(var h=r.length;s<h;s++)e.lineTo(r[s][0],r[s][1])}n&&e.closePath()}}K2.prototype.type="ring";var Q2=function(){return function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}}(),e5=function(e){function t(t){return e.call(this,t)||this}return xX(t,e),t.prototype.getDefaultShape=function(){return new Q2},t.prototype.buildPath=function(e,t){J2(e,t,!0)},t}(z0);e5.prototype.type="polygon";var t5=function(){return function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}}(),n5=function(e){function t(t){return e.call(this,t)||this}return xX(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new t5},t.prototype.buildPath=function(e,t){J2(e,t,!1)},t}(z0);n5.prototype.type="polyline";var i5={},r5=function(){return function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}(),o5=function(e){function t(t){return e.call(this,t)||this}return xX(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new r5},t.prototype.buildPath=function(e,t){var n,i,r,o;if(this.subPixelOptimize){var a=j0(i5,t,this.style);n=a.x1,i=a.y1,r=a.x2,o=a.y2}else n=t.x1,i=t.y1,r=t.x2,o=t.y2;var s=t.percent;0!==s&&(e.moveTo(n,i),s<1&&(r=n*(1-s)+r*s,o=i*(1-s)+o*s),e.lineTo(r,o))},t.prototype.pointAt=function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]},t}(z0);o5.prototype.type="line";var a5=[],s5=function(){return function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}}();function l5(e,t,n){var i=e.cpx2,r=e.cpy2;return null!=i||null!=r?[(n?bY:yY)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?bY:yY)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?CY:kY)(e.x1,e.cpx1,e.x2,t),(n?CY:kY)(e.y1,e.cpy1,e.y2,t)]}var c5=function(e){function t(t){return e.call(this,t)||this}return xX(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new s5},t.prototype.buildPath=function(e,t){var n=t.x1,i=t.y1,r=t.x2,o=t.y2,a=t.cpx1,s=t.cpy1,l=t.cpx2,c=t.cpy2,u=t.percent;0!==u&&(e.moveTo(n,i),null==l||null==c?(u<1&&(AY(n,a,r,u,a5),a=a5[1],r=a5[2],AY(i,s,o,u,a5),s=a5[1],o=a5[2]),e.quadraticCurveTo(a,s,r,o)):(u<1&&(wY(n,a,l,r,u,a5),a=a5[1],l=a5[2],r=a5[3],wY(i,s,c,o,u,a5),s=a5[1],c=a5[2],o=a5[3]),e.bezierCurveTo(a,s,l,c,r,o)))},t.prototype.pointAt=function(e){return l5(this.shape,e,!1)},t.prototype.tangentAt=function(e){var t=l5(this.shape,e,!0);return DX(t,t)},t}(z0);c5.prototype.type="bezier-curve";var u5=function(){return function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),h5=function(e){function t(t){return e.call(this,t)||this}return xX(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new u5},t.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r,0),o=t.startAngle,a=t.endAngle,s=t.clockwise,l=Math.cos(o),c=Math.sin(o);e.moveTo(l*r+n,c*r+i),e.arc(n,i,r,o,a,!s)},t}(z0);h5.prototype.type="arc";var d5=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="compound",t}return xX(t,e),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,t=this.shapeChanged(),n=0;n<e.length;n++)t=t||e[n].shapeChanged();t&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),z0.prototype.getBoundingRect.call(this)},t}(z0),p5=function(){function e(e){this.colorStops=e||[]}return e.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},e}(),f5=function(e){function t(t,n,i,r,o,a){var s=e.call(this,o)||this;return s.x=null==t?0:t,s.y=null==n?0:n,s.x2=null==i?1:i,s.y2=null==r?0:r,s.type="linear",s.global=a||!1,s}return xX(t,e),t}(p5),g5=function(e){function t(t,n,i,r,o){var a=e.call(this,r)||this;return a.x=null==t?.5:t,a.y=null==n?.5:n,a.r=null==i?.5:i,a.type="radial",a.global=o||!1,a}return xX(t,e),t}(p5),m5=Math.min,v5=Math.max,y5=Math.abs,b5=[0,0],x5=[0,0],_5=Bq(),w5=_5.minTv,S5=_5.maxTv,M5=function(){function e(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new xq;for(n=0;n<2;n++)this._axes[n]=new xq;e&&this.fromBoundingRect(e,t)}return e.prototype.fromBoundingRect=function(e,t){var n=this._corners,i=this._axes,r=e.x,o=e.y,a=r+e.width,s=o+e.height;if(n[0].set(r,o),n[1].set(a,o),n[2].set(a,s),n[3].set(r,s),t)for(var l=0;l<4;l++)n[l].transform(t);xq.sub(i[0],n[1],n[0]),xq.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(l=0;l<2;l++)this._origin[l]=i[l].dot(n[0])},e.prototype.intersect=function(e,t,n){var i=!0,r=!t;return t&&xq.set(t,0,0),_5.reset(n,!r),!this._intersectCheckOneSide(this,e,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(e,this,r,-1)&&(i=!1,r)||r||_5.negativeSize||xq.copy(t,i?_5.useDir?_5.dirMinTv:w5:S5),i},e.prototype._intersectCheckOneSide=function(e,t,n,i){for(var r=!0,o=0;o<2;o++){var a=e._axes[o];if(e._getProjMinMaxOnAxis(o,e._corners,b5),e._getProjMinMaxOnAxis(o,t._corners,x5),_5.negativeSize||b5[1]<x5[0]||b5[0]>x5[1]){if(r=!1,_5.negativeSize||n)return r;var s=y5(x5[0]-b5[1]),l=y5(b5[0]-x5[1]);m5(s,l)>S5.len()&&(s<l?xq.scale(S5,a,-s*i):xq.scale(S5,a,l*i))}else if(!n){s=y5(x5[0]-b5[1]),l=y5(b5[0]-x5[1]);(_5.useDir||m5(s,l)<w5.len())&&((s<l||!_5.bidirectional)&&(xq.scale(w5,a,s*i),_5.useDir&&_5.calcDirMTV()),(s>=l||!_5.bidirectional)&&(xq.scale(w5,a,-l*i),_5.useDir&&_5.calcDirMTV()))}}return r},e.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var i=this._axes[e],r=this._origin,o=t[0].dot(i)+r[e],a=o,s=o,l=1;l<t.length;l++){var c=t[l].dot(i)+r[e];a=m5(c,a),s=v5(c,s)}n[0]=a+_5.touchThreshold,n[1]=s-_5.touchThreshold,_5.negativeSize=n[1]<n[0]},e}(),k5=[],C5=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return xX(t,e),t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){(t=this._displayables[e]).parent=this,t.update(),t.parent=null}for(e=0;e<this._temporaryDisplayables.length;e++){var t;(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Rq(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(k5)),e.union(i)}this._rect=e}return this._rect},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(e,t))return!0}return!1},t}(RQ),T5=PJ();function A5(e,t,n,i,r){var o;if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();o=a&&a.animation}var s="update"===e;if(t&&t.isAnimationEnabled()){var l=void 0,c=void 0,u=void 0;return i?(l=eX(i.duration,200),c=eX(i.easing,"cubicOut"),u=0):(l=t.getShallow(s?"animationDurationUpdate":"animationDuration"),c=t.getShallow(s?"animationEasingUpdate":"animationEasing"),u=t.getShallow(s?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(l=o.duration),null!=o.easing&&(c=o.easing),null!=o.delay&&(u=o.delay)),$U(u)&&(u=u(n,r)),$U(l)&&(l=l(n)),{duration:l||0,delay:u,easing:c}}return null}function I5(e,t,n,i,r,o,a){var s,l=!1;$U(r)?(a=o,o=r,r=null):XU(r)&&(o=r.cb,a=r.during,l=r.isFrom,s=r.removeOpt,r=r.dataIndex);var c="leave"===e;c||t.stopAnimation("leave");var u=A5(e,i,r,c?s||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null);if(u&&u.duration>0){var h={duration:u.duration,delay:u.delay||0,easing:u.easing,done:o,force:!!o||!!a,setToFinal:!c,scope:e,during:a};l?t.animateFrom(n,h):t.animateTo(n,h)}else t.stopAnimation(),!l&&t.attr(n),a&&a(1),o&&o()}function D5(e,t,n,i,r,o){I5("update",e,t,n,i,r,o)}function O5(e,t,n,i,r,o){I5("enter",e,t,n,i,r,o)}function E5(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){if("leave"===e.animators[t].scope)return!0}return!1}function L5(e,t,n,i,r,o){E5(e)||I5("leave",e,t,n,i,r,o)}function R5(e,t,n,i){e.removeTextContent(),e.removeTextGuideLine(),L5(e,{style:{opacity:0}},t,n,i)}function N5(e,t,n){function i(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(e){e.isGroup||R5(e,t,n,i)}):R5(e,t,n,i)}function P5(e){T5(e).oldStyle=e.style}var z5={},B5=["x","y"],V5=["width","height"];var F5=function H5(e,t){var n=A2(e,t);return function(e){function t(t){var i=e.call(this,t)||this;return i.applyTransform=n.applyTransform,i.buildPath=n.buildPath,i}return xX(t,e),t}(C2)};function W5(e,t){z5[e]=t}function $5(e){if(z5.hasOwnProperty(e))return z5[e]}function j5(e,t,n,i){var r=I2(e,t);return n&&("center"===i&&(n=U5(n,r.getBoundingRect())),Y5(r,n)),r}function G5(e,t,n){var i=new W0({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===n){var r={width:e.width,height:e.height};i.setStyle(U5(t,r))}}});return i}function U5(e,t){var n,i=t.width/t.height,r=e.height*i;return n=r<=e.width?e.height:(r=e.width)/i,{x:e.x+e.width/2-r/2,y:e.y+e.height/2-n/2,width:r,height:n}}var X5=function q5(e,t){for(var n=[],i=e.length,r=0;r<i;r++){var o=e[r];n.push(o.getUpdatedPathProxy(!0))}var a=new z0(t);return a.createPathProxy(),a.buildPath=function(e){if(T2(e)){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t,1)}},a};function Y5(e,t){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(t);e.applyTransform(n)}}function Z5(e,t){return j0(e,e,{lineWidth:t}),e}var K5=U0;function J5(e,t){for(var n=pq([]);e&&e!==t;)gq(n,e.getLocalTransform(),n),e=e.parent;return n}function Q5(e,t,n){return t&&!EU(t)&&(t=fK.getLocalTransform(t)),n&&(t=bq([],t)),PX([],e,t)}function e3(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:YK(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:YK(2*t[4]/t[2]),o=["left"===e?-i:"right"===e?i:0,"top"===e?-r:"bottom"===e?r:0];return o=Q5(o,t,n),YK(o[0])>YK(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function t3(e){return!e.isGroup}function n3(e,t,n){if(e&&t){var i=function o(e){var t={};return e.traverse(function(e){t3(e)&&e.anid&&(t[e.anid]=e)}),t}(e);t.traverse(function(e){if(t3(e)&&e.anid){var t=i[e.anid];if(t){var o=r(e);e.attr(r(t)),D5(e,o,n,d1(e).dataIndex)}}})}function r(e){var t={x:e.x,y:e.y,rotation:e.rotation};return function n(e){return null!=e.shape}(e)&&(t.shape=kU(e.shape)),t}}function i3(e,t){return RU(e,function(e){var n=e[0];n=qK(n,t.x),n=XK(n,t.x+t.width);var i=e[1];return i=qK(i,t.y),[n,i=XK(i,t.y+t.height)]})}function r3(e,t,n){var i=AU({rectHover:!0},t),r=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(r.image=e.slice(8),IU(r,n),new W0(i)):j5(e.replace("path://",""),i,n,"center")}function o3(e,t,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(a3(e,t,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function a3(e,t,n,i,r,o,a,s){var l=n-e,c=i-t,u=a-r,h=s-o,d=s3(u,h,l,c);if(function p(e){return e<=1e-6&&e>=-1e-6}(d))return!1;var f=e-r,g=t-o,m=s3(f,g,l,c)/d;if(m<0||m>1)return!1;var v=s3(f,g,u,h)/d;return!(v<0||v>1)}function s3(e,t,n,i){return e*i-n*t}function l3(e,t,n,i,r){return null==t||(UU(t)?c3[0]=c3[1]=c3[2]=c3[3]=t:(c3[0]=t[0],c3[1]=t[1],c3[2]=t[2],c3[3]=t[3]),i&&(c3[0]=qK(0,c3[0]),c3[1]=qK(0,c3[1]),c3[2]=qK(0,c3[2]),c3[3]=qK(0,c3[3])),n&&(c3[0]=-c3[0],c3[1]=-c3[1],c3[2]=-c3[2],c3[3]=-c3[3]),u3(e,c3,"x","width",3,1,r&&r[0]||0),u3(e,c3,"y","height",0,2,r&&r[1]||0)),e}var c3=[0,0,0,0];function u3(e,t,n,i,r,o,a){var s=t[o]+t[r],l=e[i];e[i]+=s,a=qK(0,XK(a,l)),e[i]<a?(e[i]=a,e[n]+=t[r]>=0?-t[r]:t[o]>=0?l+t[o]:YK(s)>1e-8?(l-a)*t[r]/s:0):e[n]-=t[r]}function h3(e){var t=e.itemTooltipOption,n=e.componentModel,i=e.itemName,r=jU(t)?{formatter:t}:t,o=n.mainType,a=n.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=e.formatterParamsExtra;l&&LU(BU(l),function(e){mX(s,e)||(s[e]=l[e],s.$vars.push(e))});var c=d1(e.el);c.componentMainType=o,c.componentIndex=a,c.tooltipConfig={name:i,option:IU({content:i,encodeHTMLContent:!0,formatterParams:s},r)}}function d3(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function p3(e,t){if(e)if(WU(e))for(var n=0;n<e.length;n++)d3(e[n],t);else d3(e,t)}function f3(e){return!e||YK(e[1])<g3&&YK(e[2])<g3||YK(e[0])<g3&&YK(e[3])<g3}var g3=1e-5;function m3(e,t){return e?Rq.copy(e,t):t.clone()}function v3(e,t){return t?fq(e||[1,0,0,1,0,0],t):void 0}function y3(e){return{z:e.get("z")||0,zlevel:e.get("zlevel")||0}}function b3(e){var t=-1/0,n=1/0;function i(e){if(e&&!e.isGroup){var t=e.currentStates;if(t.length)for(var n=0;n<t.length;n++)r(e.states[t[n]]);r(e)}}function r(e){if(e){var i=e.z2;i>t&&(t=i),i<n&&(n=i)}}return d3(e,function(e){i(e),i(e.getTextContent()),i(e.getTextGuideLine())}),n>t&&(n=t=0),{min:n,max:t}}function x3(e,t,n){_3(e,t,n,-1/0)}function _3(e,t,n,i){if(e.ignoreModelZ)return i;var r=e.getTextContent(),o=e.getTextGuideLine();if(e.isGroup)for(var a=e.childrenRef(),s=0;s<a.length;s++)i=qK(_3(a[s],t,n,i),i);else e.z=t,e.zlevel=n,i=qK(e.z2||0,i);if(r&&(r.z=t,r.zlevel=n,isFinite(i)&&(r.z2=i+2)),o){var l=e.textGuideLineConfig;o.z=t,o.zlevel=n,isFinite(i)&&(o.z2=i+(l&&l.showAbove?1:-1))}return i}W5("circle",E2),W5("ellipse",R2),W5("sector",Y2),W5("ring",K2),W5("polygon",e5),W5("polyline",n5),W5("rect",Y0),W5("line",o5),W5("bezierCurve",c5),W5("arc",h5);const w3=Object.freeze(Object.defineProperty({__proto__:null,Arc:h5,BezierCurve:c5,BoundingRect:Rq,Circle:E2,CompoundPath:d5,Ellipse:R2,Group:FK,Image:W0,IncrementalDisplayable:C5,Line:o5,LinearGradient:f5,OrientedBoundingRect:M5,Path:z0,Point:xq,Polygon:e5,Polyline:n5,RadialGradient:g5,Rect:Y0,Ring:K2,Sector:Y2,Text:Q0,WH:V5,XY:B5,applyTransform:Q5,calcZ2Range:b3,clipPointsByRect:i3,clipRectByRect:function S3(e,t){var n=qK(e.x,t.x),i=XK(e.x+e.width,t.x+t.width),r=qK(e.y,t.y),o=XK(e.y+e.height,t.y+t.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}},createIcon:r3,ensureCopyRect:m3,ensureCopyTransform:v3,expandOrShrinkRect:l3,extendPath:function M3(e,t){return F5(e,t)},extendShape:function k3(e){return z0.extend(e)},getShapeClass:$5,getTransform:J5,groupTransition:n3,initProps:O5,isBoundingRectAxisAligned:f3,isElementRemoved:E5,lineLineIntersect:a3,linePolygonIntersect:o3,makeImage:G5,makePath:j5,mergePath:X5,registerShape:W5,removeElement:L5,removeElementWithFadeOut:N5,resizePath:Y5,retrieveZInfo:y3,setTooltipConfig:h3,subPixelOptimize:K5,subPixelOptimizeLine:Z5,subPixelOptimizeRect:function C3(e,t){return G0(e,e,t),e},transformDirection:e3,traverseElements:p3,traverseUpdateZ:x3,updateProps:D5},Symbol.toStringTag,{value:"Module"}));var T3={};function A3(e,t){for(var n=0;n<y1.length;n++){var i=y1[n],r=t[i],o=e.ensureState(i);o.style=o.style||{},o.style.text=r}var a=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(a,!0)}function I3(e,t,n){var i,r=e.labelFetcher,o=e.labelDataIndex,a=e.labelDimIndex,s=t.normal;r&&(i=r.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==i&&(i=$U(e.defaultText)?e.defaultText(o,e,n):e.defaultText);for(var l={normal:i},c=0;c<y1.length;c++){var u=y1[c],h=t[u];l[u]=eX(r?r.getFormattedLabel(o,u,null,a,h&&h.get("formatter")):null,i)}return l}function D3(e,t,n,i){n=n||T3;for(var r=e instanceof Q0,o=!1,a=0;a<b1.length;a++){if((d=t[b1[a]])&&d.getShallow("show")){o=!0;break}}var s=r?e:e.getTextContent();if(o){r||(s||(s=new Q0,e.setTextContent(s)),e.stateProxy&&(s.stateProxy=e.stateProxy));var l=I3(n,t),c=t.normal,u=!!c.getShallow("show"),h=E3(c,i&&i.normal,n,!1,!r);h.text=l.normal,r||e.setTextConfig(L3(c,n,!1));for(a=0;a<y1.length;a++){var d,p=y1[a];if(d=t[p]){var f=s.ensureState(p),g=!!eX(d.getShallow("show"),u);if(g!==u&&(f.ignore=!g),f.style=E3(d,i&&i[p],n,!0,!r),f.style.text=l[p],!r)e.ensureState(p).textConfig=L3(d,n,!0)}}s.silent=!!c.getShallow("silent"),null!=s.style.x&&(h.x=s.style.x),null!=s.style.y&&(h.y=s.style.y),s.ignore=!u,s.useStyle(h),s.dirty(),n.enableTextSetter&&(V3(s).setLabelText=function(e){var i=I3(n,t,e);A3(s,i)})}else s&&(s.ignore=!0);e.dirty()}function O3(e,t){t=t||"label";for(var n={normal:e.getModel(t)},i=0;i<y1.length;i++){var r=y1[i];n[r]=e.getModel([r,t])}return n}function E3(e,t,n,i,r){var o={};return function a(e,t,n,i,r){n=n||T3;var o,a=t.ecModel,s=a&&a.option.textStyle,l=function c(e){var t;for(;e&&e!==e.ecModel;){var n=(e.option||T3).rich;if(n){t=t||{};for(var i=BU(n),r=0;r<i.length;r++){t[i[r]]=1}}e=e.parentModel}return t}(t);if(l){o={};var u="richInheritPlainLabel",h=eX(t.get(u),a?a.get(u):void 0);for(var d in l)if(l.hasOwnProperty(d)){var p=t.getModel(["rich",d]);z3(o[d]={},p,s,t,h,n,i,r,!1,!0)}}o&&(e.rich=o);var f=t.get("overflow");f&&(e.overflow=f);var g=t.get("lineOverflow");g&&(e.lineOverflow=g);var m=e,v=t.get("minMargin");if(null!=v)v=UU(v)?v/2:0,m.margin=[v,v,v,v],m.__marginType=W3.minMargin;else{var y=t.get("textMargin");null!=y&&(m.margin=iX(y),m.__marginType=W3.textMargin)}z3(e,t,s,null,null,n,i,r,!0,!1)}(o,e,n,i,r),t&&AU(o,t),o}function L3(e,t,n){t=t||{};var i,r={},o=e.getShallow("rotate"),a=eX(e.getShallow("distance"),n?null:5),s=e.getShallow("offset");return"outside"===(i=e.getShallow("position")||(n?null:"inside"))&&(i=t.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=s&&(r.offset=s),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill="inherit"===e.get("color")?t.inheritColor||null:"auto",null!=t.autoOverflowArea&&(r.autoOverflowArea=t.autoOverflowArea),null!=t.layoutRect&&(r.layoutRect=t.layoutRect),r}var R3=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],N3=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],P3=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function z3(e,t,n,i,r,o,a,s,l,c){n=!a&&n||T3;var u=o&&o.inheritColor,h=t.getShallow("color"),d=t.getShallow("textBorderColor"),p=eX(t.getShallow("opacity"),n.opacity);"inherit"!==h&&"auto"!==h||(h=u||null),"inherit"!==d&&"auto"!==d||(d=u||null),s||(h=h||n.color,d=d||n.textBorderColor),null!=h&&(e.fill=h),null!=d&&(e.stroke=d);var f=eX(t.getShallow("textBorderWidth"),n.textBorderWidth);null!=f&&(e.lineWidth=f);var g=eX(t.getShallow("textBorderType"),n.textBorderType);null!=g&&(e.lineDash=g);var m=eX(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=m&&(e.lineDashOffset=m),a||null!=p||c||(p=o&&o.defaultOpacity),null!=p&&(e.opacity=p),a||s||null==e.fill&&o.inheritColor&&(e.fill=o.inheritColor);for(var v=0;v<R3.length;v++){var y=R3[v];null!=(x=!1!==r&&i?tX(t.getShallow(y),i.getShallow(y),n[y]):eX(t.getShallow(y),n[y]))&&(e[y]=x)}for(v=0;v<N3.length;v++){y=N3[v];null!=(x=t.getShallow(y))&&(e[y]=x)}if(null==e.verticalAlign){var b=t.getShallow("baseline");null!=b&&(e.verticalAlign=b)}if(!l||!o.disableBox){for(v=0;v<P3.length;v++){var x;y=P3[v];null!=(x=t.getShallow(y))&&(e[y]=x)}var _=t.getShallow("borderType");null!=_&&(e.borderDash=_),"auto"!==e.backgroundColor&&"inherit"!==e.backgroundColor||!u||(e.backgroundColor=u),"auto"!==e.borderColor&&"inherit"!==e.borderColor||!u||(e.borderColor=u)}}function B3(e,t){var n=t&&t.getModel("textStyle");return oX([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var V3=PJ();function F3(e,t,n,i){if(e){var r=V3(e);r.prevValue=r.value,r.value=n;var o=t.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=t)}}function H3(e,t,n,i,r){var o=V3(e);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=eX(o.interpolatedValue,o.prevValue),l=o.value;e.percent=0,(null==o.prevValue?O5:D5)(e,{percent:1},i,t,null,function c(i){var c=GJ(n,o.precision,s,l,i);o.interpolatedValue=1===i?null:c;var u=I3({labelDataIndex:t,labelFetcher:r,defaultText:a?a(c):c+""},o.statesModels,c);A3(e,u)})}}var W3={minMargin:1,textMargin:2},$3=["textStyle","color"],j3=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],G3=new Q0,U3=function(){function e(){}return e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get($3):null)},e.prototype.getFont=function(){return B3({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<j3.length;n++)t[j3[n]]=this.getShallow(j3[n]);return G3.useStyle(t),G3.update(),G3.getBoundingRect()},e}(),X3=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],q3=iQ(X3),Y3=function(){function e(){}return e.prototype.getLineStyle=function(e){return q3(this,e)},e}(),Z3=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],K3=iQ(Z3),J3=function(){function e(){}return e.prototype.getItemStyle=function(e,t){return K3(this,e,t)},e}(),Q3=function(){function e(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return e.prototype.init=function(e,t,n){},e.prototype.mergeOption=function(e,t){CU(this.option,e,!0)},e.prototype.get=function(e,t){return null==e?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},e.prototype.getShallow=function(e,t){var n=this.option,i=null==n?n:n[e];if(null==i&&!t){var r=this.parentModel;r&&(i=r.getShallow(e))}return i},e.prototype.getModel=function(t,n){var i=null!=t,r=i?this.parsePath(t):null;return new e(i?this._doGet(r):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},e.prototype.isEmpty=function(){return null==this.option},e.prototype.restoreData=function(){},e.prototype.clone=function(){return new(0,this.constructor)(kU(this.option))},e.prototype.parsePath=function(e){return"string"==typeof e?e.split("."):e},e.prototype.resolveParentPath=function(e){return e},e.prototype.isAnimationEnabled=function(){if(!rU.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&(!e[i]||null!=(n=n&&"object"==typeof n?n[e[i]]:null));i++);return null==n&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},e}();KJ(Q3),function e4(e){var t=["__\0is_clz",QJ++].join("_");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}}(Q3),OU(Q3,Y3),OU(Q3,J3),OU(Q3,oQ),OU(Q3,U3);var t4=Math.round(10*Math.random());function n4(e){return[e||"",t4++].join("_")}function i4(e,t){return CU(CU({},e,!0),t,!0)}var r4="ZH",o4="EN",a4=o4,s4={},l4={},c4=rU.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||a4).toUpperCase().indexOf(r4)>-1?r4:a4;function u4(e,t){e=e.toUpperCase(),l4[e]=new Q3(t),s4[e]=t}function h4(e){return l4[e]}u4(o4,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),u4(r4,{time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}});var d4=null;function p4(){return d4}var f4=1e3,g4=6e4,m4=36e5,v4=864e5,y4=31536e6,b4={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},x4={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},_4="{yyyy}-{MM}-{dd}",w4={year:"{yyyy}",month:"{yyyy}-{MM}",day:_4,hour:_4+" "+x4.hour,minute:_4+" "+x4.minute,second:_4+" "+x4.second,millisecond:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},S4=["year","month","day","hour","minute","second","millisecond"],M4=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function k4(e){return jU(e)||$U(e)?e:function t(e){e=e||{};var t={},n=!0;return LU(S4,function(t){n&&(n=null==e[t])}),LU(S4,function(i,r){var o=e[i];t[i]={};for(var a=null,s=r;s>=0;s--){var l=S4[s],c=XU(o)&&!WU(o)?o[l]:o,u=void 0;WU(c)?a=(u=c.slice())[0]||"":jU(c)?u=[a=c]:(null==a?a=x4[i]:b4[l].test(a)||(a=t[l][l][0]+" "+a),u=[a],n&&(u[1]="{primary|"+a+"}")),t[i][l]=u}}),t}(e)}function C4(e,t){return"0000".substr(0,t-(e+="").length)+e}function T4(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function A4(e){return e===T4(e)}function I4(e,t,n,i){var r=cJ(e),o=r[E4(n)](),a=r[L4(n)]()+1,s=Math.floor((a-1)/3)+1,l=r[R4(n)](),c=r["get"+(n?"UTC":"")+"Day"](),u=r[N4(n)](),h=(u-1)%12+1,d=r[P4(n)](),p=r[z4(n)](),f=r[B4(n)](),g=u>=12?"pm":"am",m=g.toUpperCase(),v=(i instanceof Q3?i:h4(i||c4)||function y(){return l4[a4]}()).getModel("time"),b=v.get("month"),x=v.get("monthAbbr"),_=v.get("dayOfWeek"),w=v.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,g+"").replace(/{A}/g,m+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,C4(o%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,b[a-1]).replace(/{MMM}/g,x[a-1]).replace(/{MM}/g,C4(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,C4(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,_[c]).replace(/{ee}/g,w[c]).replace(/{e}/g,c+"").replace(/{HH}/g,C4(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,C4(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,C4(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,C4(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,C4(f,3)).replace(/{S}/g,f+"")}function D4(e,t){var n=cJ(e),i=n[L4(t)]()+1,r=n[R4(t)](),o=n[N4(t)](),a=n[P4(t)](),s=n[z4(t)](),l=0===n[B4(t)](),c=l&&0===s,u=c&&0===a,h=u&&0===o,d=h&&1===r;return d&&1===i?"year":d?"month":h?"day":u?"hour":c?"minute":l?"second":"millisecond"}function O4(e,t,n){switch(t){case"year":e[F4(n)](0);case"month":e[H4(n)](1);case"day":e[W4(n)](0);case"hour":e[$4(n)](0);case"minute":e[j4(n)](0);case"second":e[G4(n)](0)}return e}function E4(e){return e?"getUTCFullYear":"getFullYear"}function L4(e){return e?"getUTCMonth":"getMonth"}function R4(e){return e?"getUTCDate":"getDate"}function N4(e){return e?"getUTCHours":"getHours"}function P4(e){return e?"getUTCMinutes":"getMinutes"}function z4(e){return e?"getUTCSeconds":"getSeconds"}function B4(e){return e?"getUTCMilliseconds":"getMilliseconds"}function V4(e){return e?"setUTCFullYear":"setFullYear"}function F4(e){return e?"setUTCMonth":"setMonth"}function H4(e){return e?"setUTCDate":"setDate"}function W4(e){return e?"setUTCHours":"setHours"}function $4(e){return e?"setUTCMinutes":"setMinutes"}function j4(e){return e?"setUTCSeconds":"setSeconds"}function G4(e){return e?"setUTCMilliseconds":"setMilliseconds"}function U4(e){if(!gJ(e))return jU(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function X4(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var q4=iX;function Y4(e,t,n){function i(e){return e&&oX(e)?e:"-"}function r(e){return!(null==e||isNaN(e)||!isFinite(e))}var o="time"===t,a=e instanceof Date;if(o||a){var s=o?cJ(e):e;if(!isNaN(+s))return I4(s,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",n);if(a)return"-"}if("ordinal"===t)return GU(e)?i(e):UU(e)&&r(e)?e+"":"-";var l=fJ(e);return r(l)?U4(l):GU(e)?i(e):"boolean"==typeof e?e+"":"-"}var Z4=["a","b","c","d","e","f","g"],K4=function(e,t){return"{"+e+(null==t?"":t)+"}"};function J4(e,t,n){WU(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=Z4[o];e=e.replace(K4(a),K4(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var c=t[s][r[l]];e=e.replace(K4(Z4[l],s),n?KX(c):c)}return e}function Q4(e,t){return t=t||"transparent",jU(e)?e:XU(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function e6(e,t){if("_blank"===t||"blank"===t){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}var t6={},n6={},i6=function(){function e(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return e.prototype.create=function(e,t){function n(n,i){var r=[];return LU(n,function(n,i){var o=n.create(e,t);r=r.concat(o||[])}),r}this._nonSeriesBoxMasterList=n(t6),this._normalMasterList=n(n6)},e.prototype.update=function(e,t){LU(this._normalMasterList,function(n){n.update&&n.update(e,t)})},e.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},e.register=function(e,t){"matrix"!==e&&"calendar"!==e?n6[e]=t:t6[e]=t},e.get=function(e){return n6[e]||t6[e]},e}();var r6=1,o6=2;var a6=dX();var s6=0,l6=1,c6=2;function u6(e,t){var n=e.getShallow("coordinateSystem"),i=e.getShallow("coordinateSystemUsage",!0),r=s6;if(n){var o="series"===e.mainType;null==i&&(i=o?"data":"box"),"data"===i?(r=l6,o||(r=s6)):"box"===i&&(r=c6,o||function t(e){return!!t6[e]}(n)||(r=s6))}return{coordSysType:n,kind:r}}function h6(e){var t=e.targetModel,n=e.coordSysType,i=e.coordSysProvider,r=e.isDefaultDataCoordSys;e.allowNotFound;var o=u6(t),a=o.kind,s=o.coordSysType;if(r&&a!==l6&&(a=l6,s=n),a===s6||s!==n)return!1;var l=i(n,t);return!!l&&(a===l6?t.coordinateSystem=l:t.boxCoordinateSystem=l,!0)}var d6=function(e,t){var n=t.getReferringComponents(e,FJ).models[0];return n&&n.coordinateSystem},p6=LU,f6=["left","right","top","bottom","width","height"],g6=[["width","left","right"],["height","top","bottom"]];function m6(e,t,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;t.eachChild(function(l,c){var u,h,d=l.getBoundingRect(),p=t.childAt(c+1),f=p&&p.getBoundingRect();if("horizontal"===e){var g=d.width+(f?-f.x+d.x:0);(u=o+g)>i||l.newline?(o=0,u=g,a+=s+n,s=d.height):s=Math.max(s,d.height)}else{var m=d.height+(f?-f.y+d.y:0);(h=a+m)>r||l.newline?(o+=s+n,a=0,h=m,s=d.width):s=Math.max(s,d.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===e?o=u+n:a=h+n)})}var v6=m6;function y6(e,t){return{left:e.getShallow("left",t),top:e.getShallow("top",t),right:e.getShallow("right",t),bottom:e.getShallow("bottom",t),width:e.getShallow("width",t),height:e.getShallow("height",t)}}function b6(e,t){var n=function i(e,t){var n,i,r=S6(e,t,{enableLayoutOnlyByCenter:!0}),o=e.getBoxLayoutParams();if(r.type===w6.point)i=r.refPoint,n=x6(o,{width:t.getWidth(),height:t.getHeight()});else{var a=e.get("center"),s=WU(a)?a:[a,a];n=x6(o,r.refContainer),i=r.boxCoordFrom===o6?r.refPoint:[KK(s[0],n.width)+n.x,KK(s[1],n.height)+n.y]}return{viewRect:n,center:i}}(e,t),r=n.viewRect,o=n.center,a=e.get("radius");WU(a)||(a=[0,a]);var s=KK(r.width,t.getWidth()),l=KK(r.height,t.getHeight()),c=Math.min(s,l),u=KK(a[0],c/2),h=KK(a[1],c/2);return{cx:o[0],cy:o[1],r0:u,r:h,viewRect:r}}function x6(e,t,n){n=q4(n||0);var i=t.width,r=t.height,o=KK(e.left,i),a=KK(e.top,r),s=KK(e.right,i),l=KK(e.bottom,r),c=KK(e.width,i),u=KK(e.height,r),h=n[2]+n[0],d=n[1]+n[3],p=e.aspect;switch(isNaN(c)&&(c=i-s-d-o),isNaN(u)&&(u=r-l-h-a),null!=p&&(isNaN(c)&&isNaN(u)&&(p>i/r?c=.8*i:u=.8*r),isNaN(c)&&(c=p*u),isNaN(u)&&(u=c/p)),isNaN(o)&&(o=i-s-c-d),isNaN(a)&&(a=r-l-u-h),e.left||e.right){case"center":o=i/2-c/2-n[3];break;case"right":o=i-c-d}switch(e.top||e.bottom){case"middle":case"center":a=r/2-u/2-n[0];break;case"bottom":a=r-u-h}o=o||0,a=a||0,isNaN(c)&&(c=i-d-o-(s||0)),isNaN(u)&&(u=r-h-a-(l||0));var f=new Rq((t.x||0)+o+n[3],(t.y||0)+a+n[0],c,u);return f.margin=n,f}function _6(e,t,n){var i=e.getShallow("preserveAspect",!0);if(!i)return t;var r=t.width/t.height;if(Math.abs(Math.atan(n)-Math.atan(r))<1e-9)return t;var o=e.getShallow("preserveAspectAlign",!0),a=e.getShallow("preserveAspectVerticalAlign",!0),s={width:t.width,height:t.height},l="cover"===i;return r>n&&!l||r<n&&l?(s.width=t.height*n,"left"===o?s.left=0:"right"===o?s.right=0:s.left="center"):(s.height=t.width/n,"top"===a?s.top=0:"bottom"===a?s.bottom=0:s.top="middle"),x6(s,t)}HU(m6,"vertical"),HU(m6,"horizontal");var w6={rect:1,point:2};function S6(e,t,n){var i,r,o,a,s=e.boxCoordinateSystem;if(s){var l=function t(e){var t=e.getShallow("coord",!0),n=r6;if(null==t){var i=a6.get(e.type);i&&i.getCoord2&&(n=o6,t=i.getCoord2(e))}return{coord:t,from:n}}(e),c=l.coord,u=l.from;if(s.dataToLayout){o=w6.rect,a=u;var h=s.dataToLayout(c);i=h.contentRect||h.rect}else n&&n.enableLayoutOnlyByCenter&&s.dataToPoint&&(o=w6.point,a=u,r=s.dataToPoint(c))}return null==o&&(o=w6.rect),o===w6.rect&&(i||(i={x:0,y:0,width:t.getWidth(),height:t.getHeight()}),r=[i.x+i.width/2,i.y+i.height/2]),{type:o,refContainer:i,refPoint:r,boxCoordFrom:a}}function M6(e,t,n,i,r,o){var a,s=!r||!r.hv||r.hv[0],l=!r||!r.hv||r.hv[1],c=r&&r.boundingMode||"all";if((o=o||e).x=e.x,o.y=e.y,!s&&!l)return!1;if("raw"===c)a="group"===e.type?new Rq(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(a=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();(a=a.clone()).applyTransform(u)}var h=x6(IU({width:a.width,height:a.height},t),n,i),d=s?h.x-a.x:0,p=l?h.y-a.y:0;return"raw"===c?(o.x=d,o.y=p):(o.x+=d,o.y+=p),o===e&&e.markRedraw(),!0}function k6(e){var t=e.layoutMode||e.constructor.layoutMode;return XU(t)?t:t?{type:t}:null}function C6(e,t,n){var i=n&&n.ignoreSize;!WU(i)&&(i=[i,i]);var r=a(g6[0],0),o=a(g6[1],1);function a(n,r){var o={},a=0,l={},c=0;if(p6(n,function(t){l[t]=e[t]}),p6(n,function(e){mX(t,e)&&(o[e]=l[e]=t[e]),s(o,e)&&a++,s(l,e)&&c++}),i[r])return s(t,n[1])?l[n[2]]=null:s(t,n[2])&&(l[n[1]]=null),l;if(2!==c&&a){if(a>=2)return o;for(var u=0;u<n.length;u++){var h=n[u];if(!mX(o,h)&&mX(e,h)){o[h]=e[h];break}}return o}return l}function s(e,t){return null!=e[t]&&"auto"!==e[t]}function l(e,t,n){p6(e,function(e){t[e]=n[e]})}l(g6[0],e,r),l(g6[1],e,o)}function T6(e){return A6({},e)}function A6(e,t){return t&&e&&p6(f6,function(n){mX(t,n)&&(e[n]=t[n])}),e}var I6=PJ(),D6=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.uid=n4("ec_cpt_model"),r}var n;return nU(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=k6(this),i=n?T6(e):{};CU(e,t.getTheme().get(this.mainType)),CU(e,this.getDefaultOption()),n&&C6(e,i,n)},t.prototype.mergeOption=function(e,t){CU(this.option,e,!0);var n=k6(this);n&&C6(this.option,e,n)},t.prototype.optionUpdated=function(e,t){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!function t(e){return!(!e||!e[YJ])}(e))return e.defaultOption;var n=I6(this);if(!n.defaultOption){for(var i=[],r=e;r;){var o=r.prototype.defaultOption;o&&i.push(o),r=r.superClass}for(var a={},s=i.length-1;s>=0;s--)a=CU(a,i[s],!0);n.defaultOption=a}return n.defaultOption},t.prototype.getReferringComponents=function(e,t){var n=e+"Index",i=e+"Id";return WJ(this.ecModel,e,{index:this.get(n,!0),id:this.get(i,!0)},t)},t.prototype.getBoxLayoutParams=function(){return y6(this,!1)},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=((n=t.prototype).type="component",n.id="",n.name="",n.mainType="",n.subType="",void(n.componentIndex=0)),t}(Q3);JJ(D6,Q3),nQ(D6),function O6(e){var t={};e.registerSubTypeDefaulter=function(e,n){var i=ZJ(e);t[i.main]=n},e.determineSubType=function(n,i){var r=i.type;if(!r){var o=ZJ(n).main;e.hasSubTypes(n)&&t[o]&&(r=t[o](i))}return r}}(D6),function L6(e,t){function n(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}e.topologicalTravel=function(e,i,r,o){if(e.length){var a=function g(e){var i={},r=[];return LU(e,function(o){var a=n(i,o),s=function l(e,t){var n=[];return LU(e,function(e){DU(t,e)>=0&&n.push(e)}),n}(a.originalDeps=t(o),e);a.entryCount=s.length,0===a.entryCount&&r.push(o),LU(s,function(e){DU(a.predecessor,e)<0&&a.predecessor.push(e);var t=n(i,e);DU(t.successor,e)<0&&t.successor.push(o)})}),{graph:i,noEntryList:r}}(i),s=a.graph,l=a.noEntryList,c={};for(LU(e,function(e){c[e]=!0});l.length;){var u=l.pop(),h=s[u],d=!!c[u];d&&(r.call(o,u,h.originalDeps.slice()),delete c[u]),LU(h.successor,d?f:p)}LU(c,function(){throw new Error("")})}function p(e){s[e].entryCount--,0===s[e].entryCount&&l.push(e)}function f(e){c[e]=!0,p(e)}}}(D6,function E6(e){var t=[];LU(D6.getClassesByMainType(e),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=RU(t,function(e){return ZJ(e).main}),"dataset"!==e&&DU(t,"dataset")<=0&&t.unshift("dataset");return t});var R6={color:{},darkColor:{},size:{}},N6=R6.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};for(var P6 in AU(N6,{primary:N6.neutral80,secondary:N6.neutral70,tertiary:N6.neutral60,quaternary:N6.neutral50,disabled:N6.neutral20,border:N6.neutral30,borderTint:N6.neutral20,borderShade:N6.neutral40,background:N6.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:N6.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:N6.neutral70,axisLineTint:N6.neutral40,axisTick:N6.neutral70,axisTickMinor:N6.neutral60,axisLabel:N6.neutral70,axisSplitLine:N6.neutral15,axisMinorSplitLine:N6.neutral05}),N6)if(N6.hasOwnProperty(P6)){var z6=N6[P6];"theme"===P6?R6.darkColor.theme=N6.theme.slice():"highlight"===P6?R6.darkColor.highlight="rgba(255,231,130,0.4)":0===P6.indexOf("accent")?R6.darkColor[P6]=QY(z6,null,function(e){return.5*e},function(e){return Math.min(1,1.3-e)}):R6.darkColor[P6]=QY(z6,null,function(e){return.9*e},function(e){return 1-Math.pow(e,1.5)})}R6.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var B6="";"undefined"!=typeof navigator&&(B6=navigator.platform||"");var V6="rgba(0, 0, 0, 0.2)",F6=R6.color.theme[0],H6=QY(F6,null,null,.9);const W6={darkMode:"auto",colorBy:"series",color:R6.color.theme,gradientColor:[H6,F6],aria:{decal:{decals:[{color:V6,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:V6,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:V6,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:V6,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:V6,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:V6,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:B6.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var $6=dX(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),j6="original",G6="arrayRows",U6="objectRows",X6="keyedColumns",q6="typedArray",Y6="unknown",Z6="column",K6="row",J6=1,Q6=2,e8=3,t8=PJ();function n8(e,t,n){var i={},r=r8(t);if(!r||!e)return i;var o,a,s=[],l=[],c=t.ecModel,u=t8(c).datasetMap,h=r.uid+"_"+n.seriesLayoutBy;LU(e=e.slice(),function(t,n){var r=XU(t)?t:e[n]={name:t};"ordinal"===r.type&&null==o&&(o=n,a=f(r)),i[r.name]=[]});var d=u.get(h)||u.set(h,{categoryWayDim:a,valueWayDim:0});function p(e,t,n){for(var i=0;i<n;i++)e.push(t+i)}function f(e){var t=e.dimsDef;return t?t.length:1}return LU(e,function(e,t){var n=e.name,r=f(e);if(null==o){var a=d.valueWayDim;p(i[n],a,r),p(l,a,r),d.valueWayDim+=r}else if(o===t)p(i[n],0,r),p(s,0,r);else{a=d.categoryWayDim;p(i[n],a,r),p(l,a,r),d.categoryWayDim+=r}}),s.length&&(i.itemName=s),l.length&&(i.seriesName=l),i}function i8(e,t,n){var i={};if(!r8(e))return i;var r,o=t.sourceFormat,a=t.dimensionsDefine;o!==U6&&o!==X6||LU(a,function(e,t){"name"===(XU(e)?e.name:e)&&(r=t)});var s=function(){for(var e={},i={},s=[],l=0,c=Math.min(5,n);l<c;l++){var u=a8(t.data,o,t.seriesLayoutBy,a,t.startIndex,l);s.push(u);var h=u===e8;if(h&&null==e.v&&l!==r&&(e.v=l),(null==e.n||e.n===e.v||!h&&s[e.n]===e8)&&(e.n=l),d(e)&&s[e.n]!==e8)return e;h||(u===Q6&&null==i.v&&l!==r&&(i.v=l),null!=i.n&&i.n!==i.v||(i.n=l))}function d(e){return null!=e.v&&null!=e.n}return d(e)?e:d(i)?i:null}();if(s){i.value=[s.v];var l=null!=r?r:s.n;i.itemName=[l],i.seriesName=[l]}return i}function r8(e){if(!e.get("data",!0))return WJ(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},FJ).models[0]}function o8(e,t){return a8(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function a8(e,t,n,i,r,o){var a,s,l;if(YU(e))return e8;if(i){var c=i[o];XU(c)?(s=c.name,l=c.type):jU(c)&&(s=c)}if(null!=l)return"ordinal"===l?J6:e8;if(t===G6){var u=e;if(n===K6){for(var h=u[o],d=0;d<(h||[]).length&&d<5;d++)if(null!=(a=y(h[r+d])))return a}else for(d=0;d<u.length&&d<5;d++){var p=u[r+d];if(p&&null!=(a=y(p[o])))return a}}else if(t===U6){var f=e;if(!s)return e8;for(d=0;d<f.length&&d<5;d++){if((m=f[d])&&null!=(a=y(m[s])))return a}}else if(t===X6){if(!s)return e8;if(!(h=e[s])||YU(h))return e8;for(d=0;d<h.length&&d<5;d++)if(null!=(a=y(h[d])))return a}else if(t===j6){var g=e;for(d=0;d<g.length&&d<5;d++){var m,v=TJ(m=g[d]);if(!WU(v))return e8;if(null!=(a=y(v[o])))return a}}function y(e){var t=jU(e);return null!=e&&Number.isFinite(Number(e))&&""!==e?t?Q6:e8:t&&"-"!==e?J6:void 0}return e8}var s8=dX();var l8,c8,u8,h8=PJ(),d8=PJ(),p8=function(){function e(){}return e.prototype.getColorFromPalette=function(e,t,n){var i=MJ(this.get("color",!0)),r=this.get("colorLayer",!0);return g8(this,h8,i,r,e,t,n)},e.prototype.clearColorPalette=function(){!function e(t,n){n(t).paletteIdx=0,n(t).paletteNameMap={}}(this,h8)},e}();function f8(e,t,n,i){var r=MJ(e.get(["aria","decal","decals"]));return g8(e,d8,r,null,t,n,i)}function g8(e,t,n,i,r,o,a){var s=t(o=o||e),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(r))return c[r];var u=null!=a&&i?function h(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i].length>t)return e[i];return e[n-1]}(i,a):n;if((u=u||n)&&u.length){var d=u[l];return r&&(c[r]=d),s.paletteIdx=(l+1)%u.length,d}}var m8="\0_ec_inner",v8=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.init=function(e,t,n,i,r,o){i=i||{},this.option=null,this._theme=new Q3(i),this._locale=new Q3(r),this._optionManager=o},t.prototype.setOption=function(e,t,n){var i=x8(t);this._optionManager.setOption(e,n,i),this._resetOption(null,i)},t.prototype.resetOption=function(e,t){return this._resetOption(e,x8(t))},t.prototype._resetOption=function(e,t){var n=!1,i=this._optionManager;if(!e||"recreate"===e){var r=i.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(r,t)):u8(this,r),n=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=i.getTimelineOption(this);o&&(n=!0,this._mergeOption(o,t))}if(!e||"recreate"===e||"media"===e){var a=i.getMediaOption(this);a.length&&LU(a,function(e){n=!0,this._mergeOption(e,t)},this)}return n},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,t){var n=this.option,i=this._componentsMap,r=this._componentsCount,o=[],a=dX(),s=t&&t.replaceMergeMainTypeMap;!function l(e){t8(e).datasetMap=dX()}(this),LU(e,function(e,t){null!=e&&(D6.hasClass(t)?t&&(o.push(t),a.set(t,!0)):n[t]=null==n[t]?kU(e):CU(n[t],e,!0))}),s&&s.each(function(e,t){D6.hasClass(t)&&!a.get(t)&&(o.push(t),a.set(t,!0))}),D6.topologicalTravel(o,D6.getAllClassMainTypes(),function c(t){var o=function a(e,t,n){var i=s8.get(t);if(!i)return n;var r=i(e);return r?n.concat(r):n}(this,t,MJ(e[t])),l=i.get(t),c=l?s&&s.get(t)?"replaceMerge":"normalMerge":"replaceAll",u=IJ(l,o,c);(function h(e,t,n){LU(e,function(e){var i=e.newOption;XU(i)&&(e.keyInfo.mainType=t,e.keyInfo.subType=function r(e,t,n,i){return t.type?t.type:n?n.subType:i.determineSubType(e,t)}(t,i,e.existing,n))})})(u,t,D6),n[t]=null,i.set(t,null),r.set(t,0);var d,p=[],f=[],g=0;LU(u,function(e,n){var i=e.existing,r=e.newOption;if(r){var o="series"===t,a=D6.getClass(t,e.keyInfo.subType,!o);if(!a)return;if("tooltip"===t){if(d)return;d=!0}if(i&&i.constructor===a)i.name=e.keyInfo.name,i.mergeOption(r,this),i.optionUpdated(r,!1);else{var s=AU({componentIndex:n},e.keyInfo);AU(i=new a(r,this,this,s),s),e.brandNew&&(i.__requireNewView=!0),i.init(r,this,this),i.optionUpdated(null,!0)}}else i&&(i.mergeOption({},this),i.optionUpdated({},!1));i?(p.push(i.option),f.push(i),g++):(p.push(void 0),f.push(void 0))},this),n[t]=p,i.set(t,f),r.set(t,g),"series"===t&&l8(this)},this),this._seriesIndices||l8(this)},t.prototype.getOption=function(){var e=kU(this.option);return LU(e,function(t,n){if(D6.hasClass(n)){for(var i=MJ(t),r=i.length,o=!1,a=r-1;a>=0;a--)i[a]&&!RJ(i[a])?o=!0:(i[a]=null,!o&&r--);i.length=r,e[n]=i}}),delete e[m8],e},t.prototype.setTheme=function(e){this._theme=new Q3(e),this._resetOption("recreate",null)},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,t){var n=this._componentsMap.get(e);if(n){var i=n[t||0];if(i)return i;if(null==t)for(var r=0;r<n.length;r++)if(n[r])return n[r]}},t.prototype.queryComponents=function(e){var t=e.mainType;if(!t)return[];var n,i=e.index,r=e.id,o=e.name,a=this._componentsMap.get(t);return a&&a.length?(null!=i?(n=[],LU(MJ(i),function(e){a[e]&&n.push(a[e])})):n=null!=r?y8("id",r,a):null!=o?y8("name",o,a):PU(a,function(e){return!!e}),b8(n,e)):[]},t.prototype.findComponents=function(e){var t=e.query,n=e.mainType,i=function r(e){var t=n+"Index",i=n+"Id",r=n+"Name";return!e||null==e[t]&&null==e[i]&&null==e[r]?null:{mainType:n,index:e[t],id:e[i],name:e[r]}}(t);return function o(t){return e.filter?PU(t,e.filter):t}(b8(i?this.queryComponents(i):PU(this._componentsMap.get(n),function(e){return!!e}),e))},t.prototype.eachComponent=function(e,t,n){var i=this._componentsMap;if($U(e)){var r=t,o=e;i.each(function(e,t){for(var n=0;e&&n<e.length;n++){var i=e[n];i&&o.call(r,t,i,i.componentIndex)}})}else for(var a=jU(e)?i.get(e):XU(e)?this.findComponents(e):null,s=0;a&&s<a.length;s++){var l=a[s];l&&t.call(n,l,l.componentIndex)}},t.prototype.getSeriesByName=function(e){var t=EJ(e,null);return PU(this._componentsMap.get("series"),function(e){return!!e&&null!=t&&e.name===t})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return PU(this._componentsMap.get("series"),function(t){return!!t&&t.subType===e})},t.prototype.getSeries=function(){return PU(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,t){c8(this),LU(this._seriesIndices,function(n){var i=this._componentsMap.get("series")[n];e.call(t,i,n)},this)},t.prototype.eachRawSeries=function(e,t){LU(this._componentsMap.get("series"),function(n){n&&e.call(t,n,n.componentIndex)})},t.prototype.eachSeriesByType=function(e,t,n){c8(this),LU(this._seriesIndices,function(i){var r=this._componentsMap.get("series")[i];r.subType===e&&t.call(n,r,i)},this)},t.prototype.eachRawSeriesByType=function(e,t,n){return LU(this.getSeriesByType(e),t,n)},t.prototype.isSeriesFiltered=function(e){return c8(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,t){c8(this);var n=[];LU(this._seriesIndices,function(i){var r=this._componentsMap.get("series")[i];e.call(t,r,i)&&n.push(i)},this),this._seriesIndices=n,this._seriesIndicesMap=dX(n)},t.prototype.restoreData=function(e){l8(this);var t=this._componentsMap,n=[];t.each(function(e,t){D6.hasClass(t)&&n.push(t)}),D6.topologicalTravel(n,D6.getAllClassMainTypes(),function(n){LU(t.get(n),function(t){!t||"series"===n&&function i(e,t){if(t){var n=t.seriesIndex,i=t.seriesId,r=t.seriesName;return null!=n&&e.componentIndex!==n||null!=i&&e.id!==i||null!=r&&e.name!==r}}(t,e)||t.restoreData()})})},t.internalField=(l8=function(e){var t=e._seriesIndices=[];LU(e._componentsMap.get("series"),function(e){e&&t.push(e.componentIndex)}),e._seriesIndicesMap=dX(t)},c8=function(e){},void(u8=function(e,t){e.option={},e.option[m8]=1,e._componentsMap=dX({series:[]}),e._componentsCount=dX();var n=t.aria;XU(n)&&null==n.enabled&&(n.enabled=!0),function i(e,t){var n=e.color&&!e.colorLayer;LU(t,function(t,i){"colorLayer"===i&&n||"color"===i&&e.color||D6.hasClass(i)||("object"==typeof t?e[i]=e[i]?CU(e[i],t,!1):kU(t):null==e[i]&&(e[i]=t))})}(t,e._theme.option),CU(t,W6,!1),e._mergeOption(t,null)})),t}(Q3);function y8(e,t,n){if(WU(t)){var i=dX();return LU(t,function(e){null!=e&&(null!=EJ(e,null)&&i.set(e,!0))}),PU(n,function(t){return t&&i.get(t[e])})}var r=EJ(t,null);return PU(n,function(t){return t&&null!=r&&t[e]===r})}function b8(e,t){return t.hasOwnProperty("subType")?PU(e,function(e){return e&&e.subType===t.subType}):e}function x8(e){var t=dX();return e&&LU(MJ(e.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}OU(v8,p8);var _8=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],w8=function(){return function e(t){LU(_8,function(e){this[e]=VU(t[e],t)},this)}}(),S8=/^(min|max)?(.+)$/,M8=function(){function e(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return e.prototype.setOption=function(e,t,n){e&&(LU(MJ(e.series),function(e){e&&e.data&&YU(e.data)&&sX(e.data)}),LU(MJ(e.dataset),function(e){e&&e.source&&YU(e.source)&&sX(e.source)})),e=kU(e);var i=this._optionBackup,r=function o(e,t,n){var i,r,o=[],a=e.baseOption,s=e.timeline,l=e.options,c=e.media,u=!!e.media,h=!!(l||s||a&&a.timeline);a?(r=a).timeline||(r.timeline=s):((h||u)&&(e.options=e.media=null),r=e);u&&WU(c)&&LU(c,function(e){e&&e.option&&(e.query?o.push(e):i||(i=e))});function d(e){LU(t,function(t){t(e,n)})}return d(r),LU(l,function(e){return d(e)}),LU(o,function(e){return d(e.option)}),{baseOption:r,timelineOptions:l||[],mediaDefault:i,mediaList:o}}(e,t,!i);this._newBaseOption=r.baseOption,i?(r.timelineOptions.length&&(i.timelineOptions=r.timelineOptions),r.mediaList.length&&(i.mediaList=r.mediaList),r.mediaDefault&&(i.mediaDefault=r.mediaDefault)):this._optionBackup=r},e.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],kU(e?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=kU(n[i.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,o=[],a=[];if(!i.length&&!r)return a;for(var s=0,l=i.length;s<l;s++)k8(i[s].query,t,n)&&o.push(s);return!o.length&&r&&(o=[-1]),o.length&&!function c(e,t){return e.join(",")===t.join(",")}(o,this._currentMediaIndices)&&(a=RU(o,function(e){return kU(-1===e?r.option:i[e].option)})),this._currentMediaIndices=o,a},e}();function k8(e,t,n){var i={width:t,height:n,aspectratio:t/n},r=!0;return LU(e,function(e,t){var n=t.match(S8);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function t(e,n,i){return"min"===i?e>=n:"max"===i?e<=n:e===n})(i[a],e,o)||(r=!1)}}),r}var C8=LU,T8=XU,A8=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function I8(e){var t=e&&e.itemStyle;if(t)for(var n=0,i=A8.length;n<i;n++){var r=A8[n],o=t.normal,a=t.emphasis;o&&o[r]&&(e[r]=e[r]||{},e[r].normal?CU(e[r].normal,o[r]):e[r].normal=o[r],o[r]=null),a&&a[r]&&(e[r]=e[r]||{},e[r].emphasis?CU(e[r].emphasis,a[r]):e[r].emphasis=a[r],a[r]=null)}}function D8(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var i=e[t].normal,r=e[t].emphasis;i&&(n?(e[t].normal=e[t].emphasis=null,IU(e[t],i)):e[t]=i),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r,r.focus&&(e.emphasis.focus=r.focus),r.blurScope&&(e.emphasis.blurScope=r.blurScope))}}function O8(e){D8(e,"itemStyle"),D8(e,"lineStyle"),D8(e,"areaStyle"),D8(e,"label"),D8(e,"labelLine"),D8(e,"upperLabel"),D8(e,"edgeLabel")}function E8(e,t){var n=T8(e)&&e[t],i=T8(n)&&n.textStyle;if(i)for(var r=0,o=CJ.length;r<o;r++){var a=CJ[r];i.hasOwnProperty(a)&&(n[a]=i[a])}}function L8(e){e&&(O8(e),E8(e,"label"),e.emphasis&&E8(e.emphasis,"label"))}function R8(e){return WU(e)?e:e?[e]:[]}function N8(e){return(WU(e)?e[0]:e)||{}}function P8(e,t){C8(R8(e.series),function(e){T8(e)&&function t(e){if(T8(e)){I8(e),O8(e),E8(e,"label"),E8(e,"upperLabel"),E8(e,"edgeLabel"),e.emphasis&&(E8(e.emphasis,"label"),E8(e.emphasis,"upperLabel"),E8(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(I8(t),L8(t));var n=e.markLine;n&&(I8(n),L8(n));var i=e.markArea;i&&L8(i);var r=e.data;if("graph"===e.type){r=r||e.nodes;var o=e.links||e.edges;if(o&&!YU(o))for(var a=0;a<o.length;a++)L8(o[a]);LU(e.categories,function(e){O8(e)})}if(r&&!YU(r))for(a=0;a<r.length;a++)L8(r[a]);if((t=e.markPoint)&&t.data){var s=t.data;for(a=0;a<s.length;a++)L8(s[a])}if((n=e.markLine)&&n.data){var l=n.data;for(a=0;a<l.length;a++)WU(l[a])?(L8(l[a][0]),L8(l[a][1])):L8(l[a])}"gauge"===e.type?(E8(e,"axisLabel"),E8(e,"title"),E8(e,"detail")):"treemap"===e.type?(D8(e.breadcrumb,"itemStyle"),LU(e.levels,function(e){O8(e)})):"tree"===e.type&&O8(e.leaves)}}(e)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),C8(n,function(t){C8(R8(e[t]),function(e){e&&(E8(e,"axisLabel"),E8(e.axisPointer,"label"))})}),C8(R8(e.parallel),function(e){var t=e&&e.parallelAxisDefault;E8(t,"axisLabel"),E8(t&&t.axisPointer,"label")}),C8(R8(e.calendar),function(e){D8(e,"itemStyle"),E8(e,"dayLabel"),E8(e,"monthLabel"),E8(e,"yearLabel")}),C8(R8(e.radar),function(e){E8(e,"name"),e.name&&null==e.axisName&&(e.axisName=e.name,delete e.name),null!=e.nameGap&&null==e.axisNameGap&&(e.axisNameGap=e.nameGap,delete e.nameGap)}),C8(R8(e.geo),function(e){T8(e)&&(L8(e),C8(R8(e.regions),function(e){L8(e)}))}),C8(R8(e.timeline),function(e){L8(e),D8(e,"label"),D8(e,"itemStyle"),D8(e,"controlStyle",!0);var t=e.data;WU(t)&&LU(t,function(e){XU(e)&&(D8(e,"label"),D8(e,"itemStyle"))})}),C8(R8(e.toolbox),function(e){D8(e,"iconStyle"),C8(e.feature,function(e){D8(e,"iconStyle")})}),E8(N8(e.axisPointer),"label"),E8(N8(e.tooltip).axisPointer,"label")}function z8(e){e&&LU(B8,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var B8=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],V8=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],F8=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function H8(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<F8.length;n++){var i=F8[n][1],r=F8[n][0];null!=t[i]&&(t[r]=t[i])}}function W8(e){e&&"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function $8(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function j8(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&j8(e[n].children,t)}function G8(e,t){P8(e,t),e.series=MJ(e.series),LU(e.series,function(e){if(XU(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t){if(null!=e.clockWise&&(e.clockwise=e.clockWise),W8(e.label),(r=e.data)&&!YU(r))for(var n=0;n<r.length;n++)W8(r[n]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===t){var i=function t(e,n){for(var i=n.split(","),r=e,o=0;o<i.length&&null!=(r=r&&r[i[o]]);o++);return r}(e,"pointer.color");null!=i&&function n(e,t,i,r){for(var o,a=t.split(","),s=e,l=0;l<a.length-1;l++)null==s[o=a[l]]&&(s[o]={}),s=s[o];null==s[a[l]]&&(s[a[l]]=i)}(e,"itemStyle.color",i)}else if("bar"===t){var r;if(H8(e),H8(e.backgroundStyle),H8(e.emphasis),(r=e.data)&&!YU(r))for(n=0;n<r.length;n++)"object"==typeof r[n]&&(H8(r[n]),H8(r[n]&&r[n].emphasis))}else if("sunburst"===t){var o=e.highlightPolicy;o&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=o)),$8(e),j8(e.data,$8)}else"graph"===t||"sankey"===t?function a(e){e&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency"))}(e):"map"===t&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&IU(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),z8(e)}}),e.dataRange&&(e.visualMap=e.dataRange),LU(V8,function(t){var n=e[t];n&&(WU(n)||(n=[n]),LU(n,function(e){z8(e)}))})}var U8,X8,q8,Y8,Z8,K8,J8=function(){return function e(t){this.data=t.data||(t.sourceFormat===X6?{}:[]),this.sourceFormat=t.sourceFormat||Y6,this.seriesLayoutBy=t.seriesLayoutBy||Z6,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var i=0;i<n.length;i++){var r=n[i];null==r.type&&o8(this,i)===J6&&(r.type="ordinal")}}}();function Q8(e){return e instanceof J8}function e9(e,t,n){n=n||n9(e);var i=t.seriesLayoutBy,r=function o(e,t,n,i,r){var o,a;if(!e)return{dimensionsDefine:i9(r),startIndex:a,dimensionsDetectedCount:o};if(t===G6){var s=e;"auto"===i||null==i?r9(function(e){null!=e&&"-"!==e&&(jU(e)?null==a&&(a=1):a=0)},n,s,10):a=UU(i)?i:i?1:0,r||1!==a||(r=[],r9(function(e,t){r[t]=null!=e?e+"":""},n,s,1/0)),o=r?r.length:n===K6?s.length:s[0]?s[0].length:null}else if(t===U6)r||(r=function l(e){var t,n=0;for(;n<e.length&&!(t=e[n++]););if(t)return BU(t)}(e));else if(t===X6)r||(r=[],LU(e,function(e,t){r.push(t)}));else if(t===j6){var c=TJ(e[0]);o=WU(c)&&c.length||1}return{startIndex:a,dimensionsDefine:i9(r),dimensionsDetectedCount:o}}(e,n,i,t.sourceHeader,t.dimensions);return new J8({data:e,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:kU(t)})}function t9(e){return new J8({data:e,sourceFormat:YU(e)?q6:j6})}function n9(e){var t=Y6;if(YU(e))t=q6;else if(WU(e)){0===e.length&&(t=G6);for(var n=0,i=e.length;n<i;n++){var r=e[n];if(null!=r){if(WU(r)||YU(r)){t=G6;break}if(XU(r)){t=U6;break}}}}else if(XU(e))for(var o in e)if(mX(e,o)&&EU(e[o])){t=X6;break}return t}function i9(e){if(e){var t=dX();return RU(e,function(e,n){var i={name:(e=XU(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var r=t.get(i.name);return r?i.name+="-"+r.count++:t.set(i.name,{count:1}),i})}}function r9(e,t,n,i){if(t===K6)for(var r=0;r<n.length&&r<i;r++)e(n[r]?n[r][0]:null,r);else{var o=n[0]||[];for(r=0;r<o.length&&r<i;r++)e(o[r],r)}}function o9(e){var t=e.sourceFormat;return t===U6||t===X6}var a9=function(){function e(e,t){var n=Q8(e)?e:t9(e);this._source=n;var i=this._data=n.data,r=n.sourceFormat;n.seriesLayoutBy,r===q6&&(this._offset=0,this._dimSize=t,this._data=i),K8(this,i,n)}var t;return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(e,t){},e.prototype.appendData=function(e){},e.prototype.clean=function(){},e.protoInitialize=((t=e.prototype).pure=!1,void(t.persistent=!0)),e.internalField=function(){var e;K8=function(e,r,o){var a=o.sourceFormat,s=o.seriesLayoutBy,l=o.startIndex,c=o.dimensionsDefine;if(AU(e,Z8[v9(a,s)]),a===q6)e.getItem=t,e.count=i,e.fillStorage=n;else{var u=u9(a,s);e.getItem=VU(u,null,r,l,c);var h=p9(a,s);e.count=VU(h,null,r,l,c)}};var t=function(e,t){e-=this._offset,t=t||[];for(var n=this._data,i=this._dimSize,r=i*e,o=0;o<i;o++)t[o]=n[r+o];return t},n=function(e,t,n,i){for(var r=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=i[a],l=null==s[0]?1/0:s[0],c=null==s[1]?-1/0:s[1],u=t-e,h=n[a],d=0;d<u;d++){var p=r[d*o+a];h[e+d]=p,p<l&&(l=p),p>c&&(c=p)}s[0]=l,s[1]=c}},i=function(){return this._data?this._data.length/this._dimSize:0};function r(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}(e={})[G6+"_"+Z6]={pure:!0,appendData:r},e[G6+"_"+K6]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[U6]={pure:!0,appendData:r},e[X6]={pure:!0,appendData:function(e){var t=this._data;LU(e,function(e,n){for(var i=t[n]||(t[n]=[]),r=0;r<(e||[]).length;r++)i.push(e[r])})}},e[j6]={appendData:r},e[q6]={persistent:!1,pure:!0,appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}},Z8=e}(),e}(),s9=function(e){WU(e)};(U8={})[G6+"_"+Z6]=s9,U8[G6+"_"+K6]=s9,U8[U6]=s9,U8[X6]=function(e,t){for(var n=0;n<t.length;n++){null==t[n].name&&bJ()}},U8[j6]=s9;var l9=function(e,t,n,i){return e[i]},c9=((X8={})[G6+"_"+Z6]=function(e,t,n,i){return e[i+t]},X8[G6+"_"+K6]=function(e,t,n,i,r){i+=t;for(var o=r||[],a=e,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},X8[U6]=l9,X8[X6]=function(e,t,n,i,r){for(var o=r||[],a=0;a<n.length;a++){var s=n[a].name,l=null!=s?e[s]:null;o[a]=l?l[i]:null}return o},X8[j6]=l9,X8);function u9(e,t){return c9[v9(e,t)]}var h9=function(e,t,n){return e.length},d9=((q8={})[G6+"_"+Z6]=function(e,t,n){return Math.max(0,e.length-t)},q8[G6+"_"+K6]=function(e,t,n){var i=e[0];return i?Math.max(0,i.length-t):0},q8[U6]=h9,q8[X6]=function(e,t,n){var i=n[0].name,r=null!=i?e[i]:null;return r?r.length:0},q8[j6]=h9,q8);function p9(e,t){return d9[v9(e,t)]}var f9=function(e,t,n){return e[t]},g9=((Y8={})[G6]=f9,Y8[U6]=function(e,t,n){return e[n]},Y8[X6]=f9,Y8[j6]=function(e,t,n){var i=TJ(e);return i instanceof Array?i[t]:i},Y8[q6]=f9,Y8);function m9(e){return g9[e]}function v9(e,t){return e===G6?e+"_"+t:e}function y9(e,t,n){if(e){var i=e.getRawDataItem(t);if(null!=i){var r=e.getStore(),o=r.getSource().sourceFormat;if(null!=n){var a=e.getDimensionIndex(n),s=r.getDimensionProperty(a);return m9(o)(i,a,s)}var l=i;return o===j6&&(l=TJ(i)),l}}}var b9=/\{@(.+?)\}/g,x9=function(){function e(){}return e.prototype.getDataParams=function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),r=n.getRawIndex(e),o=n.getName(e),a=n.getRawDataItem(e),s=n.getItemVisual(e,"style"),l=s&&s[n.getItemVisual(e,"drawType")||"fill"],c=s&&s.stroke,u=this.mainType,h="series"===u,d=n.userOutput&&n.userOutput.get();return{componentType:u,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:r,data:a,dataType:t,value:i,color:l,borderColor:c,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(e,t,n,i,r,o){t=t||"normal";var a=this.getData(n),s=this.getDataParams(e,n);(o&&(s.value=o.interpolatedValue),null!=i&&WU(s.value)&&(s.value=s.value[i]),r)||(r=a.getItemModel(e).get("normal"===t?["label","formatter"]:[t,"label","formatter"]));return $U(r)?(s.status=t,s.dimensionIndex=i,r(s)):jU(r)?J4(r,s).replace(b9,function(t,n){var i=n.length,r=n;"["===r.charAt(0)&&"]"===r.charAt(i-1)&&(r=+r.slice(1,i-1));var s=y9(a,e,r);if(o&&WU(o.interpolatedValue)){var l=a.getDimensionIndex(r);l>=0&&(s=o.interpolatedValue[l])}return null!=s?s+"":""}):void 0},e.prototype.getRawValue=function(e,t){return y9(this.getData(t),e)},e.prototype.formatTooltip=function(e,t,n){},e}();function _9(e){var t,n;return XU(e)?e.type&&(n=e):t=e,{text:t,frag:n}}function w9(e){return new S9(e)}var S9=function(){function e(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return e.prototype.perform=function(e){var t,n=this._upstream,i=e&&e.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(t=this._plan(this.context));var o,a=u(this._modBy),s=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;function u(e){return!(e>=1)&&(e=1),e}a===l&&s===c||(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,o=this._doReset(i)),this._modBy=l,this._modDataCount=c;var h=e&&e.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,p=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(o||d<p)){var f=this._progress;if(WU(f))for(var g=0;g<f.length;g++)this._doProgress(f[g],d,p,l,c);else this._doProgress(f,d,p,l,c)}this._dueIndex=p;var m=null!=this._settedOutputEnd?this._settedOutputEnd:p;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(e,t,n,i,r){M9.reset(t,n,i,r),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:M9.next},this.context)},e.prototype._doReset=function(e){var t,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&((t=this._reset(this.context))&&t.progress&&(n=t.forceFirstProgress,t=t.progress),WU(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},e}(),M9=function(){var e,t,n,i,r,o={reset:function(l,c,u,h){t=l,e=c,n=u,i=h,r=Math.ceil(i/n),o.next=n>1&&i>0?s:a}};return o;function a(){return t<e?t++:null}function s(){var o=t%r*n+Math.ceil(t/r),a=t>=e?null:o<i?o:t;return t++,a}}();function k9(e,t){var n=t&&t.type;return"ordinal"===n?e:("time"!==n||UU(e)||null==e||"-"===e||(e=+cJ(e)),null==e||""===e?NaN:Number(e))}var C9=dX({number:function(e){return parseFloat(e)},time:function(e){return+cJ(e)},trim:function(e){return jU(e)?oX(e):e}});function T9(e){return C9.get(e)}var A9={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},I9=function(){function e(e,t){if(!UU(t)){xJ("")}this._opFn=A9[e],this._rvalFloat=fJ(t)}return e.prototype.evaluate=function(e){return UU(e)?this._opFn(e,this._rvalFloat):this._opFn(fJ(e),this._rvalFloat)},e}(),D9=function(){function e(e,t){var n="desc"===e;this._resultLT=n?1:-1,null==t&&(t=n?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return e.prototype.evaluate=function(e,t){var n=UU(e)?e:fJ(e),i=UU(t)?t:fJ(t),r=isNaN(n),o=isNaN(i);if(r&&(n=this._incomparable),o&&(i=this._incomparable),r&&o){var a=jU(e),s=jU(t);a&&(n=s?e:0),s&&(i=a?t:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},e}(),O9=function(){function e(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=fJ(t)}return e.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(t=fJ(e)===this._rvalFloat)}return this._isEQ?t:!t},e}();function E9(e,t){return"eq"===e||"ne"===e?new O9("eq"===e,t):mX(A9,e)?new I9(e,t):null}var L9=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(e){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(e){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(e,t){},e.prototype.retrieveValueFromItem=function(e,t){},e.prototype.convertValue=function(e,t){return k9(e,t)},e}();function R9(e){if(!F9(e.sourceFormat)){xJ("")}return e.data}function N9(e){var t=e.sourceFormat,n=e.data;if(!F9(t)){xJ("")}if(t===G6){for(var i=[],r=0,o=n.length;r<o;r++)i.push(n[r].slice());return i}if(t===U6){for(i=[],r=0,o=n.length;r<o;r++)i.push(AU({},n[r]));return i}}function P9(e,t,n){if(null!=n)return UU(n)||!isNaN(n)&&!mX(t,n)?e[n]:mX(t,n)?t[n]:void 0}function z9(e){return kU(e)}var B9=dX();function V9(e,t,n,i){t.length||xJ(""),XU(e)||xJ("");var r=e.type,o=B9.get(r);o||xJ("");var a=RU(t,function(e){return function t(e,n){var i=new L9,r=e.data,o=i.sourceFormat=e.sourceFormat,a=e.startIndex;e.seriesLayoutBy!==Z6&&xJ("");var s=[],l={},c=e.dimensionsDefine;if(c)LU(c,function(e,t){var n=e.name,i={index:t,name:n,displayName:e.displayName};s.push(i),null!=n&&(mX(l,n)&&xJ(""),l[n]=i)});else for(var u=0;u<e.dimensionsDetectedCount;u++)s.push({index:u});var h=u9(o,Z6);n.__isBuiltIn&&(i.getRawDataItem=function(e){return h(r,a,s,e)},i.getRawData=VU(R9,null,e)),i.cloneRawData=VU(N9,null,e);var d=p9(o,Z6);i.count=VU(d,null,r,a,s);var p=m9(o);i.retrieveValue=function(e,t){var n=h(r,a,s,e);return f(n,t)};var f=i.retrieveValueFromItem=function(e,t){if(null!=e){var n=s[t];return n?p(e,t,n.name):void 0}};return i.getDimensionInfo=VU(P9,null,s,l),i.cloneAllDimensionInfo=VU(z9,null,s),i}(e,o)});return RU(MJ(o.transform({upstream:a[0],upstreamList:a,config:kU(e.config)})),function(e,n){var i;XU(e)||xJ(""),e.data||xJ(""),F9(n9(e.data))||xJ("");var r=t[0];if(r&&0===n&&!e.dimensions){var o=r.startIndex;o&&(e.data=r.data.slice(0,o).concat(e.data)),i={seriesLayoutBy:Z6,sourceHeader:o,dimensions:r.metaRawOption.dimensions}}else i={seriesLayoutBy:Z6,sourceHeader:0,dimensions:e.dimensions};return e9(e.data,i,null)})}function F9(e){return e===G6||e===U6}var H9,W9="undefined",$9=typeof Uint32Array===W9?Array:Uint32Array,j9=typeof Uint16Array===W9?Array:Uint16Array,G9=typeof Int32Array===W9?Array:Int32Array,U9=typeof Float64Array===W9?Array:Float64Array,X9={float:U9,int:G9,ordinal:Array,number:Array,time:U9};function q9(e){return e>65535?$9:j9}function Y9(){return[1/0,-1/0]}function Z9(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function K9(e,t,n,i,r){var o=X9[n||"float"];if(r){var a=e[t],s=a&&a.length;if(s!==i){for(var l=new o(i),c=0;c<s;c++)l[c]=a[c];e[t]=l}}else e[t]=new o(i)}var J9=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=dX()}return e.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),r=this.defaultDimValueGetter=H9[i.sourceFormat];this._dimValueGetter=n||r,this._rawExtent=[],o9(i),this._dimensions=RU(t,function(e){return{type:e.type,property:e.property}}),this._initDataFromProvider(0,e.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,i=this._dimensions,r=n.get(e);if(null!=r){if(i[r].type===t)return r}else r=i.length;return i[r]={type:t},n.set(e,r),this._chunks[r]=new X9[t||"float"](this._rawCount),this._rawExtent[r]=[1/0,-1/0],r},e.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],i=this._dimensions[e],r=this._rawExtent,o=i.ordinalOffset||0,a=n.length;0===o&&(r[e]=[1/0,-1/0]);for(var s=r[e],l=o;l<a;l++){var c=n[l]=t.parseAndCollect(n[l]);isNaN(c)||(s[0]=Math.min(c,s[0]),s[1]=Math.max(c,s[1]))}i.ordinalMeta=t,i.ordinalOffset=a,i.type="ordinal"},e.prototype.getOrdinalMeta=function(e){return this._dimensions[e].ordinalMeta},e.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},e.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},e.prototype.appendValues=function(e,t){for(var n=this._chunks,i=this._dimensions,r=i.length,o=this._rawExtent,a=this.count(),s=a+Math.max(e.length,t||0),l=0;l<r;l++){K9(n,l,(p=i[l]).type,s,!0)}for(var c=[],u=a;u<s;u++)for(var h=u-a,d=0;d<r;d++){var p=i[d],f=H9.arrayRows.call(this,e[h]||c,p.property,h,d);n[d][u]=f;var g=o[d];f<g[0]&&(g[0]=f),f>g[1]&&(g[1]=f)}return this._rawCount=this._count=s,{start:a,end:s}},e.prototype._initDataFromProvider=function(e,t,n){for(var i=this._provider,r=this._chunks,o=this._dimensions,a=o.length,s=this._rawExtent,l=RU(o,function(e){return e.property}),c=0;c<a;c++){var u=o[c];s[c]||(s[c]=Y9()),K9(r,c,u.type,t,n)}if(i.fillStorage)i.fillStorage(e,t,r,s);else for(var h=[],d=e;d<t;d++){h=i.getItem(d,h);for(var p=0;p<a;p++){var f=r[p],g=this._dimValueGetter(h,l[p],d,p);f[d]=g;var m=s[p];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},e.prototype.getValues=function(e,t){var n=[],i=[];if(null==t){t=e,e=[];for(var r=0;r<this._dimensions.length;r++)i.push(r)}else i=e;r=0;for(var o=i.length;r<o;r++)n.push(this.get(i[r],t));return n},e.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},e.prototype.getSum=function(e){var t=0;if(this._chunks[e])for(var n=0,i=this.count();n<i;n++){var r=this.get(e,n);isNaN(r)||(t+=r)}return t},e.prototype.getMedian=function(e){var t=[];this.each([e],function(e){isNaN(e)||t.push(e)});var n=t.sort(function(e,t){return e-t}),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},e.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(null!=n&&n<this._count&&n===e)return e;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(t[o]<e)i=o+1;else{if(!(t[o]>e))return o;r=o-1}}return-1},e.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,i=this._count;if(n===Array){e=new n(i);for(var r=0;r<i;r++)e[r]=t[r]}else e=new n(t.buffer,0,i)}else{e=new(n=q9(this._rawCount))(this.count());for(r=0;r<e.length;r++)e[r]=r}return e},e.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),i=n.count(),r=new(q9(n._rawCount))(i),o=[],a=e.length,s=0,l=e[0],c=n._chunks,u=0;u<i;u++){var h=void 0,d=n.getRawIndex(u);if(0===a)h=t(u);else if(1===a){h=t(c[l][d],u)}else{for(var p=0;p<a;p++)o[p]=c[e[p]][d];o[p]=u,h=t.apply(null,o)}h&&(r[s++]=d)}return s<i&&(n._indices=r),n._count=s,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var i=BU(e),r=i.length;if(!r)return this;var o=t.count(),a=new(q9(t._rawCount))(o),s=0,l=i[0],c=e[l][0],u=e[l][1],h=t._chunks,d=!1;if(!t._indices){var p=0;if(1===r){for(var f=h[i[0]],g=0;g<n;g++){((b=f[g])>=c&&b<=u||isNaN(b))&&(a[s++]=p),p++}d=!0}else if(2===r){f=h[i[0]];var m=h[i[1]],v=e[i[1]][0],y=e[i[1]][1];for(g=0;g<n;g++){var b=f[g],x=m[g];(b>=c&&b<=u||isNaN(b))&&(x>=v&&x<=y||isNaN(x))&&(a[s++]=p),p++}d=!0}}if(!d)if(1===r)for(g=0;g<o;g++){var _=t.getRawIndex(g);((b=h[i[0]][_])>=c&&b<=u||isNaN(b))&&(a[s++]=_)}else for(g=0;g<o;g++){for(var w=!0,S=(_=t.getRawIndex(g),0);S<r;S++){var M=i[S];((b=h[M][_])<e[M][0]||b>e[M][1])&&(w=!1)}w&&(a[s++]=t.getRawIndex(g))}return s<o&&(t._indices=a),t._count=s,t._extent=[],t._updateGetRawIdx(),t},e.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},e.prototype.modify=function(e,t){this._updateDims(this,e,t)},e.prototype._updateDims=function(e,t,n){for(var i=e._chunks,r=[],o=t.length,a=e.count(),s=[],l=e._rawExtent,c=0;c<t.length;c++)l[t[c]]=Y9();for(var u=0;u<a;u++){for(var h=e.getRawIndex(u),d=0;d<o;d++)s[d]=i[t[d]][h];s[o]=u;var p=n&&n.apply(null,s);if(null!=p){"object"!=typeof p&&(r[0]=p,p=r);for(c=0;c<p.length;c++){var f=t[c],g=p[c],m=l[f],v=i[f];v&&(v[h]=g),g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}}},e.prototype.lttbDownSample=function(e,t){var n,i,r,o=this.clone([e],!0),a=o._chunks[e],s=this.count(),l=0,c=Math.floor(1/t),u=this.getRawIndex(0),h=new(q9(this._rawCount))(Math.min(2*(Math.ceil(s/c)+2),s));h[l++]=u;for(var d=1;d<s-1;d+=c){for(var p=Math.min(d+c,s-1),f=Math.min(d+2*c,s),g=(f+p)/2,m=0,v=p;v<f;v++){var y=a[k=this.getRawIndex(v)];isNaN(y)||(m+=y)}m/=f-p;var b=d,x=Math.min(d+c,s),_=d-1,w=a[u];n=-1,r=b;var S=-1,M=0;for(v=b;v<x;v++){var k;y=a[k=this.getRawIndex(v)];isNaN(y)?(M++,S<0&&(S=k)):(i=Math.abs((_-g)*(y-w)-(_-v)*(m-w)))>n&&(n=i,r=k)}M>0&&M<x-b&&(h[l++]=Math.min(S,r),r=Math.max(S,r)),h[l++]=r,u=r}return h[l++]=this.getRawIndex(s-1),o._count=l,o._indices=h,o.getRawIndex=this._getRawIdx,o},e.prototype.minmaxDownSample=function(e,t){for(var n=this.clone([e],!0),i=n._chunks,r=Math.floor(1/t),o=i[e],a=this.count(),s=new(q9(this._rawCount))(2*Math.ceil(a/r)),l=0,c=0;c<a;c+=r){var u=c,h=o[this.getRawIndex(u)],d=c,p=o[this.getRawIndex(d)],f=r;c+r>a&&(f=a-c);for(var g=0;g<f;g++){var m=o[this.getRawIndex(c+g)];m<h&&(h=m,u=c+g),m>p&&(p=m,d=c+g)}var v=this.getRawIndex(u),y=this.getRawIndex(d);u<d?(s[l++]=v,s[l++]=y):(s[l++]=y,s[l++]=v)}return n._count=l,n._indices=s,n._updateGetRawIdx(),n},e.prototype.downSample=function(e,t,n,i){for(var r=this.clone([e],!0),o=r._chunks,a=[],s=Math.floor(1/t),l=o[e],c=this.count(),u=r._rawExtent[e]=[1/0,-1/0],h=new(q9(this._rawCount))(Math.ceil(c/s)),d=0,p=0;p<c;p+=s){s>c-p&&(s=c-p,a.length=s);for(var f=0;f<s;f++){var g=this.getRawIndex(p+f);a[f]=l[g]}var m=n(a),v=this.getRawIndex(Math.min(p+i(a,m)||0,c-1));l[v]=m,m<u[0]&&(u[0]=m),m>u[1]&&(u[1]=m),h[d++]=v}return r._count=d,r._indices=h,r._updateGetRawIdx(),r},e.prototype.each=function(e,t){if(this._count)for(var n=e.length,i=this._chunks,r=0,o=this.count();r<o;r++){var a=this.getRawIndex(r);switch(n){case 0:t(r);break;case 1:t(i[e[0]][a],r);break;case 2:t(i[e[0]][a],i[e[1]][a],r);break;default:for(var s=0,l=[];s<n;s++)l[s]=i[e[s]][a];l[s]=r,t.apply(null,l)}}},e.prototype.getDataExtent=function(e){var t=this._chunks[e],n=[1/0,-1/0];if(!t)return n;var i,r=this.count();if(!this._indices)return this._rawExtent[e].slice();if(i=this._extent[e])return i.slice();for(var o=(i=n)[0],a=i[1],s=0;s<r;s++){var l=t[this.getRawIndex(s)];l<o&&(o=l),l>a&&(a=l)}return i=[o,a],this._extent[e]=i,i},e.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],i=this._chunks,r=0;r<i.length;r++)n.push(i[r][t]);return n},e.prototype.clone=function(t,n){var i=new e,r=this._chunks,o=t&&NU(t,function(e,t){return e[t]=!0,e},{});if(o)for(var a=0;a<r.length;a++)i._chunks[a]=o[a]?Z9(r[a]):r[a];else i._chunks=r;return this._copyCommonProps(i),n||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},e.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=kU(this._extent),e._rawExtent=kU(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var i=0;i<n;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},e.prototype._getRawIdxIdentity=function(e){return e},e.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function e(e,t,n,i){return k9(e[i],this._dimensions[i])}H9={arrayRows:e,objectRows:function(e,t,n,i){return k9(e[t],this._dimensions[i])},keyedColumns:e,original:function(e,t,n,i){var r=e&&(null==e.value?e:e.value);return k9(r instanceof Array?r[i]:r,this._dimensions[i])},typedArray:function(e,t,n,i){return e[i]}}}(),e}(),Q9=function(){function e(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,n=this._sourceHost,i=this._getUpstreamSourceManagers(),r=!!i.length;if(t7(n)){var o=n,a=void 0,s=void 0,l=void 0;if(r){var c=i[0];c.prepareSource(),a=(l=c.getSource()).data,s=l.sourceFormat,t=[c._getVersionSign()]}else s=YU(a=o.get("data",!0))?q6:j6,t=[];var u=this._getSourceMetaRawOption()||{},h=l&&l.metaRawOption||{},d=eX(u.seriesLayoutBy,h.seriesLayoutBy)||null,p=eX(u.sourceHeader,h.sourceHeader),f=eX(u.dimensions,h.dimensions);e=d!==h.seriesLayoutBy||!!p!=!!h.sourceHeader||f?[e9(a,{seriesLayoutBy:d,sourceHeader:p,dimensions:f},s)]:[]}else{var g=n;if(r){var m=this._applyTransform(i);e=m.sourceList,t=m.upstreamSignList}else{e=[e9(g.get("source",!0),this._getSourceMetaRawOption(),null)],t=[]}}this._setLocalSource(e,t)},e.prototype._applyTransform=function(e){var t,n=this._sourceHost,i=n.get("transform",!0),r=n.get("fromTransformResult",!0);if(null!=r){1!==e.length&&n7("")}var o,a=[],s=[];return LU(e,function(e){e.prepareSource();var t=e.getSource(r||0);null==r||t||n7(""),a.push(t),s.push(e._getVersionSign())}),i?t=function l(e,t,n){var i=MJ(e),r=i.length;r||xJ("");for(var o=0,a=r;o<a;o++)t=V9(i[o],t),o!==a-1&&(t.length=Math.max(t.length,1));return t}(i,a,n.componentIndex):null!=r&&(t=[(o=a[0],new J8({data:o.data,sourceFormat:o.sourceFormat,seriesLayoutBy:o.seriesLayoutBy,dimensionsDefine:kU(o.dimensionsDefine),startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount}))]),{sourceList:t,upstreamSignList:s}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},e.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},e.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},e.prototype._innerGetDataStore=function(e,t,n){var i=this._storeList,r=i[0];r||(r=i[0]={});var o=r[n];if(!o){var a=this._getUpstreamSourceManagers()[0];t7(this._sourceHost)&&a?o=a._innerGetDataStore(e,t,n):(o=new J9).initData(new a9(t,e.length),e),r[n]=o}return o},e.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(t7(e)){var t=r8(e);return t?[t.getSourceManager()]:[]}return RU(function n(e){return e.get("transform",!0)||e.get("fromTransformResult",!0)?WJ(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},FJ).models:[]}(e),function(e){return e.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var e,t,n,i=this._sourceHost;if(t7(i))e=i.get("seriesLayoutBy",!0),t=i.get("sourceHeader",!0),n=i.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var r=i;e=r.get("seriesLayoutBy",!0),t=r.get("sourceHeader",!0),n=r.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:t,dimensions:n}},e}();function e7(e){e.option.transform&&sX(e.option.transform)}function t7(e){return"series"===e.mainType}function n7(e){throw new Error(e)}function i7(e){var t=e.lineHeight;return null==t?"line-height:1":"line-height:"+KX(t+"")+"px"}function r7(e,t){var n=e.color||R6.color.tertiary,i=e.fontSize||12,r=e.fontWeight||"400",o=e.color||R6.color.secondary,a=e.fontSize||14,s=e.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+KX(i+"")+"px;color:"+KX(n)+";font-weight:"+KX(r+""),valueStyle:"font-size:"+KX(a+"")+"px;color:"+KX(o)+";font-weight:"+KX(s+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var o7=[0,10,20,30],a7=["","\n","\n\n","\n\n\n"];function s7(e,t){return t.type=e,t}function l7(e){return"section"===e.type}function c7(e){return l7(e)?h7:d7}function u7(e){if(l7(e)){var t=0,n=e.blocks.length,i=n>1||n>0&&!e.noHeader;return LU(e.blocks,function(e){var n=u7(e);n>=t&&(t=n+ +(i&&(!n||l7(e)&&!e.noHeader)))}),t}return 0}function h7(e,t,n,i){var r=t.noHeader,o=function a(e){return{html:o7[e],richText:a7[e]}}(u7(t)),s=[],l=t.blocks||[];rX(!l||WU(l)),l=l||[];var c=e.orderMode;if(t.sortBlocks&&c){l=l.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(mX(u,c)){var h=new D9(u[c],null);l.sort(function(e,t){return h.evaluate(e.sortParam,t.sortParam)})}else"seriesDesc"===c&&l.reverse()}LU(l,function(n,r){var a=t.valueFormatter,l=c7(n)(a?AU(AU({},e),{valueFormatter:a}):e,n,r>0?o.html:0,i);null!=l&&s.push(l)});var d="richText"===e.renderMode?s.join(o.richText):f7(i,s.join(""),r?n:o.html);if(r)return d;var p=Y4(t.header,"ordinal",e.useUTC),f=r7(i,e.renderMode).nameStyle,g=i7(i);return"richText"===e.renderMode?g7(e,p,f)+o.richText+d:f7(i,'<div style="'+f+";"+g+';">'+KX(p)+"</div>"+d,n)}function d7(e,t,n,i){var r=e.renderMode,o=t.noName,a=t.noValue,s=!t.markerType,l=t.name,c=e.useUTC,u=t.valueFormatter||e.valueFormatter||function(e){return RU(e=WU(e)?e:[e],function(e,t){return Y4(e,WU(p)?p[t]:p,c)})};if(!o||!a){var h=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||R6.color.secondary,r),d=o?"":Y4(l,"ordinal",c),p=t.valueType,f=a?[]:u(t.value,t.dataIndex),g=!s||!o,m=!s&&o,v=r7(i,r),y=v.nameStyle,b=v.valueStyle;return"richText"===r?(s?"":h)+(o?"":g7(e,d,y))+(a?"":function x(e,t,n,i,r){var o=[r],a=i?10:20;return n&&o.push({padding:[0,0,0,a],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(WU(t)?t.join("  "):t,o)}(e,f,g,m,b)):f7(i,(s?"":h)+(o?"":function _(e,t,n){return'<span style="'+n+";"+(t?"margin-left:2px":"")+'">'+KX(e)+"</span>"}(d,!s,y))+(a?"":function w(e,t,n,i){var r=n?"10px":"20px",o=t?"float:right;margin-left:"+r:"";return e=WU(e)?e:[e],'<span style="'+o+";"+i+'">'+RU(e,function(e){return KX(e)}).join("&nbsp;&nbsp;")+"</span>"}(f,g,m,b)),n)}}function p7(e,t,n,i,r,o){if(e)return c7(e)({useUTC:r,renderMode:n,orderMode:i,markupStyleCreator:t,valueFormatter:e.valueFormatter},e,0,o)}function f7(e,t,n){return'<div style="'+("margin: "+n+"px 0 0")+";"+i7(e)+';">'+t+'<div style="clear:both"></div></div>'}function g7(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function m7(e,t){return Q4(e.getData().getItemVisual(t,"style")[e.visualDrawType])}function v7(e,t){var n=e.get("padding");return null!=n?n:"richText"===t?[8,10]:10}var y7=function(){function e(){this.richTextStyles={},this._nextStyleNameId=mJ()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(e,t,n){var i="richText"===n?this._generateStyleName():null,r=function o(e,t){var n=jU(e)?{color:e,extraCssText:t}:e||{},i=n.color,r=n.type;t=n.extraCssText;var o=n.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+KX(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+KX(i)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}({color:t,type:e,renderMode:n,markerId:i});return jU(r)?r:(this.richTextStyles[i]=r.style,r.content)},e.prototype.wrapRichTextStyle=function(e,t){var n={};WU(t)?LU(t,function(e){return AU(n,e)}):AU(n,t);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},e}();function b7(e){var t,n,i,r,o=e.series,a=e.dataIndex,s=e.multipleSeries,l=o.getData(),c=l.mapDimensionsAll("defaultedTooltip"),u=c.length,h=o.getRawValue(a),d=WU(h),p=m7(o,a);if(u>1||d&&!u){var f=function e(t,n,i,r,o){var a=n.getData(),s=NU(t,function(e,t,n){var i=a.getDimensionInfo(n);return e||i&&!1!==i.tooltip&&null!=i.displayName},!1),l=[],c=[],u=[];function h(e,t){var n=a.getDimensionInfo(t);n&&!1!==n.otherDims.tooltip&&(s?u.push(s7("nameValue",{markerType:"subItem",markerColor:o,name:n.displayName,value:e,valueType:n.type})):(l.push(e),c.push(n.type)))}return r.length?LU(r,function(e){h(y9(a,i,e),e)}):LU(t,h),{inlineValues:l,inlineValueTypes:c,blocks:u}}(h,o,a,c,p);t=f.inlineValues,n=f.inlineValueTypes,i=f.blocks,r=f.inlineValues[0]}else if(u){var g=l.getDimensionInfo(c[0]);r=t=y9(l,a,c[0]),n=g.type}else r=t=d?h[0]:h;var m=LJ(o),v=m&&o.name||"",y=l.getName(a),b=s?v:y;return s7("section",{header:v,noHeader:s||!m,sortParam:r,blocks:[s7("nameValue",{markerType:"item",markerColor:p,name:b,noName:!oX(b),value:t,valueType:n,dataIndex:a})].concat(i||[])})}var x7=PJ();function _7(e,t){return e.getName(t)||e.getId(t)}var w7="__universalTransitionEnabled",S7=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}var n;return nU(t,e),t.prototype.init=function(e,t,n){this.seriesIndex=this.componentIndex,this.dataTask=w9({count:k7,reset:C7}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),(x7(this).sourceManager=new Q9(this)).prepareSource();var i=this.getInitialData(e,n);A7(i,this),this.dataTask.context.data=i,x7(this).dataBeforeProcessed=i,M7(this),this._initSelectedMapFromData(i)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=k6(this),i=n?T6(e):{},r=this.subType;D6.hasClass(r)&&(r+="Series"),CU(e,t.getTheme().get(this.subType)),CU(e,this.getDefaultOption()),kJ(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&C6(e,i,n)},t.prototype.mergeOption=function(e,t){e=CU(this.option,e,!0),this.fillDataTextStyle(e.data);var n=k6(this);n&&C6(this.option,e,n);var i=x7(this).sourceManager;i.dirty(),i.prepareSource();var r=this.getInitialData(e,t);A7(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,x7(this).dataBeforeProcessed=r,M7(this),this._initSelectedMapFromData(r)},t.prototype.fillDataTextStyle=function(e){if(e&&!YU(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&kJ(e[n],"label",t)},t.prototype.getInitialData=function(e,t){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var t=D7(this);if(t){var n=t.context.data;return null!=e&&n.getLinkedData?n.getLinkedData(e):n}return x7(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var t=D7(this);if(t){var n=t.context;n.outputData=e,t!==this.dataTask&&(n.data=e)}x7(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return dX(e)},t.prototype.getSourceManager=function(){return x7(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return x7(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.indicesOfNearest=function(e,t,n,i){var r=this.getData(),o=this.coordinateSystem,a=o&&o.getAxis(e);if(!o||!a)return[];var s=a.dataToCoord(n);null==i&&(i=1/0);var l=[],c=1/0,u=-1,h=0;return r.each(t,function(e,t){var n=a.dataToCoord(e),r=s-n,o=Math.abs(r);o<=i&&((o<c||o===c&&r>=0&&u<0)&&(c=o,u=r,h=0),r===u&&(l[h++]=t))}),l.length=h,l},t.prototype.formatTooltip=function(e,t,n){return b7({series:this,dataIndex:e,multipleSeries:t})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(rU.node&&(!e||!e.ssr))return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,t,n){var i=this.ecModel,r=p8.prototype.getColorFromPalette.call(this,e,t,n);return r||(r=i.getColorFromPalette(e,t,n)),r},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)},t.prototype.unselect=function(e,t){var n=this.option.selectedMap;if(n){var i=this.option.selectedMode,r=this.getData(t);if("series"===i||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var o=0;o<e.length;o++){var a=_7(r,e[o]);n[a]=!1,this._selectedDataIndicesMap[a]=-1}}},t.prototype.toggleSelect=function(e,t){for(var n=[],i=0;i<e.length;i++)n[0]=e[i],this.isSelected(e[i],t)?this.unselect(n,t):this.select(n,t)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,t=BU(e),n=[],i=0;i<t.length;i++){var r=e[t[i]];r>=0&&n.push(r)}return n},t.prototype.isSelected=function(e,t){var n=this.option.selectedMap;if(!n)return!1;var i=this.getData(t);return("all"===n||n[_7(i,e)])&&!i.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[w7])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,t){var n,i,r=this.option,o=r.selectedMode,a=t.length;if(o&&a)if("series"===o)r.selectedMap="all";else if("multiple"===o){XU(r.selectedMap)||(r.selectedMap={});for(var s=r.selectedMap,l=0;l<a;l++){var c=t[l];s[h=_7(e,c)]=!0,this._selectedDataIndicesMap[h]=e.getRawIndex(c)}}else if("single"===o||!0===o){var u=t[a-1],h=_7(e,u);r.selectedMap=((n={})[h]=!0,n),this._selectedDataIndicesMap=((i={})[h]=e.getRawIndex(u),i)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var t=[];e.hasItemOption&&e.each(function(n){var i=e.getRawDataItem(n);i&&i.selected&&t.push(n)}),t.length>0&&this._innerSelect(e,t)}},t.registerClass=function(e){return D6.registerClass(e)},t.protoInitialize=((n=t.prototype).type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",void(n.visualDrawType="fill")),t}(D6);function M7(e){var t=e.name;LJ(e)||(e.name=function n(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),i=[];return LU(n,function(e){var n=t.getDimensionInfo(e);n.displayName&&i.push(n.displayName)}),i.join(" ")}(e)||t)}function k7(e){return e.model.getRawData().count()}function C7(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),T7}function T7(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function A7(e,t){LU(pX(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(n){e.wrapMethod(n,HU(I7,t))})}function I7(e,t){var n=D7(e);return n&&n.setOutputEnd((t||this).count()),t}function D7(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(e.uid))}return i}}OU(S7,x9),OU(S7,p8),JJ(S7,D6);var O7=function(){function e(){this.group=new FK,this.uid=n4("viewComponent")}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,i){},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,i){},e.prototype.updateLayout=function(e,t,n,i){},e.prototype.updateVisual=function(e,t,n,i){},e.prototype.toggleBlurSeries=function(e,t,n){},e.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},e}();function E7(){var e=PJ();return function(t){var n=e(t),i=t.pipelineContext,r=!!n.large,o=!!n.progressiveRender,a=n.large=!(!i||!i.large),s=n.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===s)&&"reset"}}KJ(O7),nQ(O7);var L7=PJ(),R7=E7(),N7=function(){function e(){this.group=new FK,this.uid=n4("viewChart"),this.renderTask=w9({plan:B7,reset:V7}),this.renderTask.context={view:this}}return e.prototype.init=function(e,t){},e.prototype.render=function(e,t,n,i){},e.prototype.highlight=function(e,t,n,i){var r=e.getData(i&&i.dataType);r&&z7(r,i,"emphasis")},e.prototype.downplay=function(e,t,n,i){var r=e.getData(i&&i.dataType);r&&z7(r,i,"normal")},e.prototype.remove=function(e,t){this.group.removeAll()},e.prototype.dispose=function(e,t){},e.prototype.updateView=function(e,t,n,i){this.render(e,t,n,i)},e.prototype.updateLayout=function(e,t,n,i){this.render(e,t,n,i)},e.prototype.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},e.prototype.eachRendered=function(e){p3(this.group,e)},e.markUpdateMethod=function(e,t){L7(e).updateMethod=t},e.protoInitialize=void(e.prototype.type="chart"),e}();function P7(e,t,n){e&&l2(e)&&("emphasis"===t?W1:$1)(e,n)}function z7(e,t,n){var i=NJ(e,t),r=t&&null!=t.highlightKey?function o(e){var t=g1[e];return null==t&&f1<=32&&(t=g1[e]=f1++),t}(t.highlightKey):null;null!=i?LU(MJ(i),function(t){P7(e.getItemGraphicEl(t),n,r)}):e.eachItemGraphicEl(function(e){P7(e,n,r)})}function B7(e){return R7(e.model)}function V7(e){var t=e.model,n=e.ecModel,i=e.api,r=e.payload,o=t.pipelineContext.progressiveRender,a=e.view,s=r&&L7(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](t,n,i,r),F7[l]}KJ(N7),nQ(N7);var F7={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},H7="\0__throttleOriginMethod",W7="\0__throttleRate",$7="\0__throttleType";function j7(e,t,n){var i,r,o,a,s,l=0,c=0,u=null;function h(){c=(new Date).getTime(),u=null,e.apply(o,a||[])}t=t||0;var d=function(){for(var e=[],d=0;d<arguments.length;d++)e[d]=arguments[d];i=(new Date).getTime(),o=this,a=e;var p=s||t,f=s||n;s=null,r=i-(f?l:c)-p,clearTimeout(u),f?u=setTimeout(h,p):r>=0?h():u=setTimeout(h,-r),l=i};return d.clear=function(){u&&(clearTimeout(u),u=null)},d.debounceNextCall=function(e){s=e},d}function G7(e,t,n,i){var r=e[t];if(r){var o=r[H7]||r,a=r[$7];if(r[W7]!==n||a!==i){if(null==n||!i)return e[t]=o;(r=e[t]=j7(o,n,"debounce"===i))[H7]=o,r[$7]=i,r[W7]=n}return r}}function U7(e,t){var n=e[t];n&&n[H7]&&(n.clear&&n.clear(),e[t]=n[H7])}var X7=PJ(),q7={itemStyle:iQ(Z3,!0),lineStyle:iQ(X3,!0)},Y7={lineStyle:"stroke",itemStyle:"fill"};function Z7(e,t){var n=e.visualStyleMapper||q7[t];return n||q7.itemStyle}function K7(e,t){var n=e.visualDrawType||Y7[t];return n||"fill"}var J7={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=e.visualStyleAccessPath||"itemStyle",r=e.getModel(i),o=Z7(e,i)(r),a=r.getShallow("decal");a&&(n.setVisual("decal",a),a.dirty=!0);var s=K7(e,i),l=o[s],c=$U(l)?l:null,u="auto"===o.fill||"auto"===o.stroke;if(!o[s]||c||u){var h=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[s]||(o[s]=h,n.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||$U(o.fill)?h:o.fill,o.stroke="auto"===o.stroke||$U(o.stroke)?h:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",s),!t.isSeriesFiltered(e)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(t,n){var i=e.getDataParams(n),r=AU({},o);r[s]=c(i),t.setItemVisual(n,"style",r)}}}},Q7=new Q3,eee={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.ignoreStyleOnData&&!t.isSeriesFiltered(e)){var n=e.getData(),i=e.visualStyleAccessPath||"itemStyle",r=Z7(e,i),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(e,t){var n=e.getRawDataItem(t);if(n&&n[i]){Q7.option=n[i];var a=r(Q7);AU(e.ensureUniqueItemVisual(t,"style"),a),Q7.option.decal&&(e.setItemVisual(t,"decal",Q7.option.decal),Q7.option.decal.dirty=!0),o in a&&e.setItemVisual(t,"colorFromPalette",!1)}}:null}}}},tee={performRawSeries:!0,overallReset:function(e){var t=dX();e.eachSeries(function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+n,r=t.get(i);r||(r={},t.set(i,r)),X7(e).scope=r}}),e.eachSeries(function(t){if(!t.isColorBySeries()&&!e.isSeriesFiltered(t)){var n=t.getRawData(),i={},r=t.getData(),o=X7(t).scope,a=t.visualStyleAccessPath||"itemStyle",s=K7(t,a);r.each(function(e){var t=r.getRawIndex(e);i[t]=e}),n.each(function(e){var a=i[e];if(r.getItemVisual(a,"colorFromPalette")){var l=r.ensureUniqueItemVisual(a,"style"),c=n.getName(e)||e+"",u=n.count();l[s]=t.getColorFromPalette(c,o,u)}})}})}},nee=Math.PI;var iee=function(){function e(e,t,n,i){this._stageTaskMap=dX(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return e.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(e){var t=e.overallTask;t&&t.dirty()})},e.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,r=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex?n.step:null,o=i&&i.modDataCount;return{step:r,modBy:null!=o?Math.ceil(o/r):null,modDataCount:o}}},e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},e.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData().count(),r=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,o=e.get("large")&&i>=e.get("largeThreshold"),a="mod"===e.get("progressiveChunkMode")?i:null;e.pipelineContext=n.context={progressiveRender:r,modDataCount:a,large:o}},e.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=dX();e.eachSeries(function(e){var i=e.getProgressive(),r=e.uid;n.set(r,{id:r,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:i&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),t._pipe(e,e.dataTask)})},e.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;LU(this._allHandlers,function(i){var r=e.get(i.uid)||e.set(i.uid,{});rX(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,r,t,n),i.overallReset&&this._createOverallStageTask(i,r,t,n)},this)},e.prototype.prepareView=function(e,t,n,i){var r=e.renderTask,o=r.context;o.model=t,o.ecModel=n,o.api=i,r.__block=!e.incrementalPrepareRender,this._pipe(t,r)},e.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},e.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},e.prototype._performStageTasks=function(e,t,n,i){i=i||{};var r=!1,o=this;function a(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}LU(e,function(e,s){if(!i.visualType||i.visualType===e.visualType){var l=o._stageTaskMap.get(e.uid),c=l.seriesTaskMap,u=l.overallTask;if(u){var h,d=u.agentStubMap;d.each(function(e){a(i,e)&&(e.dirty(),h=!0)}),h&&u.dirty(),o.updatePayload(u,n);var p=o.getPerformArgs(u,i.block);d.each(function(e){e.perform(p)}),u.perform(p)&&(r=!0)}else c&&c.each(function(s,l){a(i,s)&&s.dirty();var c=o.getPerformArgs(s,i.block);c.skip=!e.performRawSeries&&t.isSeriesFiltered(s.context.model),o.updatePayload(s,n),s.perform(c)&&(r=!0)})}}),this.unfinished=r||this.unfinished},e.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(e){t=e.dataTask.perform()||t}),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},e.prototype.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},e.prototype._createSeriesStageTask=function(e,t,n,i){var r=this,o=t.seriesTaskMap,a=t.seriesTaskMap=dX(),s=e.seriesType,l=e.getTargetSeries;function c(t){var s=t.uid,l=a.set(s,o&&o.get(s)||w9({plan:lee,reset:cee,count:dee}));l.context={model:t,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:r},r._pipe(t,l)}e.createOnAllSeries?n.eachRawSeries(c):s?n.eachRawSeriesByType(s,c):l&&l(n,i).each(c)},e.prototype._createOverallStageTask=function(e,t,n,i){var r=this,o=t.overallTask=t.overallTask||w9({reset:ree});o.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:r};var a=o.agentStubMap,s=o.agentStubMap=dX(),l=e.seriesType,c=e.getTargetSeries,u=!0,h=!1;function d(e){var t=e.uid,n=s.set(t,a&&a.get(t)||(h=!0,w9({reset:oee,onDirty:see})));n.context={model:e,overallProgress:u},n.agent=o,n.__block=u,r._pipe(e,n)}rX(!e.createOnAllSeries,""),l?n.eachRawSeriesByType(l,d):c?c(n,i).each(d):(u=!1,LU(n.getSeries(),d)),h&&o.dirty()},e.prototype._pipe=function(e,t){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},e.wrapStageHandler=function(e,t){return $U(e)&&(e={overallReset:e,seriesType:pee(e)}),e.uid=n4("stageHandler"),t&&(e.visualType=t),e},e}();function ree(e){e.overallReset(e.ecModel,e.api,e.payload)}function oee(e){return e.overallProgress&&aee}function aee(){this.agent.dirty(),this.getDownstream().dirty()}function see(){this.agent&&this.agent.dirty()}function lee(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function cee(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=MJ(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?RU(t,function(e,t){return hee(t)}):uee}var uee=hee(0);function hee(e){return function(t,n){var i=n.data,r=n.resetDefines[e];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(t,i)}}function dee(e){return e.data.count()}function pee(e){fee=null;try{e(gee,mee)}catch(kLe){}return fee}var fee,gee={},mee={};function vee(e,t){for(var n in t.prototype)e[n]=vX}vee(gee,v8),vee(mee,w8),gee.eachSeriesByType=gee.eachRawSeriesByType=function(e){fee=e},gee.eachComponent=function(e){"series"===e.mainType&&e.subType&&(fee=e.subType)};var yee,bee=R6.darkColor,xee=bee.background,_ee=function(){return{axisLine:{lineStyle:{color:bee.axisLine}},splitLine:{lineStyle:{color:bee.axisSplitLine}},splitArea:{areaStyle:{color:[bee.backgroundTint,bee.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:bee.axisMinorSplitLine}},axisLabel:{color:bee.axisLabel},axisName:{}}},wee={label:{color:bee.secondary},itemStyle:{borderColor:bee.borderTint},dividerLineStyle:{color:bee.border}},See={darkMode:!0,color:bee.theme,backgroundColor:xee,axisPointer:{lineStyle:{color:bee.border},crossStyle:{color:bee.borderShade},label:{color:bee.tertiary}},legend:{textStyle:{color:bee.secondary},pageTextStyle:{color:bee.tertiary}},textStyle:{color:bee.secondary},title:{textStyle:{color:bee.primary},subtextStyle:{color:bee.quaternary}},toolbox:{iconStyle:{borderColor:bee.accent50}},tooltip:{backgroundColor:bee.neutral20,defaultBorderColor:bee.border,textStyle:{color:bee.tertiary}},dataZoom:{borderColor:bee.accent10,textStyle:{color:bee.tertiary},brushStyle:{color:bee.backgroundTint},handleStyle:{color:bee.neutral00,borderColor:bee.accent20},moveHandleStyle:{color:bee.accent40},emphasis:{handleStyle:{borderColor:bee.accent50}},dataBackground:{lineStyle:{color:bee.accent30},areaStyle:{color:bee.accent20}},selectedDataBackground:{lineStyle:{color:bee.accent50},areaStyle:{color:bee.accent30}}},visualMap:{textStyle:{color:bee.secondary},handleStyle:{borderColor:bee.neutral30}},timeline:{lineStyle:{color:bee.accent10},label:{color:bee.tertiary},controlStyle:{color:bee.accent30,borderColor:bee.accent30}},calendar:{itemStyle:{color:bee.neutral00,borderColor:bee.neutral20},dayLabel:{color:bee.tertiary},monthLabel:{color:bee.secondary},yearLabel:{color:bee.secondary}},matrix:{x:wee,y:wee,backgroundColor:{borderColor:bee.axisLine},body:{itemStyle:{borderColor:bee.borderTint}}},timeAxis:_ee(),logAxis:_ee(),valueAxis:_ee(),categoryAxis:_ee(),line:{symbol:"circle"},graph:{color:bee.theme},gauge:{title:{color:bee.secondary},axisLine:{lineStyle:{color:[[1,bee.neutral05]]}},axisLabel:{color:bee.axisLabel},detail:{color:bee.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:bee.background}},radar:(yee=_ee(),yee.axisName={color:bee.axisLabel},yee.axisLine.lineStyle.color=bee.neutral20,yee),treemap:{breadcrumb:{itemStyle:{color:bee.neutral20,textStyle:{color:bee.secondary}},emphasis:{itemStyle:{color:bee.neutral30}}}},sunburst:{itemStyle:{borderColor:bee.background}},map:{itemStyle:{borderColor:bee.border,areaColor:bee.neutral10},label:{color:bee.tertiary},emphasis:{label:{color:bee.primary},itemStyle:{areaColor:bee.highlight}},select:{label:{color:bee.primary},itemStyle:{areaColor:bee.highlight}}},geo:{itemStyle:{borderColor:bee.border,areaColor:bee.neutral10},emphasis:{label:{color:bee.primary},itemStyle:{areaColor:bee.highlight}},select:{label:{color:bee.primary},itemStyle:{color:bee.highlight}}}};See.categoryAxis.splitLine.show=!1;var Mee=function(){function e(){}return e.prototype.normalizeQuery=function(e){var t={},n={},i={};if(jU(e)){var r=ZJ(e);t.mainType=r.main||null,t.subType=r.sub||null}else{var o=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};LU(e,function(e,r){for(var s=!1,l=0;l<o.length;l++){var c=o[l],u=r.lastIndexOf(c);if(u>0&&u===r.length-c.length){var h=r.slice(0,u);"data"!==h&&(t.mainType=h,t[c.toLowerCase()]=e,s=!0)}}a.hasOwnProperty(r)&&(n[r]=e,s=!0),s||(i[r]=e)})}return{cptQuery:t,dataQuery:n,otherQuery:i}},e.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,r=n.packedEvent,o=n.model,a=n.view;if(!o||!a)return!0;var s=t.cptQuery,l=t.dataQuery;return c(s,o,"mainType")&&c(s,o,"subType")&&c(s,o,"index","componentIndex")&&c(s,o,"name")&&c(s,o,"id")&&c(l,r,"name")&&c(l,r,"dataIndex")&&c(l,r,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(e,t.otherQuery,i,r));function c(e,t,n,i){return null==e[n]||t[i||n]===e[n]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),kee=["symbol","symbolSize","symbolRotate","symbolOffset"],Cee=kee.concat(["symbolKeepAspect"]),Tee={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),e.hasSymbolVisual){for(var i={},r={},o=!1,a=0;a<kee.length;a++){var s=kee[a],l=e.get(s);$U(l)?(o=!0,r[s]=l):i[s]=l}if(i.symbol=i.symbol||e.defaultSymbol,n.setVisual(AU({legendIcon:e.legendIcon||i.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},i)),!t.isSeriesFiltered(e)){var c=BU(r);return{dataEach:o?function t(n,i){for(var o=e.getRawValue(i),a=e.getDataParams(i),s=0;s<c.length;s++){var l=c[s];n.setItemVisual(i,l,r[l](o,a))}}:null}}}}},Aee={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(e.hasSymbolVisual&&!t.isSeriesFiltered(e))return{dataEach:e.getData().hasItemOption?function n(e,t){for(var n=e.getItemModel(t),i=0;i<Cee.length;i++){var r=Cee[i],o=n.getShallow(r,!0);null!=o&&e.setItemVisual(t,r,o)}}:null}}};function Iee(e,t,n){switch(n){case"color":return e.getItemVisual(t,"style")[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function Dee(e,t){switch(t){case"color":return e.getVisual("style")[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function Oee(e,t,n,i){switch(n){case"color":e.ensureUniqueItemVisual(t,"style")[e.getVisual("drawType")]=i,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,i)}}function Eee(e,t){function n(t,n){var i=[];return t.eachComponent({mainType:"series",subType:e,query:n},function(e){i.push(e.seriesIndex)}),i}LU([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(e){t(e[0],function(t,i,r){t=AU({},t),r.dispatchAction(AU(t,{type:e[1],seriesIndex:n(i,t)}))})})}function Lee(e,t,n,i,r){var o=e+t;n.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(e){for(var t=e.seriesIndex,i=e.option.selectedMap,a=r.selected,s=0;s<a.length;s++)if(a[s].seriesIndex===t){var l=e.getData(),c=NJ(l,r.fromActionPayload);n.trigger(o,{type:o,seriesId:e.id,name:WU(c)?l.getName(c[0]):l.getName(c),selected:jU(i)?i:AU({},i)})}})}function Ree(e,t,n){for(var i;e&&(!t(e)||(i=e,!n));)e=e.__hostTarget||e.parent;return i}var Nee=Math.round(9*Math.random()),Pee="function"==typeof Object.defineProperty,zee=function(){function e(){this._id="__ec_inner_"+Nee++}return e.prototype.get=function(e){return this._guard(e)[this._id]},e.prototype.set=function(e,t){var n=this._guard(e);return Pee?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},e.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},e.prototype.has=function(e){return!!this._guard(e)[this._id]},e.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},e}(),Bee=z0.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t.height/2;e.moveTo(n,i-o),e.lineTo(n+r,i+o),e.lineTo(n-r,i+o),e.closePath()}}),Vee=z0.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t.height/2;e.moveTo(n,i-o),e.lineTo(n+r,i),e.lineTo(n,i+o),e.lineTo(n-r,i),e.closePath()}}),Fee=z0.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,c=Math.asin(s/a),u=Math.cos(c)*a,h=Math.sin(c),d=Math.cos(c),p=.6*a,f=.7*a;e.moveTo(n-u,l+s),e.arc(n,l,a,Math.PI-c,2*Math.PI+c),e.bezierCurveTo(n+u-h*p,l+s+d*p,n,i-f,n,i),e.bezierCurveTo(n,i-f,n-u+h*p,l+s+d*p,n-u,l+s),e.closePath()}}),Hee=z0.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,i=t.width,r=t.x,o=t.y,a=i/3*2;e.moveTo(r,o),e.lineTo(r+a,o+n),e.lineTo(r,o+n/4*3),e.lineTo(r-a,o+n),e.lineTo(r,o),e.closePath()}}),Wee={line:function(e,t,n,i,r){r.x1=e,r.y1=t+i/2,r.x2=e+n,r.y2=t+i/2},rect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i},roundRect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(e,t,n,i,r){var o=Math.min(n,i);r.x=e,r.y=t,r.width=o,r.height=o},circle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.r=Math.min(n,i)/2},diamond:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i},pin:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},arrow:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},triangle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i}},$ee={};LU({line:o5,rect:Y0,roundRect:Y0,square:Y0,circle:E2,diamond:Vee,pin:Fee,arrow:Hee,triangle:Bee},function(e,t){$ee[t]=new e});var jee=z0.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var i=AK(e,t,n),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===t.position&&(i.y=n.y+.4*n.height),i},buildPath:function(e,t,n){var i=t.symbolType;if("none"!==i){var r=$ee[i];r||(r=$ee[i="rect"]),Wee[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(e,r.shape,n)}}});function Gee(e,t){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||R6.color.neutral00,n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=e:n.fill=e,this.markRedraw()}}function Uee(e,t,n,i,r,o,a){var s,l=0===e.indexOf("empty");return l&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(s=0===e.indexOf("image://")?G5(e.slice(8),new Rq(t,n,i,r),a?"center":"cover"):0===e.indexOf("path://")?j5(e.slice(7),{},new Rq(t,n,i,r),a?"center":"cover"):new jee({shape:{symbolType:e,x:t,y:n,width:i,height:r}})).__isEmptyBrush=l,s.setColor=Gee,o&&s.setColor(o),s}function Xee(e){return WU(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function qee(e,t){if(null!=e)return WU(e)||(e=[e,e]),[KK(e[0],t[0])||0,KK(eX(e[1],e[0]),t[1])||0]}function Yee(e){return isFinite(e)}function Zee(e,t,n){for(var i="radial"===t.type?function a(e,t,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==t.x?.5:t.x,s=null==t.y?.5:t.y,l=null==t.r?.5:t.r;return t.global||(a=a*i+n.x,s=s*r+n.y,l*=o),a=Yee(a)?a:.5,s=Yee(s)?s:.5,l=l>=0&&Yee(l)?l:.5,e.createRadialGradient(a,s,0,a,s,l)}(e,t,n):function s(e,t,n){var i=null==t.x?0:t.x,r=null==t.x2?1:t.x2,o=null==t.y?0:t.y,a=null==t.y2?0:t.y2;return t.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),i=Yee(i)?i:0,r=Yee(r)?r:1,o=Yee(o)?o:0,a=Yee(a)?a:0,e.createLinearGradient(i,o,r,a)}(e,t,n),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function Kee(e){return parseInt(e,10)}function Jee(e,t,n){var i=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=n[i]&&"auto"!==n[i])return parseFloat(n[i]);var s=document.defaultView.getComputedStyle(e);return(e[r]||Kee(s[i])||Kee(e.style[i]))-(Kee(s[o])||0)-(Kee(s[a])||0)|0}function Qee(e){var t=e.style,n=t.lineDash&&t.lineWidth>0&&function i(e,t){return e&&"solid"!==e&&t>0?"dashed"===e?[4*t,2*t]:"dotted"===e?[t]:UU(e)?[e]:WU(e)?e:null:null}(t.lineDash,t.lineWidth),r=t.lineDashOffset;if(n){var o=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;o&&1!==o&&(n=RU(n,function(e){return e/o}),r/=o)}return[n,r]}var ete=new m0(!0);function tte(e){var t=e.stroke;return!(null==t||"none"===t||!(e.lineWidth>0))}function nte(e){return"string"==typeof e&&"none"!==e}function ite(e){var t=e.fill;return null!=t&&"none"!==t}function rte(e,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function ote(e,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function ate(e,t,n){var i=lQ(t.image,t.__image,n);if(uQ(i)){var r=e.createPattern(i,t.repeat||"repeat");if("function"==typeof DOMMatrix&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*yX),o.scaleSelf(t.scaleX||1,t.scaleY||1),r.setTransform(o)}return r}}var ste=["shadowBlur","shadowOffsetX","shadowOffsetY"],lte=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function cte(e,t,n,i,r){var o=!1;if(!i&&t===(n=n||{}))return!1;if(i||t.opacity!==n.opacity){dte(e,r),o=!0;var a=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(a)?DQ.opacity:a}(i||t.blend!==n.blend)&&(o||(dte(e,r),o=!0),e.globalCompositeOperation=t.blend||DQ.blend);for(var s=0;s<ste.length;s++){var l=ste[s];(i||t[l]!==n[l])&&(o||(dte(e,r),o=!0),e[l]=e.dpr*(t[l]||0))}return(i||t.shadowColor!==n.shadowColor)&&(o||(dte(e,r),o=!0),e.shadowColor=t.shadowColor||DQ.shadowColor),o}function ute(e,t,n,i,r){var o=pte(t,r.inHover),a=i?null:n&&pte(n,r.inHover)||{};if(o===a)return!1;var s=cte(e,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(dte(e,r),s=!0),nte(o.fill)&&(e.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(dte(e,r),s=!0),nte(o.stroke)&&(e.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(dte(e,r),s=!0),e.globalAlpha=null==o.opacity?1:o.opacity),t.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==l&&(s||(dte(e,r),s=!0),e.lineWidth=l)}for(var c=0;c<lte.length;c++){var u=lte[c],h=u[0];(i||o[h]!==a[h])&&(s||(dte(e,r),s=!0),e[h]=o[h]||u[1])}return s}function hte(e,t){var n=t.transform,i=e.dpr||1;n?e.setTransform(i*n[0],i*n[1],i*n[2],i*n[3],i*n[4],i*n[5]):e.setTransform(i,0,0,i,0,0)}function dte(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function pte(e,t){return t&&e.__hoverStyle||e.style}function fte(e,t){gte(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function gte(e,t,n,i){var r=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var o=t.__clipPaths,a=n.prevElClipPaths,s=!1,l=!1;if(a&&!function c(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}(o,a)||(a&&a.length&&(dte(e,n),e.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(dte(e,n),e.save(),function u(e,t,n){for(var i=!1,r=0;r<e.length;r++){var o=e[r];i=i||o.isZeroArea(),hte(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}n.allClipped=i}(o,e,n),s=!0),n.prevElClipPaths=o),n.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var h=n.prevEl;h||(l=s=!0);var d=t instanceof z0&&t.autoBatch&&function o(e){var t=ite(e),n=tte(e);return!(e.lineDash||!(+t^+n)||t&&"string"!=typeof e.fill||n&&"string"!=typeof e.stroke||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}(t.style);s||function a(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}(r,h.transform)?(dte(e,n),hte(e,t)):d||dte(e,n);var p=pte(t,n.inHover);t instanceof z0?(1!==n.lastDrawType&&(l=!0,n.lastDrawType=1),ute(e,t,h,l,n),d&&(n.batchFill||n.batchStroke)||e.beginPath(),function c(e,t,n,i){var r,o=tte(n),a=ite(n),s=n.strokePercent,l=s<1,c=!t.path;t.silent&&!l||!c||t.createPathProxy();var u=t.path||ete,h=t.__dirty;if(!i){var d=n.fill,p=n.stroke,f=a&&!!d.colorStops,g=o&&!!p.colorStops,m=a&&!!d.image,v=o&&!!p.image,y=void 0,b=void 0,x=void 0,_=void 0,w=void 0;(f||g)&&(w=t.getBoundingRect()),f&&(y=h?Zee(e,d,w):t.__canvasFillGradient,t.__canvasFillGradient=y),g&&(b=h?Zee(e,p,w):t.__canvasStrokeGradient,t.__canvasStrokeGradient=b),m&&(x=h||!t.__canvasFillPattern?ate(e,d,t):t.__canvasFillPattern,t.__canvasFillPattern=x),v&&(_=h||!t.__canvasStrokePattern?ate(e,p,t):t.__canvasStrokePattern,t.__canvasStrokePattern=_),f?e.fillStyle=y:m&&(x?e.fillStyle=x:a=!1),g?e.strokeStyle=b:v&&(_?e.strokeStyle=_:o=!1)}var S,M,k=t.getGlobalScale();u.setScale(k[0],k[1],t.segmentIgnoreThreshold),e.setLineDash&&n.lineDash&&(S=(r=Qee(t))[0],M=r[1]);var C=!0;(c||4&h)&&(u.setDPR(e.dpr),l?u.setContext(null):(u.setContext(e),C=!1),u.reset(),t.buildPath(u,t.shape,i),u.toStatic(),t.pathUpdated()),C&&u.rebuildPath(e,l?s:1),S&&(e.setLineDash(S),e.lineDashOffset=M),i||(n.strokeFirst?(o&&ote(e,n),a&&rte(e,n)):(a&&rte(e,n),o&&ote(e,n))),S&&e.setLineDash([])}(e,t,p,d),d&&(n.batchFill=p.fill||"",n.batchStroke=p.stroke||"")):t instanceof V0?(3!==n.lastDrawType&&(l=!0,n.lastDrawType=3),ute(e,t,h,l,n),function u(e,t,n){var i,r=n.text;if(null!=r&&(r+=""),r){e.font=n.font||sU,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var o=void 0,a=void 0;e.setLineDash&&n.lineDash&&(o=(i=Qee(t))[0],a=i[1]),o&&(e.setLineDash(o),e.lineDashOffset=a),n.strokeFirst?(tte(n)&&e.strokeText(r,n.x,n.y),ite(n)&&e.fillText(r,n.x,n.y)):(ite(n)&&e.fillText(r,n.x,n.y),tte(n)&&e.strokeText(r,n.x,n.y)),o&&e.setLineDash([])}}(e,t,p)):t instanceof W0?(2!==n.lastDrawType&&(l=!0,n.lastDrawType=2),function f(e,t,n,i,r){return cte(e,pte(t,r.inHover),n&&pte(n,r.inHover),i,r)}(e,t,h,l,n),function g(e,t,n){var i=t.__image=lQ(n.image,t.__image,t,t.onload);if(i&&uQ(i)){var r=n.x||0,o=n.y||0,a=t.getWidth(),s=t.getHeight(),l=i.width/i.height;if(null==a&&null!=s?a=s*l:null==s&&null!=a?s=a/l:null==a&&null==s&&(a=i.width,s=i.height),n.sWidth&&n.sHeight){var c=n.sx||0,u=n.sy||0;e.drawImage(i,c,u,n.sWidth,n.sHeight,r,o,a,s)}else if(n.sx&&n.sy){var h=a-(c=n.sx),d=s-(u=n.sy);e.drawImage(i,c,u,h,d,r,o,a,s)}else e.drawImage(i,r,o,a,s)}}(e,t,p)):t.getTemporalDisplayables&&(4!==n.lastDrawType&&(l=!0,n.lastDrawType=4),function m(e,t,n){var i=t.getDisplayables(),r=t.getTemporalDisplayables();e.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=t.getCursor(),a=i.length;o<a;o++){(u=i[o]).beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),gte(e,u,s,o===a-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}for(var l=0,c=r.length;l<c;l++){var u;(u=r[l]).beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),gte(e,u,s,l===c-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}(e,t,n)),d&&i&&dte(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var mte=new zee,vte=new PY(100),yte=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function bte(e,t){if("none"===e)return null;var n=t.getDevicePixelRatio(),i=t.getZr(),r="svg"===i.painter.type;e.dirty&&mte.delete(e);var o=mte.get(e);if(o)return o;var a=IU(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function l(e){for(var t,o=[n],s=!0,l=0;l<yte.length;++l){var c=a[yte[l]];if(null!=c&&!WU(c)&&!jU(c)&&!UU(c)&&"boolean"!=typeof c){s=!1;break}o.push(c)}if(s){t=o.join(",")+(r?"-svg":"");var u=vte.get(t);u&&(r?e.svgElement=u:e.image=u)}var h,d=_te(a.dashArrayX),p=function f(e){if(!e||"object"==typeof e&&0===e.length)return[0,0];if(UU(e)){var t=Math.ceil(e);return[t,t]}var n=RU(e,function(e){return Math.ceil(e)});return e.length%2?n.concat(n):n}(a.dashArrayY),g=xte(a.symbol),m=function v(e){return RU(e,function(e){return wte(e)})}(d),y=wte(p),b=!r&&uU.createCanvas(),x=r&&{tag:"g",attrs:{},key:"dcl",children:[]},_=function w(){for(var e=1,t=0,n=m.length;t<n;++t)e=yJ(e,m[t]);var i=1;for(t=0,n=g.length;t<n;++t)i=yJ(i,g[t].length);e*=i;var r=y*m.length*g.length;return{width:Math.max(1,Math.min(e,a.maxTileWidth)),height:Math.max(1,Math.min(r,a.maxTileHeight))}}();b&&(b.width=_.width*n,b.height=_.height*n,h=b.getContext("2d"));(function S(){h&&(h.clearRect(0,0,b.width,b.height),a.backgroundColor&&(h.fillStyle=a.backgroundColor,h.fillRect(0,0,b.width,b.height)));for(var e=0,t=0;t<p.length;++t)e+=p[t];if(e<=0)return;var o=-y,s=0,l=0,c=0;for(;o<_.height;){if(s%2==0){for(var u=l/2%g.length,f=0,m=0,v=0;f<2*_.width;){var w=0;for(t=0;t<d[c].length;++t)w+=d[c][t];if(w<=0)break;if(m%2==0){var S=.5*(1-a.symbolSize),M=f+d[c][m]*S,k=o+p[s]*S,C=d[c][m]*a.symbolSize,T=p[s]*a.symbolSize,A=v/2%g[u].length;I(M,k,C,T,g[u][A])}f+=d[c][m],++v,++m===d[c].length&&(m=0)}++c===d.length&&(c=0)}o+=p[s],++l,++s===p.length&&(s=0)}function I(e,t,o,s,l){var c=r?1:n,u=Uee(l,e*c,t*c,o*c,s*c,a.color,a.symbolKeepAspect);if(r){var d=i.painter.renderOneToVNode(u);d&&x.children.push(d)}else fte(h,u)}})(),s&&vte.put(t,b||x);e.image=b,e.svgElement=x,e.svgWidth=_.width,e.svgHeight=_.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/n,mte.set(e,s),e.dirty=!1,s}function xte(e){if(!e||0===e.length)return[["rect"]];if(jU(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!jU(e[n])){t=!1;break}if(t)return xte([e]);var i=[];for(n=0;n<e.length;++n)jU(e[n])?i.push([e[n]]):i.push(e[n]);return i}function _te(e){if(!e||0===e.length)return[[0,0]];if(UU(e))return[[r=Math.ceil(e),r]];for(var t=!0,n=0;n<e.length;++n)if(!UU(e[n])){t=!1;break}if(t)return _te([e]);var i=[];for(n=0;n<e.length;++n)if(UU(e[n])){var r=Math.ceil(e[n]);i.push([r,r])}else{r=RU(e[n],function(e){return Math.ceil(e)});r.length%2==1?i.push(r.concat(r)):i.push(r)}return i}function wte(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2==1?2*t:t}var Ste=new HX,Mte={};var kte={};var Cte=2e3,Tte=4500,Ate={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:Cte,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:Tte,ARIA:6e3,DECAL:7e3}},Ite="__flagInMainProcess",Dte="__mainProcessVersion",Ote="__pendingUpdate",Ete="__needsUpdateStatus",Lte=/^[a-zA-Z0-9_]+$/,Rte="__connectUpdateStatus";function Nte(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!this.isDisposed())return zte(this,e,t);this.id}}function Pte(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return zte(this,e,t)}}function zte(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),HX.prototype[t].apply(e,n)}var Bte,Vte,Fte,Hte,Wte,$te,jte,Gte,Ute,Xte,qte,Yte,Zte,Kte,Jte,Qte,ene,tne,nne,ine=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t}(HX),rne=ine.prototype;rne.on=Pte("on"),rne.off=Pte("off");var one=function(e){function t(t,n,i){var r=e.call(this,new Mee)||this;r._chartsViews=[],r._chartsMap={},r._componentsViews=[],r._componentsMap={},r._pendingActions=[],i=i||{},r._dom=t;r[Dte]=1,i.ssr&&function o(e){$K=e}(function(e){var t=d1(e),n=t.dataIndex;if(null!=n){var i=dX();return i.set("series_index",t.seriesIndex),i.set("data_index",n),t.ssrType&&i.set("ssr_type",t.ssrType),i}});var a=r._zr=GK(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:eX(i.useDirtyRect,!1),useCoarsePointer:eX(i.useCoarsePointer,"auto"),pointerSize:i.pointerSize});r._ssr=i.ssr,r._throttledZrFlush=j7(VU(a.flush,a),17),r._updateTheme(n),r._locale=function s(e){if(jU(e)){var t=s4[e.toUpperCase()]||{};return e===r4||e===o4?kU(t):CU(kU(t),kU(s4[a4]),!1)}return CU(kU(e),kU(s4[a4]),!1)}(i.locale||c4),r._coordSysMgr=new i6;var l=r._api=Jte(r);function c(e,t){return e.__prio-t.__prio}return eY(pne,c),eY(hne,c),r._scheduler=new iee(r,l,hne,pne),r._messageCenter=new ine,r._initEvents(),r.resize=VU(r.resize,r),a.animation.on("frame",r._onframe,r),Xte(a,r),qte(a,r),sX(r),r}return nU(t,e),t.prototype._onframe=function(){if(!this._disposed){tne(this);var e=this._scheduler;if(this[Ote]){var t=this[Ote].silent;this[Ite]=!0,nne(this);try{Bte(this),Hte.update.call(this,null,this[Ote].updateParams)}catch(kLe){throw this[Ite]=!1,this[Ote]=null,kLe}this._zr.flush(),this[Ite]=!1,this[Ote]=null,Gte.call(this,t),Ute.call(this,t)}else if(e.unfinished){var n=1,i=this._model,r=this._api;e.unfinished=!1;do{var o=+new Date;e.performSeriesTasks(i),e.performDataProcessorTasks(i),$te(this,i),e.performVisualTasks(i),Kte(this,this._model,r,"remain",{}),n-=+new Date-o}while(n>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,t,n){if(!this[Ite])if(this._disposed)this.id;else{var i,r,o;if(XU(t)&&(n=t.lazyUpdate,i=t.silent,r=t.replaceMerge,o=t.transition,t=t.notMerge),this[Ite]=!0,nne(this),!this._model||t){var a=new M8(this._api),s=this._theme,l=this._model=new v8;l.scheduler=this._scheduler,l.ssr=this._ssr,l.init(null,null,null,s,this._locale,a)}this._model.setOption(e,{replaceMerge:r},dne);var c={seriesTransition:o,optionChanged:!0};if(n)this[Ote]={silent:i,updateParams:c},this[Ite]=!1,this.getZr().wakeUp();else{try{Bte(this),Hte.update.call(this,null,c)}catch(kLe){throw this[Ote]=null,this[Ite]=!1,kLe}this._ssr||this._zr.flush(),this[Ote]=null,this[Ite]=!1,Gte.call(this,i),Ute.call(this,i)}}},t.prototype.setTheme=function(e,t){if(!this[Ite])if(this._disposed)this.id;else{var n=this._model;if(n){var i=t&&t.silent,r=null;this[Ote]&&(null==i&&(i=this[Ote].silent),r=this[Ote].updateParams,this[Ote]=null),this[Ite]=!0,nne(this);try{this._updateTheme(e),n.setTheme(this._theme),Bte(this),Hte.update.call(this,{type:"setTheme"},r)}catch(kLe){throw this[Ite]=!1,kLe}this[Ite]=!1,Gte.call(this,i),Ute.call(this,i)}}},t.prototype._updateTheme=function(e){jU(e)&&(e=fne[e]),e&&((e=kU(e))&&G8(e,!0),this._theme=e)},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||rU.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return e=e||{},this._zr.painter.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return e=e||{},this._zr.painter.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){var e=this._zr;return LU(e.storage.getDisplayList(),function(e){e.stopAnimation(null,!0)}),e.painter.toDataURL()},t.prototype.getDataURL=function(e){if(!this._disposed){var t=(e=e||{}).excludeComponents,n=this._model,i=[],r=this;LU(t,function(e){n.eachComponent({mainType:e},function(e){var t=r._componentsMap[e.__viewId];t.group.ignore||(i.push(t),t.group.ignore=!0)})});var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return LU(i,function(e){e.group.ignore=!1}),o}this.id},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var t="svg"===e.type,n=this.group,i=Math.min,r=Math.max,o=1/0;if(vne[n]){var a=o,s=o,l=-1/0,c=-1/0,u=[],h=e&&e.pixelRatio||this.getDevicePixelRatio();LU(mne,function(o,h){if(o.group===n){var d=t?o.getZr().painter.getSvgDom().innerHTML:o.renderToCanvas(kU(e)),p=o.getDom().getBoundingClientRect();a=i(p.left,a),s=i(p.top,s),l=r(p.right,l),c=r(p.bottom,c),u.push({dom:d,left:p.left,top:p.top})}});var d=(l*=h)-(a*=h),p=(c*=h)-(s*=h),f=uU.createCanvas(),g=GK(f,{renderer:t?"svg":"canvas"});if(g.resize({width:d,height:p}),t){var m="";return LU(u,function(e){var t=e.left-a,n=e.top-s;m+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"}),g.painter.getSvgRoot().innerHTML=m,e.connectedBackgroundColor&&g.painter.setBackgroundColor(e.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}return e.connectedBackgroundColor&&g.add(new Y0({shape:{x:0,y:0,width:d,height:p},style:{fill:e.connectedBackgroundColor}})),LU(u,function(e){var t=new W0({style:{x:e.left*h-a,y:e.top*h-s,image:e.dom}});g.add(t)}),g.refreshImmediately(),f.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}this.id},t.prototype.convertToPixel=function(e,t,n){return Wte(this,"convertToPixel",e,t,n)},t.prototype.convertToLayout=function(e,t,n){return Wte(this,"convertToLayout",e,t,n)},t.prototype.convertFromPixel=function(e,t,n){return Wte(this,"convertFromPixel",e,t,n)},t.prototype.containPixel=function(e,t){var n;if(!this._disposed)return LU(BJ(this._model,e),function(e,i){i.indexOf("Models")>=0&&LU(e,function(e){var r=e.coordinateSystem;if(r&&r.containPoint)n=n||!!r.containPoint(t);else if("seriesModels"===i){var o=this._chartsMap[e.__viewId];o&&o.containPoint&&(n=n||o.containPoint(t,e))}},this)},this),!!n;this.id},t.prototype.getVisual=function(e,t){var n=BJ(this._model,e,{defaultMainType:"series"}),i=n.seriesModel.getData(),r=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?i.indexOfRawIndex(n.dataIndex):null;return null!=r?Iee(i,r,t):Dee(i,t)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;LU(sne,function(t){var n=function(n){var i,r=e.getModel(),o=n.target;if("globalout"===t?i={}:o&&Ree(o,function(e){var t=d1(e);if(t&&null!=t.dataIndex){var n=t.dataModel||r.getSeriesByIndex(t.seriesIndex);return i=n&&n.getDataParams(t.dataIndex,t.dataType,o)||{},!0}if(t.eventData)return i=AU({},t.eventData),!0},!0),i){var a=i.componentType,s=i.componentIndex;"markLine"!==a&&"markPoint"!==a&&"markArea"!==a||(a="series",s=i.seriesIndex);var l=a&&null!=s&&r.getComponent(a,s),c=l&&e["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];i.event=n,i.type=t,e._$eventProcessor.eventInfo={targetEl:o,packedEvent:i,model:l,view:c},e.trigger(t,i)}};n.zrEventfulCallAtLast=!0,e._zr.on(t,n,e)});var t=this._messageCenter;LU(une,function(n,i){t.on(i,function(t){e.trigger(i,t)})}),function n(e,t,i){e.on("selectchanged",function(e){var n=i.getModel();e.isFromClick?(Lee("map","selectchanged",t,n,e),Lee("pie","selectchanged",t,n,e)):"select"===e.fromAction?(Lee("map","selected",t,n,e),Lee("pie","selected",t,n,e)):"unselect"===e.fromAction&&(Lee("map","unselected",t,n,e),Lee("pie","unselected",t,n,e))})}(t,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed?this.id:this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed)this.id;else{this._disposed=!0,this.getDom()&&$J(this.getDom(),bne,"");var e=this,t=e._api,n=e._model;LU(e._componentsViews,function(e){e.dispose(n,t)}),LU(e._chartsViews,function(e){e.dispose(n,t)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete mne[e.id]}},t.prototype.resize=function(e){if(!this[Ite])if(this._disposed)this.id;else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var n=t.resetOption("media"),i=e&&e.silent;this[Ote]&&(null==i&&(i=this[Ote].silent),n=!0,this[Ote]=null),this[Ite]=!0,nne(this);try{n&&Bte(this),Hte.update.call(this,{type:"resize",animation:AU({duration:0},e&&e.animation)})}catch(kLe){throw this[Ite]=!1,kLe}this[Ite]=!1,Gte.call(this,i),Ute.call(this,i)}}},t.prototype.showLoading=function(e,t){if(this._disposed)this.id;else if(XU(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),gne[e]){var n=gne[e](this._api,t),i=this._zr;this._loadingFX=n,i.add(n)}},t.prototype.hideLoading=function(){this._disposed?this.id:(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var t=AU({},e);return t.type=cne[e.type],t},t.prototype.dispatchAction=function(e,t){if(this._disposed)this.id;else if(XU(t)||(t={silent:!!t}),lne[e.type]&&this._model)if(this[Ite])this._pendingActions.push(e);else{var n=t.silent;jte.call(this,e,n);var i=t.flush;i?this._zr.flush():!1!==i&&rU.browser.weChat&&this._throttledZrFlush(),Gte.call(this,n),Ute.call(this,n)}},t.prototype.updateLabelLayout=function(){Ste.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed)this.id;else{var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(e){e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()})}function t(e){for(var t=[],n=e.currentStates,i=0;i<n.length;i++){var r=n[i];"emphasis"!==r&&"blur"!==r&&"select"!==r&&t.push(r)}e.selected&&e.states.select&&t.push("select"),2===e.hoverState&&e.states.emphasis?t.push("emphasis"):1===e.hoverState&&e.states.blur&&t.push("blur"),e.useStates(t)}function n(e,t){if(!e.preventAutoZ){var n=y3(e);t.eachRendered(function(e){return x3(e,n.z,n.zlevel),!0})}}function i(e,t){t.eachRendered(function(e){if(!E5(e)){var t=e.getTextContent(),n=e.getTextGuideLine();e.stateTransition&&(e.stateTransition=null),t&&t.stateTransition&&(t.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),e.hasState()?(e.prevStates=e.currentStates,e.clearStates()):e.prevStates&&(e.prevStates=null)}})}function r(e,n){var i=e.getModel("stateAnimation"),r=e.isAnimationEnabled(),o=i.get("duration"),a=o>0?{duration:o,delay:i.get("delay"),easing:i.get("easing")}:null;n.eachRendered(function(e){if(e.states&&e.states.emphasis){if(E5(e))return;if(e instanceof z0&&function s(e){var t=m1(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}(e),e.__dirty){var n=e.prevStates;n&&e.useStates(n)}if(r){e.stateTransition=a;var i=e.getTextContent(),o=e.getTextGuideLine();i&&(i.stateTransition=a),o&&(o.stateTransition=a)}e.__dirty&&t(e)}})}Bte=function(e){var t=e._scheduler;t.restorePipelines(e._model),t.prepareStageTasks(),Vte(e,!0),Vte(e,!1),t.plan()},Vte=function(e,t){for(var n=e._model,i=e._scheduler,r=t?e._componentsViews:e._chartsViews,o=t?e._componentsMap:e._chartsMap,a=e._zr,s=e._api,l=0;l<r.length;l++)r[l].__alive=!1;function c(e){var l=e.__requireNewView;e.__requireNewView=!1;var c="_ec_"+e.id+"_"+e.type,u=!l&&o[c];if(!u){var h=ZJ(e.type);(u=new(t?O7.getClass(h.main,h.sub):N7.getClass(h.sub))).init(n,s),o[c]=u,r.push(u),a.add(u.group)}e.__viewId=u.__id=c,u.__alive=!0,u.__model=e,u.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!t&&i.prepareView(u,e,n,s)}t?n.eachComponent(function(e,t){"series"!==e&&c(t)}):n.eachSeries(c);for(l=0;l<r.length;){var u=r[l];u.__alive?l++:(!t&&u.renderTask.dispose(),a.remove(u.group),u.dispose(n,s),r.splice(l,1),o[u.__id]===u&&delete o[u.__id],u.__id=u.group.__ecComponentInfo=null)}},Fte=function(e,t,n,i,r){var o=e._model;if(o.setUpdatePayload(n),i){var a={};a[i+"Id"]=n[i+"Id"],a[i+"Index"]=n[i+"Index"],a[i+"Name"]=n[i+"Name"];var s={mainType:i,query:a};r&&(s.subType=r);var l,c=n.excludeSeriesId;null!=c&&(l=dX(),LU(MJ(c),function(e){var t=EJ(e,null);null!=t&&l.set(t,!0)})),o&&o.eachComponent(s,function(t){if(!(l&&null!=l.get(t.id)))if(u2(n))if(t instanceof S7)n.type!==_1||n.notBlur||t.get(["emphasis","disabled"])||function i(e,t,n){var i=e.seriesIndex,r=e.getData(t.dataType);if(r){var o=NJ(r,t);o=(WU(o)?o[0]:o)||0;var a=r.getItemGraphicEl(o);if(!a)for(var s=r.count(),l=0;!a&&l<s;)a=r.getItemGraphicEl(l++);if(a){var c=d1(a);Z1(i,c.focus,c.blurScope,n)}else{var u=e.get(["emphasis","focus"]),h=e.get(["emphasis","blurScope"]);null!=u&&Z1(i,u,h,n)}}}(t,n,e._api);else{var r=J1(t.mainType,t.componentIndex,n.name,e._api),o=r.focusSelf,a=r.dispatchers;n.type===_1&&o&&!n.notBlur&&K1(t.mainType,t.componentIndex,e._api),a&&LU(a,function(e){n.type===_1?W1(e):$1(e)})}else c2(n)&&t instanceof S7&&(!function s(e,t,n){if(c2(t)){var i=t.dataType,r=NJ(e.getData(i),t);WU(r)||(r=[r]),e[t.type===k1?"toggleSelect":t.type===S1?"select":"unselect"](r,i)}}(t,n,e._api),Q1(t),ene(e))},e),o&&o.eachComponent(s,function(t){l&&null!=l.get(t.id)||u(e["series"===i?"_chartsMap":"_componentsMap"][t.__viewId])},e)}else LU([].concat(e._componentsViews).concat(e._chartsViews),u);function u(i){i&&i.__alive&&i[t]&&i[t](i.__model,o,e._api,n)}},Hte={prepareAndUpdate:function(e){Bte(this),Hte.update.call(this,e,e&&{optionChanged:null!=e.newOption})},update:function(t,n){var i=this._model,r=this._api,o=this._zr,a=this._coordSysMgr,s=this._scheduler;if(i){i.setUpdatePayload(t),s.restoreData(i,t),s.performSeriesTasks(i),a.create(i,r),s.performDataProcessorTasks(i,t),$te(this,i),a.update(i,r),e(i),s.performVisualTasks(i,t);var l=i.get("backgroundColor")||"transparent";o.setBackgroundColor(l);var c=i.get("darkMode");null!=c&&"auto"!==c&&o.setDarkMode(c),Yte(this,i,r,t,n),Ste.trigger("afterupdate",i,r)}},updateTransform:function(t){var n=this,i=this._model,r=this._api;if(i){i.setUpdatePayload(t);var o=[];i.eachComponent(function(e,a){if("series"!==e){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,i,r,t);l&&l.update&&o.push(s)}else o.push(s)}});var a=dX();i.eachSeries(function(e){var o=n._chartsMap[e.__viewId];if(o.updateTransform){var s=o.updateTransform(e,i,r,t);s&&s.update&&a.set(e.uid,1)}else a.set(e.uid,1)}),e(i),this._scheduler.performVisualTasks(i,t,{setDirty:!0,dirtyMap:a}),Kte(this,i,r,t,{},a),Ste.trigger("afterupdate",i,r)}},updateView:function(t){var n=this._model;n&&(n.setUpdatePayload(t),N7.markUpdateMethod(t,"updateView"),e(n),this._scheduler.performVisualTasks(n,t,{setDirty:!0}),Yte(this,n,this._api,t,{}),Ste.trigger("afterupdate",n,this._api))},updateVisual:function(t){var n=this,i=this._model;i&&(i.setUpdatePayload(t),i.eachSeries(function(e){e.getData().clearAllVisual()}),N7.markUpdateMethod(t,"updateVisual"),e(i),this._scheduler.performVisualTasks(i,t,{visualType:"visual",setDirty:!0}),i.eachComponent(function(e,r){if("series"!==e){var o=n.getViewOfComponentModel(r);o&&o.__alive&&o.updateVisual(r,i,n._api,t)}}),i.eachSeries(function(e){n._chartsMap[e.__viewId].updateVisual(e,i,n._api,t)}),Ste.trigger("afterupdate",i,this._api))},updateLayout:function(e){Hte.update.call(this,e)}},Wte=function o(e,t,n,i,r){if(e._disposed)e.id;else for(var o,a=e._model,s=e._coordSysMgr.getCoordinateSystems(),l=BJ(a,n),c=0;c<s.length;c++){var u=s[c];if(u[t]&&null!=(o=u[t](a,l,i,r)))return o}},$te=function(e,t){var n=e._chartsMap,i=e._scheduler;t.eachSeries(function(e){i.updateStreamModes(e,n[e.__viewId])})},jte=function(e,t){var n=this,i=this.getModel(),r=e.type,o=e.escapeConnect,a=lne[r],s=(a.update||"update").split(":"),l=s.pop(),c=null!=s[0]&&ZJ(s[0]);this[Ite]=!0,nne(this);var u=[e],h=!1;e.batch&&(h=!0,u=RU(e.batch,function(t){return(t=IU(AU({},t),e)).batch=null,t}));var d,p=[],f=[],g=a.nonRefinedEventType,m=c2(e),v=u2(e);if(v&&Y1(this._api),LU(u,function(t){var r=a.action(t,i,n._api);if(a.refineEvent?f.push(r):d=r,(d=d||AU({},t)).type=g,p.push(d),v){var o=VJ(e),s=o.queryOptionMap,u=o.mainTypeSpecified?s.keys()[0]:"series";Fte(n,l,t,u),ene(n)}else m?(Fte(n,l,t,"series"),ene(n)):c&&Fte(n,l,t,c.main,c.sub)}),"none"!==l&&!v&&!m&&!c)try{this[Ote]?(Bte(this),Hte.update.call(this,e),this[Ote]=null):Hte[l].call(this,e)}catch(kLe){throw this[Ite]=!1,kLe}if(d=h?{type:g,escapeConnect:o,batch:p}:p[0],this[Ite]=!1,!t){var y=void 0;if(a.refineEvent){var b=a.refineEvent(f,e,i,this._api).eventContent;rX(XU(b)),(y=IU({type:a.refinedEventType},b)).fromAction=e.type,y.fromActionPayload=e,y.escapeConnect=!0}var x=this._messageCenter;x.trigger(d.type,d),y&&x.trigger(y.type,y)}},Gte=function(e){for(var t=this._pendingActions;t.length;){var n=t.shift();jte.call(this,n,e)}},Ute=function(e){!e&&this.trigger("updated")},Xte=function(e,t){e.on("rendered",function(n){t.trigger("rendered",n),!e.animation.isFinished()||t[Ote]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")})},qte=function(e,t){e.on("mouseover",function(e){var n=Ree(e.target,l2);n&&(!function i(e,t,n){var i=d1(e),r=J1(i.componentMainType,i.componentIndex,i.componentHighDownName,n),o=r.dispatchers,a=r.focusSelf;o?(a&&K1(i.componentMainType,i.componentIndex,n),LU(o,function(e){return F1(e,t)})):(Z1(i.seriesIndex,i.focus,i.blurScope,n),"self"===i.focus&&K1(i.componentMainType,i.componentIndex,n),F1(e,t))}(n,e,t._api),ene(t))}).on("mouseout",function(e){var n=Ree(e.target,l2);n&&(!function i(e,t,n){Y1(n);var i=d1(e),r=J1(i.componentMainType,i.componentIndex,i.componentHighDownName,n).dispatchers;r?LU(r,function(e){return H1(e,t)}):H1(e,t)}(n,e,t._api),ene(t))}).on("click",function(e){var n=Ree(e.target,function(e){return null!=d1(e).dataIndex},!0);if(n){var i=n.selected?"unselect":"select",r=d1(n);t._api.dispatchAction({type:i,dataType:r.dataType,dataIndexInside:r.dataIndex,seriesIndex:r.seriesIndex,isFromClick:!0})}})},Yte=function(e,t,n,i,r){!function o(e){var t=[],n=[],i=!1;if(e.eachComponent(function(e,r){var o=r.get("zlevel")||0,a=r.get("z")||0,s=r.getZLevelKey();i=i||!!s,("series"===e?n:t).push({zlevel:o,z:a,idx:r.componentIndex,type:e,key:s})}),i){var r,o,a=t.concat(n);eY(a,function(e,t){return e.zlevel===t.zlevel?e.z-t.z:e.zlevel-t.zlevel}),LU(a,function(t){var n=e.getComponent(t.type,t.idx),i=t.zlevel,a=t.key;null!=r&&(i=Math.max(r,i)),a?(i===r&&a!==o&&i++,o=a):o&&(i===r&&i++,o=""),r=i,n.setZLevel(i)})}}(t),Zte(e,t,n,i,r),LU(e._chartsViews,function(e){e.__alive=!1}),Kte(e,t,n,i,r),LU(e._chartsViews,function(e){e.__alive||e.remove(t,n)})},Zte=function(e,t,o,a,s,l){LU(l||e._componentsViews,function(e){var s=e.__model;i(s,e),e.render(s,t,o,a),n(s,e),r(s,e)})},Kte=function(e,t,o,a,s,l){var c=e._scheduler;s=AU(s||{},{updatedSeries:t.getSeries()}),Ste.trigger("series:beforeupdate",t,o,s);var u=!1;t.eachSeries(function(t){var n=e._chartsMap[t.__viewId];n.__alive=!0;var r=n.renderTask;c.updatePayload(r,a),i(t,n),l&&l.get(t.uid)&&r.dirty(),r.perform(c.getPerformArgs(r))&&(u=!0),n.group.silent=!!t.get("silent"),function o(e,t){var n=e.get("blendMode")||null;t.eachRendered(function(e){e.isGroup||(e.style.blend=n)})}(t,n),Q1(t)}),c.unfinished=u||c.unfinished,Ste.trigger("series:layoutlabels",t,o,s),Ste.trigger("series:transition",t,o,s),t.eachSeries(function(t){var i=e._chartsMap[t.__viewId];n(t,i),r(t,i)}),function h(e,t){var n=e._zr,i=n.storage,r=0;i.traverse(function(e){e.isGroup||r++}),r>t.get("hoverLayerThreshold")&&!rU.node&&!rU.worker&&t.eachSeries(function(t){if(!t.preventUsingHoverLayer){var n=e._chartsMap[t.__viewId];n.__alive&&n.eachRendered(function(e){e.states.emphasis&&(e.states.emphasis.hoverLayer=!0)})}})}(e,t),Ste.trigger("series:afterupdate",t,o,s)},ene=function(e){e[Ete]=!0,e.getZr().wakeUp()},nne=function(e){e[Dte]=(e[Dte]+1)%1e3},tne=function(e){e[Ete]&&(e.getZr().storage.traverse(function(e){E5(e)||t(e)}),e[Ete]=!1)},Jte=function(e){return new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return nU(n,t),n.prototype.getCoordinateSystems=function(){return e._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(t){for(;t;){var n=t.__ecComponentInfo;if(null!=n)return e._model.getComponent(n.mainType,n.index);t=t.parent}},n.prototype.enterEmphasis=function(t,n){W1(t,n),ene(e)},n.prototype.leaveEmphasis=function(t,n){$1(t,n),ene(e)},n.prototype.enterBlur=function(t){j1(t),ene(e)},n.prototype.leaveBlur=function(t){G1(t),ene(e)},n.prototype.enterSelect=function(t){U1(t),ene(e)},n.prototype.leaveSelect=function(t){X1(t),ene(e)},n.prototype.getModel=function(){return e.getModel()},n.prototype.getViewOfComponentModel=function(t){return e.getViewOfComponentModel(t)},n.prototype.getViewOfSeriesModel=function(t){return e.getViewOfSeriesModel(t)},n.prototype.getMainProcessVersion=function(){return e[Dte]},n}(w8))(e)},Qte=function(e){function t(e,t){for(var n=0;n<e.length;n++){e[n][Rte]=t}}LU(cne,function(n,i){e._messageCenter.on(i,function(n){if(vne[e.group]&&0!==e[Rte]){if(n&&n.escapeConnect)return;var i=e.makeActionFromEvent(n),r=[];LU(mne,function(t){t!==e&&t.group===e.group&&r.push(t)}),t(r,0),LU(r,function(e){1!==e[Rte]&&e.dispatchAction(i)}),t(r,2)}})})}}(),t}(HX),ane=one.prototype;ane.on=Nte("on"),ane.off=Nte("off"),ane.one=function(e,t,n){var i=this;this.on.call(this,e,function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t&&t.apply&&t.apply(this,r),i.off(e,n)},n)};var sne=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var lne={},cne={},une={},hne=[],dne=[],pne=[],fne={},gne={},mne={},vne={},yne=+new Date-0,bne="_echarts_instance_";function xne(e,t,n){var i=function r(e){return mne[function t(e,n){return e.getAttribute?e.getAttribute(n):e[n]}(e,bne)]}(e);if(i)return i;var o=new one(e,t,n);return o.id="ec_"+yne++,mne[o.id]=o,$J(e,bne,o.id),Qte(o),Ste.trigger("afterinit",o),o}function _ne(e,t){fne[e]=t}function wne(e){DU(dne,e)<0&&dne.push(e)}function Sne(e,t){Ane(hne,e,t,2e3)}function Mne(e,t){Ste.on(e,t)}function kne(e,t,n){var i,r,o,a,s;function l(e){return e.toLowerCase()}$U(t)&&(n=t,t=""),XU(e)?(i=e.type,r=e.event,a=e.update,s=e.publishNonRefinedEvent,n||(n=e.action),o=e.refineEvent):(i=e,r=t),r=l(r||i);var c=o?l(i):r;lne[i]||(rX(Lte.test(i)&&Lte.test(r)),o&&rX(r!==i),lne[i]={actionType:i,refinedEventType:r,nonRefinedEventType:c,update:a,action:n,refineEvent:o},une[r]=1,o&&s&&(une[c]=1),cne[c]=i)}function Cne(e,t){Ane(pne,e,t,3e3,"visual")}var Tne=[];function Ane(e,t,n,i,r){if(($U(t)||XU(t))&&(n=t,t=i),!(DU(Tne,n)>=0)){Tne.push(n);var o=iee.wrapStageHandler(n,r);o.__prio=t,o.__raw=n,e.push(o)}}function Ine(e,t){gne[e]=t}var Dne=function One(e){var t=(e=kU(e)).type;t||xJ("");var n=t.split(":");2!==n.length&&xJ("");var i=!1;"echarts"===n[0]&&(t=n[1],i=!0),e.__isBuiltIn=i,B9.set(t,e)};function Ene(e,t,n,i){return{eventContent:{selected:e2(n),isFromClick:t.isFromClick||!1}}}Cne(Cte,J7),Cne(Tte,eee),Cne(Tte,tee),Cne(Cte,Tee),Cne(Tte,Aee),Cne(7e3,function Lne(e,t){e.eachRawSeries(function(n){if(!e.isSeriesFiltered(n)){var i=n.getData();i.hasItemVisual()&&i.each(function(e){var n=i.getItemVisual(e,"decal");n&&(i.ensureUniqueItemVisual(e,"style").decal=bte(n,t))});var r=i.getVisual("decal");if(r)i.getVisual("style").decal=bte(r,t)}})}),wne(G8),Sne(900,function Rne(e){var t=dX();e.eachSeries(function(e){var n=e.get("stack");if(n){var i=t.get(n)||t.set(n,[]),r=e.getData(),o={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:e};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.push(o)}}),t.each(function(e){0!==e.length&&("seriesDesc"===(e[0].seriesModel.get("stackOrder")||"seriesAsc")&&e.reverse(),LU(e,function(t,n){t.data.setCalculationInfo("stackedOnSeries",n>0?e[n-1].seriesModel:null)}),function t(e){LU(e,function(t,n){var i=[],r=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],a=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(o,c,u){var h,d,p=a.get(t.stackedDimension,u);if(isNaN(p))return r;s?d=a.getRawIndex(u):h=a.get(t.stackedByDimension,u);for(var f=NaN,g=n-1;g>=0;g--){var m=e[g];if(s||(d=m.data.rawIndexOf(m.stackedByDimension,h)),d>=0){var v=m.data.getByRawIndex(m.stackResultDimension,d);if("all"===l||"positive"===l&&v>0||"negative"===l&&v<0||"samesign"===l&&p>=0&&v>0||"samesign"===l&&p<=0&&v<0){p=rJ(p,v),f=v;break}}}return i[0]=p,i[1]=f,i})})}(e))})}),Ine("default",function Nne(e,t){IU(t=t||{},{text:"loading",textColor:R6.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:R6.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var n=new FK,i=new Y0({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(i);var r,o=new Q0({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new Y0({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return n.add(a),t.showSpinner&&((r=new h5({shape:{startAngle:-nee/2,endAngle:-nee/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*nee/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*nee/2}).delay(300).start("circularInOut"),n.add(r)),n.resize=function(){var n=o.getBoundingRect().width,s=t.showSpinner?t.spinnerRadius:0,l=(e.getWidth()-2*s-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner&&n?0:5+n/2)+(t.showSpinner?0:n/2)+(n?0:s),c=e.getHeight()/2;t.showSpinner&&r.setShape({cx:l,cy:c}),a.setShape({x:l-s,y:c-s,width:2*s,height:2*s}),i.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}),kne({type:_1,event:_1,update:_1},vX),kne({type:w1,event:w1,update:w1},vX),kne({type:S1,event:C1,update:S1,action:vX,refineEvent:Ene,publishNonRefinedEvent:!0}),kne({type:M1,event:C1,update:M1,action:vX,refineEvent:Ene,publishNonRefinedEvent:!0}),kne({type:k1,event:C1,update:k1,action:vX,refineEvent:Ene,publishNonRefinedEvent:!0}),_ne("default",{}),_ne("dark",See);var Pne=[],zne={registerPreprocessor:wne,registerProcessor:Sne,registerPostInit:function Bne(e){Mne("afterinit",e)},registerPostUpdate:function Vne(e){Mne("afterupdate",e)},registerUpdateLifecycle:Mne,registerAction:kne,registerCoordinateSystem:function Fne(e,t){i6.register(e,t)},registerLayout:function Hne(e,t){Ane(pne,e,t,1e3,"layout")},registerVisual:Cne,registerTransform:Dne,registerLoading:Ine,registerMap:function Wne(e,t,n){var i=function r(e){return Mte[e]}("registerMap");i&&i(e,t,n)},registerImpl:function $ne(e,t){Mte[e]=t},PRIORITY:Ate,ComponentModel:D6,ComponentView:O7,SeriesModel:S7,ChartView:N7,registerComponentModel:function(e){D6.registerClass(e)},registerComponentView:function(e){O7.registerClass(e)},registerSeriesModel:function(e){S7.registerClass(e)},registerChartView:function(e){N7.registerClass(e)},registerCustomSeries:function(e,t){!function n(e,t){kte[e]=t}(e,t)},registerSubTypeDefaulter:function(e,t){D6.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){!function n(e,t){HK[e]=t}(e,t)}};function jne(e){WU(e)?LU(e,function(e){jne(e)}):DU(Pne,e)>=0||(Pne.push(e),$U(e)&&(e={install:e}),e.install(zne))}function Gne(e){return null==e?0:e.length||1}function Une(e){return e}var Xne=function(){function e(e,t,n,i,r,o){this._old=e,this._new=t,this._oldKeyGetter=n||Une,this._newKeyGetter=i||Une,this.context=r,this._diffModeMultiple="multiple"===o}return e.prototype.add=function(e){return this._add=e,this},e.prototype.update=function(e){return this._update=e,this},e.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},e.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},e.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},e.prototype.remove=function(e){return this._remove=e,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},i=new Array(e.length),r=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,n,r,"_newKeyGetter");for(var o=0;o<e.length;o++){var a=i[o],s=n[a],l=Gne(s);if(l>1){var c=s.shift();1===s.length&&(n[a]=s[0]),this._update&&this._update(c,o)}else 1===l?(n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o)}this._performRestAdd(r,n)},e.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},i={},r=[],o=[];this._initIndexMap(e,n,r,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var a=0;a<r.length;a++){var s=r[a],l=n[s],c=i[s],u=Gne(l),h=Gne(c);if(u>1&&1===h)this._updateManyToOne&&this._updateManyToOne(c,l),i[s]=null;else if(1===u&&h>1)this._updateOneToMany&&this._updateOneToMany(c,l),i[s]=null;else if(1===u&&1===h)this._update&&this._update(c,l),i[s]=null;else if(u>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,l),i[s]=null;else if(u>1)for(var d=0;d<u;d++)this._remove&&this._remove(l[d]);else this._remove&&this._remove(l)}this._performRestAdd(o,i)},e.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=t[i],o=Gne(r);if(o>1)for(var a=0;a<o;a++)this._add&&this._add(r[a]);else 1===o&&this._add&&this._add(r);t[i]=null}},e.prototype._initIndexMap=function(e,t,n,i){for(var r=this._diffModeMultiple,o=0;o<e.length;o++){var a="_ec_"+this[i](e[o],o);if(r||(n[o]=a),t){var s=t[a],l=Gne(s);0===l?(t[a]=o,r&&n.push(a)):1===l?t[a]=[s,o]:s.push(o)}}},e}(),qne=function(){function e(e,t){this._encode=e,this._schema=t}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function Yne(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function Zne(e){return"category"===e?"ordinal":"time"===e?"time":"float"}var Kne=function(){return function e(t){this.otherDims={},null!=t&&AU(this,t)}}(),Jne=PJ(),Qne={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},eie=function(){function e(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=iie(this.source)))},e.prototype.getSourceDimensionIndex=function(e){return eX(this._dimNameMap.get(e),-1)},e.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},e.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=o9(this.source),n=!rie(e),i="",r=[],o=0,a=0;o<e;o++){var s=void 0,l=void 0,c=void 0,u=this.dimensions[a];if(u&&u.storeDimIndex===o)s=t?u.name:null,l=u.type,c=u.ordinalMeta,a++;else{var h=this.getSourceDimension(o);h&&(s=t?h.name:null,l=h.type)}r.push({property:s,type:l,ordinalMeta:c}),!t||null==s||u&&u.isCalculationCoord||(i+=n?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s),i+="$",i+=Qne[l]||"f",c&&(i+=c.uid),i+="$"}var d=this.source;return{dimensions:r,hash:[d.seriesLayoutBy,d.startIndex,i].join("$$")}},e.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var i=void 0,r=this.dimensions[n];if(r&&r.storeDimIndex===t)r.isCalculationCoord||(i=r.name),n++;else{var o=this.getSourceDimension(t);o&&(i=o.name)}e.push(i)}return e},e.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function tie(e){return e instanceof eie}function nie(e){for(var t=dX(),n=0;n<(e||[]).length;n++){var i=e[n],r=XU(i)?i.name:i;null!=r&&null==t.get(r)&&t.set(r,n)}return t}function iie(e){var t=Jne(e);return t.dimNameMap||(t.dimNameMap=nie(e.dimensionsDefine))}function rie(e){return e>30}var oie,aie,sie,lie,cie,uie,hie,die=XU,pie=RU,fie="undefined"==typeof Int32Array?Array:Int32Array,gie=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],mie=["_approximateExtent"],vie=function(){function e(e,t){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var i=!1;tie(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var r={},o=[],a={},s=!1,l={},c=0;c<n.length;c++){var u=n[c],h=jU(u)?new Kne({name:u}):u instanceof Kne?u:new Kne(u),d=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0);var p=h.otherDims=h.otherDims||{};o.push(d),r[d]=h,null!=l[d]&&(s=!0),h.createInvertedIndices&&(a[d]=[]);var f=c;UU(h.storeDimIndex)&&(f=h.storeDimIndex),0===p.itemName&&(this._nameDimIdx=f),0===p.itemId&&(this._idDimIdx=f),i&&(h.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=r,this._initGetDimensionInfo(s),this.hostModel=t,this._invertedIndicesMap=a,this._dimOmitted){var g=this._dimIdxToName=dX();LU(o,function(e){g.set(r[e].storeDimIndex,e)})}}return e.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(null==t)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(null!=n)return n;var i=this._schema.getSourceDimension(t);return i?i.name:void 0},e.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(null!=t)return t;if(null==e)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},e.prototype._recognizeDimIndex=function(e){if(UU(e)||null!=e&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},e.prototype._getStoreDimIndex=function(e){return this.getDimensionIndex(e)},e.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},e.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(e){return t.hasOwnProperty(e)?t[e]:void 0}:function(e){return t[e]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(null==t)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[t]:null},e.prototype.mapDimensionsAll=function(e){return(this._dimSummary.encode[e]||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(e,t,n){var i,r=this;if(e instanceof J9&&(i=e),!i){var o=this.dimensions,a=Q8(e)||EU(e)?new a9(e,o.length):e;i=new J9;var s=pie(o,function(e){return{type:r._dimInfos[e].type,property:e}});i.initData(a,s,n)}this._store=i,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=function l(e,t){var n={},i=n.encode={},r=dX(),o=[],a=[],s={};LU(e.dimensions,function(t){var n=e.getDimensionInfo(t),l=n.coordDim;if(l){var c=n.coordDimIndex;Yne(i,l)[c]=t,n.isExtraCoord||(r.set(l,1),function u(e){return!("ordinal"===e||"time"===e)}(n.type)&&(o[0]=t),Yne(s,l)[c]=e.getDimensionIndex(n.name)),n.defaultTooltip&&a.push(t)}$6.each(function(e,t){var r=Yne(i,t),o=n.otherDims[t];null!=o&&!1!==o&&(r[o]=n.name)})});var l=[],c={};r.each(function(e,t){var n=i[t];c[t]=n[0],l=l.concat(n)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=RU(l,function(t){return e.getDimensionInfo(t).storeDimIndex}),n.encodeFirstDimNotExtra=c;var u=i.label;u&&u.length&&(o=u.slice());var h=i.tooltip;return h&&h.length?a=h.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,n.userOutput=new qne(s,t),n}(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},e.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t&&t.length),i=n.start,r=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var a=i;a<r;a++){var s=a-i;this._nameList[a]=t[s],o&&hie(this,a)}},e.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var i=this._dimInfos[t[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return null==this._idDimIdx&&e.getSource().sourceFormat!==q6&&!e.fillStorage},e.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store.getProvider();this._updateOrdinalMeta();var i=this._nameList,r=this._idList;if(n.getSource().sourceFormat===j6&&!n.pure)for(var o=[],a=e;a<t;a++){var s=n.getItem(a,o);if(!this.hasItemOption&&AJ(s)&&(this.hasItemOption=!0),s){var l=s.name;null==i[a]&&null!=l&&(i[a]=EJ(l,null));var c=s.id;null==r[a]&&null!=c&&(r[a]=EJ(c,null))}}if(this._shouldMakeIdFromName())for(a=e;a<t;a++)hie(this,a);oie(this)}},e.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},e.prototype.setCalculationInfo=function(e,t){die(e)?AU(this._calculationInfo,e):this._calculationInfo[e]=t},e.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return null==n&&null!=this._nameDimIdx&&(n=sie(this,this._nameDimIdx,t)),null==n&&(n=""),n},e.prototype._getCategory=function(e,t){var n=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},e.prototype.getId=function(e){return aie(this,this.getRawIndex(e))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,t)},e.prototype.getByRawIndex=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},e.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},e.prototype.getValues=function(e,t){var n=this,i=this._store;return WU(e)?i.getValues(pie(e,function(e){return n._getStoreDimIndex(e)}),t):i.getValues(e)},e.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,i=t.length;n<i;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},e.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},e.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},e.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},e.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e],i=n&&n[t];return null==i||isNaN(i)?-1:i},e.prototype.each=function(e,t,n){$U(e)&&(n=t,t=e,e=[]);var i=n||this,r=pie(lie(e),this._getStoreDimIndex,this);this._store.each(r,i?VU(t,i):t)},e.prototype.filterSelf=function(e,t,n){$U(e)&&(n=t,t=e,e=[]);var i=n||this,r=pie(lie(e),this._getStoreDimIndex,this);return this._store=this._store.filter(r,i?VU(t,i):t),this},e.prototype.selectRange=function(e){var t=this,n={};return LU(BU(e),function(i){var r=t._getStoreDimIndex(i);n[r]=e[i]}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(e,t,n){$U(e)&&(n=t,t=e,e=[]),n=n||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},n),i},e.prototype.map=function(e,t,n,i){var r=n||i||this,o=pie(lie(e),this._getStoreDimIndex,this),a=uie(this);return a._store=this._store.map(o,r?VU(t,r):t),a},e.prototype.modify=function(e,t,n,i){var r=n||i||this,o=pie(lie(e),this._getStoreDimIndex,this);this._store.modify(o,r?VU(t,r):t)},e.prototype.downSample=function(e,t,n,i){var r=uie(this);return r._store=this._store.downSample(this._getStoreDimIndex(e),t,n,i),r},e.prototype.minmaxDownSample=function(e,t){var n=uie(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),n},e.prototype.lttbDownSample=function(e,t){var n=uie(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},e.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},e.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new Q3(n,t,t&&t.ecModel)},e.prototype.diff=function(e){var t=this;return new Xne(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(t){return aie(e,t)},function(e){return aie(t,e)})},e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},e.prototype.setVisual=function(e,t){this._visual=this._visual||{},die(e)?AU(this._visual,e):this._visual[e]=t},e.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],i=n&&n[t];return null==i?this.getVisual(t):i},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var r=i[t];return null==r&&(WU(r=this.getVisual(t))?r=r.slice():die(r)&&(r=AU({},r)),i[t]=r),r},e.prototype.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,die(t)?AU(i,t):i[t]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(e,t){die(e)?AU(this._layout,e):this._layout[e]=t},e.prototype.getLayout=function(e){return this._layout[e]},e.prototype.getItemLayout=function(e){return this._itemLayouts[e]},e.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?AU(this._itemLayouts[e]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;p1(n,this.dataType,e,t),this._graphicEls[e]=t},e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},e.prototype.eachItemGraphicEl=function(e,t){LU(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:pie(this.dimensions,this._getDimInfo,this),this.hostModel)),cie(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(e,t){var n=this[e];$U(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(nX(arguments)))})},e.internalField=(oie=function(e){var t=e._invertedIndicesMap;LU(t,function(n,i){var r=e._dimInfos[i],o=r.ordinalMeta,a=e._store;if(o){n=t[i]=new fie(o.categories.length);for(var s=0;s<n.length;s++)n[s]=-1;for(s=0;s<a.count();s++)n[a.get(r.storeDimIndex,s)]=s}})},sie=function(e,t,n){return EJ(e._getCategory(t,n),null)},aie=function(e,t){var n=e._idList[t];return null==n&&null!=e._idDimIdx&&(n=sie(e,e._idDimIdx,t)),null==n&&(n="e\0\0"+t),n},lie=function(e){return WU(e)||(e=null!=e?[e]:[]),e},uie=function(t){var n=new e(t._schema?t._schema:pie(t.dimensions,t._getDimInfo,t),t.hostModel);return cie(n,t),n},cie=function(e,t){LU(gie.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,LU(mie,function(n){e[n]=kU(t[n])}),e._calculationInfo=AU({},t._calculationInfo)},void(hie=function(e,t){var n=e._nameList,i=e._idList,r=e._nameDimIdx,o=e._idDimIdx,a=n[t],s=i[t];if(null==a&&null!=r&&(n[t]=a=sie(e,r,t)),null==s&&null!=o&&(i[t]=s=sie(e,o,t)),null==s&&null!=a){var l=e._nameRepeatCount,c=l[a]=(l[a]||0)+1;s=a,c>1&&(s+="__ec__"+c),i[t]=s}})),e}();function yie(e,t){Q8(e)||(e=t9(e));var n=(t=t||{}).coordDimensions||[],i=t.dimensionsDefine||e.dimensionsDefine||[],r=dX(),o=[],a=function s(e,t,n,i){var r=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,i||0);return LU(t,function(e){var t;XU(e)&&(t=e.dimsDef)&&(r=Math.max(r,t.length))}),r}(e,n,i,t.dimensionsCount),l=t.canOmitUnusedDimensions&&rie(a),c=i===e.dimensionsDefine,u=c?iie(e):nie(i),h=t.encodeDefine;!h&&t.encodeDefaulter&&(h=t.encodeDefaulter(e,a));for(var d=dX(h),p=new G9(a),f=0;f<p.length;f++)p[f]=-1;function g(e){var t=p[e];if(t<0){var n=i[e],r=XU(n)?n:{name:n},a=new Kne,s=r.name;null!=s&&null!=u.get(s)&&(a.name=a.displayName=s),null!=r.type&&(a.type=r.type),null!=r.displayName&&(a.displayName=r.displayName);var l=o.length;return p[e]=l,a.storeDimIndex=e,o.push(a),a}return o[t]}if(!l)for(f=0;f<a;f++)g(f);d.each(function(e,t){var n=MJ(e).slice();if(1===n.length&&!jU(n[0])&&n[0]<0)d.set(t,!1);else{var i=d.set(t,[]);LU(n,function(e,n){var r=jU(e)?u.get(e):e;null!=r&&r<a&&(i[n]=r,v(g(r),t,n))})}});var m=0;function v(e,t,n){null!=$6.get(t)?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,r.set(t,!0))}LU(n,function(e){var t,n,i,r;if(jU(e))t=e,r={};else{t=(r=e).name;var o=r.ordinalMeta;r.ordinalMeta=null,(r=AU({},r)).ordinalMeta=o,n=r.dimsDef,i=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}var s=d.get(t);if(!1!==s){if(!(s=MJ(s)).length)for(var l=0;l<(n&&n.length||1);l++){for(;m<a&&null!=g(m).coordDim;)m++;m<a&&s.push(m++)}LU(s,function(e,o){var a=g(e);if(c&&null!=r.type&&(a.type=r.type),v(IU(a,r),t,o),null==a.name&&n){var s=n[o];!XU(s)&&(s={name:s}),a.name=a.displayName=s.name,a.defaultTooltip=s.defaultTooltip}i&&IU(a.otherDims,i)})}});var y=t.generateCoord,b=t.generateCoordCount,x=null!=b;b=y?b||1:0;var _=y||"value";function w(e){null==e.name&&(e.name=e.coordDim)}if(l)LU(o,function(e){w(e)}),o.sort(function(e,t){return e.storeDimIndex-t.storeDimIndex});else for(var S=0;S<a;S++){var M=g(S);null==M.coordDim&&(M.coordDim=bie(_,r,x),M.coordDimIndex=0,(!y||b<=0)&&(M.isExtraCoord=!0),b--),w(M),null!=M.type||o8(e,S)!==J6&&(!M.isExtraCoord||null==M.otherDims.itemName&&null==M.otherDims.seriesName)||(M.type="ordinal")}return function k(e){for(var t=dX(),n=0;n<e.length;n++){var i=e[n],r=i.name,o=t.get(r)||0;o>0&&(i.name=r+(o-1)),o++,t.set(r,o)}}(o),new eie({source:e,dimensions:o,fullDimensionCount:a,dimensionOmitted:l})}function bie(e,t,n){if(n||t.hasKey(e)){for(var i=0;t.hasKey(e+i);)i++;e+=i}return t.set(e,!0),e}var xie=function(){return function e(t){this.coordSysDims=[],this.axisMap=dX(),this.categoryAxisMap=dX(),this.coordSysName=t}}();var _ie={cartesian2d:function(e,t,n,i){var r=e.getReferringComponents("xAxis",FJ).models[0],o=e.getReferringComponents("yAxis",FJ).models[0];t.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),wie(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),wie(o)&&(i.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,i){var r=e.getReferringComponents("singleAxis",FJ).models[0];t.coordSysDims=["single"],n.set("single",r),wie(r)&&(i.set("single",r),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var r=e.getReferringComponents("polar",FJ).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),wie(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),wie(a)&&(i.set("angle",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,i){var r=e.ecModel,o=r.getComponent("parallel",e.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();LU(o.parallelAxisIndex,function(e,o){var s=r.getComponent("parallelAxis",e),l=a[o];n.set(l,s),wie(s)&&(i.set(l,s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=o))})},matrix:function(e,t,n,i){var r=e.getReferringComponents("matrix",FJ).models[0];t.coordSysDims=["x","y"];var o=r.getDimensionModel("x"),a=r.getDimensionModel("y");n.set("x",o),n.set("y",a),i.set("x",o),i.set("y",a)}};function wie(e){return"category"===e.get("type")}function Sie(e,t,n){var i,r,o,a=(n=n||{}).byIndex,s=n.stackedCoordDimension;!function l(e){return!tie(e.schema)}(t)?(r=t.schema,i=r.dimensions,o=t.store):i=t;var c,u,h,d,p=!(!e||!e.get("stack"));if(LU(i,function(e,t){jU(e)&&(i[t]=e={name:e}),p&&!e.isExtraCoord&&(a||c||!e.ordinalMeta||(c=e),u||"ordinal"===e.type||"time"===e.type||s&&s!==e.coordDim||(u=e))}),!u||a||c||(a=!0),u){h="__\0ecstackresult_"+e.id,d="__\0ecstackedover_"+e.id,c&&(c.createInvertedIndices=!0);var f=u.coordDim,g=u.type,m=0;LU(i,function(e){e.coordDim===f&&m++});var v={name:h,coordDim:f,coordDimIndex:m,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},y={name:d,coordDim:d,coordDimIndex:m+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(v.storeDimIndex=o.ensureCalculationDimension(d,g),y.storeDimIndex=o.ensureCalculationDimension(h,g)),r.appendCalculationDimension(v),r.appendCalculationDimension(y)):(i.push(v),i.push(y))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:a,stackedOverDimension:d,stackResultDimension:h}}function Mie(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function kie(e,t){return Mie(e,t)?e.getCalculationInfo("stackResultDimension"):t}function Cie(e,t,n){n=n||{};var i,r=t.getSourceManager(),o=!1;e?(o=!0,i=t9(e)):o=(i=r.getSource()).sourceFormat===j6;var a=function s(e){var t=e.get("coordinateSystem"),n=new xie(t),i=_ie[t];if(i)return i(e,n,n.axisMap,n.categoryAxisMap),n}(t),l=function c(e,t){var n,i=e.get("coordinateSystem"),r=i6.get(i);return t&&t.coordSysDims&&(n=RU(t.coordSysDims,function(e){var n={name:e},i=t.axisMap.get(e);if(i){var r=i.get("type");n.type=Zne(r)}return n})),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),n}(t,a),u=n.useEncodeDefaulter,h=$U(u)?u:u?HU(n8,l,t):null,d=yie(i,{coordDimensions:l,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:h,canOmitUnusedDimensions:!o}),p=function f(e,t,n){var i,r;return n&&LU(e,function(e,o){var a=e.coordDim,s=n.categoryAxisMap.get(a);s&&(null==i&&(i=o),e.ordinalMeta=s.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(r=!0)}),r||null==i||(e[i].otherDims.itemName=0),i}(d.dimensions,n.createInvertedIndices,a),g=o?null:r.getSharedDataStore(d),m=Sie(t,{schema:d,store:g}),v=new vie(d,t);v.setCalculationInfo(m);var y=null!=p&&function b(e){if(e.sourceFormat===j6){var t=function n(e){var t=0;for(;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return!WU(TJ(t))}}(i)?function(e,t,n,i){return i===p?n:this.defaultDimValueGetter(e,t,n,i)}:null;return v.hasItemOption=!1,v.initData(o?i:g,null,y),v}function Tie(e){return"interval"===e.type||"log"===e.type}function Aie(e,t,n,i,r){var o={},a=o.interval=hJ(t/n);null!=i&&a<i&&(a=o.interval=i),null!=r&&a>r&&(a=o.interval=r);var s=o.intervalPrecision=Die(a);return function l(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Oie(e,0,t),Oie(e,1,t),e[0]>e[1]&&(e[0]=e[1])}(o.niceTickExtent=[eJ(Math.ceil(e[0]/a)*a,s),eJ(Math.floor(e[1]/a)*a,s)],e),o}function Iie(e){var t=Math.pow(10,uJ(e)),n=e/t;return n?2===n?n=3:3===n?n=5:n*=2:n=1,eJ(n*t)}function Die(e){return nJ(e)+2}function Oie(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function Eie(e,t){return e>=t[0]&&e<=t[1]}var Lie=function(){function e(){this.normalize=Rie,this.scale=Nie}return e.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=VU(e.normalize,e),this.scale=VU(e.scale,e)):(this.normalize=Rie,this.scale=Nie)},e}();function Rie(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function Nie(e,t){return e*(t[1]-t[0])+t[0]}function Pie(e,t,n){var i=Math.log(e);return[Math.log(n?t[0]:Math.max(0,t[0]))/i,Math.log(n?t[1]:Math.max(0,t[1]))/i]}var zie=function(){function e(e){this._calculator=new Lie,this._setting=e||{},this._extent=[1/0,-1/0];var t=p4();t&&(this._brkCtx=t.createScaleBreakContext(),this._brkCtx.update(this._extent))}return e.prototype.getSetting=function(e){return this._setting[e]},e.prototype._innerUnionExtent=function(e){var t=this._extent;this._innerSetExtent(e[0]<t[0]?e[0]:t[0],e[1]>t[1]?e[1]:t[1])},e.prototype.unionExtentFromData=function(e,t){this._innerUnionExtent(e.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(e,t){this._innerSetExtent(e,t)},e.prototype._innerSetExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t),this._brkCtx&&this._brkCtx.update(n)},e.prototype.setBreaksFromOption=function(e){var t=p4();t&&this._innerSetBreak(t.parseAxisBreakOption(e,VU(this.parse,this)))},e.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},e.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.hasBreaks=function(){return!!this._brkCtx&&this._brkCtx.hasBreaks()},e.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(e){this._isBlank=e},e}();nQ(zie);var Bie=0,Vie=function(){function e(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Bie,this._onCollect=e.onCollect}return e.createByAxisModel=function(t){var n=t.option,i=n.data,r=i&&RU(i,Fie);return new e({categories:r,needCollect:!r,deduplication:!1!==n.dedplication})},e.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},e.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!jU(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,this._onCollect&&this._onCollect(e,t),t;var i=this._getOrCreateMap();return null==(t=i.get(e))&&(n?(t=this.categories.length,this.categories[t]=e,i.set(e,t),this._onCollect&&this._onCollect(e,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||(this._map=dX(this.categories))},e}();function Fie(e){return XU(e)&&null!=e.value?e.value:e+""}var Hie=function(e){function t(t){var n=e.call(this,t)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new Vie({})),WU(i)&&(i=new Vie({categories:RU(i,function(e){return XU(e)?e.value:e})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return nU(t,e),t.prototype.parse=function(e){return null==e?NaN:jU(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Eie(e,this._extent)&&e>=0&&e<this._ordinalMeta.categories.length},t.prototype.normalize=function(e){return e=this._getTickNumber(e),this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(this._calculator.scale(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push({value:n}),n++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var t=e.ordinalNumbers,n=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],r=0,o=this._ordinalMeta.categories.length,a=Math.min(o,t.length);r<a;++r){var s=t[r];n[r]=s,i[s]=r}for(var l=0;r<o;++r){for(;null!=i[l];)l++;n.push(l),i[l]=r}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value),n=this._ordinalMeta.categories[t];return null==n?"":n+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(zie);zie.registerClass(Hie);var Wie=eJ,$ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return nU(t,e),t.prototype.parse=function(e){return null==e||""===e?NaN:Number(e)},t.prototype.contain=function(e){return Eie(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Die(e)},t.prototype.getTicks=function(e){e=e||{};var t=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,o=p4(),a=[];if(!t)return a;if("only_break"===e.breakTicks&&o)return o.addBreaksToTicks(a,this._brkCtx.breaks,this._extent),a;n[0]<i[0]&&(e.expandToNicedExtent?a.push({value:Wie(i[0]-t,r)}):a.push({value:n[0]}));for(var s=function(e,n){return Math.round((n-e)/t)},l=i[0];l<=i[1];){if(a.push({value:l}),l=Wie(l+t,r),this._brkCtx){var c=this._brkCtx.calcNiceTickMultiple(l,s);c>=0&&(l=Wie(l+c*t,r))}if(a.length>0&&l===a[a.length-1].value)break;if(a.length>1e4)return[]}var u=a.length?a[a.length-1].value:i[1];return n[1]>u&&(e.expandToNicedExtent?a.push({value:Wie(u+t,r)}):a.push({value:n[1]})),o&&o.pruneTicksByBreak(e.pruneByBreak,a,this._brkCtx.breaks,function(e){return e.value},this._interval,this._extent),"none"!==e.breakTicks&&o&&o.addBreaksToTicks(a,this._brkCtx.breaks,this._extent),a},t.prototype.getMinorTicks=function(e){for(var t=this.getTicks({expandToNicedExtent:!0}),n=[],i=this.getExtent(),r=1;r<t.length;r++){var o=t[r],a=t[r-1];if(!a.break&&!o.break){for(var s=0,l=[],c=(o.value-a.value)/e,u=Die(c);s<e-1;){var h=Wie(a.value+(s+1)*c,u);h>i[0]&&h<i[1]&&l.push(h),s++}var d=p4();d&&d.pruneTicksByBreak("auto",l,this._getNonTransBreaks(),function(e){return e},this._interval,i),n.push(l)}}return n},t.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},t.prototype.getLabel=function(e,t){if(null==e)return"";var n=t&&t.precision;return null==n?n=nJ(e.value)||0:"auto"===n&&(n=this._intervalPrecision),U4(Wie(e.value,n,!0))},t.prototype.calcNiceTicks=function(e,t,n){e=e||5;var i=this._extent.slice(),r=this._getExtentSpanWithBreaks();if(isFinite(r)){r<0&&(r=-r,i.reverse(),this._innerSetExtent(i[0],i[1]),i=this._extent.slice());var o=Aie(i,r,e,t,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var t=this._extent.slice();if(t[0]===t[1])if(0!==t[0]){var n=Math.abs(t[0]);e.fixMax||(t[1]+=n/2),t[0]-=n/2}else t[1]=1;var i=t[1]-t[0];isFinite(i)||(t[0]=0,t[1]=1),this._innerSetExtent(t[0],t[1]),t=this._extent.slice(),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var r=this._interval,o=this._intervalPrecision;e.fixMin||(t[0]=Wie(Math.floor(t[0]/r)*r,o)),e.fixMax||(t[1]=Wie(Math.ceil(t[1]/r)*r,o)),this._innerSetExtent(t[0],t[1])},t.prototype.setNiceExtent=function(e,t){this._niceExtent=[e,t]},t.type="interval",t}(zie);zie.registerClass($ie);var jie="undefined"!=typeof Float32Array,Gie=jie?Float32Array:Array;function Uie(e){return WU(e)?jie?new Float32Array(e):e:new Gie(e)}var Xie="__ec_stack_";function qie(e){return e.get("stack")||Xie+e.seriesIndex}function Yie(e){return e.dim+e.index}function Zie(e,t){var n=[];return t.eachSeriesByType(e,function(e){tre(e)&&n.push(e)}),n}function Kie(e){var t=function n(e){var t={};LU(e,function(e){var n=e.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var i=e.getData(),r=n.dim+"_"+n.index,o=i.getDimensionIndex(i.mapDimension(n.dim)),a=i.getStore(),s=0,l=a.count();s<l;++s){var c=a.get(o,s);t[r]?t[r].push(c):t[r]=[c]}});var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r){r.sort(function(e,t){return e-t});for(var o=null,a=1;a<r.length;++a){var s=r[a]-r[a-1];s>0&&(o=null===o?s:Math.min(o,s))}n[i]=o}}return n}(e),i=[];return LU(e,function(e){var n,r=e.coordinateSystem.getBaseAxis(),o=r.getExtent();if("category"===r.type)n=r.getBandWidth();else if("value"===r.type||"time"===r.type){var a=r.dim+"_"+r.index,s=t[a],l=Math.abs(o[1]-o[0]),c=r.scale.getExtent(),u=Math.abs(c[1]-c[0]);n=s?l/u*s:l}else{var h=e.getData();n=Math.abs(o[1]-o[0])/h.count()}var d=KK(e.get("barWidth"),n),p=KK(e.get("barMaxWidth"),n),f=KK(e.get("barMinWidth")||(nre(e)?.5:1),n),g=e.get("barGap"),m=e.get("barCategoryGap"),v=e.get("defaultBarGap");i.push({bandWidth:n,barWidth:d,barMaxWidth:p,barMinWidth:f,barGap:g,barCategoryGap:m,defaultBarGap:v,axisKey:Yie(r),stackId:qie(e)})}),Jie(i)}function Jie(e){var t={};LU(e,function(e,n){var i=e.axisKey,r=e.bandWidth,o=t[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:null,gap:e.defaultBarGap||0,stacks:{}},a=o.stacks;t[i]=o;var s=e.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=e.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var c=e.barMaxWidth;c&&(a[s].maxWidth=c);var u=e.barMinWidth;u&&(a[s].minWidth=u);var h=e.barGap;null!=h&&(o.gap=h);var d=e.barCategoryGap;null!=d&&(o.categoryGap=d)});var n={};return LU(t,function(e,t){n[t]={};var i=e.stacks,r=e.bandWidth,o=e.categoryGap;if(null==o){var a=BU(i).length;o=Math.max(35-4*a,15)+"%"}var s=KK(o,r),l=KK(e.gap,1),c=e.remainedWidth,u=e.autoWidthCount,h=(c-s)/(u+(u-1)*l);h=Math.max(h,0),LU(i,function(e){var t=e.maxWidth,n=e.minWidth;if(e.width){i=e.width;t&&(i=Math.min(i,t)),n&&(i=Math.max(i,n)),e.width=i,c-=i+l*i,u--}else{var i=h;t&&t<i&&(i=Math.min(t,c)),n&&n>i&&(i=n),i!==h&&(e.width=i,c-=i+l*i,u--)}}),h=(c-s)/(u+(u-1)*l),h=Math.max(h,0);var d,p=0;LU(i,function(e,t){e.width||(e.width=h),d=e,p+=e.width*(1+l)}),d&&(p-=d.width*l);var f=-p/2;LU(i,function(e,i){n[t][i]=n[t][i]||{bandWidth:r,offset:f,width:e.width},f+=e.width*(1+l)})}),n}function Qie(e,t){var n=Zie(e,t),i=Kie(n);LU(n,function(e){var t=e.getData(),n=e.coordinateSystem.getBaseAxis(),r=qie(e),o=i[Yie(n)][r],a=o.offset,s=o.width;t.setLayout({bandWidth:o.bandWidth,offset:a,size:s})})}function ere(e){return{seriesType:e,plan:E7(),reset:function(e){if(tre(e)){var t=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),r=n.getOtherAxis(i),o=t.getDimensionIndex(t.mapDimension(r.dim)),a=t.getDimensionIndex(t.mapDimension(i.dim)),s=e.get("showBackground",!0),l=t.mapDimension(r.dim),c=t.getCalculationInfo("stackResultDimension"),u=Mie(t,l)&&!!t.getCalculationInfo("stackedOnSeries"),h=r.isHorizontal(),d=function y(e,t){var n=t.model.get("startValue");n||(n=0);return t.toGlobalCoord(t.dataToCoord("log"===t.type?n>0?n:1:n))}(0,r),p=nre(e),f=e.get("barMinHeight")||0,g=c&&t.getDimensionIndex(c),m=t.getLayout("size"),v=t.getLayout("offset");return{progress:function(e,t){for(var i,r=e.count,l=p&&Uie(3*r),c=p&&s&&Uie(3*r),y=p&&Uie(r),b=n.master.getRect(),x=h?b.width:b.height,_=t.getStore(),w=0;null!=(i=e.next());){var S=_.get(u?g:o,i),M=_.get(a,i),k=d,C=void 0;u&&(C=+S-_.get(o,i));var T=void 0,A=void 0,I=void 0,D=void 0;if(h){var O=n.dataToPoint([S,M]);if(u)k=n.dataToPoint([C,M])[0];T=k,A=O[1]+v,I=O[0]-k,D=m,Math.abs(I)<f&&(I=(I<0?-1:1)*f)}else{O=n.dataToPoint([M,S]);if(u)k=n.dataToPoint([M,C])[1];T=O[0]+v,A=k,I=m,D=O[1]-k,Math.abs(D)<f&&(D=(D<=0?-1:1)*f)}p?(l[w]=T,l[w+1]=A,l[w+2]=h?I:D,c&&(c[w]=h?b.x:T,c[w+1]=h?A:b.y,c[w+2]=x),y[i]=i):t.setItemLayout(i,{x:T,y:A,width:I,height:D}),w+=3}p&&t.setLayout({largePoints:l,largeDataIndices:y,largeBackgroundPoints:c,valueAxisHorizontal:h})}}}}}}function tre(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function nre(e){return e.pipelineContext&&e.pipelineContext.large}var ire=function(e){function t(t){var n=e.call(this,t)||this;return n.type="time",n}return nU(t,e),t.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return I4(e.value,w4[function n(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(T4(this._minLevelUnit))]||w4.second,t,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,t,n){var i=this.getSetting("useUTC");return function r(e,t,n,i,o){var a=null;if(jU(n))a=n;else if($U(n)){var s={time:e.time,level:e.time.level},l=p4();l&&l.makeAxisLabelFormatterParamBreak(s,e.break),a=n(e.value,t,s)}else{var c=e.time;if(c){var u=n[c.lowerTimeUnit][c.upperTimeUnit];a=u[Math.min(c.level,u.length-1)]||""}else{var h=D4(e.value,o);a=n[h][h][0]}}return I4(new Date(e.value),a,o,i)}(e,t,n,this.getSetting("locale"),i)},t.prototype.getTicks=function(e){e=e||{};var t=this._interval,n=this._extent,i=p4(),r=[];if(!t)return r;var o=this.getSetting("useUTC");if(i&&"only_break"===e.breakTicks)return p4().addBreaksToTicks(r,this._brkCtx.breaks,this._extent),r;var a=D4(n[1],o);r.push({value:n[0],time:{level:0,upperTimeUnit:a,lowerTimeUnit:a}});var s=function l(e,t,n,i,r,o){var a=1e4,s=M4,l=0;function c(e,t,n,r,s,c,u){for(var h=function g(e,t){var n=new Date(0);n[e](1);var i=n.getTime();n[e](1+t);var r=n.getTime()-i;return function(e,t){return Math.max(0,Math.round((t-e)/r))}}(s,e),d=t,p=new Date(d);d<n&&d<=i[1]&&(u.push({value:d}),!(l++>a));)if(p[s](p[r]()+e),d=p.getTime(),o){var f=o.calcNiceTickMultiple(d,h);f>0&&(p[s](p[r]()+f*e),d=p.getTime())}u.push({value:d,notAdd:!0})}function u(e,r,o){var a=[],s=!r.length;if(!ore(T4(e),i[0],i[1],n)){s&&(r=[{value:hre(i[0],e,n)},{value:i[1]}]);for(var l=0;l<r.length-1;l++){var u=r[l].value,h=r[l+1].value;if(u!==h){var d=void 0,p=void 0,f=void 0,g=!1;switch(e){case"year":d=Math.max(1,Math.round(t/v4/365)),p=E4(n),f=V4(n);break;case"half-year":case"quarter":case"month":d=sre(t),p=L4(n),f=F4(n);break;case"week":case"half-week":case"day":d=are(t),p=R4(n),f=H4(n),g=!0;break;case"half-day":case"quarter-day":case"hour":d=lre(t),p=N4(n),f=W4(n);break;case"minute":d=cre(t,!0),p=P4(n),f=$4(n);break;case"second":d=cre(t,!1),p=z4(n),f=j4(n);break;case"millisecond":d=ure(t),p=B4(n),f=G4(n)}h>=i[0]&&u<=i[1]&&c(d,u,h,p,f,g,a),"year"===e&&o.length>1&&0===l&&o.unshift({value:o[0].value-d})}}for(l=0;l<a.length;l++)o.push(a[l])}}for(var h=[],d=[],p=0,f=0,g=0;g<s.length;++g){var m=T4(s[g]);if(A4(s[g]))if(u(s[g],h[h.length-1]||[],d),m!==(s[g+1]?T4(s[g+1]):null)){if(d.length){f=p,d.sort(function(e,t){return e.value-t.value});for(var v=[],y=0;y<d.length;++y){var b=d[y].value;0!==y&&d[y-1].value===b||(v.push(d[y]),b>=i[0]&&b<=i[1]&&p++)}var x=r/t;if(p>1.5*x&&f>x/1.5)break;if(h.push(v),p>x||e===s[g])break}d=[]}}var _=PU(RU(h,function(e){return PU(e,function(e){return e.value>=i[0]&&e.value<=i[1]&&!e.notAdd})}),function(e){return e.length>0}),w=[],S=_.length-1;for(g=0;g<_.length;++g)for(var M=_[g],k=0;k<M.length;++k){var C=D4(M[k].value,n);w.push({value:M[k].value,time:{level:S-g,upperTimeUnit:C,lowerTimeUnit:C}})}w.sort(function(e,t){return e.value-t.value});var T=[];for(g=0;g<w.length;++g)0!==g&&w[g].value===w[g-1].value||T.push(w[g]);return T}(this._minLevelUnit,this._approxInterval,o,n,this._getExtentSpanWithBreaks(),this._brkCtx);r=r.concat(s);var c=D4(n[1],o);r.push({value:n[1],time:{level:0,upperTimeUnit:c,lowerTimeUnit:c}});var u=this.getSetting("useUTC"),h=S4.length-1,d=0;return LU(r,function(e){h=Math.min(h,DU(S4,e.time.upperTimeUnit)),d=Math.max(d,e.time.level)}),i&&p4().pruneTicksByBreak(e.pruneByBreak,r,this._brkCtx.breaks,function(e){return e.value},this._approxInterval,this._extent),i&&"none"!==e.breakTicks&&p4().addBreaksToTicks(r,this._brkCtx.breaks,this._extent,function(e){for(var t=Math.max(DU(S4,D4(e.vmin,u)),DU(S4,D4(e.vmax,u))),n=0,i=0;i<S4.length;i++)if(!ore(S4[i],e.vmin,e.vmax,u)){n=i;break}var r=Math.min(n,h),o=Math.max(r,t);return{level:d,lowerTimeUnit:S4[o],upperTimeUnit:S4[r]}}),r},t.prototype.calcNiceExtent=function(e){var t=this.getExtent();if(t[0]===t[1]&&(t[0]-=v4,t[1]+=v4),t[1]===-1/0&&t[0]===1/0){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-v4}this._innerSetExtent(t[0],t[1]),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,t,n){e=e||10;var i=this._getExtentSpanWithBreaks();this._approxInterval=i/e,null!=t&&this._approxInterval<t&&(this._approxInterval=t),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var r=rre.length,o=Math.min(function(e,t,n,i){for(;n<i;){var r=n+i>>>1;e[r][1]<t?n=r+1:i=r}return n}(rre,this._approxInterval,0,r),r-1);this._interval=rre[o][1],this._intervalPrecision=Die(this._interval),this._minLevelUnit=rre[Math.max(o-1,0)][0]},t.prototype.parse=function(e){return UU(e)?e:+cJ(e)},t.prototype.contain=function(e){return Eie(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.type="time",t}($ie),rre=[["second",f4],["minute",g4],["hour",m4],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",y4/2],["year",y4]];function ore(e,t,n,i){return O4(new Date(t),e,i).getTime()===O4(new Date(n),e,i).getTime()}function are(e,t){return(e/=v4)>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function sre(e){return(e/=2592e6)>6?6:e>3?3:e>2?2:1}function lre(e){return(e/=m4)>12?12:e>6?6:e>3.5?4:e>2?2:1}function cre(e,t){return(e/=t?g4:f4)>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function ure(e){return hJ(e)}function hre(e,t,n){var i=Math.max(0,DU(S4,t)-1);return O4(new Date(e),S4[i],n).getTime()}zie.registerClass(ire);var dre=eJ,pre=Math.floor,fre=Math.ceil,gre=Math.pow,mre=Math.log,vre=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new $ie,t}return nU(t,e),t.prototype.getTicks=function(t){t=t||{};var n=this._extent.slice(),i=this._originalScale.getExtent(),r=e.prototype.getTicks.call(this,t),o=this.base,a=this._originalScale._innerGetBreaks(),s=p4();return RU(r,function(e){var t,r=e.value,l=null,c=gre(o,r);if(r===n[0]&&this._fixMin?l=i[0]:r===n[1]&&this._fixMax&&(l=i[1]),s){var u=s.getTicksLogTransformBreak(e,o,a,yre);t=u.vBreak,null==l&&(l=u.brkRoundingCriterion)}return null!=l&&(c=yre(c,l)),{value:c,break:t}},this)},t.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},t.prototype.setExtent=function(t,n){this._originalScale.setExtent(t,n);var i=Pie(this.base,[t,n]);e.prototype.setExtent.call(this,i[0],i[1])},t.prototype.getExtent=function(){var t=this.base,n=e.prototype.getExtent.call(this);n[0]=gre(t,n[0]),n[1]=gre(t,n[1]);var i=this._originalScale.getExtent();return this._fixMin&&(n[0]=yre(n[0],i[0])),this._fixMax&&(n[1]=yre(n[1],i[1])),n},t.prototype.unionExtentFromData=function(e,t){this._originalScale.unionExtentFromData(e,t);var n=Pie(this.base,e.getApproximateExtent(t),!0);this._innerUnionExtent(n)},t.prototype.calcNiceTicks=function(e){e=e||10;var t=this._extent.slice(),n=this._getExtentSpanWithBreaks();if(isFinite(n)&&!(n<=0)){var i=function o(e){return Math.pow(10,uJ(e))}(n);for(e/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var r=[dre(fre(t[0]/i)*i),dre(pre(t[1]/i)*i)];this._interval=i,this._intervalPrecision=Die(i),this._niceExtent=r}},t.prototype.calcNiceExtent=function(t){e.prototype.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},t.prototype.contain=function(t){return t=mre(t)/mre(this.base),e.prototype.contain.call(this,t)},t.prototype.normalize=function(t){return t=mre(t)/mre(this.base),e.prototype.normalize.call(this,t)},t.prototype.scale=function(t){return t=e.prototype.scale.call(this,t),gre(this.base,t)},t.prototype.setBreaksFromOption=function(e){var t=p4();if(t){var n=t.logarithmicParseBreaksFromOption(e,this.base,VU(this.parse,this)),i=n.parsedOriginal,r=n.parsedLogged;this._originalScale._innerSetBreak(i),this._innerSetBreak(r)}},t.type="log",t}($ie);function yre(e,t){return dre(e,nJ(t))}zie.registerClass(vre);var bre=function(){function e(e,t,n){this._prepareParams(e,t,n)}return e.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal="ordinal"===e.type;this._needCrossZero="interval"===e.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var r=t.get("min",!0);null==r&&(r=t.get("startValue",!0));var o=this._modelMinRaw=r;$U(o)?this._modelMinNum=Sre(e,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=Sre(e,o));var a=this._modelMaxRaw=t.get("max",!0);if($U(a)?this._modelMaxNum=Sre(e,a({min:n[0],max:n[1]})):"dataMax"!==a&&(this._modelMaxNum=Sre(e,a)),i)this._axisDataLen=t.getCategories().length;else{var s=t.get("boundaryGap"),l=WU(s)?s:[s||0,s||0];"boolean"==typeof l[0]||"boolean"==typeof l[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[TK(l[0],1),TK(l[1],1)]}},e.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,i=this._axisDataLen,r=this._boundaryGapInner,o=e?null:n-t||Math.abs(t),a="dataMin"===this._modelMinRaw?t:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=a,c=null!=s;null==a&&(a=e?i?0:NaN:t-r[0]*o),null==s&&(s=e?i?i-1:NaN:n+r[1]*o),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN);var u=JU(a)||JU(s)||e&&!i;this._needCrossZero&&(a>0&&s>0&&!l&&(a=0),a<0&&s<0&&!c&&(s=0));var h=this._determinedMin,d=this._determinedMax;return null!=h&&(a=h,l=!0),null!=d&&(s=d,c=!0),{min:a,max:s,minFixed:l,maxFixed:c,isBlank:u}},e.prototype.modifyDataMinMax=function(e,t){this[_re[e]]=t},e.prototype.setDeterminedMinMax=function(e,t){this[xre[e]]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),xre={min:"_determinedMin",max:"_determinedMax"},_re={min:"_dataMin",max:"_dataMax"};function wre(e,t,n){var i=e.rawExtentInfo;return i||(i=new bre(e,t,n),e.rawExtentInfo=i,i)}function Sre(e,t){return null==t?null:JU(t)?NaN:e.parse(t)}function Mre(e,t){var n=e.type,i=wre(e,t,e.getExtent()).calculate();e.setBlank(i.isBlank);var r=i.min,o=i.max,a=t.ecModel;if(a&&"time"===n){var s=Zie("bar",a),l=!1;if(LU(s,function(e){l=l||e.getBaseAxis()===t.axis}),l){var c=Kie(s),u=function e(t,n,i,r){var o=i.axis.getExtent(),a=Math.abs(o[1]-o[0]),s=function l(e,t,n){if(e&&t)return e[Yie(t)]}(r,i.axis);if(void 0===s)return{min:t,max:n};var c=1/0;LU(s,function(e){c=Math.min(e.offset,c)});var u=-1/0;LU(s,function(e){u=Math.max(e.offset+e.width,u)}),c=Math.abs(c),u=Math.abs(u);var h=c+u,d=n-t,p=d/(1-(c+u)/a)-d;return n+=p*(u/h),t-=p*(c/h),{min:t,max:n}}(r,o,t,c);r=u.min,o=u.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function kre(e,t){var n=t,i=Mre(e,n),r=i.extent,o=n.get("splitNumber");e instanceof vre&&(e.base=n.get("logBase"));var a=e.type,s=n.get("interval"),l="interval"===a||"time"===a;e.setBreaksFromOption(Rre(n)),e.setExtent(r[0],r[1]),e.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),null!=s&&e.setInterval&&e.setInterval(s)}function Cre(e,t){if(t=t||e.get("type"))switch(t){case"category":return new Hie({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new ire({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(zie.getClass(t)||$ie)}}function Tre(e){var t=e.getLabelModel().get("formatter");if("time"===e.type){var n=k4(t);return function(t,i){return e.scale.getFormattedLabel(t,i,n)}}if(jU(t))return function(n){var i=e.scale.getLabel(n);return t.replace("{value}",null!=i?i:"")};if($U(t)){if("category"===e.type)return function(n,i){return t(Are(e,n),n.value-e.scale.getExtent()[0],null)};var i=p4();return function(n,r){var o=null;return i&&(o=i.makeAxisLabelFormatterParamBreak(o,n.break)),t(Are(e,n),r,o)}}return function(t){return e.scale.getLabel(t)}}function Are(e,t){return"category"===e.type?e.scale.getLabel(t):t.value}function Ire(e){var t=e.get("interval");return null==t?"auto":t}function Dre(e){return"category"===e.type&&0===Ire(e.getLabelModel())}function Ore(e,t){var n={};return LU(e.mapDimensionsAll(t),function(t){n[kie(e,t)]=!0}),BU(n)}function Ere(e){return"middle"===e||"center"===e}function Lre(e){return e.getShallow("show")}function Rre(e){var t=e.get("breaks",!0);if(null!=t){if(!p4())return;if(!function n(e){return("x"===e.dim||"y"===e.dim||"z"===e.dim||"single"===e.dim)&&"category"!==e.type}(e.axis))return;return t}}var Nre=function(){function e(){}return e.prototype.getNeedCrossZero=function(){return!this.option.scale},e.prototype.getCoordSysModel=function(){},e}();function Pre(e,t){return Math.abs(e-t)<1e-8}function zre(e,t,n){var i=0,r=e[0];if(!r)return!1;for(var o=1;o<e.length;o++){var a=e[o];i+=M0(r[0],r[1],a[0],a[1],t,n),r=a}var s=e[0];return Pre(r[0],s[0])&&Pre(r[1],s[1])||(i+=M0(r[0],r[1],s[0],s[1],t,n)),0!==i}var Bre=[];function Vre(e,t){for(var n=0;n<e.length;n++)PX(e[n],e[n],t)}function Fre(e,t,n,i){for(var r=0;r<e.length;r++){var o=e[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(zX(t,t,o),BX(n,n,o))}}var Hre=function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},e.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},e}(),Wre=function(){return function e(t,n){this.type="polygon",this.exterior=t,this.interiors=n}}(),$re=function(){return function e(t){this.type="linestring",this.points=t}}(),jre=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.type="geoJSON",r.geometries=n,r._center=i&&[i[0],i[1]],r}return nU(t,e),t.prototype.calcCenter=function(){for(var e,t=this.geometries,n=0,i=0;i<t.length;i++){var r=t[i],o=r.exterior,a=o&&o.length;a>n&&(e=r,n=a)}if(e)return function s(e){for(var t=0,n=0,i=0,r=e.length,o=e[r-1][0],a=e[r-1][1],s=0;s<r;s++){var l=e[s][0],c=e[s][1],u=o*c-l*a;t+=u,n+=(o+l)*u,i+=(a+c)*u,o=l,a=c}return t?[n/t/3,i/t/3,t]:[e[0][0]||0,e[0][1]||0]}(e.exterior);var l=this.getBoundingRect();return[l.x+l.width/2,l.y+l.height/2]},t.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e)return t;var n=[1/0,1/0],i=[-1/0,-1/0];return LU(this.geometries,function(t){"polygon"===t.type?Fre(t.exterior,n,i,e):LU(t.points,function(t){Fre(t,n,i,e)})}),isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])||(n[0]=n[1]=i[0]=i[1]=0),t=new Rq(n[0],n[1],i[0]-n[0],i[1]-n[1]),e||(this._rect=t),t},t.prototype.contain=function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,r=n.length;i<r;i++){var o=n[i];if("polygon"===o.type){var a=o.exterior,s=o.interiors;if(zre(a,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(zre(s[l],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,t,n,i){var r=this.getBoundingRect(),o=r.width/r.height;n?i||(i=n/o):n=o*i;for(var a=new Rq(e,t,n,i),s=r.calculateTransform(a),l=this.geometries,c=0;c<l.length;c++){var u=l[c];"polygon"===u.type?(Vre(u.exterior,s),LU(u.interiors,function(e){Vre(e,s)})):LU(u.points,function(e){Vre(e,s)})}(r=this._rect).copy(a),this._center=[r.x+r.width/2,r.y+r.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(Hre),Gre=function(e){function t(t,n){var i=e.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return nU(t,e),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,t=e.getBoundingRect(),n=[t.x+t.width/2,t.y+t.height/2],i=pq(Bre),r=e;r&&!r.isGeoSVGGraphicRoot;)gq(i,r.getLocalTransform(),i),r=r.parent;return bq(i,i),PX(n,n,i),n},t}(Hre);function Ure(e,t,n){for(var i=0;i<e.length;i++)e[i]=Xre(e[i],t[i],n)}function Xre(e,t,n){for(var i=[],r=t[0],o=t[1],a=0;a<e.length;a+=2){var s=e.charCodeAt(a)-64,l=e.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/n,l/n])}return i}function qre(e,t){return RU(PU((e=function n(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;return null==n&&(n=1024),LU(t.features,function(e){var t=e.geometry,i=t.encodeOffsets,r=t.coordinates;if(i)switch(t.type){case"LineString":t.coordinates=Xre(r,i,n);break;case"Polygon":case"MultiLineString":Ure(r,i,n);break;case"MultiPolygon":LU(r,function(e,t){return Ure(e,i[t],n)})}}),t.UTF8Encoding=!1,t}(e)).features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,i=e.geometry,r=[];switch(i.type){case"Polygon":var o=i.coordinates;r.push(new Wre(o[0],o.slice(1)));break;case"MultiPolygon":LU(i.coordinates,function(e){e[0]&&r.push(new Wre(e[0],e.slice(1)))});break;case"LineString":r.push(new $re([i.coordinates]));break;case"MultiLineString":r.push(new $re(i.coordinates))}var a=new jre(n[t||"name"],r,n.cp);return a.properties=n,a})}var Yre=PJ(),Zre=PJ(),Kre=1,Jre=2;function Qre(e){return{out:{noPxChangeTryDetermine:[]},kind:e}}function eoe(e,t){var n=RU(t,function(t){return e.scale.parse(t)});return"time"===e.type&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function toe(e,t){var n=e.getLabelModel().get("customValues");if(n){var i=Tre(e),r=e.scale.getExtent();return{labels:RU(PU(eoe(e,n),function(e){return e>=r[0]&&e<=r[1]}),function(t){var n={value:t};return{formattedLabel:i(n),rawLabel:e.scale.getLabel(n),tickValue:t,time:void 0,break:void 0}})}}return"category"===e.type?function o(e,t){var n=e.getLabelModel(),i=ioe(e,n,t);return!n.get("show")||e.scale.isBlank()?{labels:[]}:i}(e,t):function a(e){var t=e.scale.getTicks(),n=Tre(e);return{labels:RU(t,function(t,i){return{formattedLabel:n(t,i),rawLabel:e.scale.getLabel(t),tickValue:t.value,time:t.time,break:t.break}})}}(e)}function noe(e,t,n){var i=e.getTickModel().get("customValues");if(i){var r=e.scale.getExtent();return{ticks:PU(eoe(e,i),function(e){return e>=r[0]&&e<=r[1]})}}return"category"===e.type?function o(e,t){var n,i,r=roe(e),o=Ire(t),a=soe(r,o);if(a)return a;t.get("show")&&!e.scale.isBlank()||(n=[]);if($U(o))n=doe(e,o,!0);else if("auto"===o){var s=ioe(e,e.getLabelModel(),Qre(Jre));i=s.labelCategoryInterval,n=RU(s.labels,function(e){return e.tickValue})}else n=hoe(e,i=o,!0);return loe(r,o,{ticks:n,tickCategoryInterval:i})}(e,t):{ticks:RU(e.scale.getTicks(n),function(e){return e.value})}}function ioe(e,t,n){var i,r,o=ooe(e),a=Ire(t),s=n.kind===Kre;if(!s){var l=soe(o,a);if(l)return l}$U(a)?i=doe(e,a):(r="auto"===a?function c(e,t){if(t.kind===Kre){var n=e.calculateCategoryInterval(t);return t.out.noPxChangeTryDetermine.push(function(){return Zre(e).autoInterval=n,!0}),n}var i=Zre(e).autoInterval;return null!=i?i:Zre(e).autoInterval=e.calculateCategoryInterval(t)}(e,n):a,i=hoe(e,r));var u={labels:i,labelCategoryInterval:r};return s?n.out.noPxChangeTryDetermine.push(function(){return loe(o,a,u),!0}):loe(o,a,u),u}var roe=aoe("axisTick"),ooe=aoe("axisLabel");function aoe(e){return function t(n){return Zre(n)[e]||(Zre(n)[e]={list:[]})}}function soe(e,t){for(var n=0;n<e.list.length;n++)if(e.list[n].key===t)return e.list[n].value}function loe(e,t,n){return e.list.push({key:t,value:n}),n}function coe(e,t,n){return null==uoe(e,t,n)}function uoe(e,t,n){var i=Yre(e.model),r=e.getExtent(),o=i.lastAutoInterval,a=i.lastTickCount;if(null!=o&&null!=a&&Math.abs(o-t)<=1&&Math.abs(a-n)<=1&&o>t&&i.axisExtent0===r[0]&&i.axisExtent1===r[1])return o;i.lastTickCount=n,i.lastAutoInterval=t,i.axisExtent0=r[0],i.axisExtent1=r[1]}function hoe(e,t,n){var i=Tre(e),r=e.scale,o=r.getExtent(),a=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),c=o[0],u=r.count();0!==c&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var h=Dre(e),d=a.get("showMinLabel")||h,p=a.get("showMaxLabel")||h;d&&c!==o[0]&&g(o[0]);for(var f=c;f<=o[1];f+=l)g(f);function g(e){var t={value:e};s.push(n?e:{formattedLabel:i(t),rawLabel:r.getLabel(t),tickValue:e,time:void 0,break:void 0})}return p&&f-l!==o[1]&&g(o[1]),s}function doe(e,t,n){var i=e.scale,r=Tre(e),o=[];return LU(i.getTicks(),function(e){var a=i.getLabel(e),s=e.value;t(e.value,a)&&o.push(n?s:{formattedLabel:r(e),rawLabel:a,tickValue:s,time:void 0,break:void 0})}),o}var poe=[0,1],foe=function(){function e(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return e.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},e.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return iJ(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},e.prototype.dataToCoord=function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(i.parse(e)),this.onBand&&"ordinal"===i.type&&goe(n=n.slice(),i.count()),ZK(e,poe,n,t)},e.prototype.coordToData=function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&goe(n=n.slice(),i.count());var r=ZK(e,n,poe,t);return this.scale.scale(r)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),n=RU(noe(this,t,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}).ticks,function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}},this);return function i(e,t,n,r){var o=t.length;if(!e.onBand||n||!o)return;var a,s,l=e.getExtent();if(1===o)t[0].coord=l[0],t[0].onBand=!0,a=t[1]={coord:l[1],tickValue:t[0].tickValue,onBand:!0};else{var c=t[o-1].tickValue-t[0].tickValue,u=(t[o-1].coord-t[0].coord)/c;LU(t,function(e){e.coord-=u/2,e.onBand=!0});var h=e.scale.getExtent();s=1+h[1]-t[o-1].tickValue,a={coord:t[o-1].coord+u*s,tickValue:h[1]+1,onBand:!0},t.push(a)}var d=l[0]>l[1];p(t[0].coord,l[0])&&(r?t[0].coord=l[0]:t.shift());r&&p(l[0],t[0].coord)&&t.unshift({coord:l[0],onBand:!0});p(l[1],a.coord)&&(r?a.coord=l[1]:t.pop());r&&p(a.coord,l[1])&&t.push({coord:l[1],onBand:!0});function p(e,t){return e=eJ(e),t=eJ(t),d?e>t:e<t}}(this,n,t.get("alignWithLabel"),e.clamp),n},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return e>0&&e<100||(e=5),RU(this.scale.getMinorTicks(e),function(e){return RU(e,function(e){return{coord:this.dataToCoord(e),tickValue:e}},this)},this)},e.prototype.getViewLabels=function(e){return toe(this,e=e||Qre(Jre)).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},e.prototype.calculateCategoryInterval=function(e){return function t(e,n){var i=n.kind,r=function o(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(e),a=Tre(e),s=(r.axisRotate-r.labelRotate)/180*Math.PI,l=e.scale,c=l.getExtent(),u=l.count();if(c[1]-c[0]<1)return 0;var h=1;u>40&&(h=Math.max(1,Math.floor(u/40)));for(var d=c[0],p=e.dataToCoord(d+1)-e.dataToCoord(d),f=Math.abs(p*Math.cos(s)),g=Math.abs(p*Math.sin(s)),m=0,v=0;d<=c[1];d+=h){var y,b,x=SK(a({value:d}),r.font,"center","top");y=1.3*x.width,b=1.3*x.height,m=Math.max(m,y,7),v=Math.max(v,b,7)}var _=m/f,w=v/g;isNaN(_)&&(_=1/0),isNaN(w)&&(w=1/0);var S=Math.max(0,Math.floor(Math.min(_,w)));if(i===Kre)return n.out.noPxChangeTryDetermine.push(VU(coe,null,e,S,u)),S;var M=uoe(e,S,u);return null!=M?M:S}(this,e=e||Qre(Jre))},e}();function goe(e,t){var n=(e[1]-e[0])/t/2;e[0]+=n,e[1]-=n}var moe=2*Math.PI,voe=m0.CMD,yoe=["top","right","bottom","left"];function boe(e,t,n,i,r){var o=n.width,a=n.height;switch(e){case"top":i.set(n.x+o/2,n.y-t),r.set(0,-1);break;case"bottom":i.set(n.x+o/2,n.y+a+t),r.set(0,1);break;case"left":i.set(n.x-t,n.y+a/2),r.set(-1,0);break;case"right":i.set(n.x+o+t,n.y+a/2),r.set(1,0)}}function xoe(e,t,n,i,r,o,a,s,l){a-=e,s-=t;var c=Math.sqrt(a*a+s*s),u=(a/=c)*n+e,h=(s/=c)*n+t;if(Math.abs(i-r)%moe<1e-4)return l[0]=u,l[1]=h,c-n;if(o){var d=i;i=_0(r),r=_0(d)}else i=_0(i),r=_0(r);i>r&&(r+=moe);var p=Math.atan2(s,a);if(p<0&&(p+=moe),p>=i&&p<=r||p+moe>=i&&p+moe<=r)return l[0]=u,l[1]=h,c-n;var f=n*Math.cos(i)+e,g=n*Math.sin(i)+t,m=n*Math.cos(r)+e,v=n*Math.sin(r)+t,y=(f-a)*(f-a)+(g-s)*(g-s),b=(m-a)*(m-a)+(v-s)*(v-s);return y<b?(l[0]=f,l[1]=g,Math.sqrt(y)):(l[0]=m,l[1]=v,Math.sqrt(b))}function _oe(e,t,n,i,r,o,a,s){var l=r-e,c=o-t,u=n-e,h=i-t,d=Math.sqrt(u*u+h*h),p=(l*(u/=d)+c*(h/=d))/d;s&&(p=Math.min(Math.max(p,0),1)),p*=d;var f=a[0]=e+p*u,g=a[1]=t+p*h;return Math.sqrt((f-r)*(f-r)+(g-o)*(g-o))}function woe(e,t,n,i,r,o,a){n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i);var s=e+n,l=t+i,c=a[0]=Math.min(Math.max(r,e),s),u=a[1]=Math.min(Math.max(o,t),l);return Math.sqrt((c-r)*(c-r)+(u-o)*(u-o))}var Soe=[];function Moe(e,t,n){var i=woe(t.x,t.y,t.width,t.height,e.x,e.y,Soe);return n.set(Soe[0],Soe[1]),i}function koe(e,t,n){for(var i,r,o=0,a=0,s=0,l=0,c=1/0,u=t.data,h=e.x,d=e.y,p=0;p<u.length;){var f=u[p++];1===p&&(s=o=u[p],l=a=u[p+1]);var g=c;switch(f){case voe.M:o=s=u[p++],a=l=u[p++];break;case voe.L:g=_oe(o,a,u[p],u[p+1],h,d,Soe,!0),o=u[p++],a=u[p++];break;case voe.C:g=SY(o,a,u[p++],u[p++],u[p++],u[p++],u[p],u[p+1],h,d,Soe),o=u[p++],a=u[p++];break;case voe.Q:g=IY(o,a,u[p++],u[p++],u[p],u[p+1],h,d,Soe),o=u[p++],a=u[p++];break;case voe.A:var m=u[p++],v=u[p++],y=u[p++],b=u[p++],x=u[p++],_=u[p++];p+=1;var w=!!(1-u[p++]);i=Math.cos(x)*y+m,r=Math.sin(x)*b+v,p<=1&&(s=i,l=r),g=xoe(m,v,b,x,x+_,w,(h-m)*b/y+m,d,Soe),o=Math.cos(x+_)*y+m,a=Math.sin(x+_)*b+v;break;case voe.R:g=woe(s=o=u[p++],l=a=u[p++],u[p++],u[p++],h,d,Soe);break;case voe.Z:g=_oe(o,a,s,l,h,d,Soe,!0),o=s,a=l}g<c&&(c=g,n.set(Soe[0],Soe[1]))}return c}var Coe=new xq,Toe=new xq,Aoe=new xq,Ioe=new xq,Doe=new xq;function Ooe(e,t){if(e){var n=e.getTextGuideLine(),i=e.getTextContent();if(i&&n){var r=e.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||yoe,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,c=r.anchor,u=e.getComputedTransform(),h=u&&bq([],u),d=t.get("length2")||0;c&&Aoe.copy(c);for(var p=0;p<a.length;p++){boe(a[p],0,s,Coe,Ioe),xq.scaleAndAdd(Toe,Coe,Ioe,d),Toe.transform(h);var f=e.getBoundingRect(),g=c?c.distance(Toe):e instanceof z0?koe(Toe,e.path,Aoe):Moe(Toe,f,Aoe);g<l&&(l=g,Toe.transform(u),Aoe.transform(u),Aoe.toArray(o[0]),Toe.toArray(o[1]),Coe.toArray(o[2]))}Roe(o,t.get("minTurnAngle")),n.setShape({points:o})}}}var Eoe=[],Loe=new xq;function Roe(e,t){if(t<=180&&t>0){t=t/180*Math.PI,Coe.fromArray(e[0]),Toe.fromArray(e[1]),Aoe.fromArray(e[2]),xq.sub(Ioe,Coe,Toe),xq.sub(Doe,Aoe,Toe);var n=Ioe.len(),i=Doe.len();if(!(n<.001||i<.001)){Ioe.scale(1/n),Doe.scale(1/i);var r=Ioe.dot(Doe);if(Math.cos(t)<r){var o=_oe(Toe.x,Toe.y,Aoe.x,Aoe.y,Coe.x,Coe.y,Eoe,!1);Loe.fromArray(Eoe),Loe.scaleAndAdd(Doe,o/Math.tan(Math.PI-t));var a=Aoe.x!==Toe.x?(Loe.x-Toe.x)/(Aoe.x-Toe.x):(Loe.y-Toe.y)/(Aoe.y-Toe.y);if(isNaN(a))return;a<0?xq.copy(Loe,Toe):a>1&&xq.copy(Loe,Aoe),Loe.toArray(e[1])}}}}function Noe(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,Coe.fromArray(e[0]),Toe.fromArray(e[1]),Aoe.fromArray(e[2]),xq.sub(Ioe,Toe,Coe),xq.sub(Doe,Aoe,Toe);var i=Ioe.len(),r=Doe.len();if(!(i<.001||r<.001))if(Ioe.scale(1/i),Doe.scale(1/r),Ioe.dot(t)<Math.cos(n)){var o=_oe(Toe.x,Toe.y,Aoe.x,Aoe.y,Coe.x,Coe.y,Eoe,!1);Loe.fromArray(Eoe);var a=Math.PI/2,s=a+Math.acos(Doe.dot(t))-n;if(s>=a)xq.copy(Loe,Aoe);else{Loe.scaleAndAdd(Doe,o/Math.tan(Math.PI/2-s));var l=Aoe.x!==Toe.x?(Loe.x-Toe.x)/(Aoe.x-Toe.x):(Loe.y-Toe.y)/(Aoe.y-Toe.y);if(isNaN(l))return;l<0?xq.copy(Loe,Toe):l>1&&xq.copy(Loe,Aoe)}Loe.toArray(e[1])}}}function Poe(e,t,n,i){var r="normal"===n,o=r?e:e.ensureState(n);o.ignore=t;var a=i.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel("lineStyle").getLineStyle();r?e.useStyle(s):o.style=s}function zoe(e,t){var n=t.smooth,i=t.points;if(i)if(e.moveTo(i[0][0],i[0][1]),n>0&&i.length>=3){var r=EX(i[0],i[1]),o=EX(i[1],i[2]);if(!r||!o)return e.lineTo(i[1][0],i[1][1]),void e.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*n,s=NX([],i[1],i[0],a/r),l=NX([],i[1],i[2],a/o),c=NX([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var u=1;u<i.length;u++)e.lineTo(i[u][0],i[u][1])}function Boe(e,t,n){var i=e.getTextGuideLine(),r=e.getTextContent();if(r){for(var o=t.normal,a=o.get("show"),s=r.ignore,l=0;l<b1.length;l++){var c=b1[l],u=t[c],h="normal"===c;if(u){var d=u.get("show");if((h?s:eX(r.states[c]&&r.states[c].ignore,s))||!eX(d,a)){var p=h?i:i&&i.states[c];p&&(p.ignore=!0),i&&Poe(i,!0,c,u);continue}i||(i=new n5,e.setTextGuideLine(i),h||!s&&a||Poe(i,!0,"normal",t.normal),e.stateProxy&&(i.stateProxy=e.stateProxy)),Poe(i,!1,c,u)}}if(i){IU(i.style,n),i.style.fill=null;var f=o.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=f||!1,i.buildPath=zoe}}else i&&e.removeTextGuideLine()}function Voe(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},i=0;i<y1.length;i++){var r=y1[i];n[r]=e.getModel([r,t])}return n}var Foe=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"];function Hoe(e,t,n){n=n||3,t?e.dirty|=n:e.dirty&=~n}function Woe(e,t){return t=t||3,null==e.dirty||!!(e.dirty&t)}function $oe(e){if(e)return Woe(e)&&joe(e,e.label,e),e}function joe(e,t,n){var i=t.getComputedTransform();e.transform=v3(e.transform,i);var r=e.localRect=m3(e.localRect,t.getBoundingRect()),o=t.style,a=o.margin,s=n&&n.marginForce,l=n&&n.minMarginForce,c=n&&n.marginDefault,u=o.__marginType;null==u&&c&&(a=c,u=W3.textMargin);for(var h=0;h<4;h++)Goe[h]=u===W3.minMargin&&l&&null!=l[h]?l[h]:s&&null!=s[h]?s[h]:a?a[h]:0;u===W3.textMargin&&l3(r,Goe,!1,!1);var d=e.rect=m3(e.rect,r);return i&&d.applyTransform(i),u===W3.minMargin&&l3(d,Goe,!1,!1),e.axisAligned=f3(i),(e.label=e.label||{}).ignore=t.ignore,Hoe(e,!1),Hoe(e,!0,2),e}var Goe=[0,0,0,0];function Uoe(e,t){if(e){e.label.x+=t.x,e.label.y+=t.y,e.label.markRedraw();var n=e.transform;n&&(n[4]+=t.x,n[5]+=t.y);var i=e.rect;i&&(i.x+=t.x,i.y+=t.y);var r=e.obb;r&&r.fromBoundingRect(e.localRect,n)}}function Xoe(e,t){for(var n=0;n<Foe.length;n++){var i=Foe[n];null==e[i]&&(e[i]=t[i])}return $oe(e)}function qoe(e){var t=e.obb;return t&&!Woe(e,2)||(e.obb=t=t||new M5,t.fromBoundingRect(e.localRect,e.transform),Hoe(e,!1,2)),t}function Yoe(e,t,n,i,r){var o=e.length,a=B5[t],s=V5[t];if(o<2)return!1;e.sort(function(e,t){return e.rect[a]-t.rect[a]});for(var l,c=0,u=!1,h=0;h<o;h++){var d=e[h],p=d.rect;(l=p[a]-c)<0&&(p[a]-=l,d.label[a]-=l,u=!0),c=p[a]+p[s]}var f,g,m=e[0],v=e[o-1];function y(){f=m.rect[a]-n,g=i-v.rect[a]-v.rect[s]}function b(e,t,n){if(e<0){var i=Math.min(t,-e);if(i>0){x(i*n,0,o);var r=i+e;r<0&&_(-r*n,1)}else _(-e*n,1)}}function x(t,n,i){0!==t&&(u=!0);for(var r=n;r<i;r++){var o=e[r];o.rect[a]+=t,o.label[a]+=t}}function _(t,n){for(var i=[],r=0,l=1;l<o;l++){var c=e[l-1].rect,u=Math.max(e[l].rect[a]-c[a]-c[s],0);i.push(u),r+=u}if(r){var h=Math.min(Math.abs(t)/r,n);if(t>0)for(l=0;l<o-1;l++){x(i[l]*h,0,l+1)}else for(l=o-1;l>0;l--){x(-(i[l-1]*h),l,o)}}}function w(e){var t=e<0?-1:1;e=Math.abs(e);for(var n=Math.ceil(e/(o-1)),i=0;i<o-1;i++)if(t>0?x(n,0,i+1):x(-n,o-i-1,o),(e-=n)<=0)return}return y(),f<0&&_(-f,.8),g<0&&_(g,.8),y(),b(f,g,1),b(g,f,-1),y(),f<0&&w(-f),g<0&&w(g),u}function Zoe(e){var t=[];function n(e){if(!e.ignore){var t=e.ensureState("emphasis");null==t.ignore&&(t.ignore=!1)}e.ignore=!0}e.sort(function(e,t){return(t.suggestIgnore?1:0)-(e.suggestIgnore?1:0)||t.priority-e.priority});for(var i=0;i<e.length;i++){var r=$oe(e[i]);if(!r.label.ignore){for(var o=r.label,a=r.labelLine,s=!1,l=0;l<t.length;l++)if(Koe(r,t[l],null,{touchThreshold:.05})){s=!0;break}s?(n(o),a&&n(a)):t.push(r)}}}function Koe(e,t,n,i){return!(!e||!t)&&(!(e.label&&e.label.ignore||t.label&&t.label.ignore)&&(!!e.rect.intersect(t.rect,n,i)&&(!(!e.axisAligned||!t.axisAligned)||qoe(e).intersect(qoe(t),n,i))))}function Joe(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}function Qoe(e,t){var n=e.label,i=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:Joe(i&&i.shape.points)}}var eae=["align","verticalAlign","width","height","fontSize"],tae=new fK,nae=PJ(),iae=PJ();function rae(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];null!=t[r]&&(e[r]=t[r])}}var oae=["x","y","rotation"],aae=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,n,i,r){var o=i.style,a=i.__hostTarget.textConfig||{},s=i.getComputedTransform(),l=i.getBoundingRect().plain();Rq.applyTransform(l,l,s),s?tae.setLocalTransform(s):(tae.x=tae.y=tae.rotation=tae.originX=tae.originY=0,tae.scaleX=tae.scaleY=1),tae.rotation=_0(tae.rotation);var c,u=i.__hostTarget;if(u){c=u.getBoundingRect().plain();var h=u.getComputedTransform();Rq.applyTransform(c,c,h)}var d=c&&u.getTextGuideLine();this._labelList.push({label:i,labelLine:d,seriesModel:n,dataIndex:e,dataType:t,layoutOptionOrCb:r,layoutOption:null,rect:l,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:d&&d.ignore,x:tae.x,y:tae.y,scaleX:tae.scaleX,scaleY:tae.scaleY,rotation:tae.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:a.position,attachedRot:a.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,i=n.get("labelLayout");($U(i)||BU(i).length)&&e.group.traverse(function(e){if(e.ignore)return!0;var r=e.getTextContent(),o=d1(e);r&&!r.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,n,r,i)})},e.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function i(e,t){return function(){Ooe(e,t)}}for(var r=0;r<this._labelList.length;r++){var o=this._labelList[r],a=o.label,s=a.__hostTarget,l=o.defaultAttr,c=void 0;c=(c=$U(o.layoutOptionOrCb)?o.layoutOptionOrCb(Qoe(o,s)):o.layoutOptionOrCb)||{},o.layoutOption=c;var u=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=c.x||null!=c.y?null:l.attachedPos,rotation:null!=c.rotate?c.rotate*u:l.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(null!=c.x?(a.x=KK(c.x,t),a.setStyle("x",0),h=!0):(a.x=l.x,a.setStyle("x",l.style.x)),null!=c.y?(a.y=KK(c.y,n),a.setStyle("y",0),h=!0):(a.y=l.y,a.setStyle("y",l.style.y)),c.labelLinePoints){var d=s.getTextGuideLine();d&&(d.setShape({points:c.labelLinePoints}),h=!1)}nae(a).needsUpdateLabelLine=h,a.rotation=null!=c.rotate?c.rotate*u:l.rotation,a.scaleX=l.scaleX,a.scaleY=l.scaleY;for(var p=0;p<eae.length;p++){var f=eae[p];a.setStyle(f,null!=c[f]?c[f]:l.style[f])}if(c.draggable){if(a.draggable=!0,a.cursor="move",s){var g=o.seriesModel;if(null!=o.dataIndex)g=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex);a.on("drag",i(s,g.getModel("labelLine")))}}else a.off("drag"),a.cursor=l.cursor}},e.prototype.layout=function(e){var t=e.getWidth(),n=e.getHeight(),i=[];LU(this._labelList,function(e){e.defaultAttr.ignore||i.push(Xoe({},e))});var r=PU(i,function(e){return"shiftX"===e.layoutOption.moveOverlap}),o=PU(i,function(e){return"shiftY"===e.layoutOption.moveOverlap});Yoe(r,0,0,t),Yoe(o,1,0,n);var a=PU(i,function(e){return e.layoutOption.hideOverlap});!function s(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.defaultAttr,r=n.labelLine;n.label.attr("ignore",i.ignore),r&&r.attr("ignore",i.labelGuideIgnore)}}(a),Zoe(a)},e.prototype.processLabelsOverall=function(){var e=this;LU(this._chartViewList,function(t){var n=t.__model,i=t.ignoreLabelLineUpdate,r=n.isAnimationEnabled();t.group.traverse(function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var o=!i,a=t.getTextContent();!o&&a&&(o=nae(a).needsUpdateLabelLine),o&&e._updateLabelLine(t,n),r&&e._animateLabels(t,n)})})},e.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),i=d1(e),r=i.dataIndex;if(n&&null!=r){var o=t.getData(i.dataType),a=o.getItemModel(r),s={},l=o.getItemVisual(r,"style");if(l){var c=o.getVisual("drawType");s.stroke=l[c]}var u=a.getModel("labelLine");Boe(e,Voe(a),s),Ooe(e,u)}},e.prototype._animateLabels=function(e,t){var n=e.getTextContent(),i=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!E5(e))){var r=(p=nae(n)).oldLayout,o=d1(e),a=o.dataIndex,s={x:n.x,y:n.y,rotation:n.rotation},l=t.getData(o.dataType);if(r){n.attr(r);var c=e.prevStates;c&&(DU(c,"select")>=0&&n.attr(p.oldLayoutSelect),DU(c,"emphasis")>=0&&n.attr(p.oldLayoutEmphasis)),D5(n,s,t,a)}else if(n.attr(s),!V3(n).valueAnimation){var u=eX(n.style.opacity,1);n.style.opacity=0,O5(n,{style:{opacity:u}},t,a)}if(p.oldLayout=s,n.states.select){var h=p.oldLayoutSelect={};rae(h,s,oae),rae(h,n.states.select,oae)}if(n.states.emphasis){var d=p.oldLayoutEmphasis={};rae(d,s,oae),rae(d,n.states.emphasis,oae)}H3(n,a,l,t,t)}if(i&&!i.ignore&&!i.invisible){r=(p=iae(i)).oldLayout;var p,f={points:i.shape.points};r?(i.attr({shape:r}),D5(i,{shape:f},t)):(i.setShape(f),i.style.strokePercent=0,O5(i,{style:{strokePercent:1}},t)),p.oldLayout=f}},e}(),sae=PJ();var lae=Math.sin,cae=Math.cos,uae=Math.PI,hae=2*Math.PI,dae=180/uae,pae=function(){function e(){}return e.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},e.prototype.moveTo=function(e,t){this._add("M",e,t)},e.prototype.lineTo=function(e,t){this._add("L",e,t)},e.prototype.bezierCurveTo=function(e,t,n,i,r,o){this._add("C",e,t,n,i,r,o)},e.prototype.quadraticCurveTo=function(e,t,n,i){this._add("Q",e,t,n,i)},e.prototype.arc=function(e,t,n,i,r,o){this.ellipse(e,t,n,n,0,i,r,o)},e.prototype.ellipse=function(e,t,n,i,r,o,a,s){var l=a-o,c=!s,u=Math.abs(l),h=lZ(u-hae)||(c?l>=hae:-l>=hae),d=l>0?l%hae:l%hae+hae,p=!1;p=!!h||!lZ(u)&&d>=uae==!!c;var f=e+n*cae(o),g=t+i*lae(o);this._start&&this._add("M",f,g);var m=Math.round(r*dae);if(h){var v=1/this._p,y=(c?1:-1)*(hae-v);this._add("A",n,i,m,1,+c,e+n*cae(o+y),t+i*lae(o+y)),v>.01&&this._add("A",n,i,m,0,+c,f,g)}else{var b=e+n*cae(a),x=t+i*lae(a);this._add("A",n,i,m,+p,+c,b,x)}},e.prototype.rect=function(e,t,n,i){this._add("M",e,t),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(e,t,n,i,r,o,a,s,l){for(var c=[],u=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d))return void(this._invalid=!0);c.push(Math.round(d*u)/u)}this._d.push(e+c.join(" ")),this._start="Z"===e},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),fae="none",gae=Math.round;var mae=["lineCap","miterLimit","lineJoin"],vae=RU(mae,function(e){return"stroke-"+e.toLowerCase()});function yae(e,t,n,i){var r=null==t.opacity?1:t.opacity;if(n instanceof W0)e("opacity",r);else{if(function y(e){var t=e.fill;return null!=t&&t!==fae}(t)){var o=aZ(t.fill);e("fill",o.color);var a=null!=t.fillOpacity?t.fillOpacity*o.opacity*r:o.opacity*r;a<1&&e("fill-opacity",a)}else e("fill",fae);if(function b(e){var t=e.stroke;return null!=t&&t!==fae}(t)){var s=aZ(t.stroke);e("stroke",s.color);var l=t.strokeNoScale?n.getLineScale():1,c=l?(t.lineWidth||0)/l:0,u=null!=t.strokeOpacity?t.strokeOpacity*s.opacity*r:s.opacity*r,h=t.strokeFirst;if(1!==c&&e("stroke-width",c),h&&e("paint-order",h?"stroke":"fill"),u<1&&e("stroke-opacity",u),t.lineDash){var d=Qee(n),p=d[0],f=d[1];p&&(f=gae(f||0),e("stroke-dasharray",p.join(",")),(f||i)&&e("stroke-dashoffset",f))}for(var g=0;g<mae.length;g++){var m=mae[g];if(t[m]!==R0[m]){var v=t[m]||R0[m];v&&e(vae[g],v)}}}}}var bae="http://www.w3.org/2000/svg",xae="http://www.w3.org/1999/xlink",_ae="ecmeta_";function wae(e){return document.createElementNS(bae,e)}function Sae(e,t,n,i,r){return{tag:e,attrs:n||{},children:i,text:r,key:t}}function Mae(e,t){var n=(t=t||{}).newline?"\n":"";return function e(t){var i=t.children,r=t.tag,o=t.attrs,a=t.text;return function s(e,t){var n=[];if(t)for(var i in t){var r=t[i],o=i;!1!==r&&(!0!==r&&null!=r&&(o+='="'+r+'"'),n.push(o))}return"<"+e+" "+n.join(" ")+">"}(r,o)+("style"!==r?KX(a):a||"")+(i?""+n+RU(i,function(t){return e(t)}).join(n)+n:"")+function l(e){return"</"+e+">"}(r)}(e)}function kae(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Cae(e,t,n,i){return Sae("svg","root",{width:e,height:t,xmlns:bae,"xmlns:xlink":xae,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+e+" "+t},n)}var Tae=0;function Aae(){return Tae++}var Iae={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Dae="transform-origin";function Oae(e,t,n){var i=AU({},e.shape);AU(i,t),e.buildPath(n,i);var r=new pae;return r.reset(yZ(e)),n.rebuildPath(r,1),r.generateStr(),r.getStr()}function Eae(e,t){var n=t.originX,i=t.originY;(n||i)&&(e[Dae]=n+"px "+i+"px")}var Lae={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Rae(e,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=e,n}function Nae(e){return jU(e)?Iae[e]?"cubic-bezier("+Iae[e]+")":EY(e)?e:"":""}function Pae(e,t,n,i){var r=e.animators,o=r.length,a=[];if(e instanceof d5){var s=function i(e,t,n){var i,r,o=e.shape.paths,a={};if(LU(o,function(e){var t=kae(n.zrId);t.animation=!0,Pae(e,{},t,!0);var o=t.cssAnims,s=t.cssNodes,l=BU(o),c=l.length;if(c){var u=o[r=l[c-1]];for(var h in u){var d=u[h];a[h]=a[h]||{d:""},a[h].d+=d.d||""}for(var p in s){var f=s[p].animation;f.indexOf(r)>=0&&(i=f)}}}),i){t.d=!1;var s=Rae(a,n);return i.replace(r,s)}}(e,t,n);if(s)a.push(s);else if(!o)return}else if(!o)return;for(var l={},c=0;c<o;c++){var u=r[c],h=[u.getMaxTime()/1e3+"s"],d=Nae(u.getClip().easing),p=u.getDelay();d?h.push(d):h.push("linear"),p&&h.push(p/1e3+"s"),u.getLoop()&&h.push("infinite");var f=h.join(" ");l[f]=l[f]||[f,[]],l[f][1].push(u)}function g(r){var o,a=r[1],s=a.length,l={},c={},u={},h="animation-timing-function";function d(e,t,n){for(var i=e.getTracks(),r=e.getMaxTime(),o=0;o<i.length;o++){var a=i[o];if(a.needsAnimate()){var s=a.keyframes,l=a.propName;if(n&&(l=n(l)),l)for(var c=0;c<s.length;c++){var u=s[c],d=Math.round(u.time/r*100)+"%",p=Nae(u.easing),f=u.rawValue;(jU(f)||UU(f))&&(t[d]=t[d]||{},t[d][l]=u.rawValue,p&&(t[d][h]=p))}}}}for(var p=0;p<s;p++){(S=(w=a[p]).targetName)?"shape"===S&&d(w,c):!i&&d(w,l)}for(var f in l){var g={};mK(g,e),AU(g,l[f]);var m=bZ(g),v=l[f][h];u[f]=m?{transform:m}:{},Eae(u[f],g),v&&(u[f][h]=v)}var y=!0;for(var f in c){u[f]=u[f]||{};var b=!o;v=c[f][h];b&&(o=new m0);var x=o.len();o.reset(),u[f].d=Oae(e,c[f],o);var _=o.len();if(!b&&x!==_){y=!1;break}v&&(u[f][h]=v)}if(!y)for(var f in u)delete u[f].d;if(!i)for(p=0;p<s;p++){var w,S;"style"===(S=(w=a[p]).targetName)&&d(w,u,function(e){return Lae[e]})}var M,k=BU(u),C=!0;for(p=1;p<k.length;p++){var T=k[p-1],A=k[p];if(u[T][Dae]!==u[A][Dae]){C=!1;break}M=u[T][Dae]}if(C&&M){for(var f in u)u[f][Dae]&&delete u[f][Dae];t[Dae]=M}if(PU(k,function(e){return BU(u[e]).length>0}).length)return Rae(u,n)+" "+r[0]+" both"}for(var m in l){(s=g(l[m]))&&a.push(s)}if(a.length){var v=n.zrId+"-cls-"+Aae();n.cssNodes["."+v]={animation:a.join(",")},t.class=v}}function zae(e,t,n,i){var r=JSON.stringify(e),o=n.cssStyleCache[r];o||(o=n.zrId+"-cls-"+Aae(),n.cssStyleCache[r]=o,n.cssNodes["."+o+":hover"]=e),t.class=t.class?t.class+" "+o:o}var Bae=Math.round;function Vae(e){return e&&jU(e.src)}function Fae(e){return e&&$U(e.toDataURL)}function Hae(e,t,n,i){yae(function(r,o){var a="fill"===r||"stroke"===r;a&&mZ(o)?Kae(t,e,r,i):a&&pZ(o)?Jae(n,e,r,i):e[r]=o,a&&i.ssr&&"none"===o&&(e["pointer-events"]="visible")},t,n,!1),function r(e,t,n){var i=e.style;if(function r(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}(i)){var o=function r(e){var t=e.style,n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}(e),a=n.shadowCache,s=a[o];if(!s){var l=e.getGlobalScale(),c=l[0],u=l[1];if(!c||!u)return;var h=i.shadowOffsetX||0,d=i.shadowOffsetY||0,p=i.shadowBlur,f=aZ(i.shadowColor),g=f.opacity,m=f.color,v=p/2/c+" "+p/2/u;s=n.zrId+"-s"+n.shadowIdx++,n.defs[s]=Sae("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Sae("feDropShadow","",{dx:h/c,dy:d/u,stdDeviation:v,"flood-color":m,"flood-opacity":g})]),a[o]=s}t.filter=vZ(s)}}(n,e,i)}function Wae(e,t){var n=function i(e){if("function"==typeof $K)return $K(e)}(t);n&&(n.each(function(t,n){null!=t&&(e[(_ae+n).toLowerCase()]=t+"")}),t.isSilent()&&(e[_ae+"silent"]="true"))}function $ae(e){return lZ(e[0]-1)&&lZ(e[1])&&lZ(e[2])&&lZ(e[3]-1)}function jae(e,t,n){if(t&&(!function i(e){return lZ(e[4])&&lZ(e[5])}(t)||!$ae(t))){var r=1e4;e.transform=$ae(t)?"translate("+Bae(t[4]*r)/r+" "+Bae(t[5]*r)/r+")":function n(e){return"matrix("+cZ(e[0])+","+cZ(e[1])+","+cZ(e[2])+","+cZ(e[3])+","+uZ(e[4])+","+uZ(e[5])+")"}(t)}}function Gae(e,t,n){for(var i=e.points,r=[],o=0;o<i.length;o++)r.push(Bae(i[o][0]*n)/n),r.push(Bae(i[o][1]*n)/n);t.points=r.join(" ")}function Uae(e){return!e.smooth}var Xae={circle:[function qae(e){var t=RU(e,function(e){return"string"==typeof e?[e,e]:e});return function(e,n,i){for(var r=0;r<t.length;r++){var o=t[r],a=e[o[0]];null!=a&&(n[o[1]]=Bae(a*i)/i)}}}(["cx","cy","r"])],polyline:[Gae,Uae],polygon:[Gae,Uae]};function Yae(e,t){var n=e.style,i=e.shape,r=Xae[e.type],o={},a=t.animation,s="path",l=e.style.strokePercent,c=t.compress&&yZ(e)||4;if(!r||t.willUpdate||r[1]&&!r[1](i)||a&&function u(e){for(var t=e.animators,n=0;n<t.length;n++)if("shape"===t[n].targetName)return!0;return!1}(e)||l<1){var h=!e.path||e.shapeChanged();e.path||e.createPathProxy();var d=e.path;h&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var p=d.getVersion(),f=e,g=f.__svgPathBuilder;f.__svgPathVersion===p&&g&&l===f.__svgPathStrokePercent||(g||(g=f.__svgPathBuilder=new pae),g.reset(c),d.rebuildPath(g,l),g.generateStr(),f.__svgPathVersion=p,f.__svgPathStrokePercent=l),o.d=g.getStr()}else{s=e.type;var m=Math.pow(10,c);r[0](i,o,m)}return jae(o,e.transform),Hae(o,n,e,t),Wae(o,e),t.animation&&Pae(e,o,t),t.emphasis&&function v(e,t,n){if(!e.ignore)if(e.isSilent())zae(c={"pointer-events":"none"},t,n);else{var i=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},r=i.fill;if(!r){var o=e.style&&e.style.fill,a=e.states.select&&e.states.select.style&&e.states.select.style.fill,s=e.currentStates.indexOf("select")>=0&&a||o;s&&(r=rZ(s))}var l=i.lineWidth;l&&(l/=!i.strokeNoScale&&e.transform?e.transform[0]:1);var c={cursor:"pointer"};r&&(c.fill=r),i.stroke&&(c.stroke=i.stroke),l&&(c["stroke-width"]=l),zae(c,t,n)}}(e,o,t),Sae(s,e.id+"",o)}function Zae(e,t){return e instanceof z0?Yae(e,t):e instanceof W0?function n(e,t){var n=e.style,i=n.image;if(i&&!jU(i)&&(Vae(i)?i=i.src:Fae(i)&&(i=i.toDataURL())),i){var r=n.x||0,o=n.y||0,a={href:i,width:n.width,height:n.height};return r&&(a.x=r),o&&(a.y=o),jae(a,e.transform),Hae(a,n,e,t),Wae(a,e),t.animation&&Pae(e,a,t),Sae("image",e.id+"",a)}}(e,t):e instanceof V0?function i(e,t){var n=e.style,i=n.text;if(null!=i&&(i+=""),i&&!isNaN(n.x)&&!isNaN(n.y)){var r=n.font||sU,o=n.x||0,a=function p(e,t,n){return"top"===n?e+=t/2:"bottom"===n&&(e-=t/2),e}(n.y||0,CK(r),n.textBaseline),s={"dominant-baseline":"central","text-anchor":hZ[n.textAlign]||n.textAlign};if(o1(n)){var l="",c=n.fontStyle,u=i1(n.fontSize);if(!parseFloat(u))return;var h=n.fontFamily||aU,d=n.fontWeight;l+="font-size:"+u+";font-family:"+h+";",c&&"normal"!==c&&(l+="font-style:"+c+";"),d&&"normal"!==d&&(l+="font-weight:"+d+";"),s.style=l}else s.style="font: "+r;return i.match(/\s/)&&(s["xml:space"]="preserve"),o&&(s.x=o),a&&(s.y=a),jae(s,e.transform),Hae(s,n,e,t),Wae(s,e),t.animation&&Pae(e,s,t),Sae("text",e.id+"",s,void 0,i)}}(e,t):void 0}function Kae(e,t,n,i){var r,o=e[n],a={gradientUnits:o.global?"userSpaceOnUse":"objectBoundingBox"};if(fZ(o))r="linearGradient",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else{if(!gZ(o))return;r="radialGradient",a.cx=eX(o.x,.5),a.cy=eX(o.y,.5),a.r=eX(o.r,.5)}for(var s=o.colorStops,l=[],c=0,u=s.length;c<u;++c){var h=100*uZ(s[c].offset)+"%",d=aZ(s[c].color),p=d.color,f=d.opacity,g={offset:h};g["stop-color"]=p,f<1&&(g["stop-opacity"]=f),l.push(Sae("stop",c+"",g))}var m=Mae(Sae(r,"",a,l)),v=i.gradientCache,y=v[m];y||(y=i.zrId+"-g"+i.gradientIdx++,v[m]=y,a.id=y,i.defs[y]=Sae(r,y,a,l)),t[n]=vZ(y)}function Jae(e,t,n,i){var r,o=e.style[n],a=e.getBoundingRect(),s={},l=o.repeat,c="no-repeat"===l,u="repeat-x"===l,h="repeat-y"===l;if(dZ(o)){var d=o.imageWidth,p=o.imageHeight,f=void 0,g=o.image;if(jU(g)?f=g:Vae(g)?f=g.src:Fae(g)&&(f=g.toDataURL()),"undefined"==typeof Image){var m="Image width/height must been given explictly in svg-ssr renderer.";rX(d,m),rX(p,m)}else if(null==d||null==p){var v=function(e,t){if(e){var n=e.elm,i=d||t.width,r=p||t.height;"pattern"===e.tag&&(u?(r=1,i/=a.width):h&&(i=1,r/=a.height)),e.attrs.width=i,e.attrs.height=r,n&&(n.setAttribute("width",i),n.setAttribute("height",r))}},y=lQ(f,null,e,function(e){c||v(w,e),v(r,e)});y&&y.width&&y.height&&(d=d||y.width,p=p||y.height)}r=Sae("image","img",{href:f,width:d,height:p}),s.width=d,s.height=p}else o.svgElement&&(r=kU(o.svgElement),s.width=o.svgWidth,s.height=o.svgHeight);if(r){var b,x;c?b=x=1:u?(x=1,b=s.width/a.width):h?(b=1,x=s.height/a.height):s.patternUnits="userSpaceOnUse",null==b||isNaN(b)||(s.width=b),null==x||isNaN(x)||(s.height=x);var _=bZ(o);_&&(s.patternTransform=_);var w=Sae("pattern","",s,[r]),S=Mae(w),M=i.patternCache,k=M[S];k||(k=i.zrId+"-p"+i.patternIdx++,M[S]=k,s.id=k,w=i.defs[k]=Sae("pattern",k,s,[r])),t[n]=vZ(k)}}function Qae(e,t,n){var i=n.clipPathCache,r=n.defs,o=i[e.id];if(!o){var a={id:o=n.zrId+"-c"+n.clipPathIdx++};i[e.id]=o,r[o]=Sae("clipPath",o,a,[Yae(e,n)])}t["clip-path"]=vZ(o)}function ese(e){return document.createTextNode(e)}function tse(e,t,n){e.insertBefore(t,n)}function nse(e,t){e.removeChild(t)}function ise(e,t){e.appendChild(t)}function rse(e){return e.parentNode}function ose(e){return e.nextSibling}function ase(e,t){e.textContent=t}var sse=Sae("","");function lse(e){return void 0===e}function cse(e){return void 0!==e}function use(e,t,n){for(var i={},r=t;r<=n;++r){var o=e[r].key;void 0!==o&&(i[o]=r)}return i}function hse(e,t){var n=e.key===t.key;return e.tag===t.tag&&n}function dse(e){var t,n=e.children,i=e.tag;if(cse(i)){var r=e.elm=wae(i);if(gse(sse,e),WU(n))for(t=0;t<n.length;++t){var o=n[t];null!=o&&ise(r,dse(o))}else cse(e.text)&&!XU(e.text)&&ise(r,ese(e.text))}else e.elm=ese(e.text);return e.elm}function pse(e,t,n,i,r){for(;i<=r;++i){var o=n[i];null!=o&&tse(e,dse(o),t)}}function fse(e,t,n,i){for(;n<=i;++n){var r=t[n];if(null!=r)if(cse(r.tag))nse(rse(r.elm),r.elm);else nse(e,r.elm)}}function gse(e,t){var n,i=t.elm,r=e&&e.attrs||{},o=t.attrs||{};if(r!==o){for(n in o){var a=o[n];r[n]!==a&&(!0===a?i.setAttribute(n,""):!1===a?i.removeAttribute(n):"style"===n?i.style.cssText=a:120!==n.charCodeAt(0)?i.setAttribute(n,a):"xmlns:xlink"===n||"xmlns"===n?i.setAttributeNS("http://www.w3.org/2000/xmlns/",n,a):58===n.charCodeAt(3)?i.setAttributeNS("http://www.w3.org/XML/1998/namespace",n,a):58===n.charCodeAt(5)?i.setAttributeNS(xae,n,a):i.setAttribute(n,a))}for(n in r)n in o||i.removeAttribute(n)}}function mse(e,t){var n=t.elm=e.elm,i=e.children,r=t.children;e!==t&&(gse(e,t),lse(t.text)?cse(i)&&cse(r)?i!==r&&function o(e,t,n){for(var i,r,o,a=0,s=0,l=t.length-1,c=t[0],u=t[l],h=n.length-1,d=n[0],p=n[h];a<=l&&s<=h;)null==c?c=t[++a]:null==u?u=t[--l]:null==d?d=n[++s]:null==p?p=n[--h]:hse(c,d)?(mse(c,d),c=t[++a],d=n[++s]):hse(u,p)?(mse(u,p),u=t[--l],p=n[--h]):hse(c,p)?(mse(c,p),tse(e,c.elm,ose(u.elm)),c=t[++a],p=n[--h]):hse(u,d)?(mse(u,d),tse(e,u.elm,c.elm),u=t[--l],d=n[++s]):(lse(i)&&(i=use(t,a,l)),lse(r=i[d.key])||(o=t[r]).tag!==d.tag?tse(e,dse(d),c.elm):(mse(o,d),t[r]=void 0,tse(e,o.elm,c.elm)),d=n[++s]);(a<=l||s<=h)&&(a>l?pse(e,null==n[h+1]?null:n[h+1].elm,n,s,h):fse(e,t,a,l))}(n,i,r):cse(r)?(cse(e.text)&&ase(n,""),pse(n,null,r,0,r.length-1)):cse(i)?fse(n,i,0,i.length-1):cse(e.text)&&ase(n,""):e.text!==t.text&&(cse(i)&&fse(n,i,0,i.length-1),ase(n,t.text)))}var vse=0,yse=function(){function e(e,t,n){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=n=AU({},n),this.root=e,this._id="zr"+vse++,this._oldVNode=Cae(n.width,n.height),e&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var r=this._svgDom=this._oldVNode.elm=wae("svg");gse(null,this._oldVNode),i.appendChild(r),e.appendChild(i)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function t(e,n){if(hse(e,n))mse(e,n);else{var i=e.elm,r=rse(i);dse(n),null!==r&&(tse(r,n.elm,ose(i)),fse(r,[e],0,0))}return n}(this._oldVNode,e),this._oldVNode=e}},e.prototype.renderOneToVNode=function(e){return Zae(e,kae(this._id))},e.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._width,i=this._height,r=kae(this._id);r.animation=e.animation,r.willUpdate=e.willUpdate,r.compress=e.compress,r.emphasis=e.emphasis,r.ssr=this._opts.ssr;var o=[],a=this._bgVNode=function s(e,t,n,i){var r;if(n&&"none"!==n)if(r=Sae("rect","bg",{width:e,height:t,x:"0",y:"0"}),mZ(n))Kae({fill:n},r.attrs,"fill",i);else if(pZ(n))Jae({style:{fill:n},dirty:vX,getBoundingRect:function(){return{width:e,height:t}}},r.attrs,"fill",i);else{var o=aZ(n),a=o.color,s=o.opacity;r.attrs.fill=a,s<1&&(r.attrs["fill-opacity"]=s)}return r}(n,i,this._backgroundColor,r);a&&o.push(a);var l=e.compress?null:this._mainVNode=Sae("g","main",{},[]);this._paintList(t,r,l?l.children:o),l&&o.push(l);var c=RU(BU(r.defs),function(e){return r.defs[e]});if(c.length&&o.push(Sae("defs","defs",{},c)),e.animation){var u=function e(t,n,i){var r=(i=i||{}).newline?"\n":"",o=" {"+r,a=r+"}",s=RU(BU(t),function(e){return e+o+RU(BU(t[e]),function(n){return n+":"+t[e][n]+";"}).join(r)+a}).join(r),l=RU(BU(n),function(e){return"@keyframes "+e+o+RU(BU(n[e]),function(t){return t+o+RU(BU(n[e][t]),function(i){var r=n[e][t][i];return"d"===i&&(r='path("'+r+'")'),i+":"+r+";"}).join(r)+a}).join(r)+a}).join(r);return s||l?["<![CDATA[",s,l,"]]>"].join(r):""}(r.cssNodes,r.cssAnims,{newline:!0});if(u){var h=Sae("style","stl",{},[],u);o.push(h)}}return Cae(n,i,o,e.useViewBox)},e.prototype.renderToString=function(e){return e=e||{},Mae(this.renderToVNode({animation:eX(e.cssAnimation,!0),emphasis:eX(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:eX(e.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(e,t,n){for(var i,r,o=e.length,a=[],s=0,l=0,c=0;c<o;c++){var u=e[c];if(!u.invisible){var h=u.__clipPaths,d=h&&h.length||0,p=r&&r.length||0,f=void 0;for(f=Math.max(d-1,p-1);f>=0&&(!h||!r||h[f]!==r[f]);f--);for(var g=p-1;g>f;g--)i=a[--s-1];for(var m=f+1;m<d;m++){var v={};Qae(h[m],v,t);var y=Sae("g","clip-g-"+l++,v,[]);(i?i.children:n).push(y),a[s++]=y,i=y}r=h;var b=Zae(u,t);b&&(i?i.children:n).push(b)}}},e.prototype.resize=function(e,t){var n=this._opts,i=this.root,r=this._viewport;if(null!=e&&(n.width=e),null!=t&&(n.height=t),i&&r&&(r.style.display="none",e=Jee(i,0,n),t=Jee(i,1,n),r.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,r){var o=r.style;o.width=e+"px",o.height=t+"px"}if(pZ(this._backgroundColor))this.refresh();else{var a=this._svgDom;a&&(a.setAttribute("width",e),a.setAttribute("height",t));var s=this._bgVNode&&this._bgVNode.elm;s&&(s.setAttribute("width",e),s.setAttribute("height",t))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(e){var t=this.renderToString(),n="data:image/svg+xml;";return e?(t=xZ(t))&&n+"base64,"+t:n+"charset=UTF-8,"+encodeURIComponent(t)},e}();function bse(e,t,n){var i=uU.createCanvas(),r=t.getWidth(),o=t.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",e)),i.width=r*n,i.height=o*n,i}var xse=function(e){function t(t,n,i){var r,o=e.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,i=i||iK,"string"==typeof t?r=bse(t,n,i):XU(t)&&(t=(r=t).id),o.id=t,o.dom=r;var a=r.style;return a&&(gX(r),r.onselectstart=function(){return!1},a.padding="0",a.margin="0",a.borderWidth="0"),o.painter=n,o.dpr=i,o}return xX(t,e),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=bse("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,t,n,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var r,o=[],a=this.maxRepaintRectCount,s=!1,l=new Rq(0,0,0,0);function c(e){if(e.isFinite()&&!e.isZero())if(0===o.length){(t=new Rq(0,0,0,0)).copy(e),o.push(t)}else{for(var t,n=!1,i=1/0,r=0,c=0;c<o.length;++c){var u=o[c];if(u.intersect(e)){var h=new Rq(0,0,0,0);h.copy(u),h.union(e),o[c]=h,n=!0;break}if(s){l.copy(e),l.union(u);var d=e.width*e.height,p=u.width*u.height,f=l.width*l.height-d-p;f<i&&(i=f,r=c)}}if(s&&(o[r].union(e),n=!0),!n)(t=new Rq(0,0,0,0)).copy(e),o.push(t);s||(s=o.length>=a)}}for(var u=this.__startIndex;u<this.__endIndex;++u){if(p=e[u]){var h=p.shouldBePainted(n,i,!0,!0);(f=p.__isRendered&&(1&p.__dirty||!h)?p.getPrevPaintRect():null)&&c(f);var d=h&&(1&p.__dirty||!p.__isRendered)?p.getPaintRect():null;d&&c(d)}}for(u=this.__prevStartIndex;u<this.__prevEndIndex;++u){var p,f;h=(p=t[u])&&p.shouldBePainted(n,i,!0,!0);if(p&&(!h||!p.__zr)&&p.__isRendered)(f=p.getPrevPaintRect())&&c(f)}do{r=!1;for(u=0;u<o.length;)if(o[u].isZero())o.splice(u,1);else{for(var g=u+1;g<o.length;)o[u].intersect(o[g])?(r=!0,o[u].union(o[g]),o.splice(g,1)):g++;u++}}while(r);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,t){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=e+"px",r.height=t+"px"),i.width=e*n,i.height=t*n,o&&(o.width=e*n,o.height=t*n,1!==n&&this.ctxBack.scale(n,n))},t.prototype.clear=function(e,t,n){var i=this.dom,r=this.ctx,o=i.width,a=i.height;t=t||this.clearColor;var s=this.motionBlur&&!e,l=this.lastFrameAlpha,c=this.dpr,u=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/c,a/c));var h=this.domBack;function d(e,n,i,o){if(r.clearRect(e,n,i,o),t&&"transparent"!==t){var a=void 0;if(KU(t))a=(t.global||t.__width===i&&t.__height===o)&&t.__canvasGradient||Zee(r,t,{x:0,y:0,width:i,height:o}),t.__canvasGradient=a,t.__width=i,t.__height=o;else(function s(e){return null!=e.image})(t)&&(t.scaleX=t.scaleX||c,t.scaleY=t.scaleY||c,a=ate(r,t,{dirty:function(){u.setUnpainted(),u.painter.refresh()}}));r.save(),r.fillStyle=a||t,r.fillRect(e,n,i,o),r.restore()}s&&(r.save(),r.globalAlpha=l,r.drawImage(h,e,n,i,o),r.restore())}!n||s?d(0,0,o,a):n.length&&LU(n,function(e){d(e.x*c,e.y*c,e.width*c,e.height*c)})},t}(HX),_se=1e5,wse=314159,Sse=.01;var Mse=function(){function e(e,t,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var r=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=n=AU({},n||{}),this.dpr=n.devicePixelRatio||iK,this._singleCanvas=r,this.root=e,e.style&&(gX(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var a=this._layers;if(r){var s=e,l=s.width,c=s.height;null!=n.width&&(l=n.width),null!=n.height&&(c=n.height),this.dpr=n.devicePixelRatio||1,s.width=l*this.dpr,s.height=c*this.dpr,this._width=l,this._height=c;var u=new xse(s,this,this.dpr);u.__builtin__=!0,u.initContext(),a[314159]=u,u.zlevel=wse,o.push(wse),this._domRoot=e}else{this._width=Jee(e,0,n),this._height=Jee(e,1,n);var h=this._domRoot=function t(e,n){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+e+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}(this._width,this._height);e.appendChild(h)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var r=0;r<i.length;r++){var o=i[r],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===r?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){for(var i,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<t;o++){var a=e[o];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(_se)),i||(i=n.ctx).save(),gte(i,a,r,o===t-1))}i&&i.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(_se)},e.prototype.paintOne=function(e,t){fte(e,t)},e.prototype._paintList=function(e,t,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var r=this._doPaintList(e,t,n),o=r.finished,a=r.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(e),o)this.eachLayer(function(e){e.afterBrush&&e.afterBrush()});else{var s=this;rY(function(){s._paintList(e,t,n,i)})}}},e.prototype._compositeManually=function(){var e=this.getLayer(wse).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},e.prototype._doPaintList=function(e,t,n){for(var i=this,r=[],o=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var s=this._zlevelList[a],l=this._layers[s];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&r.push(l)}for(var c=!0,u=!1,h=function(a){var s,l=r[a],h=l.ctx,p=o&&l.createRepaintRects(e,t,d._width,d._height),f=n?l.__startIndex:l.__drawIndex,g=!n&&l.incremental&&Date.now,m=g&&Date.now(),v=l.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,v,p);else if(f===l.__startIndex){var y=e[f];y.incremental&&y.notClear&&!n||l.clear(!1,v,p)}-1===f&&(f=l.__startIndex);var b=function(t){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(s=f;s<l.__endIndex;s++){var r=e[s];if(r.__inHover&&(u=!0),i._doPaintEl(r,l,o,t,n,s===l.__endIndex-1),g)if(Date.now()-m>15)break}n.prevElClipPaths&&h.restore()};if(p)if(0===p.length)s=l.__endIndex;else for(var x=d.dpr,_=0;_<p.length;++_){var w=p[_];h.save(),h.beginPath(),h.rect(w.x*x,w.y*x,w.width*x,w.height*x),h.clip(),b(w),h.restore()}else h.save(),b(),h.restore();l.__drawIndex=s,l.__drawIndex<l.__endIndex&&(c=!1)},d=this,p=0;p<r.length;p++)h(p);return rU.wxa&&LU(this._layers,function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()}),{finished:c,needsRefreshHover:u}},e.prototype._doPaintEl=function(e,t,n,i,r,o){var a=t.ctx;if(n){var s=e.getPaintRect();(!i||s&&s.intersect(i))&&(gte(a,e,r,o),e.setPrevPaintRect(s))}else gte(a,e,r,o)},e.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=wse);var n=this._layers[e];return n||((n=new xse("zr_"+e,this,this.dpr)).zlevel=e,n.__builtin__=!0,this._layerConfig[e]?CU(n,this._layerConfig[e],!0):this._layerConfig[e-Sse]&&CU(n,this._layerConfig[e-Sse],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},e.prototype.insertLayer=function(e,t){var n=this._layers,i=this._zlevelList,r=i.length,o=this._domRoot,a=null,s=-1;if(!n[e]&&function l(e){return!!e&&(!!e.__builtin__||"function"==typeof e.resize&&"function"==typeof e.refresh)}(t)){if(r>0&&e>i[0]){for(s=0;s<r-1&&!(i[s]<e&&i[s+1]>e);s++);a=n[i[s]]}if(i.splice(s+1,0,e),n[e]=t,!t.virtual)if(a){var c=a.dom;c.nextSibling?o.insertBefore(t.dom,c.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}},e.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i];e.call(t,this._layers[r],r)}},e.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__&&e.call(t,o,r)}},e.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__||e.call(t,o,r)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(e){function t(e){o&&(o.__endIndex!==e&&(o.__dirty=!0),o.__endIndex=e)}if(this.eachBuiltinLayer(function(e,t){e.__dirty=e.__used=!1}),this._singleCanvas)for(var n=1;n<e.length;n++){if((s=e[n]).zlevel!==e[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var i,r,o=null,a=0;for(r=0;r<e.length;r++){var s,l=(s=e[r]).zlevel,c=void 0;i!==l&&(i=l,a=0),s.incremental?((c=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,a=1):c=this.getLayer(l+(a>0?Sse:0),this._needsManuallyCompositing),c.__builtin__||MU("ZLevel "+l+" has been used by unkown layer "+c.id),c!==o&&(c.__used=!0,c.__startIndex!==r&&(c.__dirty=!0),c.__startIndex=r,c.incremental?c.__drawIndex=-1:c.__drawIndex=r,t(r),o=c),1&s.__dirty&&!s.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(e){e.clear()},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e,LU(this._layers,function(e){e.setUnpainted()})},e.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?CU(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];if(r===e||r===e+Sse)CU(this._layers[r],n[e],!0)}}},e.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(DU(n,e),1))},e.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,r=this.root;if(null!=e&&(i.width=e),null!=t&&(i.height=t),e=Jee(r,0,i),t=Jee(r,1,i),n.style.display="",this._width!==e||t!==this._height){for(var o in n.style.width=e+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(wse).resize(e,t)}return this},e.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var t=new xse("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,r=t.dom.height;this.eachLayer(function(e){e.__builtin__?n.drawImage(e.dom,0,0,i,r):e.renderToCanvas&&(n.save(),e.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,l=a.length;s<l;s++){var c=a[s];gte(n,c,o,s===l-1)}return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();var kse=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return nU(t,e),t.prototype.getInitialData=function(e){return Cie(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new FK,n=Uee("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(n),n.setStyle(e.lineStyle);var i=this.getData().getVisual("symbol"),r=this.getData().getVisual("symbolRotate"),o="none"===i?"circle":i,a=.8*e.itemHeight,s=Uee(o,(e.itemWidth-a)/2,(e.itemHeight-a)/2,a,a,e.itemStyle.fill);t.add(s),s.setStyle(e.itemStyle);var l="inherit"===e.iconRotate?r:e.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([e.itemWidth/2,e.itemHeight/2]),o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill=R6.color.neutral00,s.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(S7);function Cse(e,t){var n=e.mapDimensionsAll("defaultedLabel"),i=n.length;if(1===i){var r=y9(e,t,n[0]);return null!=r?r+"":null}if(i){for(var o=[],a=0;a<n.length;a++)o.push(y9(e,t,n[a]));return o.join(" ")}}function Tse(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!WU(t))return t+"";for(var i=[],r=0;r<n.length;r++){var o=e.getDimensionIndex(n[r]);o>=0&&i.push(t[o])}return i.join(" ")}var Ase=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.updateData(t,n,i,r),o}return nU(t,e),t.prototype._createSymbol=function(e,t,n,i,r,o){this.removeAll();var a=Uee(e,-1,-1,2,2,null,o);a.attr({z2:eX(r,100),culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),a.drift=Ise,this._symbolType=e,this.add(a)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){W1(this.childAt(0))},t.prototype.downplay=function(){$1(this.childAt(0))},t.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},t.prototype.setDraggable=function(e,t){var n=this.childAt(0);n.draggable=e,n.cursor=!t&&e?"move":n.cursor},t.prototype.updateData=function(e,n,i,r){this.silent=!1;var o=e.getItemVisual(n,"symbol")||"circle",a=e.hostModel,s=t.getSymbolSize(e,n),l=t.getSymbolZ2(e,n),c=o!==this._symbolType,u=r&&r.disableAnimation;if(c){var h=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,e,n,s,l,h)}else{(p=this.childAt(0)).silent=!1;var d={scaleX:s[0]/2,scaleY:s[1]/2};u?p.attr(d):D5(p,d,a,n),P5(p)}if(this._updateCommon(e,n,s,i,r),c){var p=this.childAt(0);if(!u){d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:p.style.opacity}};p.scaleX=p.scaleY=0,p.style.opacity=0,O5(p,d,a,n)}}u&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,t,n,i,r){var o,a,s,l,c,u,h,d,p,f=this.childAt(0),g=e.hostModel;if(i&&(o=i.emphasisItemStyle,a=i.blurItemStyle,s=i.selectItemStyle,l=i.focus,c=i.blurScope,h=i.labelStatesModels,d=i.hoverScale,p=i.cursorStyle,u=i.emphasisDisabled),!i||e.hasItemOption){var m=i&&i.itemModel?i.itemModel:e.getItemModel(t),v=m.getModel("emphasis");o=v.getModel("itemStyle").getItemStyle(),s=m.getModel(["select","itemStyle"]).getItemStyle(),a=m.getModel(["blur","itemStyle"]).getItemStyle(),l=v.get("focus"),c=v.get("blurScope"),u=v.get("disabled"),h=O3(m),d=v.getShallow("scale"),p=m.getShallow("cursor")}var y=e.getItemVisual(t,"symbolRotate");f.attr("rotation",(y||0)*Math.PI/180||0);var b=qee(e.getItemVisual(t,"symbolOffset"),n);b&&(f.x=b[0],f.y=b[1]),p&&f.attr("cursor",p);var x=e.getItemVisual(t,"style"),_=x.fill;if(f instanceof W0){var w=f.style;f.useStyle(AU({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},x))}else f.__isEmptyBrush?f.useStyle(AU({},x)):f.useStyle(x),f.style.decal=null,f.setColor(_,r&&r.symbolInnerColor),f.style.strokeNoScale=!0;var S=e.getItemVisual(t,"liftZ"),M=this._z2;null!=S?null==M&&(this._z2=f.z2,f.z2+=S):null!=M&&(f.z2=M,this._z2=null);var k=r&&r.useNameLabel;D3(f,h,{labelFetcher:g,labelDataIndex:t,defaultText:function C(t){return k?e.getName(t):Cse(e,t)},inheritColor:_,defaultOpacity:x.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var T=f.ensureState("emphasis");T.style=o,f.ensureState("select").style=s,f.ensureState("blur").style=a;var A=null==d||!0===d?Math.max(1.1,3/this._sizeY):isFinite(d)&&d>0?+d:1;T.scaleX=this._sizeX*A,T.scaleY=this._sizeY*A,this.setSymbolScale(1),n2(this,l,c,u)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,n){var i=this.childAt(0),r=d1(this).dataIndex,o=n&&n.animation;if(this.silent=i.silent=!0,n&&n.fadeLabel){var a=i.getTextContent();a&&L5(a,{style:{opacity:0}},t,{dataIndex:r,removeOpt:o,cb:function(){i.removeTextContent()}})}else i.removeTextContent();L5(i,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:r,cb:e,removeOpt:o})},t.getSymbolSize=function(e,t){return Xee(e.getItemVisual(t,"symbolSize"))},t.getSymbolZ2=function(e,t){return e.getItemVisual(t,"z2")},t}(FK);function Ise(e,t){this.parent.drift(e,t)}function Dse(e,t,n,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(n,"symbol")}function Ose(e){return null==e||XU(e)||(e={isIgnore:e}),e||{}}function Ese(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:O3(t),cursorStyle:t.get("cursor")}}var Lse=function(){function e(e){this.group=new FK,this._SymbolCtor=e||Ase}return e.prototype.updateData=function(e,t){this._progressiveEls=null,t=Ose(t);var n=this.group,i=e.hostModel,r=this._data,o=this._SymbolCtor,a=t.disableAnimation,s=Ese(e),l={disableAnimation:a},c=t.getSymbolPoint||function(t){return e.getItemLayout(t)};r||n.removeAll(),e.diff(r).add(function(i){var r=c(i);if(Dse(e,r,i,t)){var a=new o(e,i,s,l);a.setPosition(r),e.setItemGraphicEl(i,a),n.add(a)}}).update(function(u,h){var d=r.getItemGraphicEl(h),p=c(u);if(Dse(e,p,u,t)){var f=e.getItemVisual(u,"symbol")||"circle",g=d&&d.getSymbolType&&d.getSymbolType();if(!d||g&&g!==f)n.remove(d),(d=new o(e,u,s,l)).setPosition(p);else{d.updateData(e,u,s,l);var m={x:p[0],y:p[1]};a?d.attr(m):D5(d,m,i)}n.add(d),e.setItemGraphicEl(u,d)}else n.remove(d)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&t.fadeOut(function(){n.remove(t)},i)}).execute(),this._getSymbolPoint=c,this._data=e},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(t,n){var i=e._getSymbolPoint(n);t.setPosition(i),t.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Ese(e),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t,n){function i(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=Ose(n);for(var r=e.start;r<e.end;r++){var o=t.getItemLayout(r);if(Dse(t,o,r,n)){var a=new this._SymbolCtor(t,r,this._seriesScope);a.traverse(i),a.setPosition(o),this.group.add(a),t.setItemGraphicEl(r,a),this._progressiveEls.push(a)}}},e.prototype.eachRendered=function(e){p3(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)},n.hostModel)}):t.removeAll()},e}();function Rse(e,t,n){var i=e.getBaseAxis(),r=e.getOtherAxis(i),o=function a(e,t){var n=0,i=e.scale.getExtent();"start"===t?n=i[0]:"end"===t?n=i[1]:UU(t)&&!isNaN(t)?n=t:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]);return n}(r,n),s=i.dim,l=r.dim,c=t.mapDimension(l),u=t.mapDimension(s),h="x"===l||"radius"===l?1:0,d=RU(e.dimensions,function(e){return t.mapDimension(e)}),p=!1,f=t.getCalculationInfo("stackResultDimension");return Mie(t,d[0])&&(p=!0,d[0]=f),Mie(t,d[1])&&(p=!0,d[1]=f),{dataDimsForPoint:d,valueStart:o,valueAxisDim:l,baseAxisDim:s,stacked:!!p,valueDim:c,baseDim:u,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Nse(e,t,n,i){var r=NaN;e.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=e.valueStart);var o=e.baseDataOffset,a=[];return a[o]=n.get(e.baseDim,i),a[1-o]=r,t.dataToPoint(a)}var Pse=Math.min,zse=Math.max;function Bse(e,t){return isNaN(e)||isNaN(t)}function Vse(e,t,n,i,r,o,a,s,l){for(var c,u,h,d,p,f,g=n,m=0;m<i;m++){var v=t[2*g],y=t[2*g+1];if(g>=r||g<0)break;if(Bse(v,y)){if(l){g+=o;continue}break}if(g===n)e[o>0?"moveTo":"lineTo"](v,y),h=v,d=y;else{var b=v-c,x=y-u;if(b*b+x*x<.5){g+=o;continue}if(a>0){for(var _=g+o,w=t[2*_],S=t[2*_+1];w===v&&S===y&&m<i;)m++,g+=o,w=t[2*(_+=o)],S=t[2*_+1],b=(v=t[2*g])-c,x=(y=t[2*g+1])-u;var M=m+1;if(l)for(;Bse(w,S)&&M<i;)M++,w=t[2*(_+=o)],S=t[2*_+1];var k=.5,C=0,T=0,A=void 0,I=void 0;if(M>=i||Bse(w,S))p=v,f=y;else{C=w-c,T=S-u;var D=v-c,O=w-v,E=y-u,L=S-y,R=void 0,N=void 0;if("x"===s){var P=C>0?1:-1;p=v-P*(R=Math.abs(D))*a,f=y,A=v+P*(N=Math.abs(O))*a,I=y}else if("y"===s){var z=T>0?1:-1;p=v,f=y-z*(R=Math.abs(E))*a,A=v,I=y+z*(N=Math.abs(L))*a}else R=Math.sqrt(D*D+E*E),p=v-C*a*(1-(k=(N=Math.sqrt(O*O+L*L))/(N+R))),f=y-T*a*(1-k),I=y+T*a*k,A=Pse(A=v+C*a*k,zse(w,v)),I=Pse(I,zse(S,y)),A=zse(A,Pse(w,v)),f=y-(T=(I=zse(I,Pse(S,y)))-y)*R/N,p=Pse(p=v-(C=A-v)*R/N,zse(c,v)),f=Pse(f,zse(u,y)),A=v+(C=v-(p=zse(p,Pse(c,v))))*N/R,I=y+(T=y-(f=zse(f,Pse(u,y))))*N/R}e.bezierCurveTo(h,d,p,f,v,y),h=A,d=I}else e.lineTo(v,y)}c=v,u=y,g+=o}return m}var Fse=function(){return function e(){this.smooth=0,this.smoothConstraint=!0}}(),Hse=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polyline",n}return nU(t,e),t.prototype.getDefaultStyle=function(){return{stroke:R6.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new Fse},t.prototype.buildPath=function(e,t){var n=t.points,i=0,r=n.length/2;if(t.connectNulls){for(;r>0&&Bse(n[2*r-2],n[2*r-1]);r--);for(;i<r&&Bse(n[2*i],n[2*i+1]);i++);}for(;i<r;)i+=Vse(e,n,i,r,r,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,i,r=this.path.data,o=m0.CMD,a="x"===t,s=[],l=0;l<r.length;){var c=void 0,u=void 0,h=void 0,d=void 0,p=void 0,f=void 0,g=void 0;switch(r[l++]){case o.M:n=r[l++],i=r[l++];break;case o.L:if(c=r[l++],u=r[l++],(g=a?(e-n)/(c-n):(e-i)/(u-i))<=1&&g>=0){var m=a?(u-i)*g+i:(c-n)*g+n;return a?[e,m]:[m,e]}n=c,i=u;break;case o.C:c=r[l++],u=r[l++],h=r[l++],d=r[l++],p=r[l++],f=r[l++];var v=a?xY(n,c,h,p,e,s):xY(i,u,d,f,e,s);if(v>0)for(var y=0;y<v;y++){var b=s[y];if(b<=1&&b>=0){m=a?yY(i,u,d,f,b):yY(n,c,h,p,b);return a?[e,m]:[m,e]}}n=p,i=f}}},t}(z0),Wse=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t}(Fse),$se=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-polygon",n}return nU(t,e),t.prototype.getDefaultShape=function(){return new Wse},t.prototype.buildPath=function(e,t){var n=t.points,i=t.stackedOnPoints,r=0,o=n.length/2,a=t.smoothMonotone;if(t.connectNulls){for(;o>0&&Bse(n[2*o-2],n[2*o-1]);o--);for(;r<o&&Bse(n[2*r],n[2*r+1]);r++);}for(;r<o;){var s=Vse(e,n,r,o,o,1,t.smooth,a,t.connectNulls);Vse(e,i,r+s-1,s,o,-1,t.stackedOnSmooth,a,t.connectNulls),r+=s+1,e.closePath()}},t}(z0);function jse(e,t,n,i,r){var o=e.getArea(),a=o.x,s=o.y,l=o.width,c=o.height,u=n.get(["lineStyle","width"])||0;a-=u/2,s-=u/2,l+=u,c+=u,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++);var h=new Y0({shape:{x:a,y:s,width:l,height:c}});if(t){var d=e.getBaseAxis(),p=d.isHorizontal(),f=d.inverse;p?(f&&(h.shape.x+=l),h.shape.width=0):(f||(h.shape.y+=c),h.shape.height=0);var g=$U(r)?function(e){r(e,h)}:null;O5(h,{shape:{width:l,height:c,x:a,y:s}},n,null,i,g)}return h}function Gse(e,t,n){var i=e.getArea(),r=eJ(i.r0,1),o=eJ(i.r,1),a=new Y2({shape:{cx:eJ(e.cx,1),cy:eJ(e.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});t&&("angle"===e.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,O5(a,{shape:{endAngle:i.endAngle,r:o}},n));return a}function Use(e,t,n,i,r){return e?"polar"===e.type?Gse(e,t,n):"cartesian2d"===e.type?jse(e,t,n,i,r):null:null}function Xse(e,t){return e.type===t}function qse(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function Yse(e){for(var t=1/0,n=1/0,i=-1/0,r=-1/0,o=0;o<e.length;){var a=e[o++],s=e[o++];isNaN(a)||(t=Math.min(a,t),i=Math.max(a,i)),isNaN(s)||(n=Math.min(s,n),r=Math.max(s,r))}return[[t,n],[i,r]]}function Zse(e,t){var n=Yse(e),i=n[0],r=n[1],o=Yse(t),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function Kse(e){return UU(e)?e:e?.5:0}function Jse(e,t,n,i,r){var o=n.getBaseAxis(),a="x"===o.dim||"radius"===o.dim?0:1,s=[],l=0,c=[],u=[],h=[],d=[];if(r){for(l=0;l<e.length;l+=2){var p=t||e;isNaN(p[l])||isNaN(p[l+1])||d.push(e[l],e[l+1])}e=d}for(l=0;l<e.length-2;l+=2)switch(h[0]=e[l+2],h[1]=e[l+3],u[0]=e[l],u[1]=e[l+1],s.push(u[0],u[1]),i){case"end":c[a]=h[a],c[1-a]=u[1-a],s.push(c[0],c[1]);break;case"middle":var f=(u[a]+h[a])/2,g=[];c[a]=g[a]=f,c[1-a]=u[1-a],g[1-a]=h[1-a],s.push(c[0],c[1]),s.push(g[0],g[1]);break;default:c[a]=u[a],c[1-a]=h[1-a],s.push(c[0],c[1])}return s.push(e[l++],e[l++]),s}function Qse(e,t){var n,i,r=[],o=e.length;function a(e,t,n){var i=e.coord;return{coord:n,color:function r(e,t,n){if(t&&t.length&&e>=0&&e<=1){var i=e*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=YY(t[r]),s=YY(t[o]),l=i-r,c=tZ([BY($Y(a[0],s[0],l)),BY($Y(a[1],s[1],l)),BY($Y(a[2],s[2],l)),VY($Y(a[3],s[3],l))],"rgba");return n?{color:c,leftIndex:r,rightIndex:o,value:i}:c}}((n-i)/(t.coord-i),[e.color,t.color])}}for(var s=0;s<o;s++){var l=e[s],c=l.coord;if(c<0)n=l;else{if(c>t){i?r.push(a(i,l,t)):n&&r.push(a(n,l,0),a(n,l,t));break}n&&(r.push(a(n,l,0)),n=null),r.push(l),i=l}}return r}function ele(e,t,n){var i=e.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=n.getAxesByScale("ordinal")[0];if(o&&(!r||!function e(t,n){var i=t.getExtent(),r=Math.abs(i[1]-i[0])/t.scale.count();isNaN(r)&&(r=0);for(var o=n.count(),a=Math.max(1,Math.round(o/5)),s=0;s<o;s+=a)if(1.5*Ase.getSymbolSize(n,s)[t.isHorizontal()?1:0]>r)return!1;return!0}(o,t))){var a=t.mapDimension(o.dim),s={};return LU(o.getViewLabels(),function(e){var t=o.scale.getRawOrdinalNumber(e.tickValue);s[t]=1}),function(e){return!s.hasOwnProperty(t.get(a,e))}}}}function tle(e,t){return isNaN(e)||isNaN(t)}function nle(e,t){return[e[2*t],e[2*t+1]]}function ile(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<y1.length;t++)if(e.get([y1[t],"endLabel","show"]))return!0;return!1}function rle(e,t,n,i){if(Xse(t,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=ile(i)?function(n,i){e._endLabelOnDuring(n,i,a,s,o,r,t)}:null,c=t.getBaseAxis().isHorizontal(),u=jse(t,n,i,function(){var t=e._endLabel;t&&n&&null!=s.originalX&&t.attr({x:s.originalX,y:s.originalY})},l);if(!i.get("clip",!0)){var h=u.shape,d=Math.max(h.width,h.height);c?(h.y-=d,h.height+=2*d):(h.x-=d,h.width+=2*d)}return l&&l(1,u),u}return Gse(t,n,i)}var ole=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.init=function(){var e=new FK,t=new Lse;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e,this._changePolyState=VU(this._changePolyState,this)},t.prototype.render=function(e,t,n){var i=e.coordinateSystem,r=this.group,o=e.getData(),a=e.getModel("lineStyle"),s=e.getModel("areaStyle"),l=o.getLayout("points")||[],c="polar"===i.type,u=this._coordSys,h=this._symbolDraw,d=this._polyline,p=this._polygon,f=this._lineGroup,g=!t.ssr&&e.get("animation"),m=!s.isEmpty(),v=s.get("origin"),y=Rse(i,o,v),b=m&&function x(e,t,n){if(!n.valueDim)return[];for(var i=t.count(),r=Uie(2*i),o=0;o<i;o++){var a=Nse(n,e,t,o);r[2*o]=a[0],r[2*o+1]=a[1]}return r}(i,o,y),_=e.get("showSymbol"),w=e.get("connectNulls"),S=_&&!c&&ele(e,o,i),M=this._data;M&&M.eachItemGraphicEl(function(e,t){e.__temp&&(r.remove(e),M.setItemGraphicEl(t,null))}),_||h.remove(),r.add(f);var k,C=!c&&e.get("step");i&&i.getArea&&e.get("clip",!0)&&(null!=(k=i.getArea()).width?(k.x-=.1,k.y-=.1,k.width+=.2,k.height+=.2):k.r0&&(k.r0-=.5,k.r+=.5)),this._clipShapeForSymbol=k;var T=function A(e,t,n){var i=e.getVisual("visualMeta");if(i&&i.length&&e.count()&&"cartesian2d"===t.type){for(var r,o,a=i.length-1;a>=0;a--){var s=e.getDimensionInfo(i[a].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){o=i[a];break}}if(o){var l=t.getAxis(r),c=RU(o.stops,function(e){return{coord:l.toGlobalCoord(l.dataToCoord(e.value)),color:e.color}}),u=c.length,h=o.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),h.reverse());var d=Qse(c,"x"===r?n.getWidth():n.getHeight()),p=d.length;if(!p&&u)return c[0].coord<0?h[1]?h[1]:c[u-1].color:h[0]?h[0]:c[0].color;var f=d[0].coord-10,g=d[p-1].coord+10,m=g-f;if(m<.001)return"transparent";LU(d,function(e){e.offset=(e.coord-f)/m}),d.push({offset:p?d[p-1].offset:.5,color:h[1]||"transparent"}),d.unshift({offset:p?d[0].offset:.5,color:h[0]||"transparent"});var v=new f5(0,0,0,0,d,!0);return v[r]=f,v[r+"2"]=g,v}}}(o,i,n)||o.getVisual("style")[o.getVisual("drawType")];if(d&&u.type===i.type&&C===this._step){m&&!p?p=this._newPolygon(l,b):p&&!m&&(f.remove(p),p=this._polygon=null),c||this._initOrUpdateEndLabel(e,i,Q4(T));var I=f.getClipPath();if(I)O5(I,{shape:rle(this,i,!1,e).shape},e);else f.setClipPath(rle(this,i,!0,e));_&&h.updateData(o,{isIgnore:S,clipShape:k,disableAnimation:!0,getSymbolPoint:function(e){return[l[2*e],l[2*e+1]]}}),qse(this._stackedOnPoints,b)&&qse(this._points,l)||(g?this._doUpdateAnimation(o,b,i,n,C,v,w):(C&&(b&&(b=Jse(b,l,i,C,w)),l=Jse(l,null,i,C,w)),d.setShape({points:l}),p&&p.setShape({points:l,stackedOnPoints:b})))}else _&&h.updateData(o,{isIgnore:S,clipShape:k,disableAnimation:!0,getSymbolPoint:function(e){return[l[2*e],l[2*e+1]]}}),g&&this._initSymbolLabelAnimation(o,i,k),C&&(b&&(b=Jse(b,l,i,C,w)),l=Jse(l,null,i,C,w)),d=this._newPolyline(l),m?p=this._newPolygon(l,b):p&&(f.remove(p),p=this._polygon=null),c||this._initOrUpdateEndLabel(e,i,Q4(T)),f.setClipPath(rle(this,i,!0,e));var D=e.getModel("emphasis"),O=D.get("focus"),E=D.get("blurScope"),L=D.get("disabled");(d.useStyle(IU(a.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"})),a2(d,e,"lineStyle"),d.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"]))&&(d.getState("emphasis").style.lineWidth=+d.style.lineWidth+1);d1(d).seriesIndex=e.seriesIndex,n2(d,O,E,L);var R=Kse(e.get("smooth")),N=e.get("smoothMonotone");if(d.setShape({smooth:R,smoothMonotone:N,connectNulls:w}),p){var P=o.getCalculationInfo("stackedOnSeries"),z=0;p.useStyle(IU(s.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),P&&(z=Kse(P.get("smooth"))),p.setShape({smooth:R,stackedOnSmooth:z,smoothMonotone:N,connectNulls:w}),a2(p,e,"areaStyle"),d1(p).seriesIndex=e.seriesIndex,n2(p,O,E,L)}var B=this._changePolyState;o.eachItemGraphicEl(function(e){e&&(e.onHoverStateChange=B)}),this._polyline.onHoverStateChange=B,this._data=o,this._coordSys=i,this._stackedOnPoints=b,this._points=l,this._step=C,this._valueOrigin=v,e.get("triggerLineEvent")&&(this.packEventData(e,d),p&&this.packEventData(e,p))},t.prototype.packEventData=function(e,t){d1(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,n,i){var r=e.getData(),o=NJ(r,i);if(this._changePolyState("emphasis"),!(o instanceof Array)&&null!=o&&o>=0){var a=r.getLayout("points"),s=r.getItemGraphicEl(o);if(!s){var l=a[2*o],c=a[2*o+1];if(isNaN(l)||isNaN(c))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,c))return;var u=e.get("zlevel")||0,h=e.get("z")||0;(s=new Ase(r,o)).x=l,s.y=c,s.setZ(u,h);var d=s.getSymbolPath().getTextContent();d&&(d.zlevel=u,d.z=h,d.z2=this._polyline.z2+1),s.__temp=!0,r.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else N7.prototype.highlight.call(this,e,t,n,i)},t.prototype.downplay=function(e,t,n,i){var r=e.getData(),o=NJ(r,i);if(this._changePolyState("normal"),null!=o&&o>=0){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else N7.prototype.downplay.call(this,e,t,n,i)},t.prototype._changePolyState=function(e){var t=this._polygon;z1(this._polyline,e),t&&z1(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new Hse({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new $se({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,t,n){var i,r,o=t.getBaseAxis(),a=o.inverse;"cartesian2d"===t.type?(i=o.isHorizontal(),r=!1):"polar"===t.type&&(i="angle"===o.dim,r=!0);var s=e.hostModel,l=s.get("animationDuration");$U(l)&&(l=l(null));var c=s.get("animationDelay")||0,u=$U(c)?c(null):c;e.eachItemGraphicEl(function(e,o){var s=e;if(s){var h=[e.x,e.y],d=void 0,p=void 0,f=void 0;if(n)if(r){var g=n,m=t.pointToCoord(h);i?(d=g.startAngle,p=g.endAngle,f=-m[1]/180*Math.PI):(d=g.r0,p=g.r,f=m[0])}else{var v=n;i?(d=v.x,p=v.x+v.width,f=e.x):(d=v.y+v.height,p=v.y,f=e.y)}var y=p===d?0:(f-d)/(p-d);a&&(y=1-y);var b=$U(c)?c(o):l*y+u,x=s.getSymbolPath(),_=x.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:b}),_&&_.animateFrom({style:{opacity:0}},{duration:300,delay:b}),x.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,t,n){var i=e.getModel("endLabel");if(ile(e)){var r=e.getData(),o=this._polyline,a=r.getLayout("points");if(!a)return o.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new Q0({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var l=function c(e){for(var t=e.length/2;t>0&&tle(e[2*t-2],e[2*t-1]);t--);return t-1}(a);l>=0&&(D3(o,O3(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:l,defaultText:function(e,t,n){return null!=n?Tse(r,n):Cse(r,e)},enableTextSetter:!0},function u(e,t){var n=t.getBaseAxis(),i=n.isHorizontal(),r=n.inverse,o=i?r?"right":"left":"center",a=i?"middle":r?"top":"bottom";return{normal:{align:e.get("align")||o,verticalAlign:e.get("verticalAlign")||a}}}(i,t)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,n,i,r,o,a){var s=this._endLabel,l=this._polyline;if(s){e<1&&null==i.originalX&&(i.originalX=s.x,i.originalY=s.y);var c=n.getLayout("points"),u=n.hostModel,h=u.get("connectNulls"),d=o.get("precision"),p=o.get("distance")||0,f=a.getBaseAxis(),g=f.isHorizontal(),m=f.inverse,v=t.shape,y=m?g?v.x:v.y+v.height:g?v.x+v.width:v.y,b=(g?p:0)*(m?-1:1),x=(g?0:-p)*(m?-1:1),_=g?"x":"y",w=function O(e,t,n){for(var i,r,o=e.length/2,a="x"===n?0:1,s=0,l=-1,c=0;c<o;c++)if(r=e[2*c+a],!isNaN(r)&&!isNaN(e[2*c+1-a]))if(0!==c){if(i<=t&&r>=t||i>=t&&r<=t){l=c;break}s=c,i=r}else i=r;return{range:[s,l],t:(t-i)/(r-i)}}(c,y,_),S=w.range,M=S[1]-S[0],k=void 0;if(M>=1){if(M>1&&!h){var C=nle(c,S[0]);s.attr({x:C[0]+b,y:C[1]+x}),r&&(k=u.getRawValue(S[0]))}else{(C=l.getPointOn(y,_))&&s.attr({x:C[0]+b,y:C[1]+x});var T=u.getRawValue(S[0]),A=u.getRawValue(S[1]);r&&(k=GJ(n,d,T,A,w.t))}i.lastFrameIndex=S[0]}else{var I=1===e||i.lastFrameIndex>0?S[0]:0;C=nle(c,I);r&&(k=u.getRawValue(I)),s.attr({x:C[0]+b,y:C[1]+x})}if(r){var D=V3(s);"function"==typeof D.setLabelText&&D.setLabelText(k)}}},t.prototype._doUpdateAnimation=function(e,t,n,i,r,o,a){var s=this._polyline,l=this._polygon,c=e.hostModel,u=function h(e,t,n,i,r,o,a,s){for(var l=function H(e,t){var n=[];return t.diff(e).add(function(e){n.push({cmd:"+",idx:e})}).update(function(e,t){n.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){n.push({cmd:"-",idx:e})}).execute(),n}(e,t),c=[],u=[],h=[],d=[],p=[],f=[],g=[],m=Rse(r,t,a),v=e.getLayout("points")||[],y=t.getLayout("points")||[],b=0;b<l.length;b++){var x=l[b],_=!0,w=void 0,S=void 0;switch(x.cmd){case"=":w=2*x.idx,S=2*x.idx1;var M=v[w],k=v[w+1],C=y[S],T=y[S+1];(isNaN(M)||isNaN(k))&&(M=C,k=T),c.push(M,k),u.push(C,T),h.push(n[w],n[w+1]),d.push(i[S],i[S+1]),g.push(t.getRawIndex(x.idx1));break;case"+":var A=x.idx,I=m.dataDimsForPoint,D=r.dataToPoint([t.get(I[0],A),t.get(I[1],A)]);S=2*A,c.push(D[0],D[1]),u.push(y[S],y[S+1]);var O=Nse(m,r,t,A);h.push(O[0],O[1]),d.push(i[S],i[S+1]),g.push(t.getRawIndex(A));break;case"-":_=!1}_&&(p.push(x),f.push(f.length))}f.sort(function(e,t){return g[e]-g[t]});var E=c.length,L=Uie(E),R=Uie(E),N=Uie(E),P=Uie(E),z=[];for(b=0;b<f.length;b++){var B=f[b],V=2*b,F=2*B;L[V]=c[F],L[V+1]=c[F+1],R[V]=u[F],R[V+1]=u[F+1],N[V]=h[F],N[V+1]=h[F+1],P[V]=d[F],P[V+1]=d[F+1],z[b]=p[B]}return{current:L,next:R,stackedOnCurrent:N,stackedOnNext:P,status:z}}(this._data,e,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin),d=u.current,p=u.stackedOnCurrent,f=u.next,g=u.stackedOnNext;if(r&&(p=Jse(u.stackedOnCurrent,u.current,n,r,a),d=Jse(u.current,null,n,r,a),g=Jse(u.stackedOnNext,u.next,n,r,a),f=Jse(u.next,null,n,r,a)),Zse(d,f)>3e3||l&&Zse(p,g)>3e3)return s.stopAnimation(),s.setShape({points:f}),void(l&&(l.stopAnimation(),l.setShape({points:f,stackedOnPoints:g})));s.shape.__points=u.current,s.shape.points=d;var m={shape:{points:f}};u.current!==d&&(m.shape.__points=u.next),s.stopAnimation(),D5(s,m,c),l&&(l.setShape({points:d,stackedOnPoints:p}),l.stopAnimation(),D5(l,{shape:{stackedOnPoints:g}},c),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points));for(var v=[],y=u.status,b=0;b<y.length;b++){if("="===y[b].cmd){var x=e.getItemGraphicEl(y[b].idx1);x&&v.push({el:x,ptIdx:b})}}s.animators&&s.animators.length&&s.animators[0].during(function(){l&&l.dirtyShape();for(var e=s.shape.__points,t=0;t<v.length;t++){var n=v[t].el,i=2*v[t].ptIdx;n.x=e[i],n.y=e[i+1],n.markRedraw()}})},t.prototype.remove=function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(e,i){e.__temp&&(t.remove(e),n.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(N7);function ale(e,t){return{seriesType:e,plan:E7(),reset:function(e){var n=e.getData(),i=e.coordinateSystem,r=e.pipelineContext,o=t||r.large;if(i){var a=RU(i.dimensions,function(e){return n.mapDimension(e)}).slice(0,2),s=a.length,l=n.getCalculationInfo("stackResultDimension");Mie(n,a[0])&&(a[0]=l),Mie(n,a[1])&&(a[1]=l);var c=n.getStore(),u=n.getDimensionIndex(a[0]),h=n.getDimensionIndex(a[1]);return s&&{progress:function(e,t){for(var n=e.end-e.start,r=o&&Uie(n*s),a=[],l=[],d=e.start,p=0;d<e.end;d++){var f=void 0;if(1===s){var g=c.get(u,d);f=i.dataToPoint(g,null,l)}else a[0]=c.get(u,d),a[1]=c.get(h,d),f=i.dataToPoint(a,null,l);o?(r[p++]=f[0],r[p++]=f[1]):t.setItemLayout(d,f.slice())}o&&t.setLayout("points",r)}}}}}}var sle={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},lle=function(e){return Math.round(e.length/2)};function cle(e){return{seriesType:e,reset:function(e,t,n){var i=e.getData(),r=e.get("sampling"),o=e.coordinateSystem,a=i.count();if(a>10&&"cartesian2d"===o.type&&r){var s=o.getBaseAxis(),l=o.getOtherAxis(s),c=s.getExtent(),u=n.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(u||1),d=Math.round(a/h);if(isFinite(d)&&d>1){"lttb"===r?e.setData(i.lttbDownSample(i.mapDimension(l.dim),1/d)):"minmax"===r&&e.setData(i.minmaxDownSample(i.mapDimension(l.dim),1/d));var p=void 0;jU(r)?p=sle[r]:$U(r)&&(p=r),p&&e.setData(i.downSample(i.mapDimension(l.dim),1/d,p,lle))}}}}}var ule=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.getInitialData=function(e,t){return Cie(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,n){var i=this.coordinateSystem;if(i&&i.clampData){var r=i.clampData(e),o=i.dataToPoint(r);if(n)LU(i.getAxes(),function(e,n){if("category"===e.type&&null!=t){var i=e.getTicksCoords(),a=e.getTickModel().get("alignWithLabel"),s=r[n],l="x1"===t[n]||"y1"===t[n];if(l&&!a&&(s+=1),i.length<2)return;if(2===i.length)return void(o[n]=e.toGlobalCoord(e.getExtent()[l?1:0]));for(var c=void 0,u=void 0,h=1,d=0;d<i.length;d++){var p=i[d].coord,f=d===i.length-1?i[d-1].tickValue+h:i[d].tickValue;if(f===s){u=p;break}if(f<s)c=p;else if(null!=c&&f>s){u=(p+c)/2;break}1===d&&(h=f-i[0].tickValue)}null==u&&(c?c&&(u=i[i.length-1].coord):u=i[0].coord),o[n]=e.toGlobalCoord(u)}});else{var a=this.getData(),s=a.getLayout("offset"),l=a.getLayout("size"),c=i.getBaseAxis().isHorizontal()?0:1;o[c]+=s+l/2}return o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},t}(S7);S7.registerClass(ule);var hle=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.getInitialData=function(){return Cie(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=i4(ule.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:R6.color.primary,borderWidth:2}},realtimeSort:!1}),t}(ule),dle=function(){return function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),ple=function(e){function t(t){var n=e.call(this,t)||this;return n.type="sausage",n}return nU(t,e),t.prototype.getDefaultShape=function(){return new dle},t.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r0||0,0),o=Math.max(t.r,0),a=.5*(o-r),s=r+a,l=t.startAngle,c=t.endAngle,u=t.clockwise,h=2*Math.PI,d=u?c-l<h:l-c<h;d||(l=c-(u?h:-h));var p=Math.cos(l),f=Math.sin(l),g=Math.cos(c),m=Math.sin(c);d?(e.moveTo(p*r+n,f*r+i),e.arc(p*s+n,f*s+i,a,-Math.PI+l,l,!u)):e.moveTo(p*o+n,f*o+i),e.arc(n,i,o,l,c,!u),e.arc(g*s+n,m*s+i,a,c-2*Math.PI,c-Math.PI,!u),0!==r&&e.arc(n,i,r,c,l,u)},t}(z0);function fle(e,t,n){return t*Math.sin(e)*(n?-1:1)}function gle(e,t,n){return t*Math.cos(e)*(n?1:-1)}function mle(e,t,n){var i=e.get("borderRadius");if(null==i)return n?{cornerRadius:0}:null;WU(i)||(i=[i,i,i,i]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:RU(i,function(e){return TK(e,r)})}}var vle=Math.max,yle=Math.min;var ble=function(e){function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return nU(t,e),t.prototype.render=function(e,t,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var r=e.get("coordinateSystem");"cartesian2d"!==r&&"polar"!==r||(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){p3(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,n,i){var r,o=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,c=l.getBaseAxis();"cartesian2d"===l.type?r=c.isHorizontal():"polar"===l.type&&(r="angle"===c.dim);var u=e.isAnimationEnabled()?e:null,h=function d(e,t){var n=e.get("realtimeSort",!0),i=t.getBaseAxis();if(n&&"category"===i.type&&"cartesian2d"===t.type)return{baseAxis:i,otherAxis:t.getOtherAxis(i)}}(e,l);h&&this._enableRealtimeSort(h,a,n);var p=e.get("clip",!0)||h,f=function g(e,t){var n=e.getArea&&e.getArea();if(Xse(e,"cartesian2d")){var i=e.getBaseAxis();if("category"!==i.type||!i.onBand){var r=t.getLayout("bandWidth");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}(l,a);o.removeClipPath();var m=e.get("roundCap",!0),v=e.get("showBackground",!0),y=e.getModel("backgroundStyle"),b=y.get("borderRadius")||0,x=[],_=this._backgroundEls,w=i&&i.isInitSort,S=i&&"changeAxisOrder"===i.type;function M(e){var t=Tle[l.type](a,e);if(!t)return null;var n=function i(e,t,n){var i="polar"===e.type?Y2:Y0;return new i({shape:Rle(t,n,e),silent:!0,z2:0})}(l,r,t);return n.useStyle(y.getItemStyle()),"cartesian2d"===l.type?n.setShape("r",b):n.setShape("cornerRadius",b),x[e]=n,n}a.diff(s).add(function(t){var n=a.getItemModel(t),i=Tle[l.type](a,t,n);if(i&&(v&&M(t),a.hasValue(t)&&Cle[l.type](i))){var s=!1;p&&(s=xle[l.type](f,i));var d=_le[l.type](e,a,t,i,r,u,c.model,!1,m);h&&(d.forceLabelAnimation=!0),Ile(d,a,t,n,i,e,r,"polar"===l.type),w?d.attr({shape:i}):h?wle(h,u,d,i,t,r,!1,!1):O5(d,{shape:i},e,t),a.setItemGraphicEl(t,d),o.add(d),d.ignore=s}}).update(function(t,n){var i=a.getItemModel(t),d=Tle[l.type](a,t,i);if(d){if(v){var g=void 0;0===_.length?g=M(n):((g=_[n]).useStyle(y.getItemStyle()),"cartesian2d"===l.type?g.setShape("r",b):g.setShape("cornerRadius",b),x[t]=g);var k=Tle[l.type](a,t);D5(g,{shape:Rle(r,k,l)},u,t)}var C=s.getItemGraphicEl(n);if(a.hasValue(t)&&Cle[l.type](d)){var T=!1;if(p&&(T=xle[l.type](f,d))&&o.remove(C),C&&("sector"===C.type&&m||"sausage"===C.type&&!m)&&(C&&N5(C,e,n),C=null),C?P5(C):C=_le[l.type](e,a,t,d,r,u,c.model,!0,m),h&&(C.forceLabelAnimation=!0),S){var A=C.getTextContent();if(A){var I=V3(A);null!=I.prevValue&&(I.prevValue=I.value)}}else Ile(C,a,t,i,d,e,r,"polar"===l.type);w?C.attr({shape:d}):h?wle(h,u,C,d,t,r,!0,S):D5(C,{shape:d},e,t,null),a.setItemGraphicEl(t,C),C.ignore=T,o.add(C)}else o.remove(C)}}).remove(function(t){var n=s.getItemGraphicEl(t);n&&N5(n,e,t)}).execute();var k=this._backgroundGroup||(this._backgroundGroup=new FK);k.removeAll();for(var C=0;C<x.length;++C)k.add(x[C]);o.add(k),this._backgroundEls=x,this._data=a},t.prototype._renderLarge=function(e,t,n){this._clear(),Ele(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),Ele(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&Use(e.coordinateSystem,!1,e),n=this.group;t?n.setClipPath(t):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,n){var i=this;if(t.count()){var r=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var o=function(e){var n=t.getItemGraphicEl(e),i=n&&n.shape;return i&&Math.abs(r.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(t,o,r,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,n){var i=[];return e.each(e.mapDimension(t.dim),function(e,t){var r=n(t);r=null==r?NaN:r,i.push({dataIndex:t,mappedValue:r,ordinalNumber:e})}),i.sort(function(e,t){return t.mappedValue-e.mappedValue}),{ordinalNumbers:RU(i,function(e){return e.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var i=n.scale,r=e.mapDimension(n.dim),o=Number.MAX_VALUE,a=0,s=i.getOrdinalMeta().categories.length;a<s;++a){var l=e.rawIndexOf(r,i.getRawOrdinalNumber(a)),c=l<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l));if(c>o)return!0;o=c}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,i=n.getExtent(),r=Math.max(0,i[0]),o=Math.min(i[1],n.getOrdinalMeta().categories.length-1);r<=o;++r)if(e.ordinalNumbers[r]!==n.getRawOrdinalNumber(r))return!0},t.prototype._updateSortWithinSameData=function(e,t,n,i){if(this._isOrderChangedWithinSameData(e,t,n)){var r=this._dataSort(e,n,t);this._isOrderDifferentInView(r,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:r}))}},t.prototype._dispatchInitSort=function(e,t,n){var i=t.baseAxis,r=this._dataSort(e,i,function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:r})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(t){N5(t,e,d1(t).dataIndex)})):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(N7),xle={cartesian2d:function(e,t){var n=t.width<0?-1:1,i=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var r=e.x+e.width,o=e.y+e.height,a=vle(t.x,e.x),s=yle(t.x+t.width,r),l=vle(t.y,e.y),c=yle(t.y+t.height,o),u=s<a,h=c<l;return t.x=u&&a>r?s:a,t.y=h&&l>o?c:l,t.width=u?0:s-a,t.height=h?0:c-l,n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),u||h},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var i=t.r;t.r=t.r0,t.r0=i}var r=yle(t.r,e.r),o=vle(t.r0,e.r0);t.r=r,t.r0=o;var a=r-o<0;if(n<0){i=t.r;t.r=t.r0,t.r0=i}return a}},_le={cartesian2d:function(e,t,n,i,r,o,a,s,l){var c=new Y0({shape:AU({},i),z2:1});(c.__dataIndex=n,c.name="item",o)&&(c.shape[r?"height":"width"]=0);return c},polar:function(e,t,n,i,r,o,a,s,l){var c=!r&&l?ple:Y2,u=new c({shape:i,z2:1});u.name="item";var h=Ale(r);if(u.calculateTextPosition=function d(e,t){var n=(t=t||{}).isRoundCap;return function(t,i,r){var o=i.position;if(!o||o instanceof Array)return AK(t,i,r);var a=e(o),s=null!=i.distance?i.distance:5,l=this.shape,c=l.cx,u=l.cy,h=l.r,d=l.r0,p=(h+d)/2,f=l.startAngle,g=l.endAngle,m=(f+g)/2,v=n?Math.abs(h-d)/2:0,y=Math.cos,b=Math.sin,x=c+h*y(f),_=u+h*b(f),w="left",S="top";switch(a){case"startArc":x=c+(d-s)*y(m),_=u+(d-s)*b(m),w="center",S="top";break;case"insideStartArc":x=c+(d+s)*y(m),_=u+(d+s)*b(m),w="center",S="bottom";break;case"startAngle":x=c+p*y(f)+fle(f,s+v,!1),_=u+p*b(f)+gle(f,s+v,!1),w="right",S="middle";break;case"insideStartAngle":x=c+p*y(f)+fle(f,-s+v,!1),_=u+p*b(f)+gle(f,-s+v,!1),w="left",S="middle";break;case"middle":x=c+p*y(m),_=u+p*b(m),w="center",S="middle";break;case"endArc":x=c+(h+s)*y(m),_=u+(h+s)*b(m),w="center",S="bottom";break;case"insideEndArc":x=c+(h-s)*y(m),_=u+(h-s)*b(m),w="center",S="top";break;case"endAngle":x=c+p*y(g)+fle(g,s+v,!0),_=u+p*b(g)+gle(g,s+v,!0),w="left",S="middle";break;case"insideEndAngle":x=c+p*y(g)+fle(g,-s+v,!0),_=u+p*b(g)+gle(g,-s+v,!0),w="right",S="middle";break;default:return AK(t,i,r)}return(t=t||{}).x=x,t.y=_,t.align=w,t.verticalAlign=S,t}}(h,{isRoundCap:c===ple}),o){var p=r?"r":"endAngle",f={};u.shape[p]=r?i.r0:i.startAngle,f[p]=i[p],(s?D5:O5)(u,{shape:f},o)}return u}};function wle(e,t,n,i,r,o,a,s){var l,c;o?(c={x:i.x,width:i.width},l={y:i.y,height:i.height}):(c={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?D5:O5)(n,{shape:l},t,r,null),(a?D5:O5)(n,{shape:c},t?e.baseAxis.model:null,r)}function Sle(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var Mle=["x","y","width","height"],kle=["cx","cy","r","startAngle","endAngle"],Cle={cartesian2d:function(e){return!Sle(e,Mle)},polar:function(e){return!Sle(e,kle)}},Tle={cartesian2d:function(e,t,n){var i=e.getItemLayout(t);if(!i)return null;var r=n?function o(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var i=e.get(["itemStyle","borderWidth"])||0,r=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(i,r,o)}(n,i):0,a=i.width>0?1:-1,s=i.height>0?1:-1;return{x:i.x+a*r/2,y:i.y+s*r/2,width:i.width-a*r,height:i.height-s*r}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function Ale(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function Ile(e,t,n,i,r,o,a,s){var l=t.getItemVisual(n,"style");if(s){if(!o.get("roundCap")){var c=e.shape;AU(c,mle(i.getModel("itemStyle"),c,!0)),e.setShape(c)}}else{var u=i.get(["itemStyle","borderRadius"])||0;e.setShape("r",u)}e.useStyle(l);var h=i.getShallow("cursor");h&&e.attr("cursor",h);var d=s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",p=O3(i);D3(e,p,{labelFetcher:o,labelDataIndex:n,defaultText:Cse(o.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var f=e.getTextContent();if(s&&f){var g=i.get(["label","position"]);e.textConfig.inside="middle"===g||null,function t(e,n,i,r){if(UU(r))e.setTextConfig({rotation:r});else if(WU(n))e.setTextConfig({rotation:0});else{var o,a=e.shape,s=a.clockwise?a.startAngle:a.endAngle,l=a.clockwise?a.endAngle:a.startAngle,c=(s+l)/2,u=i(n);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":o=c;break;case"startAngle":case"insideStartAngle":o=s;break;case"endAngle":case"insideEndAngle":o=l;break;default:return void e.setTextConfig({rotation:0})}var h=1.5*Math.PI-o;"middle"===u&&h>Math.PI/2&&h<1.5*Math.PI&&(h-=Math.PI),e.setTextConfig({rotation:h})}}(e,"outside"===g?d:g,Ale(a),i.get(["label","rotate"]))}F3(f,p,o.getRawValue(n),function(e){return Tse(t,e)});var m=i.getModel(["emphasis"]);n2(e,m.get("focus"),m.get("blurScope"),m.get("disabled")),a2(e,i),function v(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}(r)&&(e.style.fill="none",e.style.stroke="none",LU(e.states,function(e){e.style&&(e.style.fill=e.style.stroke="none")}))}var Dle=function(){return function e(){}}(),Ole=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return nU(t,e),t.prototype.getDefaultShape=function(){return new Dle},t.prototype.buildPath=function(e,t){for(var n=t.points,i=this.baseDimIdx,r=1-this.baseDimIdx,o=[],a=[],s=this.barWidth,l=0;l<n.length;l+=3)a[i]=s,a[r]=n[l+2],o[i]=n[l+i],o[r]=n[l+r],e.rect(o[0],o[1],a[0],a[1])},t}(z0);function Ele(e,t,n,i){var r=e.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=e.getModel("backgroundStyle"),c=r.getLayout("largeBackgroundPoints");if(c){var u=new Ole({shape:{points:c},incremental:!!i,silent:!0,z2:0});u.baseDimIdx=o,u.largeDataIndices=a,u.barWidth=s,u.useStyle(l.getItemStyle()),t.add(u),n&&n.push(u)}var h=new Ole({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=o,h.largeDataIndices=a,h.barWidth=s,t.add(h),h.useStyle(r.getVisual("style")),h.style.stroke=null,d1(h).seriesIndex=e.seriesIndex,e.get("silent")||(h.on("mousedown",Lle),h.on("mousemove",Lle)),n&&n.push(h)}var Lle=j7(function(e){var t=function n(e,t,i){for(var r=e.baseDimIdx,o=1-r,a=e.shape.points,s=e.largeDataIndices,l=[],c=[],u=e.barWidth,h=0,d=a.length/3;h<d;h++){var p=3*h;if(c[r]=u,c[o]=a[p+2],l[r]=a[p+r],l[o]=a[p+o],c[o]<0&&(l[o]+=c[o],c[o]=-c[o]),t>=l[0]&&t<=l[0]+c[0]&&i>=l[1]&&i<=l[1]+c[1])return s[h]}return-1}(this,e.offsetX,e.offsetY);d1(this).dataIndex=t>=0?t:null},30,!1);function Rle(e,t,n){if(Xse(n,"cartesian2d")){var i=t,r=n.getArea();return{x:e?i.x:r.x,y:e?r.y:i.y,width:e?i.width:r.width,height:e?r.height:i.height}}var o=t;return{cx:(r=n.getArea()).cx,cy:r.cy,r0:e?r.r0:o.r0,r:e?r.r:o.r,startAngle:e?o.startAngle:0,endAngle:e?o.endAngle:2*Math.PI}}var Nle=2*Math.PI,Ple=Math.PI/180;function zle(e,t,n){t.eachSeriesByType(e,function(e){var t=e.getData(),i=t.mapDimension("value"),r=b6(e,n),o=r.cx,a=r.cy,s=r.r,l=r.r0,c=r.viewRect,u=-e.get("startAngle")*Ple,h=e.get("endAngle"),d=e.get("padAngle")*Ple;h="auto"===h?u-Nle:-h*Ple;var p=e.get("minAngle")*Ple+d,f=0;t.each(i,function(e){!isNaN(e)&&f++});var g=t.getSum(i),m=Math.PI/(g||f)*2,v=e.get("clockwise"),y=e.get("roseType"),b=e.get("stillShowZeroSum"),x=t.getDataExtent(i);x[0]=0;var _=v?1:-1,w=[u,h],S=_*d/2;g0(w,!v),u=w[0],h=w[1];var M=Ble(e);M.startAngle=u,M.endAngle=h,M.clockwise=v,M.cx=o,M.cy=a,M.r=s,M.r0=l;var k=Math.abs(h-u),C=k,T=0,A=u;if(t.setLayout({viewRect:c,r:s}),t.each(i,function(e,n){var i;if(isNaN(e))t.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:o,cy:a,r0:l,r:y?NaN:s});else{(i="area"!==y?0===g&&b?m:e*m:k/f)<p?(i=p,C-=p):T+=e;var r=A+_*i,c=0,u=0;d>i?u=c=A+_*i/2:(c=A+S,u=r-S),t.setItemLayout(n,{angle:i,startAngle:c,endAngle:u,clockwise:v,cx:o,cy:a,r0:l,r:y?ZK(e,x,[l,s]):s}),A=r}}),C<Nle&&f)if(C<=.001){var I=k/f;t.each(i,function(e,n){if(!isNaN(e)){var i=t.getItemLayout(n);i.angle=I;var r=0,o=0;I<d?o=r=u+_*(n+.5)*I:(r=u+_*n*I+S,o=u+_*(n+1)*I-S),i.startAngle=r,i.endAngle=o}})}else m=C/T,A=u,t.each(i,function(e,n){if(!isNaN(e)){var i=t.getItemLayout(n),r=i.angle===p?p:e*m,o=0,a=0;r<d?a=o=A+_*r/2:(o=A+S,a=A+_*r-S),i.startAngle=o,i.endAngle=a,A+=_*r}})})}var Ble=PJ();function Vle(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var i=e.getData();i.filterSelf(function(e){for(var t=i.getName(e),r=0;r<n.length;r++)if(!n[r].isSelected(t))return!1;return!0})}}}}var Fle=Math.PI/180;function Hle(e,t,n,i,r,o,a,s,l,c){if(!(e.length<2)){for(var u=e.length,h=0;h<u;h++)if("outer"===e[h].position&&"labelLine"===e[h].labelAlignTo){var d=e[h].label.x-c;e[h].linePoints[1][0]+=d,e[h].label.x=c}Yoe(e,1,l,l+a)&&function o(e){for(var o={list:[],maxY:0},a={list:[],maxY:0},s=0;s<e.length;s++)if("none"===e[s].labelAlignTo){var l=e[s],c=l.label.y>n?a:o,u=Math.abs(l.label.y-n);if(u>=c.maxY){var h=l.label.x-t-l.len2*r,d=i+l.len,f=Math.abs(h)<d?Math.sqrt(u*u/(1-h*h/d/d)):d;c.rB=f,c.maxY=u}c.list.push(l)}p(o),p(a)}(e)}function p(e){for(var o=e.rB,a=o*o,s=0;s<e.list.length;s++){var l=e.list[s],c=Math.abs(l.label.y-n),u=i+l.len,h=u*u,d=Math.sqrt(Math.abs((1-c*c/a)*h)),p=t+(d+l.len2)*r,f=p-l.label.x;Wle(l,l.targetTextWidth-f*r,!0),l.label.x=p}}}function Wle(e,t,n){if(null==e.labelStyleWidth){var i=e.label,r=i.style,o=e.rect,a=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,c=r.overflow,u=o.width+(a?0:l);if(t<u||n){if(c&&c.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",t-l);var h=i.getBoundingRect();i.setStyle("width",Math.ceil(h.width)),i.setStyle("backgroundColor",a)}else{var d=t-l,p=t<u?d:n?d>e.unconstrainedWidth?null:d:null;i.setStyle("width",p)}$le(o,i)}}}function $le(e,t){Gle.rect=e,joe(Gle,t,jle)}var jle={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},Gle={};function Ule(e){return"center"===e.position}function Xle(e){var t,n,i=e.getData(),r=[],o=!1,a=(e.get("minShowLabelAngle")||0)*Fle,s=i.getLayout("viewRect"),l=i.getLayout("r"),c=s.width,u=s.x,h=s.y,d=s.height;function p(e){e.ignore=!0}i.each(function(e){var s=i.getItemGraphicEl(e),h=s.shape,f=s.getTextContent(),g=s.getTextGuideLine(),m=i.getItemModel(e),v=m.getModel("label"),y=v.get("position")||m.get(["emphasis","label","position"]),b=v.get("distanceToLabelLine"),x=v.get("alignTo"),_=KK(v.get("edgeDistance"),c),w=v.get("bleedMargin");null==w&&(w=Math.min(c,d)>200?10:2);var S=m.getModel("labelLine"),M=S.get("length");M=KK(M,c);var k=S.get("length2");if(k=KK(k,c),Math.abs(h.endAngle-h.startAngle)<a)return LU(f.states,p),f.ignore=!0,void(g&&(LU(g.states,p),g.ignore=!0));if(function C(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(f)){var T,A,I,D,O=(h.startAngle+h.endAngle)/2,E=Math.cos(O),L=Math.sin(O);t=h.cx,n=h.cy;var R="inside"===y||"inner"===y;if("center"===y)T=h.cx,A=h.cy,D="center";else{var N=(R?(h.r+h.r0)/2*E:h.r*E)+t,P=(R?(h.r+h.r0)/2*L:h.r*L)+n;if(T=N+3*E,A=P+3*L,!R){var z=N+E*(M+l-h.r),B=P+L*(M+l-h.r),V=z+(E<0?-1:1)*k;T="edge"===x?E<0?u+_:u+c-_:V+(E<0?-b:b),A=B,I=[[N,P],[z,B],[V,B]]}D=R?"center":"edge"===x?E>0?"right":"left":E>0?"left":"right"}var F=Math.PI,H=0,W=v.get("rotate");if(UU(W))H=W*(F/180);else if("center"===y)H=0;else if("radial"===W||!0===W){H=E<0?-O+F:-O}else if("tangential"===W&&"outside"!==y&&"outer"!==y){var $=Math.atan2(E,L);$<0&&($=2*F+$),L>0&&($=F+$),H=$-F}if(o=!!H,f.x=T,f.y=A,f.rotation=H,f.setStyle({verticalAlign:"middle"}),R){f.setStyle({align:D});var j=f.states.select;j&&(j.x+=f.x,j.y+=f.y)}else{var G=new Rq(0,0,0,0);$le(G,f),r.push({label:f,labelLine:g,position:y,len:M,len2:k,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new xq(E,L),linePoints:I,textAlign:D,labelDistance:b,labelAlignTo:x,edgeDistance:_,bleedMargin:w,rect:G,unconstrainedWidth:G.width,labelStyleWidth:f.style.width})}s.setTextConfig({inside:R})}}),!o&&e.get("avoidLabelOverlap")&&function f(e,t,n,i,r,o,a,s){for(var l=[],c=[],u=Number.MAX_VALUE,h=-Number.MAX_VALUE,d=0;d<e.length;d++){var p=e[d].label;Ule(e[d])||(p.x<t?(u=Math.min(u,p.x),l.push(e[d])):(h=Math.max(h,p.x),c.push(e[d])))}for(d=0;d<e.length;d++)if(!Ule(m=e[d])&&m.linePoints){if(null!=m.labelStyleWidth)continue;p=m.label;var f=m.linePoints,g=void 0;g="edge"===m.labelAlignTo?p.x<t?f[2][0]-m.labelDistance-a-m.edgeDistance:a+r-m.edgeDistance-f[2][0]-m.labelDistance:"labelLine"===m.labelAlignTo?p.x<t?u-a-m.bleedMargin:a+r-h-m.bleedMargin:p.x<t?p.x-a-m.bleedMargin:a+r-p.x-m.bleedMargin,m.targetTextWidth=g,Wle(m,g,!1)}for(Hle(c,t,n,i,1,0,o,0,s,h),Hle(l,t,n,i,-1,0,o,0,s,u),d=0;d<e.length;d++){var m;if(!Ule(m=e[d])&&m.linePoints){p=m.label,f=m.linePoints;var v="edge"===m.labelAlignTo,y=p.style.padding,b=y?y[1]+y[3]:0,x=p.style.backgroundColor?0:b,_=m.rect.width+x,w=f[1][0]-f[2][0];v?p.x<t?f[2][0]=a+m.edgeDistance+_+m.labelDistance:f[2][0]=a+r-m.edgeDistance-_-m.labelDistance:(p.x<t?f[2][0]=p.x+m.labelDistance:f[2][0]=p.x-m.labelDistance,f[1][0]=f[2][0]+w),f[1][1]=f[2][1]=p.y}}}(r,t,n,l,c,d,u,h);for(var g=0;g<r.length;g++){var m=r[g],v=m.label,y=m.labelLine,b=isNaN(v.x)||isNaN(v.y);if(v){v.setStyle({align:m.textAlign}),b&&(LU(v.states,p),v.ignore=!0);var x=v.states.select;x&&(x.x+=v.x,x.y+=v.y)}if(y){var _=m.linePoints;b||!_?(LU(y.states,p),y.ignore=!0):(Roe(_,m.minTurnAngle),Noe(_,m.surfaceNormal,m.maxSurfaceAngle),y.setShape({points:_}),v.__hostTarget.textGuideLineConfig={anchor:new xq(_[0][0],_[0][1])})}}}var qle=function(e){function t(t,n,i){var r=e.call(this)||this;r.z2=2;var o=new Q0;return r.setTextContent(o),r.updateData(t,n,i,!0),r}return nU(t,e),t.prototype.updateData=function(e,t,n,i){var r=this,o=e.hostModel,a=e.getItemModel(t),s=a.getModel("emphasis"),l=e.getItemLayout(t),c=AU(mle(a.getModel("itemStyle"),l,!0),l);if(isNaN(c.startAngle))r.setShape(c);else{if(i){r.setShape(c);var u=o.getShallow("animationType");o.ecModel.ssr?(O5(r,{scaleX:0,scaleY:0},o,{dataIndex:t,isFrom:!0}),r.originX=c.cx,r.originY=c.cy):"scale"===u?(r.shape.r=l.r0,O5(r,{shape:{r:l.r}},o,t)):null!=n?(r.setShape({startAngle:n,endAngle:n}),O5(r,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},o,t)):(r.shape.endAngle=l.startAngle,D5(r,{shape:{endAngle:l.endAngle}},o,t))}else P5(r),D5(r,{shape:c},o,t);r.useStyle(e.getItemVisual(t,"style")),a2(r,a);var h=(l.startAngle+l.endAngle)/2,d=o.get("selectedOffset"),p=Math.cos(h)*d,f=Math.sin(h)*d,g=a.getShallow("cursor");g&&r.attr("cursor",g),this._updateLabel(o,e,t),r.ensureState("emphasis").shape=AU({r:l.r+(s.get("scale")&&s.get("scaleSize")||0)},mle(s.getModel("itemStyle"),l)),AU(r.ensureState("select"),{x:p,y:f,shape:mle(a.getModel(["select","itemStyle"]),l)}),AU(r.ensureState("blur"),{shape:mle(a.getModel(["blur","itemStyle"]),l)});var m=r.getTextGuideLine(),v=r.getTextContent();m&&AU(m.ensureState("select"),{x:p,y:f}),AU(v.ensureState("select"),{x:p,y:f}),n2(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},t.prototype._updateLabel=function(e,t,n){var i=this,r=t.getItemModel(n),o=r.getModel("labelLine"),a=t.getItemVisual(n,"style"),s=a&&a.fill,l=a&&a.opacity;D3(i,O3(r),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:s,defaultOpacity:l,defaultText:e.getFormattedLabel(n,"normal")||t.getName(n)});var c=i.getTextContent();i.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var u=r.get(["label","position"]);if("outside"!==u&&"outer"!==u)i.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new n5,this.setTextGuideLine(h)),Boe(this,Voe(r),{stroke:s,opacity:tX(o.get(["lineStyle","opacity"]),l,1)})}},t}(Y2),Yle=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return nU(t,e),t.prototype.render=function(e,t,n,i){var r,o=e.getData(),a=this._data,s=this.group;if(!a&&o.count()>0){for(var l=o.getItemLayout(0),c=1;isNaN(l&&l.startAngle)&&c<o.count();++c)l=o.getItemLayout(c);l&&(r=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===o.count()&&e.get("showEmptyCircle")){var u=Ble(e),h=new Y2({shape:kU(u)});h.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,s.add(h)}o.diff(a).add(function(e){var t=new qle(o,e,r);o.setItemGraphicEl(e,t),s.add(t)}).update(function(e,t){var n=a.getItemGraphicEl(t);n.updateData(o,e,r),n.off("click"),s.add(n),o.setItemGraphicEl(e,n)}).remove(function(t){N5(a.getItemGraphicEl(t),e,t)}).execute(),Xle(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},t.type="pie",t}(N7);function Zle(e,t,n){t=WU(t)&&{coordDimensions:t}||AU({encodeDefine:e.getEncode()},t);var i=e.getSource(),r=yie(i,t).dimensions,o=new vie(r,e);return o.initData(i,n),o}var Kle=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}(),Jle=PJ(),Qle=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Kle(VU(this.getData,this),VU(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Zle(this,{coordDimensions:["value"],encodeDefaulter:HU(i8,this)})},t.prototype.getDataParams=function(t){var n=this.getData(),i=Jle(n),r=i.seats;if(!r){var o=[];n.each(n.mapDimension("value"),function(e){o.push(e)}),r=i.seats=function e(t,n){var i=NU(t,function(e,t){return e+(isNaN(t)?0:t)},0);if(0===i)return[];for(var r=Math.pow(10,n),o=RU(t,function(e){return(isNaN(e)?0:e)/i*r*100}),a=100*r,s=RU(o,function(e){return Math.floor(e)}),l=NU(s,function(e,t){return e+t},0),c=RU(o,function(e,t){return e-s[t]});l<a;){for(var u=Number.NEGATIVE_INFINITY,h=null,d=0,p=c.length;d<p;++d)c[d]>u&&(u=c[d],h=d);++s[h],c[h]=0,++l}return RU(s,function(e){return e/r})}(o,n.hostModel.get("percentPrecision"))}var a=e.prototype.getDataParams.call(this,t);return a.percent=r[t]||0,a.$vars.push("percent"),a},t.prototype._defaultLabelLine=function(e){kJ(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(S7);!function ece(e){a6.set(e.fullType,{getCoord2:void 0}).getCoord2=e.getCoord2}({fullType:Qle.type,getCoord2:function(e){return e.getShallow("center")}});var tce=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return nU(t,e),t.prototype.getInitialData=function(e,t){return Cie(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:R6.color.primary}},universalTransition:{divideShape:"clone"}},t}(S7),nce=function(){return function e(){}}(),ice=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return nU(t,e),t.prototype.getDefaultShape=function(){return new nce},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var n,i=t.points,r=t.size,o=this.symbolProxy,a=o.shape,s=e.getContext?e.getContext():e,l=s&&r[0]<4,c=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,n=this._off;n<i.length;){var u=i[n++],h=i[n++];isNaN(u)||isNaN(h)||(c&&!c.contain(u,h)||(a.x=u-r[0]/2,a.y=h-r[1]/2,a.width=r[0],a.height=r[1],o.buildPath(e,a,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,n=t.points,i=t.size,r=this._ctx,o=this.softClipShape;if(r){for(e=this._off;e<n.length;){var a=n[e++],s=n[e++];isNaN(a)||isNaN(s)||(o&&!o.contain(a,s)||r.fillRect(a-i[0]/2,s-i[1]/2,i[0],i[1]))}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var n=this.shape,i=n.points,r=n.size,o=Math.max(r[0],4),a=Math.max(r[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,c=i[l]-o/2,u=i[l+1]-a/2;if(e>=c&&t>=u&&e<=c+o&&t<=u+a)return s}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect();return e=n[0],t=n[1],i.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,n=t.points,i=t.size,r=i[0],o=i[1],a=1/0,s=1/0,l=-1/0,c=-1/0,u=0;u<n.length;){var h=n[u++],d=n[u++];a=Math.min(h,a),l=Math.max(h,l),s=Math.min(d,s),c=Math.max(d,c)}e=this._rect=new Rq(a-r/2,s-o/2,l-a+r,c-s+o)}return e},t}(z0),rce=function(){function e(){this.group=new FK}return e.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),i=4*e.startIndex*2;t=new Float32Array(t.buffer,i,n)}e.setShape("points",t),e.reset()})},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,n){var i=this._newAdded[0],r=t.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+r.length);s.set(o),s.set(r,a),i.endIndex=e.end,i.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start,l.endIndex=e.end,l.incremental=!0,l.setShape({points:r}),this._setCommon(l,t,n)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new ice({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,n){var i=t.hostModel;n=n||{};var r=t.getVisual("symbolSize");e.setShape("size",r instanceof Array?r:[r,r]),e.softClipShape=n.clipShape||null,e.symbolProxy=Uee(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<4;e.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var a=t.getVisual("style"),s=a&&a.fill;s&&e.setColor(s);var l=d1(e);l.seriesIndex=i.seriesIndex,e.on("mousemove",function(t){l.dataIndex=null;var n=e.hoverDataIdx;n>=0&&(l.dataIndex=n+(e.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),oce=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var i=e.getData();this._updateSymbolDraw(i,e).incrementalPrepareUpdate(i),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,n){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var r=ale("").reset(e,t,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var t=e.coordinateSystem;return t&&t.getArea&&t.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,t){var n=this._symbolDraw,i=t.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new rce:new Lse,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(N7),ace={left:0,right:0,top:0,bottom:0},sce=["25%","25%"],lce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.mergeDefaultAndTheme=function(t,n){var i=T6(t.outerBounds);e.prototype.mergeDefaultAndTheme.apply(this,arguments),i&&t.outerBounds&&C6(t.outerBounds,i)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&t.outerBounds&&C6(this.option.outerBounds,t.outerBounds)},t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:ace,outerBoundsContain:"all",outerBoundsClampWidth:sce[0],outerBoundsClampHeight:sce[1],backgroundColor:R6.color.transparent,borderWidth:1,borderColor:R6.color.neutral30},t}(D6),cce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",FJ).models[0]},t.type="cartesian2dAxis",t}(D6);OU(cce,Nre);var uce={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:R6.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:R6.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:R6.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[R6.color.backgroundTint,R6.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:R6.color.neutral00,borderColor:R6.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},hce=CU({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},uce),dce=CU({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:R6.color.axisMinorSplitLine,width:1}}},uce);const pce={category:hce,value:dce,time:CU({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},dce),log:IU({logBase:10},dce)};var fce={value:1,category:1,time:1,log:1},gce=null;function mce(){return gce}function vce(e,t,n,i){LU(fce,function(r,o){var a=CU(CU({},pce[o],!0),i,!0),s=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t+"Axis."+o,n}return nU(n,e),n.prototype.mergeDefaultAndTheme=function(e,t){var n=k6(this),i=n?T6(e):{};CU(e,t.getTheme().get(o+"Axis")),CU(e,this.getDefaultOption()),e.type=yce(e),n&&C6(e,i,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Vie.createByAxisModel(this))},n.prototype.getCategories=function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.prototype.updateAxisBreaks=function(e){var t=mce();return t?t.updateModelAxisBreak(this,e):{breaks:[]}},n.type=t+"Axis."+o,n.defaultOption=a,n}(n);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",yce)}function yce(e){return e.type||(e.data?"category":"value")}var bce=function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return RU(this._dimList,function(e){return this._axes[e]},this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),PU(this.getAxes(),function(t){return t.scale.type===e})},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}(),xce=["x","y"];function _ce(e){return("interval"===e.type||"time"===e.type)&&!e.hasBreaks()}var wce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=xce,t}return nU(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if(_ce(e)&&_ce(t)){var n=e.getExtent(),i=t.getExtent(),r=this.dataToPoint([n[0],i[0]]),o=this.dataToPoint([n[1],i[1]]),a=n[1]-n[0],s=i[1]-i[0];if(a&&s){var l=(o[0]-r[0])/a,c=(o[1]-r[1])/s,u=r[0]-n[0]*l,h=r[1]-i[0]*c,d=this._transform=[l,0,0,c,u,h];this._invTransform=bq([],d)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,t){var n=this.dataToPoint(e),i=this.dataToPoint(t),r=this.getArea(),o=new Rq(n[0],n[1],i[0]-n[0],i[1]-n[1]);return r.intersect(o)},t.prototype.dataToPoint=function(e,t,n){n=n||[];var i=e[0],r=e[1];if(this._transform&&null!=i&&isFinite(i)&&null!=r&&isFinite(r))return PX(n,e,this._transform);var o=this.getAxis("x"),a=this.getAxis("y");return n[0]=o.toGlobalCoord(o.dataToCoord(i,t)),n[1]=a.toGlobalCoord(a.dataToCoord(r,t)),n},t.prototype.clampData=function(e,t){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent(),a=n.parse(e[0]),s=i.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),a),Math.max(r[0],r[1])),t[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),t},t.prototype.pointToData=function(e,t,n){if(n=n||[],this._invTransform)return PX(n,e,this._invTransform);var i=this.getAxis("x"),r=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(e[0]),t),n[1]=r.coordToData(r.toLocalCoord(e[1]),t),n},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(e){e=e||0;var t=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1])-e,r=Math.min(n[0],n[1])-e,o=Math.max(t[0],t[1])-i+e,a=Math.max(n[0],n[1])-r+e;return new Rq(i,r,o,a)},t}(bce),Sce=function(e){function t(t,n,i,r,o){var a=e.call(this,t,n,i)||this;return a.index=0,a.type=r||"value",a.position=o||"bottom",a}return nU(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(foe),Mce="expandAxisBreak",kce="collapseAxisBreak",Cce="toggleAxisBreak",Tce="axisbreakchanged",Ace={type:Mce,event:Tce,update:"update",refineEvent:Oce},Ice={type:kce,event:Tce,update:"update",refineEvent:Oce},Dce={type:Cce,event:Tce,update:"update",refineEvent:Oce};function Oce(e,t,n,i){var r=[];return LU(e,function(e){r=r.concat(e.eventBreaks)}),{eventContent:{breaks:r}}}var Ece=Math.PI,Lce=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],Rce=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],Nce=PJ(),Pce=PJ(),zce=function(){function e(e){this.recordMap={},this.resolveAxisNameOverlap=e}return e.prototype.ensureRecord=function(e){var t=e.axis.dim,n=e.componentIndex,i=this.recordMap,r=i[t]||(i[t]=[]);return r[n]||(r[n]={ready:{}})},e}();var Bce=[1,0,0,1,0,0],Vce=new Rq(0,0,0,0),Fce=function(e,t,n,i,r,o){if(Ere(e.nameLocation)){var a=o.stOccupiedRect;a&&Hce(function e(t,n,i){return t.transform=v3(t.transform,i),t.localRect=m3(t.localRect,n),t.rect=m3(t.rect,n),i&&t.rect.applyTransform(i),t.axisAligned=f3(i),t.obb=void 0,(t.label=t.label||{}).ignore=!1,t}({},a,o.transGroup.transform),i,r)}else Wce(o.labelInfoList,o.dirVec,i,r)};function Hce(e,t,n){var i=new xq;Koe(e,t,i,{direction:Math.atan2(n.y,n.x),bidirectional:!1,touchThreshold:.05})&&Uoe(t,i)}function Wce(e,t,n,i){for(var r=xq.dot(i,t)>=0,o=0,a=e.length;o<a;o++){var s=e[r?o:a-1-o];s.label.ignore||Hce(s,n,i)}}var $ce=function(){function e(e,t,n,i){this.group=new FK,this._axisModel=e,this._api=t,this._local={},this._shared=i||new zce(Fce),this._resetCfgDetermined(n)}return e.prototype.updateCfg=function(e){var t=this._cfg.raw;t.position=e.position,t.labelOffset=e.labelOffset,this._resetCfgDetermined(t)},e.prototype.__getRawCfg=function(){return this._cfg.raw},e.prototype._resetCfgDetermined=function(e){var t=this._axisModel,n=t.getDefaultOption?t.getDefaultOption():{},i=eX(e.axisName,t.get("name")),r=t.get("nameMoveOverlap");null!=r&&"auto"!==r||(r=eX(e.defaultNameMoveOverlap,!0));var o={raw:e,position:e.position,rotation:e.rotation,nameDirection:eX(e.nameDirection,1),tickDirection:eX(e.tickDirection,1),labelDirection:eX(e.labelDirection,1),labelOffset:eX(e.labelOffset,0),silent:eX(e.silent,!0),axisName:i,nameLocation:tX(t.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:eue(i)&&r,optionHideOverlap:t.get(["axisLabel","hideOverlap"]),showMinorTicks:t.get(["minorTick","show"])};this._cfg=o;var a=new FK({x:o.position[0],y:o.position[1],rotation:o.rotation});a.updateTransform(),this._transformGroup=a;var s=this._shared.ensureRecord(t);s.transGroup=this._transformGroup,s.dirVec=new xq(Math.cos(-o.rotation),Math.sin(-o.rotation))},e.prototype.build=function(e,t){var n=this;return e||(e={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),LU(jce,function(i){e[i]&&Gce[i](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,t||{})}),this},e.innerTextLayout=function(e,t,n){var i,r,o=aJ(t-e);return sJ(o)?(r=n>0?"top":"bottom",i="center"):sJ(o-Ece)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&o<Ece?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:r}},e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},e.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},e}(),jce=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],Gce={axisLine:function(e,t,n,i,r,o,a){var s=i.get(["axisLine","show"]);if("auto"===s&&(s=!0,null!=e.raw.axisLineAutoShow&&(s=!!e.raw.axisLineAutoShow)),s){var l=i.axis.getExtent(),c=o.transform,u=[l[0],0],h=[l[1],0],d=u[0]>h[0];c&&(PX(u,u,c),PX(h,h,c));var p=AU({lineCap:"round"},i.getModel(["axisLine","lineStyle"]).getLineStyle()),f={strokeContainThreshold:e.raw.strokeContainThreshold||5,silent:!0,z2:1,style:p};if(i.get(["axisLine","breakLine"])&&i.axis.scale.hasBreaks())mce().buildAxisBreakLine(i,r,o,f);else{var g=new o5(AU({shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]}},f));Z5(g.shape,g.style.lineWidth),g.anid="line",r.add(g)}var m=i.get(["axisLine","symbol"]);if(null!=m){var v=i.get(["axisLine","symbolSize"]);jU(m)&&(m=[m,m]),(jU(v)||UU(v))&&(v=[v,v]);var y=qee(i.get(["axisLine","symbolOffset"])||0,v),b=v[0],x=v[1];LU([{rotate:e.rotation+Math.PI/2,offset:y[0],r:0},{rotate:e.rotation-Math.PI/2,offset:y[1],r:Math.sqrt((u[0]-h[0])*(u[0]-h[0])+(u[1]-h[1])*(u[1]-h[1]))}],function(t,n){if("none"!==m[n]&&null!=m[n]){var i=Uee(m[n],-b/2,-x/2,b,x,p.stroke,!0),o=t.r+t.offset,a=d?h:u;i.attr({rotation:t.rotate,x:a[0]+o*Math.cos(e.rotation),y:a[1]-o*Math.sin(e.rotation),silent:!0,z2:11}),r.add(i)}})}}},axisTickLabelEstimate:function(e,t,n,i,r,o,a,s){Yce(t,r,s)&&Uce(e,t,n,i,r,o,a,Kre)},axisTickLabelDetermine:function(e,t,n,i,r,o,a,s){Yce(t,r,s)&&Uce(e,t,n,i,r,o,a,Jre);var l=function c(e,t,n,i){var r=i.axis,o=i.getModel("axisTick"),a=o.get("show");"auto"===a&&(a=!0,null!=e.raw.axisTickAutoShow&&(a=!!e.raw.axisTickAutoShow));if(!a||r.scale.isBlank())return[];for(var s=o.getModel("lineStyle"),l=e.tickDirection*o.get("length"),c=qce(r.getTicksCoords(),n.transform,l,IU(s.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),u=0;u<c.length;u++)t.add(c[u]);return c}(e,r,o,i);!function u(e,t,n){if(e.showMinorTicks)return;LU(t,function(e){if(e&&e.label.ignore)for(var t=0;t<n.length;t++){var i=n[t],r=Pce(i),o=Nce(e.label);if(null!=r.tickValue&&!r.onBand&&r.tickValue===o.tickValue)return void Xce(i)}})}(e,t.labelLayoutList,l),function h(e,t,n,i,r){var o=i.axis,a=i.getModel("minorTick");if(!e.showMinorTicks||o.scale.isBlank())return;var s=o.getMinorTicksCoords();if(!s.length)return;for(var l=a.getModel("lineStyle"),c=r*a.get("length"),u=IU(l.getLineStyle(),IU(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),h=0;h<s.length;h++)for(var d=qce(s[h],n.transform,c,u,"minorticks_"+h),p=0;p<d.length;p++)t.add(d[p])}(e,r,o,i,e.tickDirection)},axisName:function(e,t,n,i,r,o,a,s){var l=n.ensureRecord(i);t.nameEl&&(r.remove(t.nameEl),t.nameEl=l.nameLayout=l.nameLocation=null);var c=e.axisName;if(eue(c)){var u=e.nameLocation,h=e.nameDirection,d=i.getModel("nameTextStyle"),p=i.get("nameGap")||0,f=i.axis.getExtent(),g=i.axis.inverse?-1:1,m=new xq(0,0),v=new xq(0,0);"start"===u?(m.x=f[0]-g*p,v.x=-g):"end"===u?(m.x=f[1]+g*p,v.x=g):(m.x=(f[0]+f[1])/2,m.y=e.labelOffset+h*p,v.y=h);var y=[1,0,0,1,0,0];v.transform(vq(y,y,e.rotation));var b,x,_=i.get("nameRotate");null!=_&&(_=_*Ece/180),Ere(u)?b=$ce.innerTextLayout(e.rotation,null!=_?_:e.rotation,h):(b=function a(e,t,n,i){var r,o,a=aJ(n-e),s=i[0]>i[1],l="start"===t&&!s||"start"!==t&&s;sJ(a-Ece/2)?(o=l?"bottom":"top",r="center"):sJ(a-1.5*Ece)?(o=l?"top":"bottom",r="center"):(o="middle",r=a<1.5*Ece&&a>Ece/2?l?"left":"right":l?"right":"left");return{rotation:a,textAlign:r,textVerticalAlign:o}}(e.rotation,u,_||0,f),null!=(x=e.raw.axisNameAvailableWidth)&&(x=Math.abs(x/Math.sin(b.rotation)),!isFinite(x)&&(x=null)));var w=d.getFont(),S=i.get("nameTruncate",!0)||{},M=S.ellipsis,k=QU(e.raw.nameTruncateMaxWidth,S.maxWidth,x),C=s.nameMarginLevel||0,T=new Q0({x:m.x,y:m.y,rotation:b.rotation,silent:$ce.isLabelSilent(i),style:E3(d,{text:c,font:w,overflow:"truncate",width:k,ellipsis:M,fill:d.getTextColor()||i.get(["axisLine","lineStyle","color"]),align:d.get("align")||b.textAlign,verticalAlign:d.get("verticalAlign")||b.textVerticalAlign}),z2:1});if(h3({el:T,componentModel:i,itemName:c}),T.__fullText=c,T.anid="name",i.get("triggerEvent")){var A=$ce.makeAxisEventDataBase(i);A.targetType="axisName",A.name=c,d1(T).eventData=A}o.add(T),T.updateTransform(),t.nameEl=T;var I=l.nameLayout=$oe({label:T,priority:T.z2,defaultAttr:{ignore:T.ignore},marginDefault:Ere(u)?Lce[C]:Rce[C]});if(l.nameLocation=u,r.add(T),T.decomposeTransform(),e.shouldNameMoveOverlap&&I){var D=n.ensureRecord(i);n.resolveAxisNameOverlap(e,n,i,I,v,D)}}}};function Uce(e,t,n,i,r,o,a,s){Zce(t)||function l(e,t,n,i,r,o){var a=r.axis,s=QU(e.raw.axisLabelShow,r.get(["axisLabel","show"])),l=new FK;n.add(l);var c=Qre(i);if(!s||a.scale.isBlank())return void Kce(t,[],l,c);var u=r.getModel("axisLabel"),h=a.getViewLabels(c),d=(QU(e.raw.labelRotate,u.get("rotate"))||0)*Ece/180,p=$ce.innerTextLayout(e.rotation,d,e.labelDirection),f=r.getCategories&&r.getCategories(!0),g=[],m=r.get("triggerEvent"),v=1/0,y=-1/0;LU(h,function(e,t){var n,i="ordinal"===a.scale.type?a.scale.getRawOrdinalNumber(e.tickValue):e.tickValue,s=e.formattedLabel,c=e.rawLabel,d=u;if(f&&f[i]){var b=f[i];XU(b)&&b.textStyle&&(d=new Q3(b.textStyle,u,r.ecModel))}var x=d.getTextColor()||r.get(["axisLine","lineStyle","color"]),_=d.getShallow("align",!0)||p.textAlign,w=eX(d.getShallow("alignMinLabel",!0),_),S=eX(d.getShallow("alignMaxLabel",!0),_),M=d.getShallow("verticalAlign",!0)||d.getShallow("baseline",!0)||p.textVerticalAlign,k=eX(d.getShallow("verticalAlignMinLabel",!0),M),C=eX(d.getShallow("verticalAlignMaxLabel",!0),M),T=10+((null===(n=e.time)||void 0===n?void 0:n.level)||0);v=Math.min(v,T),y=Math.max(y,T);var A=new Q0({x:0,y:0,rotation:0,silent:$ce.isLabelSilent(r),z2:T,style:E3(d,{text:s,align:0===t?w:t===h.length-1?S:_,verticalAlign:0===t?k:t===h.length-1?C:M,fill:$U(x)?x("category"===a.type?c:"value"===a.type?i+"":i,t):x})});A.anid="label_"+i;var I=Nce(A);if(I.break=e.break,I.tickValue=i,I.layoutRotation=p.rotation,h3({el:A,componentModel:r,itemName:s,formatterParamsExtra:{isTruncated:function(){return A.isTruncated},value:c,tickIndex:t}}),m){var D=$ce.makeAxisEventDataBase(r);D.targetType="axisLabel",D.value=c,D.tickIndex=t,e.break&&(D.break={start:e.break.parsedBreak.vmin,end:e.break.parsedBreak.vmax}),"category"===a.type&&(D.dataIndex=i),d1(A).eventData=D,e.break&&function n(e,t,i,r){i.on("click",function(n){var i={type:Mce,breaks:[{start:r.parsedBreak.breakOption.start,end:r.parsedBreak.breakOption.end}]};i[e.axis.dim+"AxisIndex"]=e.componentIndex,t.dispatchAction(i)})}(r,o,A,e.break)}g.push(A),l.add(A)});var b=RU(g,function(e){return{label:e,priority:Nce(e).break?e.z2+(y-v+1):e.z2,defaultAttr:{ignore:e.ignore}}});Kce(t,b,l,c)}(e,t,r,s,i,a);var c=t.labelLayoutList;!function u(e,t,n,i){var r=t.get(["axisLabel","margin"]);LU(n,function(n,o){var a=$oe(n);if(a){var s=a.label,l=Nce(s);a.suggestIgnore=s.ignore,s.ignore=!1,mK(Jce,Qce),Jce.x=t.axis.dataToCoord(l.tickValue),Jce.y=e.labelOffset+e.labelDirection*r,Jce.rotation=l.layoutRotation,i.add(Jce),Jce.updateTransform(),i.remove(Jce),Jce.decomposeTransform(),mK(s,Jce),s.markRedraw(),Hoe(a,!0),$oe(a)}})}(e,i,c,o),function h(e,t,n){var i=p4();if(!i)return;var r=i.retrieveAxisBreakPairs(n,function(e){return e&&Nce(e.label).break},!0),o=e.get(["breakLabelLayout","moveOverlap"],!0);!0!==o&&"auto"!==o||LU(r,function(i){mce().adjustBreakLabelPair(e.axis.inverse,t,[$oe(n[i[0]]),$oe(n[i[1]])])})}(i,e.rotation,c);var d=e.optionHideOverlap;!function p(e,t,n){if(Dre(e.axis))return;function i(e,i,r){var o=$oe(t[i]),a=$oe(t[r]);if(o&&a)if(!1===e||o.suggestIgnore)Xce(o.label);else if(a.suggestIgnore)Xce(a.label);else{var s=.1;if(!n){var l=[0,0,0,0];o=Xoe({marginForce:l},o),a=Xoe({marginForce:l},a)}Koe(o,a,null,{touchThreshold:s})&&Xce(e?a.label:o.label)}}var r=e.get(["axisLabel","showMinLabel"]),o=e.get(["axisLabel","showMaxLabel"]),a=t.length;i(r,0,1),i(o,a-1,a-2)}(i,c,d),d&&Zoe(PU(c,function(e){return e&&!e.label.ignore})),function f(e,t,n,i){var r,o=n.axis,a=t.ensureRecord(n),s=[],l=eue(e.axisName)&&Ere(e.nameLocation);LU(i,function(e){var t=$oe(e);if(t&&!t.label.ignore){s.push(t);var n=a.transGroup;l&&(n.transform?bq(Bce,n.transform):pq(Bce),t.transform&&gq(Bce,Bce,t.transform),Rq.copy(Vce,t.localRect),Vce.applyTransform(Bce),r?r.union(Vce):Rq.copy(r=new Rq(0,0,0,0),Vce))}});var c=Math.abs(a.dirVec.x)>.1?"x":"y",u=a.transGroup[c];if(s.sort(function(e,t){return Math.abs(e.label[c]-u)-Math.abs(t.label[c]-u)}),l&&r){var h=o.getExtent(),d=Math.min(h[0],h[1]),p=Math.max(h[0],h[1])-d;r.union(new Rq(d,0,p,1))}a.stOccupiedRect=r,a.labelInfoList=s}(e,n,i,c)}function Xce(e){e&&(e.ignore=!0)}function qce(e,t,n,i,r){for(var o=[],a=[],s=[],l=0;l<e.length;l++){var c=e[l].coord;a[0]=c,a[1]=0,s[0]=c,s[1]=n,t&&(PX(a,a,t),PX(s,s,t));var u=new o5({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});Z5(u.shape,u.style.lineWidth),u.anid=r+"_"+e[l].tickValue,o.push(u);var h=Pce(u);h.onBand=!!e[l].onBand,h.tickValue=e[l].tickValue}return o}function Yce(e,t,n){if(Zce(e)){var i=e.axisLabelsCreationContext.out.noPxChangeTryDetermine;if(n.noPxChange){for(var r=!0,o=0;o<i.length;o++)r=r&&i[o]();if(r)return!1}i.length&&(t.remove(e.labelGroup),Kce(e,null,null,null))}return!0}function Zce(e){return!!e.labelLayoutList}function Kce(e,t,n,i){e.labelLayoutList=t,e.labelGroup=n,e.axisLabelsCreationContext=i}var Jce=new Y0,Qce=new Y0;function eue(e){return!!e}function tue(e,t,n){n=n||{};var i=t.axis,r={},o=i.getAxesOnZeroOf()[0],a=i.position,s=o?"onZero":a,l=i.dim,c=[e.x,e.x+e.width,e.y,e.y+e.height],u={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,d="x"===l?[c[2]-h,c[3]+h]:[c[0]-h,c[1]+h];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));d[u.onZero]=Math.max(Math.min(p,d[1]),d[0])}r.position=["y"===l?d[u[s]]:c[0],"x"===l?d[u[s]]:c[3]],r.rotation=Math.PI/2*("x"===l?0:1);r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,left:-1,right:1}[a],r.labelOffset=o?d[u[a]]-d[u.onZero]:0,t.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),QU(n.labelInside,t.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var f=t.get(["axisLabel","rotate"]);return r.labelRotate="top"===s?-f:f,r.z2=1,r}function nue(e){var t={xAxisModel:null,yAxisModel:null};return LU(t,function(n,i){var r=i.replace(/Model$/,""),o=e.getReferringComponents(r,FJ).models[0];t[i]=o}),t}function iue(e,t,n){var i=$ie.prototype,r=i.getTicks.call(n),o=i.getTicks.call(n,{expandToNicedExtent:!0}),a=r.length-1,s=i.getInterval.call(n),l=Mre(e,t),c=l.extent,u=l.fixMin,h=l.fixMax;"log"===e.type&&(c=Pie(e.base,c,!0)),e.setBreaksFromOption(Rre(t)),e.setExtent(c[0],c[1]),e.calcNiceExtent({splitNumber:a,fixMin:u,fixMax:h});var d=i.getExtent.call(e);u&&(c[0]=d[0]),h&&(c[1]=d[1]);var p=i.getInterval.call(e),f=c[0],g=c[1];if(u&&h)p=(g-f)/a;else if(u)for(g=c[0]+p*a;g<c[1]&&isFinite(g)&&isFinite(c[1]);)p=Iie(p),g=c[0]+p*a;else if(h)for(f=c[1]-p*a;f>c[0]&&isFinite(f)&&isFinite(c[0]);)p=Iie(p),f=c[1]-p*a;else{e.getTicks().length-1>a&&(p=Iie(p));var m=p*a;(f=eJ((g=Math.ceil(c[1]/p)*p)-m))<0&&c[0]>=0?(f=0,g=eJ(m)):g>0&&c[1]<=0&&(g=0,f=-eJ(m))}var v=(r[0].value-o[0].value)/s,y=(r[a].value-o[a].value)/s;i.setExtent.call(e,f+p*v,g+p*y),i.setInterval.call(e,p),(v||y)&&i.setNiceExtent.call(e,f+p,g-p)}var rue,oue=[[3,1],[0,2]],aue=function(){function e(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=xce,this._initCartesian(e,t,n),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var n=this._axesMap;function i(e){var t,n=BU(e),i=n.length;if(i){for(var r=[],o=i-1;o>=0;o--){var a=e[+n[o]],s=a.model,l=a.scale;Tie(l)&&s.get("alignTicks")&&null==s.get("interval")?r.push(a):(kre(l,s),Tie(l)&&(t=a))}r.length&&(t||kre((t=r.pop()).scale,t.model),LU(r,function(e){iue(e.scale,e.model,t.scale)}))}}this._updateScale(e,this.model),i(n.x),i(n.y);var r={};LU(n.x,function(e){lue(n,"y",e,r)}),LU(n.y,function(e){lue(n,"x",e,r)}),this.resize(this.model,t)},e.prototype.resize=function(e,t,n){var i=S6(e,t),r=this._rect=x6(e.getBoxLayoutParams(),i.refContainer),o=this._axesMap,a=this._coordsList,s=e.get("containLabel");if(uue(o,r),!n){var l=function n(e,t,i,r,o){var a=new zce(fue);return LU(i,function(n){return LU(n,function(n){if(Lre(n.model)){var i=!r;n.axisBuilder=function s(e,t,n,i,r,o){for(var a=tue(e,n),s=!1,l=!1,c=0;c<t.length;c++)Tie(t[c].getOtherAxis(n.axis).scale)&&(s=l=!0,"category"===n.axis.type&&n.axis.onBand&&(l=!1));return a.axisLineAutoShow=s,a.axisTickAutoShow=l,a.defaultNameMoveOverlap=o,new $ce(n,i,a,r)}(e,t,n.model,o,a,i)}})}),a}(r,a,o,s,t),c=void 0;if(s)rue?(rue(this._axesList,r),uue(o,r)):c=due(r.clone(),"axisLabel",null,r,o,l,i);else{var u=function t(e,n,i){var r,o=e.get("outerBoundsMode",!0);"same"===o?r=n.clone():null!=o&&"auto"!==o||(r=x6(e.get("outerBounds",!0)||ace,i.refContainer));var a,s=e.get("outerBoundsContain",!0);a=null==s||"auto"===s||DU(["all","axisLabel"],s)<0?"all":s;var l=[QK(eX(e.get("outerBoundsClampWidth",!0),sce[0]),n.width),QK(eX(e.get("outerBoundsClampHeight",!0),sce[1]),n.height)];return{outerBoundsRect:r,parsedOuterBoundsContain:a,outerBoundsClamp:l}}(e,r,i),h=u.outerBoundsRect,d=u.parsedOuterBoundsContain,p=u.outerBoundsClamp;h&&(c=due(h,d,p,r,o,l,i))}pue(r,o,Jre,null,c,i)}LU(this._coordsList,function(e){e.calcAffineTransform()})},e.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n)return n[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}XU(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===e||r[i].getAxis("y").index===t)return r[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(e){var t,n,i=e.seriesModel,r=e.xAxisModel||i&&i.getReferringComponents("xAxis",FJ).models[0],o=e.yAxisModel||i&&i.getReferringComponents("yAxis",FJ).models[0],a=e.gridModel,s=this._coordsList;if(i)DU(s,t=i.coordinateSystem)<0&&(t=null);else if(r&&o)t=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)n=this.getAxis("x",r.componentIndex);else if(o)n=this.getAxis("y",o.componentIndex);else if(a){a.coordinateSystem===this&&(t=this._coordsList[0])}return{cartesian:t,axis:n}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,n){var i=this,r=this,o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(t){return function(n,i){if(sue(n,e)){var l=n.get("position");"x"===t?"top"!==l&&"bottom"!==l&&(l=o.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=o.left?"right":"left"),o[l]=!0;var c=new Sce(t,Cre(n),[0,0],n.get("type"),l),u="category"===c.type;c.onBand=u&&n.get("boundaryGap"),c.inverse=n.get("inverse"),n.axis=c,c.model=n,c.grid=r,c.index=i,r._axesList.push(c),a[t][i]=c,s[t]++}}}this._axesMap=a,LU(a.x,function(t,n){LU(a.y,function(r,o){var a="x"+n+"y"+o,s=new wce(a);s.master=i,s.model=e,i._coordsMap[a]=s,i._coordsList.push(s),s.addAxis(t),s.addAxis(r)})})},e.prototype._updateScale=function(e,t){function n(e,t){LU(Ore(e,t.dim),function(n){t.scale.unionExtentFromData(e,n)})}LU(this._axesList,function(e){if(e.scale.setExtent(1/0,-1/0),"category"===e.type){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}}),e.eachSeries(function(e){if(function i(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}(e)){var r=nue(e),o=r.xAxisModel,a=r.yAxisModel;if(!sue(o,t)||!sue(a,t))return;var s=this.getCartesian(o.componentIndex,a.componentIndex),l=e.getData(),c=s.getAxis("x"),u=s.getAxis("y");n(l,c),n(l,u)}},this)},e.prototype.getTooltipAxes=function(e){var t=[],n=[];return LU(this.getCartesians(),function(i){var r=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(r);DU(t,r)<0&&t.push(r),DU(n,o)<0&&n.push(o)}),{baseAxes:t,otherAxes:n}},e.create=function(t,n){var i=[];return t.eachComponent("grid",function(r,o){var a=new e(r,t,n);a.name="grid_"+o,a.resize(r,n,!0),r.coordinateSystem=a,i.push(a)}),t.eachSeries(function(e){h6({targetModel:e,coordSysType:"cartesian2d",coordSysProvider:function t(){var t=nue(e),n=t.xAxisModel,i=t.yAxisModel;return n.getCoordSysModel().coordinateSystem.getCartesian(n.componentIndex,i.componentIndex)}})}),i},e.dimensions=xce,e}();function sue(e,t){return e.getCoordSysModel()===t}function lue(e,t,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=e[t],a=n.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)cue(o[l])&&(r=o[l]);else for(var c in o)if(o.hasOwnProperty(c)&&cue(o[c])&&!i[u(o[c])]){r=o[c];break}r&&(i[u(r)]=!0)}function u(e){return e.dim+"_"+e.index}}function cue(e){return e&&"category"!==e.type&&"time"!==e.type&&function t(e){var t=e.scale.getExtent(),n=t[0],i=t[1];return!(n>0&&i>0||n<0&&i<0)}(e)}function uue(e,t){LU(e.x,function(e){return hue(e,t.x,t.width)}),LU(e.y,function(e){return hue(e,t.y,t.height)})}function hue(e,t,n){var i=[0,n],r=e.inverse?1:0;e.setExtent(i[r],i[1-r]),function o(e,t){var n=e.getExtent(),i=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return i-e+t}}(e,t)}function due(e,t,n,i,r,o,a){pue(i,r,Kre,t,!1,a);var s=[0,0,0,0];c(0),c(1),u(i,0,NaN),u(i,1,NaN);var l=null==zU(s,function(e){return e>0});return l3(i,s,!0,!0,n),uue(r,i),l;function c(e){LU(r[B5[e]],function(t){if(Lre(t.model)){var n=o.ensureRecord(t.model),i=n.labelInfoList;if(i)for(var r=0;r<i.length;r++){var a=i[r],s=t.scale.normalize(Nce(a.label).tickValue);s=1===e?1-s:s,u(a.rect,e,s),u(a.rect,1-e,NaN)}var l=n.nameLayout;if(l){s=Ere(n.nameLocation)?.5:NaN;u(l.rect,e,s),u(l.rect,1-e,NaN)}}})}function u(t,n,i){var r=e[B5[n]]-t[B5[n]],o=t[V5[n]]+t[B5[n]]-(e[V5[n]]+e[B5[n]]);r=h(r,1-i),o=h(o,i);var a=oue[n][0],l=oue[n][1];s[a]=qK(s[a],r),s[l]=qK(s[l],o)}function h(e,t){return e>0&&!JU(t)&&t>1e-4&&(e/=t),e}}function pue(e,t,n,i,r,o){var a=n===Jre;LU(t,function(t){return LU(t,function(t){Lre(t.model)&&(!function n(e,t,i){var r=tue(t,i);e.updateCfg(r)}(t.axisBuilder,e,t.model),t.axisBuilder.build(a?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:r}))})});var s={x:0,y:0};function l(t){s[B5[1-t]]=e[V5[t]]<=.5*o.refContainer[V5[t]]?0:1-t==1?2:1}l(0),l(1),LU(t,function(e,t){return LU(e,function(e){Lre(e.model)&&(("all"===i||a)&&e.axisBuilder.build({axisName:!0},{nameMarginLevel:s[t]}),a&&e.axisBuilder.build({axisLine:!0}))})})}var fue=function(e,t,n,i,r,o){var a="x"===n.axis.dim?"y":"x";Fce(e,0,0,i,r,o),Ere(e.nameLocation)||LU(t.recordMap[a],function(e){e&&e.labelInfoList&&e.dirVec&&Wce(e.labelInfoList,e.dirVec,i,r)})};function gue(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function i(e,t,n){var i=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];LU(n.getCoordinateSystems(),function(n){if(n.axisPointerEnabled){var s=bue(n.model),l=e.coordSysAxesInfo[s]={};e.coordSysMap[s]=n;var c=n.model.getModel("tooltip",i);if(LU(n.getAxes(),HU(p,!1,null)),n.getTooltipAxes&&i&&c.get("show")){var u="axis"===c.get("trigger"),h="cross"===c.get(["axisPointer","type"]),d=n.getTooltipAxes(c.get(["axisPointer","axis"]));(u||h)&&LU(d.baseAxes,HU(p,!h||"cross",u)),h&&LU(d.otherAxes,HU(p,"cross",!1))}}function p(i,s,u){var h=u.model.getModel("axisPointer",r),d=h.get("show");if(d&&("auto"!==d||i||yue(h))){null==s&&(s=h.get("triggerTooltip")),h=i?function d(e,t,n,i,r,o){var a=t.getModel("axisPointer"),s={};LU(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(e){s[e]=kU(a.get(e))}),s.snap="category"!==e.type&&!!o,"cross"===a.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===r){var c=a.get(["label","show"]);if(l.show=null==c||c,!o){var u=s.lineStyle=a.get("crossStyle");u&&IU(l,u.textStyle)}}return e.model.getModel("axisPointer",new Q3(s,n,i))}(u,c,r,t,i,s):h;var p=h.get("snap"),f=h.get("triggerEmphasis"),g=bue(u.model),m=s||p||"category"===u.type,v=e.axesInfo[g]={key:g,axis:u,coordSys:n,axisPointerModel:h,triggerTooltip:s,triggerEmphasis:f,involveSeries:m,snap:p,useHandle:yue(h),seriesModels:[],linkGroup:null};l[g]=v,e.seriesInvolved=e.seriesInvolved||m;var y=function x(e,t){for(var n=t.model,i=t.dim,r=0;r<e.length;r++){var o=e[r]||{};if(mue(o[i+"AxisId"],n.id)||mue(o[i+"AxisIndex"],n.componentIndex)||mue(o[i+"AxisName"],n.name))return r}}(o,u);if(null!=y){var b=a[y]||(a[y]={axesInfo:{}});b.axesInfo[g]=v,b.mapper=o[y].mapper,v.linkGroup=b}}}})}(n,e,t),n.seriesInvolved&&function r(e,t){t.eachSeries(function(t){var n=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),r=t.get(["tooltip","show"],!0);n&&n.model&&"none"!==i&&!1!==i&&"item"!==i&&!1!==r&&!1!==t.get(["axisPointer","show"],!0)&&LU(e.coordSysAxesInfo[bue(n.model)],function(e){var i=e.axis;n.getAxis(i.dim)===i&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())})})}(n,e),n}function mue(e,t){return"all"===e||WU(e)&&DU(e,t)>=0||e===t}function vue(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[bue(e)]}function yue(e){return!!e.get(["handle","show"])}function bue(e){return e.type+"||"+e.id}var xue={},_ue=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(t,n,i,r){this.axisPointerClass&&function o(e){var t=vue(e);if(t){var n=t.axisPointerModel,i=t.axis.scale,r=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=i.parse(a));var s=yue(n);null==o&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},t.prototype.updateAxisPointer=function(e,t,n,i){this._doUpdateAxisPointerClass(e,n,!1)},t.prototype.remove=function(e,t){var n=this._axisPointer;n&&n.remove(t)},t.prototype.dispose=function(t,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,i){var r=t.getAxisPointerClass(this.axisPointerClass);if(r){var o=function t(e){var t=vue(e);return t&&t.axisPointerModel}(e);o?(this._axisPointer||(this._axisPointer=new r)).render(e,o,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,t){xue[e]=t},t.getAxisPointerClass=function(e){return e&&xue[e]},t.type="axis",t}(O7),wue=PJ();function Sue(e,t,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),c=r.getTicksCoords({tickModel:o,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(c.length){var u=s.length,h=wue(e).splitAreaColors,d=dX(),p=0;if(h)for(var f=0;f<c.length;f++){var g=h.get(c[f].tickValue);if(null!=g){p=(g+(u-1)*f)%u;break}}var m=r.toGlobalCoord(c[0].coord),v=a.getAreaStyle();s=WU(s)?s:[s];for(f=1;f<c.length;f++){var y=r.toGlobalCoord(c[f].coord),b=void 0,x=void 0,_=void 0,w=void 0;r.isHorizontal()?(b=m,x=l.y,_=y-b,w=l.height,m=b+_):(b=l.x,x=m,_=l.width,m=x+(w=y-x));var S=c[f-1].tickValue;null!=S&&d.set(S,p),t.add(new Y0({anid:null!=S?"area_"+S:null,shape:{x:b,y:x,width:_,height:w},style:IU({fill:s[p]},v),autoBatch:!0,silent:!0})),p=(p+1)%u}wue(e).splitAreaColors=d}}}function Mue(e){wue(e).splitAreaColors=null}var kue=["splitArea","splitLine","minorSplitLine","breakArea"],Cue=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return nU(t,e),t.prototype.render=function(t,n,i,r){this.group.removeAll();var o=this._axisGroup;(this._axisGroup=new FK,this.group.add(this._axisGroup),Lre(t))&&(this._axisGroup.add(t.axis.axisBuilder.group),LU(kue,function(e){t.get([e,"show"])&&Tue[e](this,this._axisGroup,t,t.getCoordSysModel(),i)},this),r&&"changeAxisOrder"===r.type&&r.isInitSort||n3(o,this._axisGroup,t),e.prototype.render.call(this,t,n,i,r))},t.prototype.remove=function(){Mue(this)},t.type="cartesianAxis",t}(_ue),Tue={splitLine:function(e,t,n,i,r){var o=n.axis;if(!o.scale.isBlank()){var a=n.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color"),c=!1!==a.get("showMinLine"),u=!1!==a.get("showMaxLine");l=WU(l)?l:[l];for(var h=i.coordinateSystem.getRect(),d=o.isHorizontal(),p=0,f=o.getTicksCoords({tickModel:a,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),g=[],m=[],v=s.getLineStyle(),y=0;y<f.length;y++){var b=o.toGlobalCoord(f[y].coord);if((0!==y||c)&&(y!==f.length-1||u)){var x=f[y].tickValue;d?(g[0]=b,g[1]=h.y,m[0]=b,m[1]=h.y+h.height):(g[0]=h.x,g[1]=b,m[0]=h.x+h.width,m[1]=b);var _=p++%l.length,w=new o5({anid:null!=x?"line_"+x:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},style:IU({stroke:l[_]},v),silent:!0});Z5(w.shape,v.lineWidth),t.add(w)}}}},minorSplitLine:function(e,t,n,i,r){var o=n.axis,a=n.getModel("minorSplitLine").getModel("lineStyle"),s=i.coordinateSystem.getRect(),l=o.isHorizontal(),c=o.getMinorTicksCoords();if(c.length)for(var u=[],h=[],d=a.getLineStyle(),p=0;p<c.length;p++)for(var f=0;f<c[p].length;f++){var g=o.toGlobalCoord(c[p][f].coord);l?(u[0]=g,u[1]=s.y,h[0]=g,h[1]=s.y+s.height):(u[0]=s.x,u[1]=g,h[0]=s.x+s.width,h[1]=g);var m=new o5({anid:"minor_line_"+c[p][f].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:d,silent:!0});Z5(m.shape,d.lineWidth),t.add(m)}},splitArea:function(e,t,n,i,r){Sue(e,t,n,i)},breakArea:function(e,t,n,i,r){var o=mce(),a=n.axis.scale;o&&"ordinal"!==a.type&&o.rectCoordBuildBreakAxis(t,e,n,i.coordinateSystem.getRect(),r)}},Aue=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="xAxis",t}(Cue),Iue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=Aue.type,t}return nU(t,e),t.type="yAxis",t}(Cue),Due=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return nU(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new Y0({shape:e.coordinateSystem.getRect(),style:IU({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(O7),Oue={offset:0};function Eue(e){e.registerComponentView(Due),e.registerComponentModel(lce),e.registerCoordinateSystem("cartesian2d",aue),vce(e,"x",cce,Oue),vce(e,"y",cce,Oue),e.registerComponentView(Aue),e.registerComponentView(Iue),e.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var Lue=PJ();function Rue(e,t,n,i){if(e instanceof Sce){var r=e.scale.type;if("category"!==r&&"ordinal"!==r)return n}var o=e.model,a=o.get("jitter"),s=o.get("jitterOverlap"),l=o.get("jitterMargin")||0,c="ordinal"===e.scale.type?e.getBandWidth():null;return a>0?s?Nue(n,a,c,i):function u(e,t,n,i,r,o){var a=Lue(e);a.items||(a.items=[]);var s=a.items,l=Pue(s,t,n,i,r,o,1),c=Pue(s,t,n,i,r,o,-1),u=Math.abs(l-n)<Math.abs(c-n)?l:c,h="ordinal"===e.scale.type?e.getBandWidth():null,d=Math.abs(u-n);if(d>r/2||h&&d>h/2-i)return Nue(n,r,h,i);return s.push({fixedCoord:t,floatCoord:u,r:i}),u}(e,t,n,i,a,l):n}function Nue(e,t,n,i){if(null===n)return e+(Math.random()-.5)*t;var r=n-2*i,o=Math.min(Math.max(0,t),r);return e+(Math.random()-.5)*o}function Pue(e,t,n,i,r,o,a){for(var s=n,l=0;l<e.length;l++){var c=e[l],u=t-c.fixedCoord,h=s-c.floatCoord,d=u*u+h*h,p=i+c.r+o;if(d<p*p){var f=c.floatCoord+Math.sqrt(p*p-u*u)*a;if(Math.abs(f-n)>r/2)return Number.MAX_VALUE;if(1===a&&f>s||-1===a&&f<s){s=f,l=-1;continue}}}return s}function zue(e){e.eachSeriesByType("scatter",function(e){var t=e.coordinateSystem;if(t&&("cartesian2d"===t.type||"single"===t.type)){var n=t.getBaseAxis?t.getBaseAxis():null,i=n&&function o(e,t){var n=e.coordinateSystem,i=n&&n.type,r=n&&n.getBaseAxis&&n.getBaseAxis(),o=r&&r.scale&&r.scale.type,a="cartesian2d"===i&&"ordinal"===o||"single"===i,s=t.model.get("jitter")>0;return a&&s}(e,n);if(i){var r=e.getData();r.each(function(e){var t=n.dim,i=n.orient,o="horizontal"===i&&"category"!==n.type||"vertical"===i&&"category"===n.type,a=r.getItemLayout(e),s=r.getItemVisual(e,"symbolSize"),l=s instanceof Array?(s[1]+s[0])/2:s;if("y"===t||"single"===t&&o){var c=Rue(n,a[0],a[1],l/2);r.setItemLayout(e,[a[0],c])}else if("x"===t||"single"===t&&!o){c=Rue(n,a[1],a[0],l/2);r.setItemLayout(e,[c,a[1]])}})}}})}function Bue(e){e.eachSeriesByType("radar",function(e){var t=e.getData(),n=[],i=e.coordinateSystem;if(i){var r=i.getIndicatorAxes();LU(r,function(e,o){t.each(t.mapDimension(r[o].dim),function(e,t){n[t]=n[t]||[];var r=i.dataToPoint(e,o);n[t][o]=Vue(r)?r:Fue(i)})}),t.each(function(e){var r=zU(n[e],function(e){return Vue(e)})||Fue(i);n[e].push(r.slice()),t.setItemLayout(e,n[e])})}})}function Vue(e){return!isNaN(e[0])&&!isNaN(e[1])}function Fue(e){return[e.cx,e.cy]}function Hue(e){var t=e.polar;if(t){WU(t)||(t=[t]);var n=[];LU(t,function(t,i){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],WU(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)}),e.polar=n}LU(e.series,function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)})}var Wue=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){var i=e.coordinateSystem,r=this.group,o=e.getData(),a=this._data;function s(e,t){var n=e.getItemVisual(t,"symbol")||"circle";if("none"!==n){var i=Xee(e.getItemVisual(t,"symbolSize")),r=Uee(n,-1,-1,2,2),o=e.getItemVisual(t,"symbolRotate")||0;return r.attr({style:{strokeNoScale:!0},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:o*Math.PI/180||0}),r}}function l(t,n,i,r,o,a){i.removeAll();for(var l=0;l<n.length-1;l++){var c=s(r,o);c&&(c.__dimIdx=l,t[l]?(c.setPosition(t[l]),w3[a?"initProps":"updateProps"](c,{x:n[l][0],y:n[l][1]},e,o)):c.setPosition(n[l]),i.add(c))}}function c(e){return RU(e,function(e){return[i.cx,i.cy]})}o.diff(a).add(function(t){var n=o.getItemLayout(t);if(n){var i=new e5,r=new n5,a={shape:{points:n}};i.shape.points=c(n),r.shape.points=c(n),O5(i,a,e,t),O5(r,a,e,t);var s=new FK,u=new FK;s.add(r),s.add(i),s.add(u),l(r.shape.points,n,u,o,t,!0),o.setItemGraphicEl(t,s)}}).update(function(t,n){var i=a.getItemGraphicEl(n),r=i.childAt(0),s=i.childAt(1),c=i.childAt(2),u={shape:{points:o.getItemLayout(t)}};u.shape.points&&(l(r.shape.points,u.shape.points,c,o,t,!1),P5(s),P5(r),D5(r,u,e),D5(s,u,e),o.setItemGraphicEl(t,i))}).remove(function(e){r.remove(a.getItemGraphicEl(e))}).execute(),o.eachItemGraphicEl(function(e,t){var n=o.getItemModel(t),i=e.childAt(0),a=e.childAt(1),s=e.childAt(2),l=o.getItemVisual(t,"style"),c=l.fill;r.add(e),i.useStyle(IU(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c})),a2(i,n,"lineStyle"),a2(a,n,"areaStyle");var u=n.getModel("areaStyle"),h=u.isEmpty()&&u.parentModel.isEmpty();a.ignore=h,LU(["emphasis","select","blur"],function(e){var t=n.getModel([e,"areaStyle"]),r=t.isEmpty()&&t.parentModel.isEmpty();a.ensureState(e).ignore=r&&h;var o=n.getModel([e,"lineStyle"]).getLineStyle();i.ensureState(e).style=o;var l=t.getAreaStyle();a.ensureState(e).style=l;var c=n.getModel([e,"itemStyle"]).getItemStyle();s.eachChild(function(t){t.ensureState(e).style=kU(c)})}),a.useStyle(IU(n.getModel("areaStyle").getAreaStyle(),{fill:c,opacity:.7,decal:l.decal}));var d=n.getModel("emphasis");s.eachChild(function(e){if(e instanceof W0){var i=e.style;e.useStyle(AU({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))}else e.useStyle(l),e.setColor(c),e.style.strokeNoScale=!0;var r=o.getStore().get(o.getDimensionIndex(e.__dimIdx),t);(null==r||isNaN(r))&&(r=""),D3(e,O3(n),{labelFetcher:o.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:r,inheritColor:c,defaultOpacity:l.opacity})}),n2(e,d.get("focus"),d.get("blurScope"),d.get("disabled"))}),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(N7),$ue=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return nU(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Kle(VU(this.getData,this),VU(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return Zle(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,n){var i=this.getData(),r=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(e),a=""===o?this.name:o,s=m7(this,e);return s7("section",{header:a,sortBlocks:!0,blocks:RU(r,function(t){var n=i.get(i.mapDimension(t.dim),e);return s7("nameValue",{markerType:"subItem",markerColor:s,name:t.name,value:n,sortParam:n})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,i=t.getValues(RU(n.dimensions,function(e){return t.mapDimension(e)}),e),r=0,o=i.length;r<o;r++)if(!isNaN(i[r])){var a=n.getIndicatorAxes();return n.coordToPoint(a[r].dataToCoord(i[r]),r)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(S7),jue=pce.value;function Gue(e,t){return IU({show:t},e)}var Uue=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),o=this.get("axisLabel"),a=this.get("axisName"),s=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),u=this.get("triggerEvent"),h=RU(this.get("indicator")||[],function(h){null!=h.max&&h.max>0&&!h.min?h.min=0:null!=h.min&&h.min<0&&!h.max&&(h.max=0);var d=a;null!=h.color&&(d=IU({color:h.color},a));var p=CU(kU(h),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:r,axisLabel:o,name:h.text,showName:s,nameLocation:"end",nameGap:c,nameTextStyle:d,triggerEvent:u},!1);if(jU(l)){var f=p.name;p.name=l.replace("{value}",null!=f?f:"")}else $U(l)&&(p.name=l(p.name,p));var g=new Q3(p,null,this.ecModel);return OU(g,Nre.prototype),g.mainType="radar",g.componentIndex=this.componentIndex,g},this);this._indicatorModels=h},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:R6.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:CU({lineStyle:{color:R6.color.neutral20}},jue.axisLine),axisLabel:Gue(jue.axisLabel,!1),axisTick:Gue(jue.axisTick,!1),splitLine:Gue(jue.splitLine,!0),splitArea:Gue(jue.splitArea,!0),indicator:[]},t}(D6),Xue=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){this.group.removeAll(),this._buildAxes(e,n),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e,t){var n=e.coordinateSystem;LU(RU(n.getIndicatorAxes(),function(e){var i=e.model.get("showName")?e.name:"";return new $ce(e.model,t,{axisName:i,position:[n.cx,n.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(e){e.build(),this.group.add(e.group)},this)},t.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var i=e.get("shape"),r=e.getModel("splitLine"),o=e.getModel("splitArea"),a=r.getModel("lineStyle"),s=o.getModel("areaStyle"),l=r.get("show"),c=o.get("show"),u=a.get("color"),h=s.get("color"),d=WU(u)?u:[u],p=WU(h)?h:[h],f=[],g=[];if("circle"===i)for(var m=n[0].getTicksCoords(),v=t.cx,y=t.cy,b=0;b<m.length;b++){if(l)f[T(f,d,b)].push(new E2({shape:{cx:v,cy:y,r:m[b].coord}}));if(c&&b<m.length-1)g[T(g,p,b)].push(new K2({shape:{cx:v,cy:y,r0:m[b].coord,r:m[b+1].coord}}))}else{var x,_=RU(n,function(e,n){var i=e.getTicksCoords();return x=null==x?i.length-1:Math.min(i.length-1,x),RU(i,function(e){return t.coordToPoint(e.coord,n)})}),w=[];for(b=0;b<=x;b++){for(var S=[],M=0;M<n.length;M++)S.push(_[M][b]);if(S[0]&&S.push(S[0].slice()),l)f[T(f,d,b)].push(new n5({shape:{points:S}}));if(c&&w)g[T(g,p,b-1)].push(new e5({shape:{points:S.concat(w)}}));w=S.slice().reverse()}}var k=a.getLineStyle(),C=s.getAreaStyle();LU(g,function(e,t){this.group.add(X5(e,{style:IU({stroke:"none",fill:p[t%p.length]},C),silent:!0}))},this),LU(f,function(e,t){this.group.add(X5(e,{style:IU({fill:"none",stroke:d[t%d.length]},k),silent:!0}))},this)}function T(e,t,n){var i=n%t.length;return e[i]=e[i]||[],i}},t.type="radar",t}(O7),que=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.type="value",r.angle=0,r.name="",r}return nU(t,e),t}(foe),Yue=function(){function e(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=RU(e.getIndicatorModels(),function(e,t){var n="indicator_"+t,i=new que(n,new $ie);return i.name=e.get("name"),i.model=e,e.axis=i,this.dimensions.push(n),i},this),this.resize(e,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},e.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},e.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var r,o=Math.atan2(-n,t),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var c=this._indicatorAxes[l],u=Math.abs(o-c.angle);u<a&&(r=c,s=l,a=u)}return[s,+(r&&r.coordToData(i))]},e.prototype.resize=function(e,t){var n=S6(e,t).refContainer,i=e.get("center"),r=Math.min(n.width,n.height)/2;this.cx=KK(i[0],n.width)+n.x,this.cy=KK(i[1],n.height)+n.y,this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");(jU(o)||UU(o))&&(o=[0,o]),this.r0=KK(o[0],r),this.r=KK(o[1],r),LU(this._indicatorAxes,function(e,t){e.setExtent(this.r0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n},this)},e.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model;LU(n,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(t,r){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===i){var o=t.getData();LU(n,function(e){e.scale.unionExtentFromData(o,o.mapDimension(e.dim))})}},this);var r=i.get("splitNumber"),o=new $ie;o.setExtent(0,r),o.setInterval(1),LU(n,function(e,t){iue(e.scale,e.model,o)})},e.prototype.convertToPixel=function(e,t,n){return null},e.prototype.convertFromPixel=function(e,t,n){return null},e.prototype.containPoint=function(e){return!1},e.create=function(t,n){var i=[];return t.eachComponent("radar",function(r){var o=new e(r,t,n);i.push(o),r.coordinateSystem=o}),t.eachSeriesByType("radar",function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=i[e.get("radarIndex")||0])}),i},e.dimensions=[],e}();function Zue(e){e.registerCoordinateSystem("radar",Yue),e.registerComponentModel(Uue),e.registerComponentView(Xue),e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(e){t.setItemVisual(e,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var Kue=PJ();function Jue(e,t){return!!Kue(e)[t]}kne({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},vX);var Que={axisPointer:1,tooltip:1,brush:1};function ehe(e,t,n){var i=t.getComponentByElement(e.topTarget);if(!i||i===n||Que.hasOwnProperty(i.mainType))return!1;var r=i.coordinateSystem;if(!r||r.model===n)return!1;var o=y3(i),a=y3(n);return!((o.zlevel-a.zlevel||o.z-a.z)<=0)}var the=function(e){function t(t){var n=e.call(this)||this;n._zr=t;var i=VU(n._mousedownHandler,n),r=VU(n._mousemoveHandler,n),o=VU(n._mouseupHandler,n),a=VU(n._mousewheelHandler,n),s=VU(n._pinchHandler,n);return n.enable=function(e,n){var l=n.zInfo,c=y3(l.component),u=c.z,h=c.zlevel,d={component:l.component,z:u,zlevel:h,z2:eX(l.z2,-1/0)},p=AU({},n.triggerInfo);this._opt=IU(AU({},n),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:d,triggerInfo:p}),null==e&&(e=!0),this._enabled&&this._controlType===e||(this._enabled=!0,this.disable(),!0!==e&&"move"!==e&&"pan"!==e||(ahe(t,"mousedown",i,d),ahe(t,"mousemove",r,d),ahe(t,"mouseup",o,d)),!0!==e&&"scale"!==e&&"zoom"!==e||(ahe(t,"mousewheel",a,d),ahe(t,"pinch",s,d)))},n.disable=function(){this._enabled=!1,she(t,"mousedown",i),she(t,"mousemove",r),she(t,"mouseup",o),she(t,"mousewheel",a),she(t,"pinch",s)},n}return nU(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype._checkPointer=function(e,t,n){var i=this._opt,r=i.zInfoParsed;if(ehe(e,i.api,r.component))return!1;var o=i.triggerInfo,a=!1;return"global"===o.roamTrigger&&(a=!0),a||(a=o.isInSelf(e,t,n)),a&&o.isInClip&&!o.isInClip(e,t,n)&&(a=!1),a},t.prototype._decideCursorStyle=function(e,t,n,i){var r=e.target;return!r&&this._checkPointer(e,t,n)?"grab":i?r&&r.cursor||"default":void 0},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!lq(e)&&!nhe(e)){for(var t=e.target;t;){if(t.draggable)return;t=t.__hostTarget||t.parent}var n=e.offsetX,i=e.offsetY;this._checkPointer(e,n,i)&&(this._x=n,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){var t=this._zr;if("pinch"!==e.gestureEvent&&!Jue(t,"globalPan")&&!nhe(e)){var n=e.offsetX,i=e.offsetY;if(this._dragging&&uhe("moveOnMouseMove",e,this._opt)){t.setCursorStyle("grabbing");var r=this._x,o=this._y,a=n-r,s=i-o;this._x=n,this._y=i,this._opt.preventDefaultMouseMove&&sq(e.event),e.__ecRoamConsumed=!0,che(this,"pan","moveOnMouseMove",e,{dx:a,dy:s,oldX:r,oldY:o,newX:n,newY:i,isAvailableBehavior:null})}else{var l=this._decideCursorStyle(e,n,i,!1);l&&t.setCursorStyle(l)}}},t.prototype._mouseupHandler=function(e){if(!nhe(e)){var t=this._zr;if(!lq(e)){this._dragging=!1;var n=this._decideCursorStyle(e,e.offsetX,e.offsetY,!0);n&&t.setCursorStyle(n)}}},t.prototype._mousewheelHandler=function(e){if(!nhe(e)){var t=uhe("zoomOnMouseWheel",e,this._opt),n=uhe("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,r=Math.abs(i),o=e.offsetX,a=e.offsetY;if(0!==i&&(t||n)){if(t){var s=r>3?1.4:r>1?1.2:1.1,l=i>0?s:1/s;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",e,{scale:l,originX:o,originY:a,isAvailableBehavior:null})}if(n){var c=Math.abs(i),u=(i>0?1:-1)*(c>3?.4:c>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:u,originX:o,originY:a,isAvailableBehavior:null})}}}},t.prototype._pinchHandler=function(e){if(!Jue(this._zr,"globalPan")&&!nhe(e)){var t=e.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t.prototype._checkTriggerMoveZoom=function(e,t,n,i,r){e._checkPointer(i,r.originX,r.originY)&&(sq(i.event),i.__ecRoamConsumed=!0,che(e,t,n,i,r))},t}(HX);function nhe(e){return e.__ecRoamConsumed}var ihe,rhe=PJ();function ohe(e){var t=rhe(e);return t.roam=t.roam||{},t.uniform=t.uniform||{},t}function ahe(e,t,n,i){for(var r=ohe(e).roam,o=r[t]=r[t]||[],a=0;a<o.length;a++){var s=o[a].zInfoParsed;if((s.zlevel-i.zlevel||s.z-i.z||s.z2-i.z2)<=0)break}o.splice(a,0,{listener:n,zInfoParsed:i}),function l(e,t){var n=ohe(e);n.uniform[t]||e.on(t,n.uniform[t]=function(e){var i=n.roam[t];if(i)for(var r=0;r<i.length;r++)i[r].listener(e)})}(e,t)}function she(e,t,n){for(var i=ohe(e).roam[t]||[],r=0;r<i.length;r++)if(i[r].listener===n)return i.splice(r,1),void(i.length||lhe(e,t))}function lhe(e,t){var n=ohe(e).uniform;n[t]&&(e.off(t,n[t]),n[t]=null)}function che(e,t,n,i,r){r.isAvailableBehavior=VU(uhe,null,n,i),e.trigger(t,r)}function uhe(e,t,n){var i=n[e];return!e||i&&(!jU(i)||t.event[i+"Key"])}function hhe(e,t,n){var i=e.target;i.x+=t,i.y+=n,i.dirty()}function dhe(e,t,n,i){var r=e.target,o=e.zoomLimit,a=e.zoom=e.zoom||1,s=(a=vhe(a*=t,o))/e.zoom;e.zoom=a,mhe(r,n,i,s),r.dirty()}function phe(e,t,n,i,r,o){var a=new Rq(0,0,0,0);i.enable(e.get("roam"),{api:t,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(e,t,i){return a.copy(n.getBoundingRect()),a.applyTransform(n.getComputedTransform()),a.contain(t,i)},isInClip:function(e,t,n){return!o||o.contain(t,n)}}}),r.zoomLimit=e.get("scaleLimit");var s=e.coordinateSystem;r.zoom=s?s.getZoom():1;var l=e.subType+"Roam";i.off("pan").off("zoom").on("pan",function(n){hhe(r,n.dx,n.dy),t.dispatchAction({seriesId:e.id,type:l,dx:n.dx,dy:n.dy})}).on("zoom",function(n){dhe(r,n.scale,n.originX,n.originY),t.dispatchAction({seriesId:e.id,type:l,zoom:n.scale,originX:n.originX,originY:n.originY}),t.updateLabelLayout()})}function fhe(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function ghe(e,t,n){var i=e.getZoom(),r=e.getCenter(),o=t.zoom,a=e.projectedToPoint?e.projectedToPoint(r):e.dataToPoint(r);return null!=t.dx&&null!=t.dy&&(a[0]-=t.dx,a[1]-=t.dy,e.setCenter(fhe(e,a))),null!=o&&(o=vhe(i*o,n)/i,mhe(e,t.originX,t.originY,o),e.updateTransform(),e.setCenter(fhe(e,a)),e.setZoom(o*i)),{center:e.getCenter(),zoom:e.getZoom()}}function mhe(e,t,n,i){e.x-=(t-e.x)*(i-1),e.y-=(n-e.y)*(i-1),e.scaleX*=i,e.scaleY*=i}function vhe(e,t){if(t){var n=t.min||0,i=t.max||1/0;e=Math.max(Math.min(i,e),n)}return e}function yhe(e){jU(e)&&(e=(new DOMParser).parseFromString(e,"text/xml"));var t=e;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var bhe={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},xhe=BU(bhe),_he={"alignment-baseline":"textBaseline","stop-color":"stopColor"},whe=BU(_he),She=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var n=yhe(e);this._defsUsePending=[];var i=new FK;this._root=i;var r=[],o=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||t.width),s=parseFloat(n.getAttribute("height")||t.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),Ihe(n,i,null,!0,!1);for(var l,c,u=n.firstChild;u;)this._parseNode(u,i,r,null,!1,!1),u=u.nextSibling;if(function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i[0].style[i[1]]=e[i[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var d=Lhe(o);d.length>=4&&(l={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(l&&null!=a&&null!=s&&(c=Bhe(l,{x:0,y:0,width:a,height:s}),!t.ignoreViewBox)){var p=i;(i=new FK).add(p),p.scaleX=p.scaleY=c.scale,p.x=c.x,p.y=c.y}return t.ignoreRootClip||null==a||null==s||i.setClipPath(new Y0({shape:{x:0,y:0,width:a,height:s}})),{root:i,width:a,height:s,viewBoxRect:l,viewBoxTransform:c,named:r}},e.prototype._parseNode=function(e,t,n,i,r,o){var a,s=e.nodeName.toLowerCase(),l=i;if("defs"===s&&(r=!0),"text"===s&&(o=!0),"defs"===s||"switch"===s)a=t;else{if(!r){var c=ihe[s];if(c&&mX(ihe,s)){a=c.call(this,e,t);var u=e.getAttribute("name");if(u){var h={name:u,namedFrom:null,svgNodeTagLower:s,el:a};n.push(h),"g"===s&&(l=h)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:a});t.add(a)}}var d=Mhe[s];if(d&&mX(Mhe,s)){var p=d.call(this,e),f=e.getAttribute("id");f&&(this._defs[f]=p)}}if(a&&a.isGroup)for(var g=e.firstChild;g;)1===g.nodeType?this._parseNode(g,a,n,l,r,o):3===g.nodeType&&o&&this._parseText(g,a),g=g.nextSibling},e.prototype._parseText=function(e,t){var n=new V0({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});The(t,n),Ihe(e,n,this._defsUsePending,!1,!1),function i(e,t){var n=t.__selfStyle;if(n){var i=n.textBaseline,r=i;i&&"auto"!==i?"baseline"===i?r="alphabetic":"before-edge"===i||"text-before-edge"===i?r="top":"after-edge"===i||"text-after-edge"===i?r="bottom":"central"!==i&&"mathematical"!==i||(r="middle"):r="alphabetic",e.style.textBaseline=r}var o=t.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&("middle"===a&&(s="center"),e.style.textAlign=s)}}(n,t);var r=n.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,n.scaleX*=o/9,n.scaleY*=o/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var s=n.getBoundingRect();return this._textX+=s.width,t.add(n),n},e.internalField=void(ihe={g:function(e,t){var n=new FK;return The(t,n),Ihe(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new Y0;return The(t,n),Ihe(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new E2;return The(t,n),Ihe(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new o5;return The(t,n),Ihe(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new R2;return The(t,n),Ihe(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n,i=e.getAttribute("points");i&&(n=Ahe(i));var r=new e5({shape:{points:n||[]},silent:!0});return The(t,r),Ihe(e,r,this._defsUsePending,!1,!1),r},polyline:function(e,t){var n,i=e.getAttribute("points");i&&(n=Ahe(i));var r=new n5({shape:{points:n||[]},silent:!0});return The(t,r),Ihe(e,r,this._defsUsePending,!1,!1),r},image:function(e,t){var n=new W0;return The(t,n),Ihe(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",r=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(o);var a=new FK;return The(t,a),Ihe(e,a,this._defsUsePending,!1,!0),a},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0",a=new FK;return The(t,a),Ihe(e,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(r),this._textY+=parseFloat(o),a},path:function(e,t){var n=I2(e.getAttribute("d")||"");return The(t,n),Ihe(e,n,this._defsUsePending,!1,!1),n.silent=!0,n}}),e}(),Mhe={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),n=parseInt(e.getAttribute("y1")||"0",10),i=parseInt(e.getAttribute("x2")||"10",10),r=parseInt(e.getAttribute("y2")||"0",10),o=new f5(t,n,i,r);return khe(e,o),Che(e,o),o},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),n=parseInt(e.getAttribute("cy")||"0",10),i=parseInt(e.getAttribute("r")||"0",10),r=new g5(t,n,i);return khe(e,r),Che(e,r),r}};function khe(e,t){"userSpaceOnUse"===e.getAttribute("gradientUnits")&&(t.global=!0)}function Che(e,t){for(var n=e.firstChild;n;){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var i=n.getAttribute("offset"),r=void 0;r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};zhe(n,o,o);var a=o.stopColor||n.getAttribute("stop-color")||"#000000",s=o.stopOpacity||n.getAttribute("stop-opacity");if(s){var l=YY(a);l&&l[3]&&(l[3]*=HY(s),a=tZ(l,"rgba"))}t.colorStops.push({offset:r,color:a})}n=n.nextSibling}}function The(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),IU(t.__inheritedStyle,e.__inheritedStyle))}function Ahe(e){for(var t=Lhe(e),n=[],i=0;i<t.length;i+=2){var r=parseFloat(t[i]),o=parseFloat(t[i+1]);n.push([r,o])}return n}function Ihe(e,t,n,i,r){var o=t,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===e.nodeType&&(!function l(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=[],r=null;n.replace(Rhe,function(e,t,n){return i.push(t,n),""});for(var o=i.length-1;o>0;o-=2){var a=i[o],s=i[o-1],l=Lhe(a);switch(r=r||dq(),s){case"translate":mq(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":yq(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":vq(r,r,-parseFloat(l[0])*Nhe,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":gq(r,[1,0,Math.tan(parseFloat(l[0])*Nhe),1,0,0],r);break;case"skewY":gq(r,[1,Math.tan(parseFloat(l[0])*Nhe),0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5])}}t.setLocalTransform(r)}}(e,t),zhe(e,a,s),i||function c(e,t,n){for(var i=0;i<xhe.length;i++){var r=xhe[i];null!=(o=e.getAttribute(r))&&(t[bhe[r]]=o)}for(i=0;i<whe.length;i++){var o;r=whe[i];null!=(o=e.getAttribute(r))&&(n[_he[r]]=o)}}(e,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=Ohe(o,"fill",a.fill,n)),null!=a.stroke&&(o.style.stroke=Ohe(o,"stroke",a.stroke,n)),LU(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(e){null!=a[e]&&(o.style[e]=parseFloat(a[e]))}),LU(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(e){null!=a[e]&&(o.style[e]=a[e])}),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=RU(Lhe(a.lineDash),function(e){return parseFloat(e)})),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var Dhe=/^url\(\s*#(.*?)\)/;function Ohe(e,t,n,i){var r=n&&n.match(Dhe);if(!r)return"none"===n&&(n=null),n;var o=oX(r[1]);i.push([e,t,o])}var Ehe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Lhe(e){return e.match(Ehe)||[]}var Rhe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Nhe=Math.PI/180;var Phe=/([^\s:;]+)\s*:\s*([^:;]+)/g;function zhe(e,t,n){var i,r=e.getAttribute("style");if(r)for(Phe.lastIndex=0;null!=(i=Phe.exec(r));){var o=i[1],a=mX(bhe,o)?bhe[o]:null;a&&(t[a]=i[2]);var s=mX(_he,o)?_he[o]:null;s&&(n[s]=i[2])}}function Bhe(e,t){var n=t.width/e.width,i=t.height/e.height,r=Math.min(n,i);return{scale:r,x:-(e.x+e.width/2)*r+(t.x+t.width/2),y:-(e.y+e.height/2)*r+(t.y+t.height/2)}}var Vhe=dX(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Fhe=function(){function e(e,t){this.type="geoSVG",this._usedGraphicMap=dX(),this._freedGraphics=[],this._mapName=e,this._parsedXML=yhe(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function r(e){var t=[],n=dX();return LU(e,function(e){if(null==e.namedFrom){var i=new Gre(e.name,e.el);t.push(i),n.set(e.name,i)}}),{regions:t,regionsMap:n}}(e.named),n=t.regions,i=t.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){var t,n;try{rX(null!=(n=(t=e&&function i(e,t){return(new She).parse(e,t)}(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root))}catch(kLe){throw new Error("Invalid svg format\n"+kLe.message)}var i=new FK;i.add(n),i.isGeoSVGGraphicRoot=!0;var r=t.width,o=t.height,a=t.viewBoxRect,s=this._boundingRect;if(!s){var l=void 0,c=void 0,u=void 0,h=void 0;if(null!=r?(l=0,u=r):a&&(l=a.x,u=a.width),null!=o?(c=0,h=o):a&&(c=a.y,h=a.height),null==l||null==c){var d=n.getBoundingRect();null==l&&(l=d.x,u=d.width),null==c&&(c=d.y,h=d.height)}s=this._boundingRect=new Rq(l,c,u,h)}if(a){var p=Bhe(a,s);n.scaleX=n.scaleY=p.scale,n.x=p.x,n.y=p.y}i.setClipPath(new Y0({shape:s.plain()}));var f=[];return LU(t.named,function(e){null!=Vhe.get(e.svgNodeTagLower)&&(f.push(e),function t(e){e.silent=!1,e.isGroup&&e.traverse(function(e){e.silent=!1})}(e.el))}),{root:i,boundingRect:s,named:f}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},e}();for(var Hhe=[126,25],Whe="",$he=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],jhe=0;jhe<$he.length;jhe++)for(var Ghe=0;Ghe<$he[jhe].length;Ghe++)$he[jhe][Ghe][0]/=10.5,$he[jhe][Ghe][1]/=-14,$he[jhe][Ghe][0]+=Hhe[0],$he[jhe][Ghe][1]+=Hhe[1];var Uhe={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};var Xhe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var qhe=function(){function e(e,t,n){this.type="geoJSON",this._parsedMap=dX(),this._mapName=e,this._specialAreas=n,this._geoJSON=function i(e){return jU(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}(t)}return e.prototype.load=function(e,t){t=t||"name";var n=this._parsedMap.get(t);if(!n){var i=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:i,boundingRect:Yhe(i)})}var r=dX(),o=[];return LU(n.regions,function(t){var n=t.name;e&&mX(e,n)&&(t=t.cloneShallow(n=e[n])),o.push(t),r.set(n,t)}),{regions:o,boundingRect:n.boundingRect||new Rq(0,0,0,0),regionsMap:r}},e.prototype._parseToRegions=function(e){var t,n=this._mapName,i=this._geoJSON;try{t=i?qre(i,e):[]}catch(kLe){throw new Error("Invalid geoJson format\n"+kLe.message)}return function r(e,t){if("china"===e){for(var n=0;n<t.length;n++)if(t[n].name===Whe)return;t.push(new jre(Whe,RU($he,function(e){return{type:"polygon",exterior:e}}),Hhe))}}(n,t),LU(t,function(e){var t=e.name;!function i(e,t){if("china"===e){var n=Uhe[t.name];if(n){var i=t.getCenter();i[0]+=n[0]/10.5,i[1]+=-n[1]/14,t.setCenter(i)}}}(n,e),function r(e,t){"china"===e&&""===t.name&&t.geometries.push({type:"polygon",exterior:Xhe[0]})}(n,e);var o=this._specialAreas&&this._specialAreas[t];o&&e.transformTo(o.left,o.top,o.width,o.height)},this),t},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function Yhe(e){for(var t,n=0;n<e.length;n++){var i=e[n].getBoundingRect();(t=t||i.clone()).union(i)}return t}var Zhe=dX();const Khe=function(e,t,n){if(t.svg){var i=new Fhe(e,t.svg);Zhe.set(e,i)}else{var r=t.geoJson||t.geoJSON;r&&!t.features?n=t.specialAreas:r=t;i=new qhe(e,r,n);Zhe.set(e,i)}},Jhe=function(e){return Zhe.get(e)},Qhe=function(e){var t=Zhe.get(e);return t&&"geoJSON"===t.type&&t.getMapForUser()},ede=function(e,t,n){var i=Zhe.get(e);if(i)return i.load(t,n)};var tde=["rect","circle","line","ellipse","polygon","polyline","path"],nde=dX(tde),ide=dX(tde.concat(["g"])),rde=dX(tde.concat(["g"])),ode=PJ();function ade(e){var t=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(t.fill=n),t}function sde(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var lde=function(){function e(e){var t=this.group=new FK,n=this._transformGroup=new FK;t.add(n),this.uid=n4("ec_map_draw"),this._controller=new the(e.getZr()),this._controllerHost={target:n},n.add(this._regionsGroup=new FK),n.add(this._svgGroup=new FK)}return e.prototype.draw=function(e,t,n,i,r){var o="geo"===e.mainType,a=e.getData&&e.getData();o&&t.eachComponent({mainType:"series",subType:"map"},function(t){a||t.getHostGeoModel()!==e||(a=t.getData())});var s,l=e.coordinateSystem,c=this._regionsGroup,u=this._transformGroup,h=l.getTransformInfo(),d=h.raw,p=h.roam,f=!c.childAt(0)||r;e.getShallow("clip",!0)?(s=l.getViewRect().clone(),this.group.setClipPath(new Y0({shape:s.clone()}))):this.group.removeClipPath(),f?(u.x=p.x,u.y=p.y,u.scaleX=p.scaleX,u.scaleY=p.scaleY,u.dirty()):D5(u,p,e);var g=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,m={api:n,geo:l,mapOrGeoModel:e,data:a,isVisualEncodedByVisualMap:g,isGeo:o,transformInfoRaw:d};"geoJSON"===l.resourceType?this._buildGeoJSON(m):"geoSVG"===l.resourceType&&this._buildSVG(m),this._updateController(e,s,t,n),this._updateMapSelectHandler(e,c,n,i)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=dX(),n=dX(),i=this._regionsGroup,r=e.transformInfoRaw,o=e.mapOrGeoModel,a=e.data,s=e.geo.projection,l=s&&s.stream;function c(e,t){return t&&(e=t(e)),e&&[e[0]*r.scaleX+r.x,e[1]*r.scaleY+r.y]}function u(e){for(var t=[],n=!l&&s&&s.project,i=0;i<e.length;++i){var r=c(e[i],n);r&&t.push(r)}return t}function h(e){return{shape:{points:u(e)}}}i.removeAll(),LU(e.geo.regions,function(r){var u=r.name,d=t.get(u),p=n.get(u)||{},f=p.dataIdx,g=p.regionModel;if(!d){d=t.set(u,new FK),i.add(d),f=a?a.indexOfName(u):null;var m=(g=e.isGeo?o.getRegionModel(u):a?a.getItemModel(f):null).get("silent",!0);null!=m&&(d.silent=m),n.set(u,{dataIdx:f,regionModel:g})}var v=[],y=[];LU(r.geometries,function(e){if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);l&&(t=fde(t,l)),LU(t,function(e){v.push(new e5(h(e)))})}else{var n=e.points;l&&(n=fde(n,l,!0)),LU(n,function(e){y.push(new n5(h(e)))})}});var b=c(r.getCenter(),s&&s.project);function x(t,n){if(t.length){var i=new d5({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});d.add(i),cde(e,i,f,g),ude(e,i,u,g,o,f,b),n&&(sde(i),LU(i.states,sde))}}x(v),x(y,!0)}),t.each(function(t,i){var r=n.get(i),a=r.dataIdx,s=r.regionModel;hde(e,t,i,s,o,a),dde(e,t,i,s,o),pde(e,t,i,s,o)},this)},e.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=dX(),r=!1;LU(this._svgGraphicRecord.named,function(t){var n=t.name,o=e.mapOrGeoModel,a=e.data,s=t.svgNodeTagLower,l=t.el,c=a?a.indexOfName(n):null,u=o.getRegionModel(n);null!=nde.get(s)&&l instanceof RQ&&cde(e,l,c,u),l instanceof RQ&&(l.culling=!0);var h=u.get("silent",!0);(null!=h&&(l.silent=h),l.z2EmphasisLift=0,t.namedFrom)||(null!=rde.get(s)&&ude(e,l,n,u,o,c,null),hde(e,l,n,u,o,c),dde(e,l,n,u,o),null!=ide.get(s)&&("self"===pde(e,l,n,u,o)&&(r=!0),(i.get(n)||i.set(n,[])).push(l)))},this),this._enableBlurEntireSVG(r,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(e){if(!e.isGroup){V1(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=n&&(t.opacity=n),e.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var n=t.coordinateSystem;if("geoJSON"===n.resourceType){var i=this._regionsGroupByName;if(i){var r=i.get(e);return r?[r]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=Jhe(e);if(t&&"geoSVG"===t.type){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=Jhe(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,n,i){var r=e.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(e.get("roam")||!1,{api:i,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(e,t,n){return r.containPoint([t,n])},isInClip:function(e,n,i){return!t||t.contain(n,i)}}});var s=e.mainType;function l(){var t={type:"geoRoam",componentType:s};return t[s+"Id"]=e.id,t}o.off("pan").on("pan",function(e){this._mouseDownFlag=!1,hhe(a,e.dx,e.dy),i.dispatchAction(AU(l(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(e){this._mouseDownFlag=!1,dhe(a,e.scale,e.originX,e.originY),i.dispatchAction(AU(l(),{totalZoom:a.zoom,zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))},this)},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=ode(t).ignore)})},e.prototype._updateMapSelectHandler=function(e,t,n,i){var r=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){r._mouseDownFlag=!0}),t.on("click",function(e){r._mouseDownFlag&&(r._mouseDownFlag=!1)}))},e}();function cde(e,t,n,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=ade(r),c=ade(o),u=ade(s),h=ade(a),d=e.data;if(d){var p=d.getItemVisual(n,"style"),f=d.getItemVisual(n,"decal");e.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),f&&(l.decal=bte(f,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=c,t.ensureState("select").style=u,t.ensureState("blur").style=h,V1(t)}function ude(e,t,n,i,r,o,a){var s=e.data,l=e.isGeo,c=s&&isNaN(s.get(s.mapDimension("value"),o)),u=s&&s.getItemLayout(o);if(l||c||u&&u.showLabel){var h=l?n:o,d=void 0;(!s||o>=0)&&(d=r);var p=a?{normal:{align:"center",verticalAlign:"middle"}}:null;D3(t,O3(i),{labelFetcher:d,labelDataIndex:h,defaultText:n},p);var f=t.getTextContent();if(f&&(ode(f).ignore=f.ignore,t.textConfig&&a)){var g=t.getBoundingRect().clone();t.textConfig.layoutRect=g,t.textConfig.position=[(a[0]-g.x)/g.width*100+"%",(a[1]-g.y)/g.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function hde(e,t,n,i,r,o){e.data?e.data.setItemGraphicEl(o,t):d1(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:n,region:i&&i.option||{}}}function dde(e,t,n,i,r){e.data||h3({el:t,componentModel:r,itemName:n,itemTooltipOption:i.get("tooltip")})}function pde(e,t,n,i,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var o=i.getModel("emphasis"),a=o.get("focus");return n2(t,a,o.get("blurScope"),o.get("disabled")),e.isGeo&&function s(e,t,n){var i=d1(e);i.componentMainType=t.mainType,i.componentIndex=t.componentIndex,i.componentHighDownName=n}(t,r,n),a}function fde(e,t,n){var i,r=[];function o(){i=[]}function a(){i.length&&(r.push(i),i=[])}var s=t({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(e,t){isFinite(e)&&isFinite(t)&&i.push([e,t])},sphere:function(){}});return!n&&s.polygonStart(),LU(e,function(e){s.lineStart();for(var t=0;t<e.length;t++)s.point(e[t][0],e[t][1]);s.lineEnd()}),!n&&s.polygonEnd(),r}var gde=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id)(o=this._mapDraw)&&r.add(o.group);else if(e.needsDrawMap){var o=this._mapDraw||new lde(n);r.add(o.group),o.draw(e,t,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,n){var i=e.originalData,r=this.group;i.each(i.mapDimension("value"),function(t,n){if(!isNaN(t)){var o=i.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,l=new E2({style:{fill:e.getData().getVisual("style").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:11)});if(!s){var c=e.mainSeries.getData(),u=i.getName(n),h=c.indexOfName(u),d=i.getItemModel(n),p=d.getModel("label"),f=c.getItemGraphicEl(h);D3(l,O3(d),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(h,n)}},defaultText:u}),l.disableLabelAnimation=!0,p.get("position")||l.setTextConfig({position:"bottom"}),f.onHoverStateChange=function(e){z1(l,e)}}r.add(l)}}})},t.type="map",t}(N7),mde=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.getCenter())}},n}return nU(t,e),t.prototype.getInitialData=function(e){for(var t=Zle(this,{coordDimensions:["value"],encodeDefaulter:HU(i8,this)}),n=dX(),i=[],r=0,o=t.count();r<o;r++){var a=t.getName(r);n.set(a,r)}return LU(ede(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(e){var r,o=e.name,a=n.get(o),s=e.properties&&e.properties.echartsStyle;null==a?(r={name:o},i.push(r)):r=t.getRawDataItem(a),s&&CU(r,s)}),t.appendData(i),t},t.prototype.getHostGeoModel=function(){if(u6(this).kind!==c6)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,n){for(var i=this.getData(),r=this.getRawValue(e),o=i.getName(e),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var c=a[l].originalData.indexOfName(o),u=i.mapDimension("value");isNaN(a[l].originalData.get(u,c))||s.push(a[l].name)}return s7("section",{header:s.join(", "),noHeader:!s.length,blocks:[s7("nameValue",{name:o,value:r})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",n=Uee(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill=R6.color.neutral00,n.style.lineWidth=2),n},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:R6.color.tertiary},itemStyle:{borderWidth:.5,borderColor:R6.color.border,areaColor:R6.color.background},emphasis:{label:{show:!0,color:R6.color.primary},itemStyle:{areaColor:R6.color.highlight}},select:{label:{show:!0,color:R6.color.primary},itemStyle:{color:R6.color.highlight}},nameProperty:"name"},t}(S7);function vde(e){var t={};e.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),LU(t,function(e,t){for(var n=function r(e,t){var n={};return LU(e,function(e){e.each(e.mapDimension("value"),function(t,i){var r="ec-"+e.getName(i);n[r]=n[r]||[],isNaN(t)||n[r].push(t)})}),e[0].map(e[0].mapDimension("value"),function(i,r){for(var o="ec-"+e[0].getName(r),a=0,s=1/0,l=-1/0,c=n[o].length,u=0;u<c;u++)s=Math.min(s,n[o][u]),l=Math.max(l,n[o][u]),a+=n[o][u];return 0===c?NaN:"min"===t?s:"max"===t?l:"average"===t?a/c:a})}(RU(e,function(e){return e.getData()}),e[0].get("mapValueCalculation")),i=0;i<e.length;i++)e[i].originalData=e[i].getData();for(i=0;i<e.length;i++)e[i].seriesGroup=e,e[i].needsDrawMap=0===i&&!e[i].getHostGeoModel(),e[i].setData(n.cloneShallow()),e[i].mainSeries=e[0]})}function yde(e){var t={};e.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var r={};LU(n.seriesGroup,function(t){var n=t.coordinateSystem,i=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&i.each(i.mapDimension("value"),function(e,t){var o=i.getName(t),a=n.getRegion(o);if(a&&!isNaN(e)){var s=r[o]||0,l=n.dataToPoint(a.getCenter());r[o]=s+1,i.setItemLayout(t,{point:l,offset:s})}})});var o=n.getData();o.each(function(e){var t=o.getName(e),n=o.getItemLayout(e)||{};n.showLabel=!r[t],o.setItemLayout(e,n)}),t[i]=!0}})}var bde=PX,xde=function(e){function t(t,n){var i=e.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new fK,i._rawTransformable=new fK,i.name=t,i._opt=n,i}return nU(t,e),t.prototype.setBoundingRect=function(e,t,n,i){return this._rect=new Rq(e,t,n,i),this._updateCenterAndZoom(),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,n,i){this._transformTo(e,t,n,i),this._viewRect=new Rq(e,t,n,i)},t.prototype._transformTo=function(e,t,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new Rq(e,t,n,i));var a=o.parent;o.parent=null,o.decomposeTransform(),o.parent=a,this._updateTransform()},t.prototype.setCenter=function(e){var t=this._opt;t&&t.api&&t.ecModel&&t.ecModel.getShallow("legacyViewCoordSysCenterBase")&&e&&(e=[KK(e[0],t.api.getWidth()),KK(e[1],t.api.getWidth())]),this._centerOption=kU(e),this._updateCenterAndZoom()},t.prototype.setZoom=function(e){this._zoom=vhe(e||1,this.zoomLimit),this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._centerOption,t=this._rect;e&&t&&(this._center=[KK(e[0],t.width,t.x),KK(e[1],t.height,t.y)]);var n=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=PX([],o,n),r=PX([],r,n),i.originX=o[0],i.originY=o[1],i.x=r[0]-o[0],i.y=r[1]-o[1],i.scaleX=i.scaleY=a,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),fq(this.transform||(this.transform=[]),t.transform||[1,0,0,1,0,0]),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],bq(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,n=new fK;return n.transform=t.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?bde(n,e,i):wX(n,e)},t.prototype.pointToData=function(e,t,n){n=n||[];var i=this.invTransform;return i?bde(n,e,i):(n[0]=e[0],n[1]=e[1],n)},t.prototype.convertToPixel=function(e,t,n){var i=_de(t);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var i=_de(t);return i===this?i.pointToData(n):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(fK);function _de(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var wde={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Sde=["lng","lat"],Mde=function(e){function t(t,n,i){var r=e.call(this,t,{api:i.api,ecModel:i.ecModel})||this;r.dimensions=Sde,r.type="geo",r._nameCoordMap=dX(),r.map=n;var o=i.projection,a=ede(n,i.nameMap,i.nameProperty),s=Jhe(n);r.resourceType=s?s.type:null;var l,c=r.regions=a.regions,u=wde[s.type];if(r._regionsMap=a.regionsMap,r.regions=a.regions,r.projection=o,o)for(var h=0;h<c.length;h++){var d=c[h].getBoundingRect(o);(l=l||d.clone()).union(d)}else l=a.boundingRect;return r.setBoundingRect(l.x,l.y,l.width,l.height),r.aspectScale=o?1:eX(i.aspectScale,u.aspectScale),r._invertLongitute=!o&&u.invertLongitute,r}return nU(t,e),t.prototype._transformTo=function(e,t,n,i){var r=this.getBoundingRect(),o=this._invertLongitute;r=r.clone(),o&&(r.y=-r.y-r.height);var a=this._rawTransformable;a.transform=r.calculateTransform(new Rq(e,t,n,i));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,o&&(a.scaleY=-a.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,n=0;n<t.length;n++){var i=t[n];if("geoJSON"===i.type&&i.contain(e))return t[n]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,n){if(jU(e)&&(e=this.getGeoCoord(e)),e){var i=this.projection;return i&&(e=i.project(e)),e&&this.projectedToPoint(e,t,n)}},t.prototype.pointToData=function(e,t,n){var i=this.projection;return i&&(e=i.unproject(e)),e&&this.pointToProjected(e,n)},t.prototype.pointToProjected=function(t,n){return e.prototype.pointToData.call(this,t,0,n)},t.prototype.projectedToPoint=function(t,n,i){return e.prototype.dataToPoint.call(this,t,n,i)},t.prototype.convertToPixel=function(e,t,n){var i=kde(t);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var i=kde(t);return i===this?i.pointToData(n):null},t}(xde);function kde(e){var t=e.geoModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",FJ).models[0]||{}).coordinateSystem:null}function Cde(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],r=n[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var a=i[0],s=i[1],l=r[0],c=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var u=function(e,t,n,a){for(var s=n-e,l=a-t,c=0;c<=100;c++){var u=c/100,h=o.project([e+s*u,t+l*u]);zX(i,i,h),BX(r,r,h)}};u(a,s,l,s),u(l,s,l,c),u(l,c,a,c),u(a,c,l,s)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}else;}var h,d,p,f=this.getBoundingRect(),g=e.get("layoutCenter"),m=e.get("layoutSize"),v=S6(e,t).refContainer,y=f.width/f.height*this.aspectScale,b=!1;if(g&&m&&(h=[KK(g[0],v.width)+v.x,KK(g[1],v.height)+v.y],d=KK(m,Math.min(v.width,v.height)),isNaN(h[0])||isNaN(h[1])||isNaN(d)||(b=!0)),b)p={},y>1?(p.width=d,p.height=d/y):(p.height=d,p.width=d*y),p.y=h[1]-p.height/2,p.x=h[0]-p.width/2;else{var x=e.getBoxLayoutParams();x.aspect=y,p=_6(e,p=x6(x,v),y)}this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}OU(Mde,xde);var Tde=function(){function e(){this.dimensions=Sde}return e.prototype.create=function(e,t){var n=[];function i(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",function(r,o){var a=r.get("map"),s=new Mde(a+o,a,AU({nameMap:r.get("nameMap"),api:t,ecModel:e},i(r)));s.zoomLimit=r.get("scaleLimit"),n.push(s),r.coordinateSystem=s,s.model=r,s.resize=Cde,s.resize(r,t)}),e.eachSeries(function(e){h6({targetModel:e,coordSysType:"geo",coordSysProvider:function(){var t="map"===e.subType?e.getHostGeoModel():e.getReferringComponents("geo",FJ).models[0];return t&&t.coordinateSystem},allowNotFound:!0})});var r={};return e.eachSeriesByType("map",function(e){if(!e.getHostGeoModel()){var t=e.getMapType();r[t]=r[t]||[],r[t].push(e)}}),LU(r,function(r,o){var a=RU(r,function(e){return e.get("nameMap")}),s=new Mde(o,o,AU({nameMap:TU(a),api:t,ecModel:e},i(r[0])));s.zoomLimit=QU.apply(null,RU(r,function(e){return e.get("scaleLimit")})),n.push(s),s.resize=Cde,s.resize(r[0],t),LU(r,function(e){e.coordinateSystem=s,function t(e,n){LU(n.get("geoCoord"),function(t,n){e.addGeoCoord(n,t)})}(s,e)})}),n},e.prototype.getFilledRegions=function(e,t,n,i){for(var r=(e||[]).slice(),o=dX(),a=0;a<r.length;a++)o.set(r[a].name,r[a]);return LU(ede(t,n,i).regions,function(e){var t=e.name,n=o.get(t),i=e.properties&&e.properties.echartsStyle;n||(n={name:t},r.push(n)),i&&CU(n,i)}),r},e}(),Ade=new Tde,Ide=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n);var i=Jhe(e.map);if(i&&"geoJSON"===i.type){var r=e.itemStyle=e.itemStyle||{};"color"in r||(r.color=e.defaultItemStyleColor||R6.color.backgroundTint)}kJ(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=Ade.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var n={};this._optionModelMap=NU(t.regions||[],function(t,i){var r=i.name;return r&&(t.set(r,new Q3(i,e,e.ecModel)),i.selected&&(n[r]=!0)),t},dX()),t.selectedMap||(t.selectedMap=n)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Q3(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var n=this.getRegionModel(e),i="normal"===t?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),r={name:e};return $U(i)?(r.status=t,i(r)):jU(i)?i.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,n=t.selectedMode;n&&("multiple"!==n&&(t.selectedMap=null),(t.selectedMap||(t.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:R6.color.tertiary},itemStyle:{borderWidth:.5,borderColor:R6.color.border},emphasis:{label:{show:!0,color:R6.color.primary},itemStyle:{color:R6.color.highlight}},select:{label:{show:!0,color:R6.color.primary},itemStyle:{color:R6.color.highlight}},regions:[]},t}(D6),Dde=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return nU(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,n,i){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new lde(n));var r=this._mapDraw;r.draw(e,t,n,this,i),r.group.on("click",this._handleRegionClick,this),r.group.silent=e.get("silent"),this.group.add(r.group),this.updateSelectStatus(e,t,n)},t.prototype._handleRegionClick=function(e){var t;Ree(e.target,function(e){return null!=(t=d1(e).eventData)},!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,n){var i=this;this._mapDraw.group.traverse(function(e){var t=d1(e).eventData;if(t)return i._model.isSelected(t.name)?n.enterSelect(e):n.leaveSelect(e),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(O7);function Ode(e,t,n){Khe(e,t,n)}function Ede(e){function t(t,n){n.update="geo:updateSelectStatus",e.registerAction(n,function(e,n){var i={},r=[];return n.eachComponent({mainType:"geo",query:e},function(n){n[t](e.name),LU(n.coordinateSystem.regions,function(e){i[e.name]=n.isSelected(e.name)||!1});var o=[];LU(i,function(e,t){i[t]&&o.push(t)}),r.push({geoIndex:n.componentIndex,name:o})}),{selected:i,allSelected:r,name:e.name}})}e.registerCoordinateSystem("geo",Ade),e.registerComponentModel(Ide),e.registerComponentView(Dde),e.registerImpl("registerMap",Ode),e.registerImpl("getMap",function(e){return Qhe(e)}),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,t,n){var i=e.componentType;i||(null!=e.geoId?i="geo":null!=e.seriesId&&(i="series")),i||(i="series"),t.eachComponent({mainType:i,query:e},function(t){var n=t.coordinateSystem;if("geo"===n.type){var r=ghe(n,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom),"series"===i&&LU(t.seriesGroup,function(e){e.setCenter(r.center),e.setZoom(r.zoom)})}})})}function Lde(e,t){var n=e.isExpand?e.children:[],i=e.parentNode.children,r=e.hierNode.i?i[e.hierNode.i-1]:null;if(n.length){!function i(e){var t=e.children,n=t.length,i=0,r=0;for(;--n>=0;){var o=t[n];o.hierNode.prelim+=i,o.hierNode.modifier+=i,r+=o.hierNode.change,i+=o.hierNode.shift+r}}(e);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;r?(e.hierNode.prelim=r.hierNode.prelim+t(e,r),e.hierNode.modifier=e.hierNode.prelim-o):e.hierNode.prelim=o}else r&&(e.hierNode.prelim=r.hierNode.prelim+t(e,r));e.parentNode.hierNode.defaultAncestor=function a(e,t,n,i){if(t){for(var r=e,o=e,a=o.parentNode.children[0],s=t,l=r.hierNode.modifier,c=o.hierNode.modifier,u=a.hierNode.modifier,h=s.hierNode.modifier;s=zde(s),o=Bde(o),s&&o;){r=zde(r),a=Bde(a),r.hierNode.ancestor=e;var d=s.hierNode.prelim+h-o.hierNode.prelim-c+i(s,o);d>0&&(Fde(Vde(s,e,n),e,d),c+=d,l+=d),h+=s.hierNode.modifier,c+=o.hierNode.modifier,l+=r.hierNode.modifier,u+=a.hierNode.modifier}s&&!zde(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=h-l),o&&!Bde(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=c-u,n=e)}return n}(e,r,e.parentNode.hierNode.defaultAncestor||i[0],t)}function Rde(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function Nde(e){return arguments.length?e:Hde}function Pde(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function zde(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function Bde(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function Vde(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function Fde(e,t,n){var i=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=i}function Hde(e,t){return e.parentNode===t.parentNode?1:2}var Wde=function(){return function e(){this.parentPoint=[],this.childPoints=[]}}(),$de=function(e){function t(t){return e.call(this,t)||this}return nU(t,e),t.prototype.getDefaultStyle=function(){return{stroke:R6.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new Wde},t.prototype.buildPath=function(e,t){var n=t.childPoints,i=n.length,r=t.parentPoint,o=n[0],a=n[i-1];if(1===i)return e.moveTo(r[0],r[1]),void e.lineTo(o[0],o[1]);var s=t.orient,l="TB"===s||"BT"===s?0:1,c=1-l,u=KK(t.forkPosition,1),h=[];h[l]=r[l],h[c]=r[c]+(a[c]-r[c])*u,e.moveTo(r[0],r[1]),e.lineTo(h[0],h[1]),e.moveTo(o[0],o[1]),h[l]=o[l],e.lineTo(h[0],h[1]),h[l]=a[l],e.lineTo(h[0],h[1]),e.lineTo(a[0],a[1]);for(var d=1;d<i-1;d++){var p=n[d];e.moveTo(p[0],p[1]),h[l]=p[l],e.lineTo(h[0],h[1])}},t}(z0),jde=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new FK,n}return nU(t,e),t.prototype.init=function(e,t){this._controller=new the(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,n){var i=e.getData(),r=e.layoutInfo,o=this._mainGroup;"radial"===e.get("layout")?(o.x=r.x+r.width/2,o.y=r.y+r.height/2):(o.x=r.x,o.y=r.y),this._updateViewCoordSys(e,n),this._updateController(e,null,t,n);var a=this._data;i.diff(a).add(function(t){Gde(i,t)&&Ude(i,t,null,o,e)}).update(function(t,n){var r=a.getItemGraphicEl(n);Gde(i,t)?Ude(i,t,r,o,e):r&&Yde(a,n,r,o,e)}).remove(function(t){var n=a.getItemGraphicEl(t);n&&Yde(a,t,n,o,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&i.eachItemGraphicEl(function(t,i){t.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:i})})}),this._data=i},t.prototype._updateViewCoordSys=function(e,t){var n=e.getData(),i=[];n.each(function(e){var t=n.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||i.push([+t.x,+t.y])});var r=[],o=[];GQ(i,r,o);var a=this._min,s=this._max;o[0]-r[0]===0&&(r[0]=a?a[0]:r[0]-1,o[0]=s?s[0]:o[0]+1),o[1]-r[1]===0&&(r[1]=a?a[1]:r[1]-1,o[1]=s?s[1]:o[1]+1);var l=e.coordinateSystem=new xde(null,{api:t,ecModel:e.ecModel});l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(r[0],r[1],o[0]-r[0],o[1]-r[1]),l.setCenter(e.get("center")),l.setZoom(e.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=r,this._max=o},t.prototype._updateController=function(e,t,n,i){var r=this;phe(e,i,this.group,this._controller,this._controllerHost,t),this._controller.on("zoom",function(t){r._updateNodeAndLinkScale(e)})},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),n=this._getNodeGlobalScale(e);t.eachItemGraphicEl(function(e,t){e.setSymbolScale(n)})},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio,i=t.scaleX||1;return((t.getZoom()-1)*n+1)/i},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(N7);function Gde(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function Ude(e,t,n,i,r){var o=!n,a=e.tree.getNodeByDataIndex(t),s=a.getModel(),l=a.getVisual("style").fill,c=!1===a.isExpand&&0!==a.children.length?l:R6.color.neutral00,u=e.tree.root,h=a.parentNode===u?a:a.parentNode||a,d=e.getItemGraphicEl(h.dataIndex),p=h.getLayout(),f=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:p,g=a.getLayout();o?((n=new Ase(e,t,null,{symbolInnerColor:c,useNameLabel:!0})).x=f.x,n.y=f.y):n.updateData(e,t,null,{symbolInnerColor:c,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=g.rawX,n.__radialRawY=g.rawY,i.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,D5(n,{x:g.x,y:g.y},r);var m=n.getSymbolPath();if("radial"===r.get("layout")){var v=u.children[0],y=v.getLayout(),b=v.children.length,x=void 0,_=void 0;if(g.x===y.x&&!0===a.isExpand&&v.children.length){var w={x:(v.children[0].getLayout().x+v.children[b-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[b-1].getLayout().y)/2};(x=Math.atan2(w.y-y.y,w.x-y.x))<0&&(x=2*Math.PI+x),(_=w.x<y.x)&&(x-=Math.PI)}else(x=Math.atan2(g.y-y.y,g.x-y.x))<0&&(x=2*Math.PI+x),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(_=g.x<y.x)&&(x-=Math.PI):(_=g.x>y.x)||(x-=Math.PI);var S=_?"left":"right",M=s.getModel("label"),k=M.get("rotate"),C=k*(Math.PI/180),T=m.getTextContent();T&&(m.setTextConfig({position:M.get("position")||S,rotation:null==k?-x:C,origin:"center"}),T.setStyle("verticalAlign","middle"))}var A=s.get(["emphasis","focus"]),I="relative"===A?pX(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===A?a.getAncestorsIndices():"descendant"===A?a.getDescendantIndices():null;I&&(d1(n).focus=I),function D(e,t,n,i,r,o,a,s){var l=t.getModel(),c=e.get("edgeShape"),u=e.get("layout"),h=e.getOrient(),d=e.get(["lineStyle","curveness"]),p=e.get("edgeForkPosition"),f=l.getModel("lineStyle").getLineStyle(),g=i.__edge;if("curve"===c)t.parentNode&&t.parentNode!==n&&(g||(g=i.__edge=new c5({shape:Zde(u,h,d,r,r)})),D5(g,{shape:Zde(u,h,d,o,a)},e));else if("polyline"===c&&"orthogonal"===u&&t!==n&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var m=t.children,v=[],y=0;y<m.length;y++){var b=m[y].getLayout();v.push([b.x,b.y])}g||(g=i.__edge=new $de({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:h,forkPosition:p}})),D5(g,{shape:{parentPoint:[a.x,a.y],childPoints:v}},e)}g&&("polyline"!==c||t.isExpand)&&(g.useStyle(IU({strokeNoScale:!0,fill:null},f)),a2(g,l,"lineStyle"),V1(g),s.add(g))}(r,a,u,n,f,p,g,i),n.__edge&&(n.onHoverStateChange=function(t){if("blur"!==t){var i=a.parentNode&&e.getItemGraphicEl(a.parentNode.dataIndex);i&&1===i.hoverState||z1(n.__edge,t)}})}function Xde(e,t,n,i,r){var o=qde(t.tree.root,e),a=o.source,s=o.sourceLayout,l=t.getItemGraphicEl(e.dataIndex);if(l){var c=t.getItemGraphicEl(a.dataIndex).__edge,u=l.__edge||(!1===a.isExpand||1===a.children.length?c:void 0),h=i.get("edgeShape"),d=i.get("layout"),p=i.get("orient"),f=i.get(["lineStyle","curveness"]);u&&("curve"===h?L5(u,{shape:Zde(d,p,f,s,s),style:{opacity:0}},i,{cb:function(){n.remove(u)},removeOpt:r}):"polyline"===h&&"orthogonal"===i.get("layout")&&L5(u,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},i,{cb:function(){n.remove(u)},removeOpt:r}))}}function qde(e,t){for(var n,i=t.parentNode===e?t:t.parentNode||t;null==(n=i.getLayout());)i=i.parentNode===e?i:i.parentNode||i;return{source:i,sourceLayout:n}}function Yde(e,t,n,i,r){var o=e.tree.getNodeByDataIndex(t),a=qde(e.tree.root,o).sourceLayout,s={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};L5(n,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(n),e.setItemGraphicEl(t,null)},removeOpt:s}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:s}),o.children.forEach(function(t){Xde(t,e,i,r,s)}),Xde(o,e,i,r,s)}function Zde(e,t,n,i,r){var o,a,s,l,c,u,h,d;if("radial"===e){c=i.rawX,h=i.rawY,u=r.rawX,d=r.rawY;var p=Pde(c,h),f=Pde(c,h+(d-h)*n),g=Pde(u,d+(h-d)*n),m=Pde(u,d);return{x1:p.x||0,y1:p.y||0,x2:m.x||0,y2:m.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:g.x||0,cpy2:g.y||0}}return c=i.x,h=i.y,u=r.x,d=r.y,"LR"!==t&&"RL"!==t||(o=c+(u-c)*n,a=h,s=u+(c-u)*n,l=d),"TB"!==t&&"BT"!==t||(o=c,a=h+(d-h)*n,s=u,l=d+(h-d)*n),{x1:c,y1:h,x2:u,y2:d,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var Kde=PJ();function Jde(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,rpe(t,n,e),LU(n,function(n){LU(t.TRANSFERABLE_METHODS,function(t){n.wrapMethod(t,HU(Qde,e))})}),t.wrapMethod("cloneShallow",HU(tpe,e)),LU(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,HU(epe,e))}),rX(n[t.dataType]===t)}function Qde(e,t){if(function n(e){return Kde(e).mainData===e}(this)){var i=AU({},Kde(this).datas);i[this.dataType]=t,rpe(t,i,e)}else ope(t,this.dataType,Kde(this).mainData,e);return t}function epe(e,t){return e.struct&&e.struct.update(),t}function tpe(e,t){return LU(Kde(t).datas,function(n,i){n!==t&&ope(n.cloneShallow(),i,t,e)}),t}function npe(e){var t=Kde(this).mainData;return null==e||null==t?t:Kde(t).datas[e]}function ipe(){var e=Kde(this).mainData;return null==e?[{data:e}]:RU(BU(Kde(e).datas),function(t){return{type:t,data:Kde(e).datas[t]}})}function rpe(e,t,n){Kde(e).datas={},LU(t,function(t,i){ope(t,i,e,n)})}function ope(e,t,n,i){Kde(n).datas[t]=e,Kde(e).mainData=n,e.dataType=t,i.struct&&(e[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=e),e.getLinkedData=npe,e.getLinkedDataAll=ipe}var ape=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,n){$U(e)&&(n=t,t=e,e=null),jU(e=e||{})&&(e={order:e});var i,r=e.order||"preorder",o=this[e.attr||"children"];"preorder"===r&&(i=t.call(n,this));for(var a=0;!i&&a<o.length;a++)o[a].eachNode(e,t,n);"postorder"===r&&t.call(n,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].getNodeById(e);if(r)return r}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var r=n[t].contains(e);if(r)return r}},e.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}(),spe=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,i){var r=new e(n),o=[],a=1;!function e(t,n){var i=t.value;a=Math.max(a,WU(i)?i.length:1),o.push(t);var s=new ape(EJ(t.name,""),r);n?function l(e,t){var n=t.children;if(e.parentNode===t)return;n.push(e),e.parentNode=t}(s,n):r.root=s,r._nodes.push(s);var c=t.children;if(c)for(var u=0;u<c.length;u++)e(c[u],s)}(t),r.root.updateDepthAndHeight(0);var s=yie(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,l=new vie(s,n);return l.initData(o),i&&i(l),Jde({mainData:l,struct:r,structAttr:"tree"}),r.update(),r},e}();function lpe(e,t,n){if(e&&DU(t,e.type)>=0){var i=n.getData().tree.root,r=e.targetNode;if(jU(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=e.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function cpe(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function upe(e,t){return DU(cpe(e),t)>=0}function hpe(e,t){for(var n=[];e;){var i=e.dataIndex;n.push({name:e.name,dataIndex:i,value:t.getRawValue(i)}),e=e.parentNode}return n.reverse(),n}var dpe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return nU(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},n=e.leaves||{},i=new Q3(n,this,this.ecModel),r=spe.createTree(t,this,function o(e){e.wrapMethod("getItemModel",function(e,t){var n=r.getNodeByDataIndex(t);return n&&n.children.length&&n.isExpand||(e.parentModel=i),e})});var a=0;r.eachNode("preorder",function(e){e.depth>a&&(a=e.depth)});var s=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:a;return r.root.eachNode("preorder",function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=s}),r.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,n){for(var i=this.getData().tree,r=i.root.children[0],o=i.getNodeByDataIndex(e),a=o.getValue(),s=o.name;o&&o!==r;)s=o.parentNode.name+"."+s,o=o.parentNode;return s7("nameValue",{name:s,value:a,noValue:isNaN(a)||null==a})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=hpe(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:R6.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(S7);function ppe(e,t){for(var n,i=[e];n=i.pop();)if(t(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function fpe(e,t){e.eachSeriesByType("tree",function(e){!function n(e,t){var n=S6(e,t).refContainer,i=x6(e.getBoxLayoutParams(),n);e.layoutInfo=i;var r=e.get("layout"),o=0,a=0,s=null;"radial"===r?(o=2*Math.PI,a=Math.min(i.height,i.width)/2,s=Nde(function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth})):(o=i.width,a=i.height,s=Nde());var l=e.getData().tree.root,c=l.children[0];if(c){!function t(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,i,r=[t];n=r.pop();)if(i=n.children,n.isExpand&&i.length)for(var o=i.length-1;o>=0;o--){var a=i[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},r.push(a)}}(l),function n(e,t,i){for(var r,o=[e],a=[];r=o.pop();)if(a.push(r),r.isExpand){var s=r.children;if(s.length)for(var l=0;l<s.length;l++)o.push(s[l])}for(;r=a.pop();)t(r,i)}(c,Lde,s),l.hierNode.modifier=-c.hierNode.prelim,ppe(c,Rde);var u=c,h=c,d=c;ppe(c,function(e){var t=e.getLayout().x;t<u.getLayout().x&&(u=e),t>h.getLayout().x&&(h=e),e.depth>d.depth&&(d=e)});var p=u===h?1:s(u,h)/2,f=p-u.getLayout().x,g=0,m=0,v=0,y=0;if("radial"===r)g=o/(h.getLayout().x+p+f),m=a/(d.depth-1||1),ppe(c,function(e){v=(e.getLayout().x+f)*g,y=(e.depth-1)*m;var t=Pde(v,y);e.setLayout({x:t.x,y:t.y,rawX:v,rawY:y},!0)});else{var b=e.getOrient();"RL"===b||"LR"===b?(m=a/(h.getLayout().x+p+f),g=o/(d.depth-1||1),ppe(c,function(e){y=(e.getLayout().x+f)*m,v="LR"===b?(e.depth-1)*g:o-(e.depth-1)*g,e.setLayout({x:v,y:y},!0)})):"TB"!==b&&"BT"!==b||(g=o/(h.getLayout().x+p+f),m=a/(d.depth-1||1),ppe(c,function(e){v=(e.getLayout().x+f)*g,y="TB"===b?(e.depth-1)*m:a-(e.depth-1)*m,e.setLayout({x:v,y:y},!0)}))}}}(e,t)})}function gpe(e){e.eachSeriesByType("tree",function(e){var t=e.getData();t.tree.eachNode(function(e){var n=e.getModel().getModel("itemStyle").getItemStyle();AU(t.ensureUniqueItemVisual(e.dataIndex,"style"),n)})})}var mpe=["treemapZoomToNode","treemapRender","treemapMove"];function vpe(e){var t=e.getData().tree,n={};t.eachNode(function(t){for(var i=t;i&&i.depth>1;)i=i.parentNode;var r=f8(e.ecModel,i.name||i.dataIndex+"",n);t.setVisual("decal",r)})}var ype=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return nU(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};bpe(n);var i=e.levels||[],r=this.designatedVisualItemStyle={},o=new Q3({itemStyle:r},this,t);i=e.levels=function a(e,t){var n,i,r=MJ(t.get("color")),o=MJ(t.get(["aria","decal","decals"]));if(!r)return;e=e||[],LU(e,function(e){var t=new Q3(e),r=t.get("color"),o=t.get("decal");(t.get(["itemStyle","color"])||r&&"none"!==r)&&(n=!0),(t.get(["itemStyle","decal"])||o&&"none"!==o)&&(i=!0)});var a=e[0]||(e[0]={});n||(a.color=r.slice());!i&&o&&(a.decal=o.slice());return e}(i,t);var s=RU(i||[],function(e){return new Q3(e,o,t)},this),l=spe.createTree(n,this,function c(e){e.wrapMethod("getItemModel",function(e,t){var n=l.getNodeByDataIndex(t),i=n?s[n.depth]:null;return e.parentModel=i||o,e})});return l.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,n){var i=this.getData(),r=this.getRawValue(e);return s7("nameValue",{name:i.getName(e),value:r})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=hpe(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},AU(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=dX(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){vpe(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,coordinateSystemUsage:"box",left:R6.size.l,top:R6.size.xxxl,right:R6.size.l,bottom:R6.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:R6.size.m,emptyItemWidth:25,itemStyle:{color:R6.color.backgroundShade,textStyle:{color:R6.color.secondary}},emphasis:{itemStyle:{color:R6.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:R6.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:R6.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(S7);function bpe(e){var t=0;LU(e.children,function(e){bpe(e);var n=e.value;WU(n)&&(n=n[0]),t+=n});var n=e.value;WU(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),WU(e.value)?e.value[0]=n:e.value=n}var xpe=function(){function e(e){this.group=new FK,e.add(this.group)}return e.prototype.render=function(e,t,n,i){var r=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),r.get("show")&&n){var a=r.getModel("itemStyle"),s=r.getModel("emphasis"),l=a.getModel("textStyle"),c=s.getModel(["itemStyle","textStyle"]),u=S6(e,t).refContainer,h={left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},d={emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]},p=x6(h,u);this._prepare(n,d,l),this._renderContent(e,d,p,a,s,l,c,i),M6(o,h,u)}},e.prototype._prepare=function(e,t,n){for(var i=e;i;i=i.parentNode){var r=EJ(i.getModel().get("name"),""),o=n.getTextRect(r),a=Math.max(o.width+16,t.emptyItemWidth);t.totalWidth+=a+8,t.renderList.push({node:i,text:r,width:a})}},e.prototype._renderContent=function(e,t,n,i,r,o,a,s){for(var l=0,c=t.emptyItemWidth,u=e.get(["breadcrumb","height"]),h=t.totalWidth,d=t.renderList,p=r.getModel("itemStyle").getItemStyle(),f=d.length-1;f>=0;f--){var g=d[f],m=g.node,v=g.width,y=g.text;h>n.width&&(h-=v-c,v=c,y=null);var b=new e5({shape:{points:_pe(l,0,v,u,f===d.length-1,0===f)},style:IU(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new Q0({style:E3(o,{text:y})}),textConfig:{position:"inside"},z2:1e5,onclick:HU(s,m)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=E3(a,{text:y}),b.ensureState("emphasis").style=p,n2(b,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(b),wpe(b,e,m),l+=v+8}},e.prototype.remove=function(){this.group.removeAll()},e}();function _pe(e,t,n,i,r,o){var a=[[r?e:e-5,t],[e+n,t],[e+n,t+i],[r?e:e-5,t+i]];return!o&&a.splice(2,0,[e+n+5,t+i/2]),!r&&a.push([e,t+i/2]),a}function wpe(e,t,n){d1(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&hpe(n,t)}}var Spe=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,n,i,r){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:i,easing:r}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,r=this._storage.length;i<r;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();var Mpe=FK,kpe=Y0,Cpe="label",Tpe="upperLabel",Ape=iQ([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Ipe=function(e){var t=Ape(e);return t.stroke=t.fill=t.lineWidth=null,t},Dpe=PJ(),Ope=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage={nodeGroup:[],background:[],content:[]},n}return nU(t,e),t.prototype.render=function(e,t,n,i){if(!(DU(t.findComponents({mainType:"series",subType:"treemap",query:i}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var r=lpe(i,["treemapZoomToNode","treemapRootToNode"],e),o=i&&i.type,a=e.layoutInfo,s=!this._oldTree,l=this._storage,c="treemapRootToNode"===o&&r&&l?{rootNodeGroup:l.nodeGroup[r.node.getRawIndex()],direction:i.direction}:null,u=this._giveContainerGroup(a),h=e.get("animation"),d=this._doRender(u,e,c);!h||s||o&&"treemapZoomToNode"!==o&&"treemapRootToNode"!==o?d.renderFinally():this._doAnimation(u,d,e,c),this._resetController(n),this._renderBreadcrumb(e,n,r)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new Mpe,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,n){var i=t.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[];function c(e,i,r,c){return function u(e,t,n,i,r,o,a,s,l,c){if(!a)return;var u=a.getLayout(),h=e.getData(),d=a.getModel();if(h.setItemGraphicEl(a.dataIndex,null),!u||!u.isInView)return;var p=u.width,f=u.height,g=u.borderWidth,m=u.invisible,v=a.getRawIndex(),y=s&&s.getRawIndex(),b=a.viewChildren,x=u.upperHeight,_=b&&b.length,w=d.getModel("itemStyle"),S=d.getModel(["emphasis","itemStyle"]),M=d.getModel(["blur","itemStyle"]),k=d.getModel(["select","itemStyle"]),C=w.get("borderRadius")||0,T=H("nodeGroup",Mpe);if(!T)return;if(l.add(T),T.x=u.x||0,T.y=u.y||0,T.markRedraw(),Dpe(T).nodeWidth=p,Dpe(T).nodeHeight=f,u.isAboveViewRoot)return T;var A=H("background",kpe,c,20);A&&P(T,A,_&&u.upperLabelHeight);var I=d.getModel("emphasis"),D=I.get("focus"),O=I.get("blurScope"),E=I.get("disabled"),L="ancestor"===D?a.getAncestorsIndices():"descendant"===D?a.getDescendantIndices():D;if(_)l2(T)&&s2(T,!1),A&&(s2(A,!E),h.setItemGraphicEl(a.dataIndex,A),i2(A,L,O));else{var R=H("content",kpe,c,30);R&&z(T,R),A.disableMorphing=!0,A&&l2(A)&&s2(A,!1),s2(T,!E),h.setItemGraphicEl(a.dataIndex,T);var N=d.getShallow("cursor");N&&R.attr("cursor",N),i2(T,L,O)}return T;function P(t,n,i){var r=d1(n);if(r.dataIndex=a.dataIndex,r.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:p,height:f,r:C}),m)B(n);else{n.invisible=!1;var o=a.getVisual("style"),s=o.stroke,l=Ipe(w);l.fill=s;var c=Ape(S);c.fill=S.get("borderColor");var u=Ape(M);u.fill=M.get("borderColor");var h=Ape(k);if(h.fill=k.get("borderColor"),i){var d=p-2*g;V(n,s,o.opacity,{x:g,y:0,width:d,height:x})}else n.removeTextContent();n.setStyle(l),n.ensureState("emphasis").style=c,n.ensureState("blur").style=u,n.ensureState("select").style=h,V1(n)}t.add(n)}function z(t,n){var i=d1(n);i.dataIndex=a.dataIndex,i.seriesIndex=e.seriesIndex;var r=Math.max(p-2*g,0),o=Math.max(f-2*g,0);if(n.culling=!0,n.setShape({x:g,y:g,width:r,height:o,r:C}),m)B(n);else{n.invisible=!1;var s=a.getVisual("style"),l=s.fill,c=Ipe(w);c.fill=l,c.decal=s.decal;var u=Ape(S),h=Ape(M),d=Ape(k);V(n,l,s.opacity,null),n.setStyle(c),n.ensureState("emphasis").style=u,n.ensureState("blur").style=h,n.ensureState("select").style=d,V1(n)}t.add(n)}function B(e){!e.invisible&&o.push(e)}function V(t,n,i,r){var o=d.getModel(r?Tpe:Cpe),s=EJ(d.get("name"),null),l=o.getShallow("show");D3(t,O3(d,r?Tpe:Cpe),{defaultText:l?s:null,inheritColor:n,defaultOpacity:i,labelFetcher:e,labelDataIndex:a.dataIndex});var c=t.getTextContent();if(c){var h=c.style,p=iX(h.padding||0);r&&(t.setTextConfig({layoutRect:r}),c.disableLabelLayout=!0),c.beforeUpdate=function(){var e=Math.max((r?r.width:t.shape.width)-p[1]-p[3],0),n=Math.max((r?r.height:t.shape.height)-p[0]-p[2],0);h.width===e&&h.height===n||c.setStyle({width:e,height:n})},h.truncateMinChar=2,h.lineOverflow="truncate",F(h,r,u);var f=c.getState("emphasis");F(f?f.style:null,r,u)}}function F(t,n,i){var r=t?t.text:null;if(!n&&i.isLeafRoot&&null!=r){var o=e.get("drillDownIcon",!0);t.text=o?o+" "+r:r}}function H(e,i,o,a){var s=null!=y&&n[e][y],l=r[e];return s?(n[e][y]=null,W(l,s)):m||((s=new i)instanceof RQ&&(s.z2=function c(e,t){return 100*e+t}(o,a)),$(l,s)),t[e][v]=s}function W(e,t){var n=e[v]={};t instanceof Mpe?(n.oldX=t.x,n.oldY=t.y):n.oldShape=AU({},t.shape)}function $(e,t){var n=e[v]={},o=a.parentNode,s=t instanceof FK;if(o&&(!i||"drillDown"===i.direction)){var l=0,c=0,u=r.background[o.getRawIndex()];!i&&u&&u.oldShape&&(l=u.oldShape.width,c=u.oldShape.height),s?(n.oldX=0,n.oldY=c):n.oldShape={x:l,y:c,width:0,height:0}}n.fadein=!s}}(t,a,s,n,o,l,e,i,r,c)}!function e(t,n,i,r,o){r?(n=t,LU(t,function(e,t){!e.isRemoved()&&s(t,t)})):new Xne(n,t,a,a).add(s).update(s).remove(HU(s,null)).execute();function a(e){return e.getId()}function s(a,s){var l=null!=a?t[a]:null,u=null!=s?n[s]:null,h=c(l,u,i,o);h&&e(l&&l.viewChildren||[],u&&u.viewChildren||[],h,r,o+1)}}(i.root?[i.root]:[],r&&r.root?[r.root]:[],e,i===r||!r,0);var u=function h(e){var t={nodeGroup:[],background:[],content:[]};return e&&LU(e,function(e,n){var i=t[n];LU(e,function(e){e&&(i.push(e),Dpe(e).willDelete=!0)})}),t}(s);if(this._oldTree=i,this._storage=a,this._controllerHost){var d=this.seriesModel.layoutInfo,p=i.root.getLayout();p.width===d.width&&p.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:u,renderFinally:function f(){LU(u,function(e){LU(e,function(e){e.parent&&e.parent.remove(e)})}),LU(l,function(e){e.invisible=!0,e.dirty()})}}},t.prototype._doAnimation=function(e,t,n,i){var r=n.get("animationDurationUpdate"),o=n.get("animationEasing"),a=($U(r)?0:r)||0,s=($U(o)?null:o)||"cubicOut",l=function c(){return new Spe}();LU(t.willDeleteEls,function(e,t){LU(e,function(e,n){if(!e.invisible){var r,o=e.parent,c=Dpe(o);if(i&&"drillDown"===i.direction)r=o===i.rootNodeGroup?{shape:{x:0,y:0,width:c.nodeWidth,height:c.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,h=0;c.willDelete||(u=c.nodeWidth/2,h=c.nodeHeight/2),r="nodeGroup"===t?{x:u,y:h,style:{opacity:0}}:{shape:{x:u,y:h,width:0,height:0},style:{opacity:0}}}r&&l.add(e,r,a,0,s)}})}),LU(this._storage,function(e,n){LU(e,function(e,i){var r=t.lastsForAnimation[n][i],o={};r&&(e instanceof FK?null!=r.oldX&&(o.x=e.x,o.y=e.y,e.x=r.oldX,e.y=r.oldY):(r.oldShape&&(o.shape=AU({},e.shape),e.setShape(r.oldShape)),r.fadein?(e.setStyle("opacity",0),o.style={opacity:1}):1!==e.style.opacity&&(o.style={opacity:1})),l.add(e,o,a,0,s))})},this),this._state="animating",l.finished(VU(function(){this._state="ready",t.renderFinally()},this)).start()},t.prototype._resetController=function(e){var t=this,n=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost);var r=this.seriesModel;n||((n=this._controller=new the(e.getZr())).on("pan",VU(this._onPan,this)),n.on("zoom",VU(this._onZoom,this))),n.enable(r.get("roam"),{api:e,zInfo:{component:r},triggerInfo:{roamTrigger:r.get("roamTrigger"),isInSelf:function(e,n,i){var r=t._containerGroup;return!!r&&r.getBoundingRect().contain(n-r.x,i-r.y)}}}),i.zoomLimit=r.get("scaleLimit"),i.zoom=r.get("zoom")},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var t=e.originX,n=e.originY,i=e.scale;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var o=r.getLayout();if(!o)return;var a,s=new Rq(o.x,o.y,o.width,o.height),l=this._controllerHost;a=l.zoomLimit;var c=l.zoom=l.zoom||1;if(c*=i,a){var u=a.min||0,h=a.max||1/0;c=Math.max(Math.min(h,c),u)}var d=c/l.zoom;l.zoom=c;var p=this.seriesModel.layoutInfo,f=[1,0,0,1,0,0];mq(f,f,[-(t-=p.x),-(n-=p.y)]),yq(f,f,[d,d]),mq(f,f,[t,n]),s.applyTransform(f),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",function(e){if("ready"===t._state){var n=t.seriesModel.get("nodeClick",!0);if(n){var i=t.findTarget(e.offsetX,e.offsetY);if(i){var r=i.node;if(r.getLayout().isLeafRoot)t._rootToNode(i);else if("zoomToNode"===n)t._zoomToNode(i);else if("link"===n){var o=r.hostTree.data.getItemModel(r.dataIndex),a=o.get("link",!0),s=o.get("target",!0)||"blank";a&&e6(a,s)}}}}},this)},t.prototype._renderBreadcrumb=function(e,t,n){var i=this;n||(n=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new xpe(this.group))).render(e,t,n.node,function(t){"animating"!==i._state&&(upe(e.getViewRoot(),t)?i._rootToNode({node:t}):i._zoomToNode({node:t}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(e,t),a=r.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}},this),n},t.type="treemap",t}(N7);var Epe=LU,Lpe=XU,Rpe=-1,Npe=function(){function e(t){var n=t.mappingMethod,i=t.type,r=this.option=kU(t);this.type=i,this.mappingMethod=n,this._normalizeData=Gpe[n];var o=e.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],"piecewise"===n?(Ppe(r),function a(e){var t=e.pieceList;e.hasSpecialVisual=!1,LU(t,function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)})}(r)):"category"===n?r.categories?function s(e){var t=e.categories,n=e.categoryMap={},i=e.visual;if(Epe(t,function(e,t){n[e]=t}),!WU(i)){var r=[];XU(i)?Epe(i,function(e,t){var i=n[t];r[null!=i?i:Rpe]=e}):r[-1]=i,i=jpe(e,r)}for(var o=t.length-1;o>=0;o--)null==i[o]&&(delete n[t[o]],t.pop())}(r):Ppe(r,!0):(rX("linear"!==n||r.dataExtent),Ppe(r))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return VU(this._normalizeData,this)},e.listVisualTypes=function(){return BU(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,n){XU(e)?LU(e,t,n):t.call(n,e)},e.mapVisual=function(t,n,i){var r,o=WU(t)?[]:XU(t)?{}:(r=!0,null);return e.eachVisual(t,function(e,t){var a=n.call(i,e,t);r?o=a:o[t]=a}),o},e.retrieveVisuals=function(t){var n,i={};return t&&Epe(e.visualHandlers,function(e,r){t.hasOwnProperty(r)&&(i[r]=t[r],n=!0)}),n?i:null},e.prepareVisualTypes=function(e){if(WU(e))e=e.slice();else{if(!Lpe(e))return[];var t=[];Epe(e,function(e,n){t.push(n)}),e=t}return e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1}),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,n){for(var i,r=1/0,o=0,a=t.length;o<a;o++){var s=t[o].value;if(null!=s){if(s===e||jU(s)&&s===e+"")return o;n&&h(s,o)}}for(o=0,a=t.length;o<a;o++){var l=t[o],c=l.interval,u=l.close;if(c){if(c[0]===-1/0){if(Upe(u[1],e,c[1]))return o}else if(c[1]===1/0){if(Upe(u[0],c[0],e))return o}else if(Upe(u[0],c[0],e)&&Upe(u[1],e,c[1]))return o;n&&h(c[0],o),n&&h(c[1],o)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function h(t,n){var o=Math.abs(t-e);o<r&&(r=o,i=n)}},e.visualHandlers={color:{applyVisual:Vpe("color"),getColorMapper:function(){var e=this.option;return VU("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),Fpe.call(this,e)}:function(t,n,i){var r=!!i;return!n&&(t=this._normalizeData(t)),i=JY(t,e.parsedVisual,i),r?i:tZ(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return tZ(JY(e,this.option.parsedVisual),"rgba")},category:Fpe,piecewise:function(e,t){var n=$pe.call(this,t);return null==n&&(n=tZ(JY(e,this.option.parsedVisual),"rgba")),n},fixed:Hpe}},colorHue:zpe(function(e,t){return QY(e,t)}),colorSaturation:zpe(function(e,t){return QY(e,null,t)}),colorLightness:zpe(function(e,t){return QY(e,null,null,t)}),colorAlpha:zpe(function(e,t){return eZ(e,t)}),decal:{applyVisual:Vpe("decal"),_normalizedToVisual:{linear:null,category:Fpe,piecewise:null,fixed:null}},opacity:{applyVisual:Vpe("opacity"),_normalizedToVisual:Wpe([0,1])},liftZ:{applyVisual:Vpe("liftZ"),_normalizedToVisual:{linear:Hpe,category:Hpe,piecewise:Hpe,fixed:Hpe}},symbol:{applyVisual:function(e,t,n){n("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:Bpe,category:Fpe,piecewise:function(e,t){var n=$pe.call(this,t);return null==n&&(n=Bpe.call(this,e)),n},fixed:Hpe}},symbolSize:{applyVisual:Vpe("symbolSize"),_normalizedToVisual:Wpe([0,1])}},e}();function Ppe(e,t){var n=e.visual,i=[];XU(n)?Epe(n,function(e){i.push(e)}):null!=n&&i.push(n);t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(i[1]=i[0]),jpe(e,i)}function zpe(e){return{applyVisual:function(t,n,i){var r=this.mapValueToVisual(t);i("color",e(n("color"),r))},_normalizedToVisual:Wpe([0,1])}}function Bpe(e){var t=this.option.visual;return t[Math.round(ZK(e,[0,1],[0,t.length-1],!0))]||{}}function Vpe(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function Fpe(e){var t=this.option.visual;return t[this.option.loop&&e!==Rpe?e%t.length:e]}function Hpe(){return this.option.visual[0]}function Wpe(e){return{linear:function(t){return ZK(t,e,this.option.visual,!0)},category:Fpe,piecewise:function(t,n){var i=$pe.call(this,n);return null==i&&(i=ZK(t,e,this.option.visual,!0)),i},fixed:Hpe}}function $pe(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=n[Npe.findPieceIndex(e,n)];if(i&&i.visual)return i.visual[this.type]}}function jpe(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=RU(t,function(e){return YY(e)||[0,0,0,1]})),t}var Gpe={linear:function(e){return ZK(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=Npe.findPieceIndex(e,t,!0);if(null!=n)return ZK(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?Rpe:t},fixed:vX};function Upe(e,t,n){return e?t<=n:t<n}var Xpe=PJ();const qpe={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||Ype(t,{},e.getViewRoot().getAncestors(),e)}};function Ype(e,t,n,i){var r=e.getModel(),o=e.getLayout(),a=e.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,l=r.getModel("itemStyle"),c=function g(e,t,n){var i=AU({},t),r=n.designatedVisualItemStyle;return LU(["color","colorAlpha","colorSaturation"],function(n){r[n]=t[n];var o=e.get(n);r[n]=null,null!=o&&(i[n]=o)}),i}(l,t,i),u=a.ensureUniqueItemVisual(e.dataIndex,"style"),h=l.get("borderColor"),d=l.get("borderColorSaturation");null!=d&&(h=function m(e,t){return null!=t?QY(t,null,null,e):null}(d,s=Zpe(c))),u.stroke=h;var p=e.viewChildren;if(p&&p.length){var f=function e(t,n,i,r,o,a){if(!a||!a.length)return;var s=Jpe(n,"color")||null!=o.color&&"none"!==o.color&&(Jpe(n,"colorAlpha")||Jpe(n,"colorSaturation"));if(!s)return;var l=n.get("visualMin"),c=n.get("visualMax"),u=i.dataExtent.slice();null!=l&&l<u[0]&&(u[0]=l),null!=c&&c>u[1]&&(u[1]=c);var h=n.get("colorMappingBy"),d={type:s.name,dataExtent:u,visual:s.range};"color"!==d.type||"index"!==h&&"id"!==h?d.mappingMethod="linear":(d.mappingMethod="category",d.loop=!0);var p=new Npe(d);return Xpe(p).drColorMappingBy=h,p}(0,r,o,0,c,p);LU(p,function(e,t){if(e.depth>=n.length||e===n[e.depth]){var o=function a(e,t,n,i,r,o){var a=AU({},t);if(r){var s=r.type,l="color"===s&&Xpe(r).drColorMappingBy,c="index"===l?i:"id"===l?o.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));a[s]=r.mapValueToVisual(c)}return a}(r,c,e,t,f,i);Ype(e,o,n,i)}})}else s=Zpe(c),u.fill=s}}function Zpe(e){var t=Kpe(e,"color");if(t){var n=Kpe(e,"colorAlpha"),i=Kpe(e,"colorSaturation");return i&&(t=QY(t,null,null,i)),n&&(t=eZ(t,n)),t}}function Kpe(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function Jpe(e,t){var n=e.get(t);return WU(n)&&n.length?{name:t,range:n}:null}var Qpe=Math.max,efe=Math.min,tfe=QU,nfe=LU,ife=["itemStyle","borderWidth"],rfe=["itemStyle","gapWidth"],ofe=["upperLabel","show"],afe=["upperLabel","height"];const sfe={seriesType:"treemap",reset:function(e,t,n,i){var r=e.option,o=S6(e,n).refContainer,a=x6(e.getBoxLayoutParams(),o),s=r.size||[],l=KK(tfe(a.width,s[0]),o.width),c=KK(tfe(a.height,s[1]),o.height),u=i&&i.type,h=lpe(i,["treemapZoomToNode","treemapRootToNode"],e),d="treemapRender"===u||"treemapMove"===u?i.rootRect:null,p=e.getViewRoot(),f=cpe(p);if("treemapMove"!==u){var g="treemapZoomToNode"===u?function t(e,n,i,r,o){var a,s=(n||{}).node,l=[r,o];if(!s||s===i)return l;var c=r*o,u=c*e.option.zoomToNodeRatio;for(;a=s.parentNode;){for(var h=0,d=a.children,p=0,f=d.length;p<f;p++)h+=d[p].getValue();var g=s.getValue();if(0===g)return l;u*=h/g;var m=a.getModel(),v=m.get(ife);(u+=4*v*v+(3*v+Math.max(v,dfe(m)))*Math.pow(u,.5))>oJ&&(u=oJ),s=a}u<c&&(u=c);var y=Math.pow(u/c,.5);return[r*y,o*y]}(e,h,p,l,c):d?[d.width,d.height]:[l,c],m=r.sort;m&&"asc"!==m&&"desc"!==m&&(m="desc");var v={squareRatio:r.squareRatio,sort:m,leafDepth:r.leafDepth};p.hostTree.clearLayouts();var y={x:0,y:0,width:g[0],height:g[1],area:g[0]*g[1]};p.setLayout(y),lfe(p,v,!1,0),y=p.getLayout(),nfe(f,function(e,t){var n=(f[t+1]||p).getValue();e.setLayout(AU({dataExtent:[n,n],borderWidth:0,upperHeight:0},y))})}var b=e.getData().tree.root;b.setLayout(function x(e,t,n){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;var a=[o.width/2,o.height/2],s=r;for(;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}(a,d,h),!0),e.setLayoutInfo(a),hfe(b,new Rq(-a.x,-a.y,n.getWidth(),n.getHeight()),f,p,0)}};function lfe(e,t,n,i){var r,o;if(!e.isRemoved()){var a=e.getLayout();r=a.width,o=a.height;var s=e.getModel(),l=s.get(ife),c=s.get(rfe)/2,u=dfe(s),h=Math.max(l,u),d=l-c,p=h-c;e.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:u},!0);var f=(r=Qpe(r-2*d,0))*(o=Qpe(o-d-p,0)),g=function k(e,t,n,i,r,o){var a=e.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!l)return e.viewChildren=[];a=PU(a,function(e){return!e.isRemoved()}),function c(e,t){t&&e.sort(function(e,n){var i="asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===i?"asc"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:i});return e}(a,s);var u=function h(e,t,n){for(var i=0,r=0,o=t.length;r<o;r++)i+=t[r].getValue();var a,s=e.get("visualDimension");t&&t.length?"value"===s&&n?(a=[t[t.length-1].getValue(),t[0].getValue()],"asc"===n&&a.reverse()):(a=[1/0,-1/0],nfe(t,function(e){var t=e.getValue(s);t<a[0]&&(a[0]=t),t>a[1]&&(a[1]=t)})):a=[NaN,NaN];return{sum:i,dataExtent:a}}(t,a,s);if(0===u.sum)return e.viewChildren=[];if(u.sum=function d(e,t,n,i,r){if(!i)return n;for(var o=e.get("visibleMin"),a=r.length,s=a,l=a-1;l>=0;l--){var c=r["asc"===i?a-l-1:l].getValue();c/n*t<o&&(s=l,n-=c)}return"asc"===i?r.splice(0,a-s):r.splice(s,a-s),n}(t,n,u.sum,s,a),0===u.sum)return e.viewChildren=[];for(var p=0,f=a.length;p<f;p++){var g=a[p].getValue()/u.sum*n;a[p].setLayout({area:g})}l&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0);return e.viewChildren=a,e.setLayout({dataExtent:u.dataExtent},!0),a}(e,s,f,t,n,i);if(g.length){var m={x:d,y:p,width:r,height:o},v=efe(r,o),y=1/0,b=[];b.area=0;for(var x=0,_=g.length;x<_;){var w=g[x];b.push(w),b.area+=w.getLayout().area;var S=cfe(b,v,t.squareRatio);S<=y?(x++,y=S):(b.area-=b.pop().getLayout().area,ufe(b,v,m,c,!1),v=efe(m.width,m.height),b.length=b.area=0,y=1/0)}if(b.length&&ufe(b,v,m,c,!0),!n){var M=s.get("childrenVisibleMin");null!=M&&f<M&&(n=!0)}for(x=0,_=g.length;x<_;x++)lfe(g[x],t,n,i+1)}}}function cfe(e,t,n){for(var i=0,r=1/0,o=0,a=void 0,s=e.length;o<s;o++)(a=e[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var l=e.area*e.area,c=t*t*n;return l?Qpe(c*i/l,l/(c*r)):1/0}function ufe(e,t,n,i,r){var o=t===n.width?0:1,a=1-o,s=["x","y"],l=["width","height"],c=n[s[o]],u=t?e.area/t:0;(r||u>n[l[a]])&&(u=n[l[a]]);for(var h=0,d=e.length;h<d;h++){var p=e[h],f={},g=u?p.getLayout().area/u:0,m=f[l[a]]=Qpe(u-2*i,0),v=n[s[o]]+n[l[o]]-c,y=h===d-1||v<g?v:g,b=f[l[o]]=Qpe(y-2*i,0);f[s[a]]=n[s[a]]+efe(i,m/2),f[s[o]]=c+efe(i,b/2),c+=y,p.setLayout(f,!0)}n[s[a]]+=u,n[l[a]]-=u}function hfe(e,t,n,i,r){var o=e.getLayout(),a=n[r],s=a&&a===e;if(!(a&&!s||r===n.length&&e!==i)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var l=new Rq(t.x-o.x,t.y-o.y,t.width,t.height);nfe(e.viewChildren||[],function(e){hfe(e,l,n,i,r+1)})}}function dfe(e){return e.get(ofe)?e.get(afe):0}function pfe(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getGraph().data,r=n.mapArray(n.getName);i.filterSelf(function(e){var n=i.getItemModel(e).getShallow("category");if(null!=n){UU(n)&&(n=r[n]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(n))return!1}return!0})})}function ffe(e){var t={};e.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getData(),r={};n.each(function(i){var o=n.getName(i);r["ec-"+o]=i;var a=n.getItemModel(i),s=a.getModel("itemStyle").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(o,t)),n.setItemVisual(i,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++){var u=a.getShallow(l[c],!0);null!=u&&n.setItemVisual(i,l[c],u)}}),n.count()&&i.each(function(e){var t=i.getItemModel(e).getShallow("category");if(null!=t){jU(t)&&(t=r["ec-"+t]);var o=n.getItemVisual(t,"style");AU(i.ensureUniqueItemVisual(e,"style"),o);for(var a=["symbol","symbolSize","symbolKeepAspect"],s=0;s<a.length;s++)i.setItemVisual(e,a[s],n.getItemVisual(t,a[s]))}})})}function gfe(e){return e instanceof Array||(e=[e,e]),e}function mfe(e){e.eachSeriesByType("graph",function(e){var t=e.getGraph(),n=e.getEdgeData(),i=gfe(e.get("edgeSymbol")),r=gfe(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each(function(e){var i=n.getItemModel(e),r=t.getEdgeByIndex(e),o=gfe(i.getShallow("symbol",!0)),a=gfe(i.getShallow("symbolSize",!0)),s=i.getModel("lineStyle").getLineStyle(),l=n.ensureUniqueItemVisual(e,"style");switch(AU(l,s),l.stroke){case"source":var c=r.node1.getVisual("style");l.stroke=c&&c.fill;break;case"target":c=r.node2.getVisual("style");l.stroke=c&&c.fill}o[0]&&r.setVisual("fromSymbol",o[0]),o[1]&&r.setVisual("toSymbol",o[1]),a[0]&&r.setVisual("fromSymbolSize",a[0]),a[1]&&r.setVisual("toSymbolSize",a[1])})})}var vfe="--\x3e",yfe=function(e){return e.get("autoCurveness")||null},bfe=function(e,t){var n=yfe(e),i=20,r=[];if(UU(n))i=n;else if(WU(n))return void(e.__curvenessList=n);t>i&&(i=t);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));e.__curvenessList=r},xfe=function(e,t,n){var i=[e.id,e.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[n.uid,i,r].join(vfe)},_fe=function(e){var t=e.split(vfe);return[t[0],t[2],t[1]].join(vfe)},wfe=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function Sfe(e,t,n,i){var r=yfe(t),o=WU(r);if(!r)return null;var a=function(e,t){var n=xfe(e.node1,e.node2,t);return t.__edgeMap[n]}(e,t);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===n){s=l;break}var c=function(e,t){return wfe(xfe(e.node1,e.node2,t),t)+wfe(xfe(e.node2,e.node1,t),t)}(e,t);bfe(t,c),e.lineStyle=e.lineStyle||{};var u=xfe(e.node1,e.node2,t),h=t.__curvenessList,d=o||c%2?0:1;if(a.isForward)return h[d+s];var p=_fe(u),f=wfe(p,t),g=h[s+f+d];return i?o?r&&0===r[0]?(f+d)%2?g:-g:((f%2?0:1)+d)%2?g:-g:(f+d)%2?g:-g:h[s+f+d]}function Mfe(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])}),kfe(n,e)}}function kfe(e,t){e.eachEdge(function(e,n){var i=tX(e.getModel().get(["lineStyle","curveness"]),-Sfe(e,t,n,!0),0),r=SX(e.node1.getLayout()),o=SX(e.node2.getLayout()),a=[r,o];+i&&a.push([(r[0]+o[0])/2-(r[1]-o[1])*i,(r[1]+o[1])/2-(o[0]-r[0])*i]),e.setLayout(a)})}function Cfe(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout"),n=e.coordinateSystem;if(n&&"view"!==n.type){var i=e.getData(),r=[];LU(n.dimensions,function(e){r=r.concat(i.mapDimensionsAll(e))});for(var o=0;o<i.count();o++){for(var a=[],s=!1,l=0;l<r.length;l++){var c=i.get(r[l],o);isNaN(c)||(s=!0),a.push(c)}s?i.setItemLayout(o,n.dataToPoint(a)):i.setItemLayout(o,[NaN,NaN])}kfe(i.graph,e)}else t&&"none"!==t||Mfe(e)})}function Tfe(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=e.option.nodeScaleRatio,i=t.scaleX;return((t.getZoom()-1)*n+1)/i}function Afe(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var Ife=Math.PI,Dfe=[];function Ofe(e,t,n,i){var r=e.coordinateSystem;if(!r||"view"===r.type){var o=r.getBoundingRect(),a=e.getData(),s=a.graph,l=o.width/2+o.x,c=o.height/2+o.y,u=Math.min(o.width,o.height)/2,h=a.count();if(a.setLayout({cx:l,cy:c}),h){if(n){var d=r.pointToData(i),p=d[0],f=d[1],g=[p-l,f-c];DX(g,g),IX(g,g,u),n.setLayout([l+g[0],c+g[1]],!0),Lfe(n,e.get(["circular","rotateLabel"]),l,c)}Efe[t](e,s,a,u,l,c,h),s.eachEdge(function(t,n){var i,r=tX(t.getModel().get(["lineStyle","curveness"]),Sfe(t,e,n),0),o=SX(t.node1.getLayout()),a=SX(t.node2.getLayout()),s=(o[0]+a[0])/2,u=(o[1]+a[1])/2;+r&&(i=[l*(r*=3)+s*(1-r),c*r+u*(1-r)]),t.setLayout([o,a,i])})}}}var Efe={value:function(e,t,n,i,r,o,a){var s=0,l=n.getSum("value"),c=2*Math.PI/(l||a);t.eachNode(function(e){var t=e.getValue("value"),n=c*(l?t:1)/2;s+=n,e.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+o]),s+=n})},symbolSize:function(e,t,n,i,r,o,a){var s=0;Dfe.length=a;var l=Tfe(e);t.eachNode(function(e){var t=Afe(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var n=Math.asin(t/2/i);isNaN(n)&&(n=Ife/2),Dfe[e.dataIndex]=n,s+=2*n});var c=(2*Ife-s)/a/2,u=0;t.eachNode(function(e){var t=c+Dfe[e.dataIndex];u+=t,(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([i*Math.cos(u)+r,i*Math.sin(u)+o]),u+=t})}};function Lfe(e,t,n,i){var r=e.getGraphicEl();if(r){var o=e.getModel().get(["label","rotate"])||0,a=r.getSymbolPath();if(t){var s=e.getLayout(),l=Math.atan2(s[1]-i,s[0]-n);l<0&&(l=2*Math.PI+l);var c=s[0]<n;c&&(l-=Math.PI);var u=c?"left":"right";a.setTextConfig({rotation:-l,position:u,origin:"center"});var h=a.ensureState("emphasis");AU(h.textConfig||(h.textConfig={}),{position:u})}else a.setTextConfig({rotation:o*=Math.PI/180})}}function Rfe(e){e.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&Ofe(e,"symbolSize")})}var Nfe=CX;function Pfe(e){e.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var n=e.preservedPoints||{},i=e.getGraph(),r=i.data,o=i.edgeData,a=e.getModel("force"),s=a.get("initLayout");e.preservedPoints?r.each(function(e){var t=r.getId(e);r.setItemLayout(e,n[t]||[NaN,NaN])}):s&&"none"!==s?"circular"===s&&Ofe(e,"value"):Mfe(e);var l=r.getDataExtent("value"),c=o.getDataExtent("value"),u=a.get("repulsion"),h=a.get("edgeLength"),d=WU(u)?u:[u,u],p=WU(h)?h:[h,h];p=[p[1],p[0]];var f=r.mapArray("value",function(e,t){var n=r.getItemLayout(t),i=ZK(e,l,d);return isNaN(i)&&(i=(d[0]+d[1])/2),{w:i,rep:i,fixed:r.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),g=o.mapArray("value",function(t,n){var r=i.getEdgeByIndex(n),o=ZK(t,c,p);isNaN(o)&&(o=(p[0]+p[1])/2);var a=r.getModel(),s=tX(r.getModel().get(["lineStyle","curveness"]),-Sfe(r,e,n,!0),0);return{n1:f[r.node1.dataIndex],n2:f[r.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get("ignoreForceLayout")}}),m=t.getBoundingRect(),v=function y(e,t,n){for(var i=e,r=t,o=n.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],c=null==n.gravity?.1:n.gravity,u=0;u<i.length;u++){var h=i[u];h.p||(h.p=_X(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=SX(h.p),h.edges=null}var d,p,f=null==n.friction?.6:n.friction,g=f;return{warmUp:function(){g=.8*f},setFixed:function(e){i[e].fixed=!0},setUnfixed:function(e){i[e].fixed=!1},beforeStep:function(e){d=e},afterStep:function(e){p=e},step:function(e){d&&d(i,r);for(var t=[],n=i.length,o=0;o<r.length;o++){var a=r[o];if(!a.ignoreForceLayout){var s=a.n1;TX(t,(m=a.n2).p,s.p);var u=AX(t)-a.d,h=m.w/(s.w+m.w);isNaN(h)&&(h=0),DX(t,t),!s.fixed&&Nfe(s.p,s.p,t,h*u*g),!m.fixed&&Nfe(m.p,m.p,t,-(1-h)*u*g)}}for(o=0;o<n;o++)(b=i[o]).fixed||(TX(t,l,b.p),Nfe(b.p,b.p,t,c*g));for(o=0;o<n;o++){s=i[o];for(var f=o+1;f<n;f++){var m;TX(t,(m=i[f]).p,s.p),0===(u=AX(t))&&(MX(t,Math.random()-.5,Math.random()-.5),u=1);var v=(s.rep+m.rep)/u/u;!s.fixed&&Nfe(s.pp,s.pp,t,v),!m.fixed&&Nfe(m.pp,m.pp,t,-v)}}var y=[];for(o=0;o<n;o++){var b;(b=i[o]).fixed||(TX(y,b.p,b.pp),Nfe(b.p,b.p,y,g),wX(b.pp,b.p))}var x=(g*=.992)<.01;p&&p(i,r,x),e&&e(x)}}}(f,g,{rect:m,gravity:a.get("gravity"),friction:a.get("friction")});v.beforeStep(function(e,t){for(var n=0,r=e.length;n<r;n++)e[n].fixed&&wX(e[n].p,i.getNodeByIndex(n).getLayout())}),v.afterStep(function(e,t,o){for(var a=0,s=e.length;a<s;a++)e[a].fixed||i.getNodeByIndex(a).setLayout(e[a].p),n[r.getId(a)]=e[a].p;for(a=0,s=t.length;a<s;a++){var l=t[a],c=i.getEdgeByIndex(a),u=l.n1.p,h=l.n2.p,d=c.getLayout();(d=d?d.slice():[])[0]=d[0]||[],d[1]=d[1]||[],wX(d[0],u),wX(d[1],h),+l.curveness&&(d[2]=[(u[0]+h[0])/2-(u[1]-h[1])*l.curveness,(u[1]+h[1])/2-(h[0]-u[0])*l.curveness]),c.setLayout(d)}}),e.forceLayout=v,e.preservedPoints=n,v.step()}else e.forceLayout=null})}function zfe(e,t){var n=[];return e.eachSeriesByType("graph",function(i){h6({targetModel:i,coordSysType:"view",coordSysProvider:function r(){var r=i.getData(),o=r.mapArray(function(e){var t=r.getItemModel(e);return[+t.get("x"),+t.get("y")]}),a=[],s=[];GQ(o,a,s),s[0]-a[0]===0&&(s[0]+=1,a[0]-=1);s[1]-a[1]===0&&(s[1]+=1,a[1]-=1);var l=(s[0]-a[0])/(s[1]-a[1]),c=function u(e,t,n){var i=S6(e,t),r=AU(e.getBoxLayoutParams(),{aspect:n});return _6(e,x6(r,i.refContainer),n)}(i,t,l);isNaN(l)&&(a=[c.x,c.y],s=[c.x+c.width,c.y+c.height]);var h=s[0]-a[0],d=s[1]-a[1],p=new xde(null,{api:t,ecModel:e});return p.zoomLimit=i.get("scaleLimit"),p.setBoundingRect(a[0],a[1],h,d),p.setViewRect(c.x,c.y,c.width,c.height),p.setCenter(i.get("center")),p.setZoom(i.get("zoom")),n.push(p),p},isDefaultDataCoordSys:!0})}),n}var Bfe=o5.prototype,Vfe=c5.prototype,Ffe=function(){return function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}();function Hfe(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}nU(t,e)}(Ffe);var Wfe=function(e){function t(t){var n=e.call(this,t)||this;return n.type="ec-line",n}return nU(t,e),t.prototype.getDefaultStyle=function(){return{stroke:R6.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new Ffe},t.prototype.buildPath=function(e,t){Hfe(t)?Bfe.buildPath.call(this,e,t):Vfe.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return Hfe(this.shape)?Bfe.pointAt.call(this,e):Vfe.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,n=Hfe(t)?[t.x2-t.x1,t.y2-t.y1]:Vfe.tangentAt.call(this,e);return DX(n,n)},t}(z0),$fe=["fromSymbol","toSymbol"];function jfe(e){return"_"+e+"Type"}function Gfe(e,t,n){var i=t.getItemVisual(n,e);if(!i||"none"===i)return i;var r=t.getItemVisual(n,e+"Size"),o=t.getItemVisual(n,e+"Rotate"),a=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),l=Xee(r);return i+l+qee(a||0,l)+(o||"")+(s||"")}function Ufe(e,t,n){var i=t.getItemVisual(n,e);if(i&&"none"!==i){var r=t.getItemVisual(n,e+"Size"),o=t.getItemVisual(n,e+"Rotate"),a=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),l=Xee(r),c=qee(a||0,l),u=Uee(i,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,s);return u.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,u.name=e,u}}function Xfe(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var qfe=function(e){function t(t,n,i){var r=e.call(this)||this;return r._createLine(t,n,i),r}return nU(t,e),t.prototype._createLine=function(e,t,n){var i=e.hostModel,r=e.getItemLayout(t),o=e.getItemVisual(t,"z2"),a=function s(e){var t=new Wfe({name:"line",subPixelOptimize:!0});return Xfe(t.shape,e),t}(r);a.shape.percent=0,O5(a,{z2:eX(o,0),shape:{percent:1}},i,t),this.add(a),LU($fe,function(n){var i=Ufe(n,e,t);this.add(i),this[jfe(n)]=Gfe(n,e,t)},this),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var i=e.hostModel,r=this.childOfName("line"),o=e.getItemLayout(t),a={shape:{}};Xfe(a.shape,o),D5(r,a,i,t),LU($fe,function(n){var i=Gfe(n,e,t),r=jfe(n);if(this[r]!==i){this.remove(this.childOfName(n));var o=Ufe(n,e,t);this.add(o)}this[r]=i},this),this._updateCommonStl(e,t,n)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,n){var i=e.hostModel,r=this.childOfName("line"),o=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels,c=n&&n.emphasisDisabled,u=n&&n.focus,h=n&&n.blurScope;if(!n||e.hasItemOption){var d=e.getItemModel(t),p=d.getModel("emphasis");o=p.getModel("lineStyle").getLineStyle(),a=d.getModel(["blur","lineStyle"]).getLineStyle(),s=d.getModel(["select","lineStyle"]).getLineStyle(),c=p.get("disabled"),u=p.get("focus"),h=p.get("blurScope"),l=O3(d)}var f=e.getItemVisual(t,"style"),g=f.stroke;r.useStyle(f),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=o,r.ensureState("blur").style=a,r.ensureState("select").style=s,LU($fe,function(e){var t=this.childOfName(e);if(t){t.setColor(g),t.style.opacity=f.opacity;for(var n=0;n<y1.length;n++){var i=y1[n],o=r.getState(i);if(o){var a=o.style||{},s=t.ensureState(i),l=s.style||(s.style={});null!=a.stroke&&(l[t.__isEmptyBrush?"stroke":"fill"]=a.stroke),null!=a.opacity&&(l.opacity=a.opacity)}}t.markRedraw()}},this);var m=i.getRawValue(t);D3(this,l,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,n){return i.getFormattedLabel(t,n,e.dataType)}},inheritColor:g||R6.color.neutral99,defaultOpacity:f.opacity,defaultText:(null==m?e.getName(t):isFinite(m)?eJ(m):m)+""});var v=this.getTextContent();if(v){var y=l.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=y.get("position")||"middle";var b=y.get("distance");WU(b)||(b=[b,b]),v.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),n2(this,u,h,c)},t.prototype.highlight=function(){W1(this)},t.prototype.downplay=function(){$1(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");Xfe(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),n=e.childOfName("toSymbol"),i=e.getTextContent();if(t||n||i&&!i.ignore){for(var r=1,o=this.parent;o;)o.scaleX&&(r/=o.scaleX),o=o.parent;var a=e.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),c=a.pointAt(s),u=TX([],c,l);if(DX(u,u),t&&(t.setPosition(l),S(t,0),t.scaleX=t.scaleY=r*s,t.markRedraw()),n&&(n.setPosition(c),S(n,1),n.scaleX=n.scaleY=r*s,n.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var h=void 0,d=void 0,p=i.__labelDistance,f=p[0]*r,g=p[1]*r,m=s/2,v=a.tangentAt(m),y=[v[1],-v[0]],b=a.pointAt(m);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var x=v[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var _=-Math.atan2(v[1],v[0]);c[0]<l[0]&&(_=Math.PI+_),i.rotation=_}var w=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-g,d="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=g,d="top";break;default:w=0,d="middle"}switch(i.__position){case"end":i.x=u[0]*f+c[0],i.y=u[1]*g+c[1],h=u[0]>.8?"left":u[0]<-.8?"right":"center",d=u[1]>.8?"top":u[1]<-.8?"bottom":"middle";break;case"start":i.x=-u[0]*f+l[0],i.y=-u[1]*g+l[1],h=u[0]>.8?"right":u[0]<-.8?"left":"center",d=u[1]>.8?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=f*x+l[0],i.y=l[1]+w,h=v[0]<0?"right":"left",i.originX=-f*x,i.originY=-w;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=b[0],i.y=b[1]+w,h="center",i.originY=-w;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-f*x+c[0],i.y=c[1]+w,h=v[0]>=0?"right":"left",i.originX=f*x,i.originY=-w}i.scaleX=i.scaleY=r,i.setStyle({verticalAlign:i.__verticalAlign||d,align:i.__align||h})}}}function S(e,t){var n=e.__specifiedRotation;if(null==n){var i=a.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else e.attr("rotation",n)}},t}(FK),Yfe=function(){function e(e){this.group=new FK,this._LineCtor=e||qfe}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,i=n.group,r=n._lineData;n._lineData=e,r||i.removeAll();var o=Zfe(e);e.diff(r).add(function(n){t._doAdd(e,n,o)}).update(function(n,i){t._doUpdate(r,e,i,n,o)}).remove(function(e){i.remove(r.getItemGraphicEl(e))}).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Zfe(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function n(e){e.isGroup||function t(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i=e.start;i<e.end;i++){if(Jfe(t.getItemLayout(i))){var r=new this._LineCtor(t,i,this._seriesScope);r.traverse(n),this.group.add(r),t.setItemGraphicEl(i,r),this._progressiveEls.push(r)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){p3(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,n){if(Jfe(e.getItemLayout(t))){var i=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,i),this.group.add(i)}},e.prototype._doUpdate=function(e,t,n,i,r){var o=e.getItemGraphicEl(n);Jfe(t.getItemLayout(i))?(o?o.updateData(t,i,r):o=new this._LineCtor(t,i,r),t.setItemGraphicEl(i,o),this.group.add(o)):this.group.remove(o)},e}();function Zfe(e){var t=e.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:O3(t)}}function Kfe(e){return isNaN(e[0])||isNaN(e[1])}function Jfe(e){return e&&!Kfe(e[0])&&!Kfe(e[1])}var Qfe=[],ege=[],tge=[],nge=kY,ige=LX,rge=Math.abs;function oge(e,t,n){for(var i,r=e[0],o=e[1],a=e[2],s=1/0,l=n*n,c=.1,u=.1;u<=.9;u+=.1){Qfe[0]=nge(r[0],o[0],a[0],u),Qfe[1]=nge(r[1],o[1],a[1],u),(p=rge(ige(Qfe,t)-l))<s&&(s=p,i=u)}for(var h=0;h<32;h++){var d=i+c;ege[0]=nge(r[0],o[0],a[0],i),ege[1]=nge(r[1],o[1],a[1],i),tge[0]=nge(r[0],o[0],a[0],d),tge[1]=nge(r[1],o[1],a[1],d);var p=ige(ege,t)-l;if(rge(p)<.01)break;var f=ige(tge,t)-l;c/=2,p<0?f>=0?i+=c:i-=c:f>=0?i-=c:i+=c}return i}function age(e,t){var n=[],i=AY,r=[[],[],[]],o=[[],[]],a=[];t/=2,e.eachEdge(function(e,s){var l=e.getLayout(),c=e.getVisual("fromSymbol"),u=e.getVisual("toSymbol");l.__original||(l.__original=[SX(l[0]),SX(l[1])],l[2]&&l.__original.push(SX(l[2])));var h=l.__original;if(null!=l[2]){if(wX(r[0],h[0]),wX(r[1],h[2]),wX(r[2],h[1]),c&&"none"!==c){var d=Afe(e.node1),p=oge(r,h[0],d*t);i(r[0][0],r[1][0],r[2][0],p,n),r[0][0]=n[3],r[1][0]=n[4],i(r[0][1],r[1][1],r[2][1],p,n),r[0][1]=n[3],r[1][1]=n[4]}if(u&&"none"!==u){d=Afe(e.node2),p=oge(r,h[1],d*t);i(r[0][0],r[1][0],r[2][0],p,n),r[1][0]=n[1],r[2][0]=n[2],i(r[0][1],r[1][1],r[2][1],p,n),r[1][1]=n[1],r[2][1]=n[2]}wX(l[0],r[0]),wX(l[1],r[2]),wX(l[2],r[1])}else{if(wX(o[0],h[0]),wX(o[1],h[1]),TX(a,o[1],o[0]),DX(a,a),c&&"none"!==c){d=Afe(e.node1);CX(o[0],o[0],a,d*t)}if(u&&"none"!==u){d=Afe(e.node2);CX(o[1],o[1],a,-d*t)}wX(l[0],o[0]),wX(l[1],o[1])}})}var sge=PJ();function lge(e,t){e&&(sge(e).bridge=t)}function cge(e){return"view"===e.type}var uge=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(e,t){var n=new Lse,i=new Yfe,r=this.group,o=new FK;this._controller=new the(t.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),r.add(o),this._symbolDraw=n,this._lineDraw=i,this._mainGroup=o,this._firstRender=!0},t.prototype.render=function(e,t,n){var i=this,r=e.coordinateSystem,o=!1;this._model=e,this._api=n,this._active=!0;var a=this._getThumbnailInfo();a&&a.bridge.reset(n);var s=this._symbolDraw,l=this._lineDraw;if(cge(r)){var c={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?this._mainGroup.attr(c):D5(this._mainGroup,c,e)}age(e.getGraph(),Tfe(e));var u=e.getData();s.updateData(u);var h=e.getEdgeData();l.updateData(h),this._updateNodeAndLinkScale(),this._updateController(null,e,n),clearTimeout(this._layoutTimeout);var d=e.forceLayout,p=e.get(["force","layoutAnimation"]);d&&(o=!0,this._startForceLayoutIteration(d,n,p));var f=e.get("layout");u.graph.eachNode(function(t){var r=t.dataIndex,o=t.getGraphicEl(),a=t.getModel();if(o){o.off("drag").off("dragend");var s=a.get("draggable");s&&o.on("drag",function(a){switch(f){case"force":d.warmUp(),!i._layouting&&i._startForceLayoutIteration(d,n,p),d.setFixed(r),u.setItemLayout(r,[o.x,o.y]);break;case"circular":u.setItemLayout(r,[o.x,o.y]),t.setLayout({fixed:!0},!0),Ofe(e,"symbolSize",t,[a.offsetX,a.offsetY]),i.updateLayout(e);break;default:u.setItemLayout(r,[o.x,o.y]),kfe(e.getGraph(),e),i.updateLayout(e)}}).on("dragend",function(){d&&d.setUnfixed(r)}),o.setDraggable(s,!!a.get("cursor")),"adjacency"===a.get(["emphasis","focus"])&&(d1(o).focus=t.getAdjacentDataIndices())}}),u.graph.eachEdge(function(e){var t=e.getGraphicEl(),n=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===n&&(d1(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})});var g="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),m=u.getLayout("cx"),v=u.getLayout("cy");u.graph.eachNode(function(e){Lfe(e,g,m,v)}),this._firstRender=!1,o||this._renderThumbnail(e,n,this._symbolDraw,this._lineDraw)},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t,n){var i=this,r=!1;!function o(){e.step(function(e){i.updateLayout(i._model),!e&&r||(r=!0,i._renderThumbnail(i._model,t,i._symbolDraw,i._lineDraw)),(i._layouting=!e)&&(n?i._layoutTimeout=setTimeout(o,16):o())})}()},t.prototype._updateController=function(e,t,n){var i=this._controller,r=this._controllerHost,o=t.coordinateSystem;cge(o)?(i.enable(t.get("roam"),{api:n,zInfo:{component:t},triggerInfo:{roamTrigger:t.get("roamTrigger"),isInSelf:function(e,t,n){return o.containPoint([t,n])},isInClip:function(t,n,i){return!e||e.contain(n,i)}}}),r.zoomLimit=t.get("scaleLimit"),r.zoom=o.getZoom(),i.off("pan").off("zoom").on("pan",function(e){n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY})})):i.disable()},t.prototype.updateViewOnPan=function(e,t,n){this._active&&(hhe(this._controllerHost,n.dx,n.dy),this._updateThumbnailWindow())},t.prototype.updateViewOnZoom=function(e,t,n){this._active&&(dhe(this._controllerHost,n.zoom,n.originX,n.originY),this._updateNodeAndLinkScale(),age(e.getGraph(),Tfe(e)),this._lineDraw.updateLayout(),t.updateLabelLayout(),this._updateThumbnailWindow())},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=Tfe(e);t.eachItemGraphicEl(function(e,t){e&&e.setSymbolScale(n)})},t.prototype.updateLayout=function(e){this._active&&(age(e.getGraph(),Tfe(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},t.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},t.prototype._getThumbnailInfo=function(){var e=this._model,t=e.coordinateSystem;if("view"===t.type){var n=function i(e){if(e)return sge(e).bridge}(e);if(n)return{bridge:n,coordSys:t}}},t.prototype._updateThumbnailWindow=function(){var e=this._getThumbnailInfo();e&&e.bridge.updateWindow(e.coordSys.transform,this._api)},t.prototype._renderThumbnail=function(e,t,n,i){var r=this._getThumbnailInfo();if(r){var o=new FK,a=n.group.children(),s=i.group.children(),l=new FK,c=new FK;o.add(c),o.add(l);for(var u=0;u<a.length;u++){var h=(v=a[u]).children()[0],d=v.x,p=v.y,f=AU(kU(h.shape),{width:h.scaleX,height:h.scaleY,x:d-h.scaleX/2,y:p-h.scaleY/2}),g=kU(h.style),m=new h.constructor({shape:f,style:g,z2:151});c.add(m)}for(u=0;u<s.length;u++){var v,y=(v=s[u]).children()[0],b=(g=kU(y.style),f=kU(y.shape),new Wfe({style:g,shape:f,z2:151}));l.add(b)}r.bridge.renderContent({api:t,roamType:e.get("roam"),viewportRect:null,group:o,targetTrans:r.coordSys.transform})}},t.type="graph",t}(N7);function hge(e){return"_EC_"+e}var dge=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var n=this._nodesMap;if(!n[hge(e)]){var i=new pge(e,t);return i.hostGraph=this,this.nodes.push(i),n[hge(e)]=i,i}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[hge(e)]},e.prototype.addEdge=function(e,t,n){var i=this._nodesMap,r=this._edgesMap;if(UU(e)&&(e=this.nodes[e]),UU(t)&&(t=this.nodes[t]),e instanceof pge||(e=i[hge(e)]),t instanceof pge||(t=i[hge(t)]),e&&t){var o=e.id+"-"+t.id,a=new fge(e,t,n);return a.hostGraph=this,this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),r[o]=a,a}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof pge&&(e=e.id),t instanceof pge&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var n=this.nodes,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&e.call(t,n[r],r)},e.prototype.eachEdge=function(e,t){for(var n=this.edges,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&e.call(t,n[r],r)},e.prototype.breadthFirstTraverse=function(e,t,n,i){if(t instanceof pge||(t=this._nodesMap[hge(t)]),t){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(i,t,null))for(var a=[t];a.length;){var s=a.shift(),l=s[r];for(o=0;o<l.length;o++){var c=l[o],u=c.node1===s?c.node2:c.node1;if(!u.__visited){if(e.call(i,u,s))return;a.push(u),u.__visited=!0}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)n[e.getRawIndex(r)].dataIndex=r;t.filterSelf(function(e){var n=i[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)i[t.getRawIndex(r)].dataIndex=r},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,i=this.edges,r=0;r<n.length;r++)t.addNode(n[r].id,n[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},e}(),pge=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},e.prototype.getTrajectoryDataIndices=function(){for(var e=dX(),t=dX(),n=0,i=this.edges.length;n<i;n++){var r=this.edges[n];if(!(r.dataIndex<0)){e.set(r.dataIndex,!0);for(var o=[r.node1],a=[r.node2],s=0;s<o.length;){var l=o[s];s++,t.set(l.dataIndex,!0);for(var c=l.inEdges,u=0,h=c.length,d=void 0,p=void 0;u<h;u++)(p=(d=c[u]).dataIndex)>=0&&!e.hasKey(p)&&(e.set(p,!0),o.push(d.node1))}for(s=0;s<a.length;){var f=a[s];s++,t.set(f.dataIndex,!0);for(var g=f.outEdges,m=(u=0,g.length),v=void 0,y=void 0;u<m;u++)(y=(v=g[u]).dataIndex)>=0&&!e.hasKey(y)&&(e.set(y,!0),a.push(v.node2))}}}return{edge:e.keys(),node:t.keys()}},e}(),fge=function(){function e(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}return e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var e=dX(),t=dX();e.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],r=0;r<n.length;){var o=n[r];r++,t.set(o.dataIndex,!0);for(var a=0,s=o.inEdges.length,l=void 0,c=void 0;a<s;a++)(c=(l=o.inEdges[a]).dataIndex)>=0&&!e.hasKey(c)&&(e.set(c,!0),n.push(l.node1))}for(r=0;r<i.length;){var u=i[r];r++,t.set(u.dataIndex,!0);a=0,s=u.outEdges.length;for(var h=void 0,d=void 0;a<s;a++)(d=(h=u.outEdges[a]).dataIndex)>=0&&!e.hasKey(d)&&(e.set(d,!0),i.push(h.node2))}return{edge:e.keys(),node:t.keys()}},e}();function gge(e,t){return{getValue:function(n){var i=this[e][t];return i.getStore().get(i.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}function mge(e,t,n,i,r){for(var o=new dge(i),a=0;a<e.length;a++)o.addNode(QU(e[a].id,e[a].name,a),a);var s=[],l=[],c=0;for(a=0;a<t.length;a++){var u=t[a],h=u.source,d=u.target;o.addEdge(h,d,c)&&(l.push(u),s.push(QU(EJ(u.id,null),h+" > "+d)),c++)}var p,f=n.get("coordinateSystem");if("cartesian2d"===f||"polar"===f||"matrix"===f)p=Cie(e,n);else{var g=i6.get(f),m=g&&g.dimensions||[];DU(m,"value")<0&&m.concat(["value"]);var v=yie(e,{coordDimensions:m,encodeDefine:n.getEncode()}).dimensions;(p=new vie(v,n)).initData(e)}var y=new vie(["value"],n);return y.initData(l,s),r&&r(p,y),Jde({mainData:p,struct:o,structAttr:"graph",datas:{node:p,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}OU(pge,gge("hostGraph","data")),OU(fge,gge("hostGraph","edgeData"));var vge=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return nU(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new Kle(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),kJ(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var n=e.edges||e.links||[],i=e.data||e.nodes||[],r=this;if(i&&n){!function e(t){yfe(t)&&(t.__curvenessList=[],t.__edgeMap={},bfe(t))}(this);var o=mge(i,n,this,!0,function t(e,n){e.wrapMethod("getItemModel",function(e){var t=r._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e});var i=Q3.prototype.getModel;function o(e,t){var n=i.call(this,e,t);return n.resolveParentPath=a,n}function a(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}n.wrapMethod("getItemModel",function(e){return e.resolveParentPath=a,e.getModel=o,e})});return LU(o.edges,function(e){!function t(e,n,i,r){if(yfe(i)){var o=xfe(e,n,i),a=i.__edgeMap,s=a[_fe(o)];a[o]&&!s?a[o].isForward=!0:s&&a[o]&&(s.isForward=!0,a[o].isForward=!1),a[o]=a[o]||[],a[o].push(r)}}(e.node1,e.node2,this,e.dataIndex)},this),o.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(e,n),o=i.graph.getEdgeByIndex(e),a=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),s7("nameValue",{name:l.join(" > "),value:r.value,noValue:null==r.value})}return b7({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=RU(this.option.categories||[],function(e){return null!=e.value?e:AU({value:0},e)}),t=new vie(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:R6.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:R6.color.primary}}},t}(S7);var yge=function(e){function t(t,n,i){var r=e.call(this)||this;d1(r).dataType="node",r.z2=2;var o=new Q0;return r.setTextContent(o),r.updateData(t,n,i,!0),r}return nU(t,e),t.prototype.updateData=function(e,t,n,i){var r=this,o=e.graph.getNodeByIndex(t),a=e.hostModel,s=o.getModel(),l=s.getModel("emphasis"),c=e.getItemLayout(t),u=AU(mle(s.getModel("itemStyle"),c,!0),c),h=this;if(isNaN(u.startAngle))h.setShape(u);else{i?h.setShape(u):D5(h,{shape:u},a,t);var d=AU(mle(s.getModel("itemStyle"),c,!0),c);r.setShape(d),r.useStyle(e.getItemVisual(t,"style")),a2(r,s),this._updateLabel(a,s,o),e.setItemGraphicEl(t,h),a2(h,s,"itemStyle");var p=l.get("focus");n2(this,"adjacency"===p?o.getAdjacentDataIndices():p,l.get("blurScope"),l.get("disabled"))}},t.prototype._updateLabel=function(e,t,n){var i=this.getTextContent(),r=n.getLayout(),o=(r.startAngle+r.endAngle)/2,a=Math.cos(o),s=Math.sin(o),l=t.getModel("label");i.ignore=!l.get("show");var c=O3(t),u=n.getVisual("style");D3(i,c,{labelFetcher:{getFormattedLabel:function(n,i,r,o,a,s){return e.getFormattedLabel(n,i,"node",o,tX(a,c.normal&&c.normal.get("formatter"),t.get("name")),s)}},labelDataIndex:n.dataIndex,defaultText:n.dataIndex+"",inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:"startArc"});var h,d=l.get("position")||"outside",p=l.get("distance")||0;h="outside"===d?r.r+p:(r.r+r.r0)/2,this.textConfig={inside:"outside"!==d};var f="outside"!==d?l.get("align")||"center":a>0?"left":"right",g="outside"!==d?l.get("verticalAlign")||"middle":s>0?"top":"bottom";i.attr({x:a*h+r.cx,y:s*h+r.cy,rotation:0,style:{align:f,verticalAlign:g}})},t}(Y2),bge=function(e){function t(t,n,i,r){var o=e.call(this)||this;return d1(o).dataType="edge",o.updateData(t,n,i,r,!0),o}return nU(t,e),t.prototype.buildPath=function(e,t){e.moveTo(t.s1[0],t.s1[1]);var n=.7,i=t.clockwise;e.arc(t.cx,t.cy,t.r,t.sStartAngle,t.sEndAngle,!i),e.bezierCurveTo((t.cx-t.s2[0])*n+t.s2[0],(t.cy-t.s2[1])*n+t.s2[1],(t.cx-t.t1[0])*n+t.t1[0],(t.cy-t.t1[1])*n+t.t1[1],t.t1[0],t.t1[1]),e.arc(t.cx,t.cy,t.r,t.tStartAngle,t.tEndAngle,!i),e.bezierCurveTo((t.cx-t.t2[0])*n+t.t2[0],(t.cy-t.t2[1])*n+t.t2[1],(t.cx-t.s1[0])*n+t.s1[0],(t.cy-t.s1[1])*n+t.s1[1],t.s1[0],t.s1[1]),e.closePath()},t.prototype.updateData=function(e,t,n,i,r){var o=e.hostModel,a=t.graph.getEdgeByIndex(n),s=a.getLayout(),l=a.node1.getModel(),c=t.getItemModel(a.dataIndex),u=c.getModel("lineStyle"),h=c.getModel("emphasis"),d=h.get("focus"),p=AU(mle(l.getModel("itemStyle"),s,!0),s),f=this;isNaN(p.sStartAngle)||isNaN(p.tStartAngle)?f.setShape(p):(r?(f.setShape(p),xge(f,a,e,u)):(P5(f),xge(f,a,e,u),D5(f,{shape:p},o,n)),n2(this,"adjacency"===d?a.getAdjacentDataIndices():d,h.get("blurScope"),h.get("disabled")),a2(f,c,"lineStyle"),t.setItemGraphicEl(a.dataIndex,f))},t}(z0);function xge(e,t,n,i){var r=t.node1,o=t.node2,a=e.style;switch(e.setStyle(i.getLineStyle()),i.get("color")){case"source":a.fill=n.getItemVisual(r.dataIndex,"style").fill,a.decal=r.getVisual("style").decal;break;case"target":a.fill=n.getItemVisual(o.dataIndex,"style").fill,a.decal=o.getVisual("style").decal;break;case"gradient":var s=n.getItemVisual(r.dataIndex,"style").fill,l=n.getItemVisual(o.dataIndex,"style").fill;if(jU(s)&&jU(l)){var c=e.shape,u=(c.s1[0]+c.s2[0])/2,h=(c.s1[1]+c.s2[1])/2,d=(c.t1[0]+c.t2[0])/2,p=(c.t1[1]+c.t2[1])/2;a.fill=new f5(u,h,d,p,[{offset:0,color:s},{offset:1,color:l}],!0)}}}var _ge=Math.PI/180,wge=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(e,t){},t.prototype.render=function(e,t,n){var i=e.getData(),r=this._data,o=this.group,a=-e.get("startAngle")*_ge;if(i.diff(r).add(function(e){if(i.getItemLayout(e)){var t=new yge(i,e,a);d1(t).dataIndex=e,o.add(t)}}).update(function(t,n){var s=r.getItemGraphicEl(n);i.getItemLayout(t)?(s?s.updateData(i,t,a):s=new yge(i,t,a),o.add(s)):s&&N5(s,e,n)}).remove(function(t){var n=r.getItemGraphicEl(t);n&&N5(n,e,t)}).execute(),!r){var s=e.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=KK(s[0],n.getWidth()),this.group.originY=KK(s[1],n.getHeight()),O5(this.group,{scaleX:1,scaleY:1},e)}this._data=i,this.renderEdges(e,a)},t.prototype.renderEdges=function(e,t){var n=e.getData(),i=e.getEdgeData(),r=this._edgeData,o=this.group;i.diff(r).add(function(e){var r=new bge(n,i,e,t);d1(r).dataIndex=e,o.add(r)}).update(function(e,a){var s=r.getItemGraphicEl(a);s.updateData(n,i,e,t),o.add(s)}).remove(function(t){var n=r.getItemGraphicEl(t);n&&N5(n,e,t)}).execute(),this._edgeData=i},t.prototype.dispose=function(){},t.type="chord",t}(N7),Sge=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this.legendVisualProvider=new Kle(VU(this.getData,this),VU(this.getRawData,this))},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links)},t.prototype.getInitialData=function(e,t){var n=e.edges||e.links||[],i=e.data||e.nodes||[];if(i&&n)return mge(i,n,this,!0,function r(e,t){var n=Q3.prototype.getModel;function i(e,t){var i=n.call(this,e,t);return i.resolveParentPath=r,i}function r(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",function(e){return e.resolveParentPath=r,e.getModel=i,e})}).data},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,n){var i=this.getDataParams(e,n);if("edge"===n){var r=this.getData(),o=r.graph.getEdgeByIndex(e),a=r.getName(o.node1.dataIndex),s=r.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),s7("nameValue",{name:l.join(" > "),value:i.value,noValue:null==i.value})}return s7("nameValue",{name:i.name,value:i.value,noValue:null==i.value})},t.prototype.getDataParams=function(t,n){var i=e.prototype.getDataParams.call(this,t,n);if("node"===n){var r=this.getData(),o=this.getGraph().getNodeByIndex(t);if(null==i.name&&(i.name=r.getName(t)),null==i.value){var a=o.getLayout().value;i.value=a}}return i},t.type="series.chord",t.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},t}(S7),Mge=Math.PI/180;function kge(e,t){e.eachSeriesByType("chord",function(e){!function n(e,t){var n=e.getData(),i=n.graph,r=e.getEdgeData();if(!r.count())return;var o=b6(e,t),a=o.cx,s=o.cy,l=o.r,c=o.r0,u=Math.max((e.get("padAngle")||0)*Mge,0),h=Math.max((e.get("minAngle")||0)*Mge,0),d=-e.get("startAngle")*Mge,p=d+2*Math.PI,f=e.get("clockwise"),g=f?1:-1,m=[d,p];g0(m,!f);var v=m[0],y=m[1]-v,b=0===n.getSum("value")&&0===r.getSum("value"),x=[],_=0;i.eachEdge(function(e){var t=b?1:e.getValue("value");b&&(t>0||h)&&(_+=2);var n=e.node1.dataIndex,i=e.node2.dataIndex;x[n]=(x[n]||0)+t,x[i]=(x[i]||0)+t});var w=0;if(i.eachNode(function(e){var t=e.getValue("value");isNaN(t)||(x[e.dataIndex]=Math.max(t,x[e.dataIndex]||0)),!b&&(x[e.dataIndex]>0||h)&&_++,w+=x[e.dataIndex]||0}),0===_||0===w)return;u*_>=Math.abs(y)&&(u=Math.max(0,(Math.abs(y)-h*_)/_));(u+h)*_>=Math.abs(y)&&(h=(Math.abs(y)-u*_)/_);var S=(y-u*_*g)/w,M=0,k=0,C=0;i.eachNode(function(e){var t=x[e.dataIndex]||0,n=S*(w?t:1)*g;Math.abs(n)<h?M+=h-Math.abs(n):(k+=Math.abs(n)-h,C+=Math.abs(n)),e.setLayout({angle:n,value:t})});var T=!1;if(M>k){var A=M/k;i.eachNode(function(e){var t=e.getLayout().angle;Math.abs(t)>=h?e.setLayout({angle:t*A,ratio:A},!0):e.setLayout({angle:h,ratio:0===h?1:t/h},!0)})}else i.eachNode(function(e){if(!T){var t=e.getLayout().angle;t-Math.min(t/C,1)*M<h&&(T=!0)}});var I=M;i.eachNode(function(e){if(!(I<=0)){var t=e.getLayout().angle;if(t>h&&h>0){var n=T?1:Math.min(t/C,1),i=t-h,r=Math.min(i,Math.min(I,M*n));I-=r,e.setLayout({angle:t-r,ratio:(t-r)/t},!0)}else h>0&&e.setLayout({angle:h,ratio:0===t?1:h/t},!0)}});var D=v,O=[];i.eachNode(function(e){var t=Math.max(e.getLayout().angle,h);e.setLayout({cx:a,cy:s,r0:c,r:l,startAngle:D,endAngle:D+t*g,clockwise:f},!0),O[e.dataIndex]=D,D+=(t+u)*g}),i.eachEdge(function(e){var t=b?1:e.getValue("value"),n=S*(w?t:1)*g,i=e.node1.dataIndex,r=O[i]||0,o=r+Math.abs((e.node1.getLayout().ratio||1)*n)*g,l=[a+c*Math.cos(r),s+c*Math.sin(r)],u=[a+c*Math.cos(o),s+c*Math.sin(o)],h=e.node2.dataIndex,d=O[h]||0,p=d+Math.abs((e.node2.getLayout().ratio||1)*n)*g,m=[a+c*Math.cos(d),s+c*Math.sin(d)],v=[a+c*Math.cos(p),s+c*Math.sin(p)];e.setLayout({s1:l,s2:u,sStartAngle:r,sEndAngle:o,t1:m,t2:v,tStartAngle:d,tEndAngle:p,cx:a,cy:s,r:c,value:t,clockwise:f}),O[i]=o,O[h]=p})}(e,t)})}var Cge=function(){return function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}}(),Tge=function(e){function t(t){var n=e.call(this,t)||this;return n.type="pointer",n}return nU(t,e),t.prototype.getDefaultShape=function(){return new Cge},t.prototype.buildPath=function(e,t){var n=Math.cos,i=Math.sin,r=t.r,o=t.width,a=t.angle,s=t.x-n(a)*o*(o>=r/3?1:2),l=t.y-i(a)*o*(o>=r/3?1:2);a=t.angle-Math.PI/2,e.moveTo(s,l),e.lineTo(t.x+n(a)*o,t.y+i(a)*o),e.lineTo(t.x+n(t.angle)*r,t.y+i(t.angle)*r),e.lineTo(t.x-n(a)*o,t.y-i(a)*o),e.lineTo(s,l)},t}(z0);function Age(e,t){var n=null==e?"":e+"";return t&&(jU(t)?n=t.replace("{value}",n):$U(t)&&(n=t(e))),n}var Ige=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){this.group.removeAll();var i=e.get(["axisLine","lineStyle","color"]),r=function o(e,t){var n=e.get("center"),i=t.getWidth(),r=t.getHeight(),o=Math.min(i,r);return{cx:KK(n[0],t.getWidth()),cy:KK(n[1],t.getHeight()),r:KK(e.get("radius"),o/2)}}(e,n);this._renderMain(e,t,n,i,r),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,n,i,r){var o=this.group,a=e.get("clockwise"),s=-e.get("startAngle")/180*Math.PI,l=-e.get("endAngle")/180*Math.PI,c=e.getModel("axisLine"),u=c.get("roundCap")?ple:Y2,h=c.get("show"),d=c.getModel("lineStyle"),p=d.get("width"),f=[s,l];g0(f,!a);for(var g=(l=f[1])-(s=f[0]),m=s,v=[],y=0;h&&y<i.length;y++){var b=new u({shape:{startAngle:m,endAngle:l=s+g*Math.min(Math.max(i[y][0],0),1),cx:r.cx,cy:r.cy,clockwise:a,r0:r.r-p,r:r.r},silent:!0});b.setStyle({fill:i[y][1]}),b.setStyle(d.getLineStyle(["color","width"])),v.push(b),m=l}v.reverse(),LU(v,function(e){return o.add(e)});var x=function(e){if(e<=0)return i[0][1];var t;for(t=0;t<i.length;t++)if(i[t][0]>=e&&(0===t?0:i[t-1][0])<e)return i[t][1];return i[t-1][1]};this._renderTicks(e,t,n,x,r,s,l,a,p),this._renderTitleAndDetail(e,t,n,x,r),this._renderAnchor(e,r),this._renderPointer(e,t,n,x,r,s,l,a,p)},t.prototype._renderTicks=function(e,t,n,i,r,o,a,s,l){for(var c,u,h=this.group,d=r.cx,p=r.cy,f=r.r,g=+e.get("min"),m=+e.get("max"),v=e.getModel("splitLine"),y=e.getModel("axisTick"),b=e.getModel("axisLabel"),x=e.get("splitNumber"),_=y.get("splitNumber"),w=KK(v.get("length"),f),S=KK(y.get("length"),f),M=o,k=(a-o)/x,C=k/_,T=v.getModel("lineStyle").getLineStyle(),A=y.getModel("lineStyle").getLineStyle(),I=v.get("distance"),D=0;D<=x;D++){if(c=Math.cos(M),u=Math.sin(M),v.get("show")){var O=new o5({shape:{x1:c*(f-(E=I?I+l:l))+d,y1:u*(f-E)+p,x2:c*(f-w-E)+d,y2:u*(f-w-E)+p},style:T,silent:!0});"auto"===T.stroke&&O.setStyle({stroke:i(D/x)}),h.add(O)}if(b.get("show")){var E=b.get("distance")+I,L=Age(eJ(D/x*(m-g)+g),b.get("formatter")),R=i(D/x),N=c*(f-w-E)+d,P=u*(f-w-E)+p,z=b.get("rotate"),B=0;"radial"===z?(B=-M+2*Math.PI)>Math.PI/2&&(B+=Math.PI):"tangential"===z?B=-M-Math.PI/2:UU(z)&&(B=z*Math.PI/180),0===B?h.add(new Q0({style:E3(b,{text:L,x:N,y:P,verticalAlign:u<-.8?"top":u>.8?"bottom":"middle",align:c<-.4?"left":c>.4?"right":"center"},{inheritColor:R}),silent:!0})):h.add(new Q0({style:E3(b,{text:L,x:N,y:P,verticalAlign:"middle",align:"center"},{inheritColor:R}),silent:!0,originX:N,originY:P,rotation:B}))}if(y.get("show")&&D!==x){E=(E=y.get("distance"))?E+l:l;for(var V=0;V<=_;V++){c=Math.cos(M),u=Math.sin(M);var F=new o5({shape:{x1:c*(f-E)+d,y1:u*(f-E)+p,x2:c*(f-S-E)+d,y2:u*(f-S-E)+p},silent:!0,style:A});"auto"===A.stroke&&F.setStyle({stroke:i((D+V/_)/x)}),h.add(F),M+=C}M-=C}else M+=k}},t.prototype._renderPointer=function(e,t,n,i,r,o,a,s,l){var c=this.group,u=this._data,h=this._progressEls,d=[],p=e.get(["pointer","show"]),f=e.getModel("progress"),g=f.get("show"),m=e.getData(),v=m.mapDimension("value"),y=+e.get("min"),b=+e.get("max"),x=[y,b],_=[o,a];function w(t,n){var i,o=m.getItemModel(t).getModel("pointer"),a=KK(o.get("width"),r.r),s=KK(o.get("length"),r.r),l=e.get(["pointer","icon"]),c=o.get("offsetCenter"),u=KK(c[0],r.r),h=KK(c[1],r.r),d=o.get("keepAspect");return(i=l?Uee(l,u-a/2,h-s,a,s,null,d):new Tge({shape:{angle:-Math.PI/2,width:a,r:s,x:u,y:h}})).rotation=-(n+Math.PI/2),i.x=r.cx,i.y=r.cy,i}function S(e,t){var n=f.get("roundCap")?ple:Y2,i=f.get("overlap"),a=i?f.get("width"):l/m.count(),c=i?r.r-a:r.r-(e+1)*a,u=i?r.r:r.r-e*a,h=new n({shape:{startAngle:o,endAngle:t,cx:r.cx,cy:r.cy,clockwise:s,r0:c,r:u}});return i&&(h.z2=ZK(m.get(v,e),[y,b],[100,0],!0)),h}(g||p)&&(m.diff(u).add(function(t){var n=m.get(v,t);if(p){var i=w(t,o);O5(i,{rotation:-((isNaN(+n)?_[0]:ZK(n,x,_,!0))+Math.PI/2)},e),c.add(i),m.setItemGraphicEl(t,i)}if(g){var r=S(t,o),a=f.get("clip");O5(r,{shape:{endAngle:ZK(n,x,_,a)}},e),c.add(r),p1(e.seriesIndex,m.dataType,t,r),d[t]=r}}).update(function(t,n){var i=m.get(v,t);if(p){var r=u.getItemGraphicEl(n),a=r?r.rotation:o,s=w(t,a);s.rotation=a,D5(s,{rotation:-((isNaN(+i)?_[0]:ZK(i,x,_,!0))+Math.PI/2)},e),c.add(s),m.setItemGraphicEl(t,s)}if(g){var l=h[n],y=S(t,l?l.shape.endAngle:o),b=f.get("clip");D5(y,{shape:{endAngle:ZK(i,x,_,b)}},e),c.add(y),p1(e.seriesIndex,m.dataType,t,y),d[t]=y}}).execute(),m.each(function(e){var t=m.getItemModel(e),n=t.getModel("emphasis"),r=n.get("focus"),o=n.get("blurScope"),a=n.get("disabled");if(p){var s=m.getItemGraphicEl(e),l=m.getItemVisual(e,"style"),c=l.fill;if(s instanceof W0){var u=s.style;s.useStyle(AU({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},l))}else s.useStyle(l),"pointer"!==s.type&&s.setColor(c);s.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===s.style.fill&&s.setStyle("fill",i(ZK(m.get(v,e),x,[0,1],!0))),s.z2EmphasisLift=0,a2(s,t),n2(s,r,o,a)}if(g){var h=d[e];h.useStyle(m.getItemVisual(e,"style")),h.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),h.z2EmphasisLift=0,a2(h,t),n2(h,r,o,a)}}),this._progressEls=d)},t.prototype._renderAnchor=function(e,t){var n=e.getModel("anchor");if(n.get("show")){var i=n.get("size"),r=n.get("icon"),o=n.get("offsetCenter"),a=n.get("keepAspect"),s=Uee(r,t.cx-i/2+KK(o[0],t.r),t.cy-i/2+KK(o[1],t.r),i,i,null,a);s.z2=n.get("showAbove")?1:0,s.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(s)}},t.prototype._renderTitleAndDetail=function(e,t,n,i,r){var o=this,a=e.getData(),s=a.mapDimension("value"),l=+e.get("min"),c=+e.get("max"),u=new FK,h=[],d=[],p=e.isAnimationEnabled(),f=e.get(["pointer","showAbove"]);a.diff(this._data).add(function(e){h[e]=new Q0({silent:!0}),d[e]=new Q0({silent:!0})}).update(function(e,t){h[e]=o._titleEls[t],d[e]=o._detailEls[t]}).execute(),a.each(function(t){var n=a.getItemModel(t),o=a.get(s,t),g=new FK,m=i(ZK(o,[l,c],[0,1],!0)),v=n.getModel("title");if(v.get("show")){var y=v.get("offsetCenter"),b=r.cx+KK(y[0],r.r),x=r.cy+KK(y[1],r.r);(A=h[t]).attr({z2:f?0:2,style:E3(v,{x:b,y:x,text:a.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:m})}),g.add(A)}var _=n.getModel("detail");if(_.get("show")){var w=_.get("offsetCenter"),S=r.cx+KK(w[0],r.r),M=r.cy+KK(w[1],r.r),k=KK(_.get("width"),r.r),C=KK(_.get("height"),r.r),T=e.get(["progress","show"])?a.getItemVisual(t,"style").fill:m,A=d[t],I=_.get("formatter");A.attr({z2:f?0:2,style:E3(_,{x:S,y:M,text:Age(o,I),width:isNaN(k)?null:k,height:isNaN(C)?null:C,align:"center",verticalAlign:"middle"},{inheritColor:T})}),F3(A,{normal:_},o,function(e){return Age(e,I)}),p&&H3(A,t,a,e,{getFormattedLabel:function(e,t,n,i,r,a){return Age(a?a.interpolatedValue:o,I)}}),g.add(A)}u.add(g)}),this.group.add(u),this._titleEls=h,this._detailEls=d},t.type="gauge",t}(N7),Dge=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return nU(t,e),t.prototype.getInitialData=function(e,t){return Zle(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,R6.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:R6.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:R6.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:R6.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:R6.color.neutral00,borderWidth:0,borderColor:R6.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:R6.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:R6.color.transparent,borderWidth:0,borderColor:R6.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:R6.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(S7);var Oge=["itemStyle","opacity"],Ege=function(e){function t(t,n){var i=e.call(this)||this,r=i,o=new n5,a=new Q0;return r.setTextContent(a),i.setTextGuideLine(o),i.updateData(t,n,!0),i}return nU(t,e),t.prototype.updateData=function(e,t,n){var i=this,r=e.hostModel,o=e.getItemModel(t),a=e.getItemLayout(t),s=o.getModel("emphasis"),l=o.get(Oge);l=null==l?1:l,n||P5(i),i.useStyle(e.getItemVisual(t,"style")),i.style.lineJoin="round",n?(i.setShape({points:a.points}),i.style.opacity=0,O5(i,{style:{opacity:l}},r,t)):D5(i,{style:{opacity:l},shape:{points:a.points}},r,t),a2(i,o),this._updateLabel(e,t),n2(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e,t){var n=this,i=this.getTextGuideLine(),r=n.getTextContent(),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"style"),c=l.fill;D3(r,O3(a),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:l.opacity,defaultText:e.getName(t)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}});var u="inherit"===a.getModel("label").get("color")?c:null;n.setTextConfig({local:!0,inside:!!s.inside,insideStroke:u,outsideFill:u});var h=s.linePoints;i.setShape({points:h}),n.textGuideLineConfig={anchor:h?new xq(h[0][0],h[0][1]):null},D5(r,{style:{x:s.x,y:s.y}},o,t),r.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),Boe(n,Voe(a),{stroke:c})},t}(e5),Lge=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return nU(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),r=this._data,o=this.group;i.diff(r).add(function(e){var t=new Ege(i,e);i.setItemGraphicEl(e,t),o.add(t)}).update(function(e,t){var n=r.getItemGraphicEl(t);n.updateData(i,e),o.add(n),i.setItemGraphicEl(e,n)}).remove(function(t){N5(r.getItemGraphicEl(t),e,t)}).execute(),this._data=i},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(N7),Rge=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Kle(VU(this.getData,this),VU(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return Zle(this,{coordDimensions:["value"],encodeDefaulter:HU(i8,this)})},t.prototype._defaultLabelLine=function(e){kJ(e,"labelLine",["show"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var n=this.getData(),i=e.prototype.getDataParams.call(this,t),r=n.mapDimension("value"),o=n.getSum(r);return i.percent=o?+(n.get(r,t)/o*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:R6.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:R6.color.primary}}},t}(S7);function Nge(e,t){e.eachSeriesByType("funnel",function(e){var n=e.getData(),i=n.mapDimension("value"),r=e.get("sort"),o=S6(e,t),a=x6(e.getBoxLayoutParams(),o.refContainer),s=e.get("orient"),l=a.width,c=a.height,u=function h(e,t){for(var n=e.mapDimension("value"),i=e.mapArray(n,function(e){return e}),r=[],o="ascending"===t,a=0,s=e.count();a<s;a++)r[a]=a;return $U(t)?r.sort(t):"none"!==t&&r.sort(function(e,t){return o?i[e]-i[t]:i[t]-i[e]}),r}(n,r),d=a.x,p=a.y,f="horizontal"===s?[KK(e.get("minSize"),c),KK(e.get("maxSize"),c)]:[KK(e.get("minSize"),l),KK(e.get("maxSize"),l)],g=n.getDataExtent(i),m=e.get("min"),v=e.get("max");null==m&&(m=Math.min(g[0],0)),null==v&&(v=g[1]);var y=e.get("funnelAlign"),b=e.get("gap"),x=(("horizontal"===s?l:c)-b*(n.count()-1))/n.count(),_=function(e,t){if("horizontal"===s){var r=ZK(n.get(i,e)||0,[m,v],f,!0),o=void 0;switch(y){case"top":o=p;break;case"center":o=p+(c-r)/2;break;case"bottom":o=p+(c-r)}return[[t,o],[t,o+r]]}var a,u=ZK(n.get(i,e)||0,[m,v],f,!0);switch(y){case"left":a=d;break;case"center":a=d+(l-u)/2;break;case"right":a=d+l-u}return[[a,t],[a+u,t]]};"ascending"===r&&(x=-x,b=-b,"horizontal"===s?d+=l:p+=c,u=u.reverse());for(var w=0;w<u.length;w++){var S=u[w],M=u[w+1],k=n.getItemModel(S);if("horizontal"===s){var C=k.get(["itemStyle","width"]);null==C?C=x:(C=KK(C,l),"ascending"===r&&(C=-C));var T=_(S,d),A=_(M,d+C);d+=C+b,n.setItemLayout(S,{points:T.concat(A.slice().reverse())})}else{var I=k.get(["itemStyle","height"]);null==I?I=x:(I=KK(I,c),"ascending"===r&&(I=-I));T=_(S,p),A=_(M,p+I);p+=I+b,n.setItemLayout(S,{points:T.concat(A.slice().reverse())})}}!function D(e){var t=e.hostModel.get("orient");e.each(function(n){var i,r,o,a,s=e.getItemModel(n),l=s.getModel("label").get("position"),c=s.getModel("labelLine"),u=e.getItemLayout(n),h=u.points,d="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(d)"insideLeft"===l?(r=(h[0][0]+h[3][0])/2+5,o=(h[0][1]+h[3][1])/2,i="left"):"insideRight"===l?(r=(h[1][0]+h[2][0])/2-5,o=(h[1][1]+h[2][1])/2,i="right"):(r=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,o=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,i="center"),a=[[r,o],[r,o]];else{var p=void 0,f=void 0,g=void 0,m=void 0,v=c.get("length");"left"===l?(p=(h[3][0]+h[0][0])/2,f=(h[3][1]+h[0][1])/2,r=(g=p-v)-5,i="right"):"right"===l?(p=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,r=(g=p+v)+5,i="left"):"top"===l?(p=(h[3][0]+h[0][0])/2,o=(m=(f=(h[3][1]+h[0][1])/2)-v)-5,i="center"):"bottom"===l?(p=(h[1][0]+h[2][0])/2,o=(m=(f=(h[1][1]+h[2][1])/2)+v)+5,i="center"):"rightTop"===l?(p="horizontal"===t?h[3][0]:h[1][0],f="horizontal"===t?h[3][1]:h[1][1],"horizontal"===t?(o=(m=f-v)-5,i="center"):(r=(g=p+v)+5,i="top")):"rightBottom"===l?(p=h[2][0],f=h[2][1],"horizontal"===t?(o=(m=f+v)+5,i="center"):(r=(g=p+v)+5,i="bottom")):"leftTop"===l?(p=h[0][0],f="horizontal"===t?h[0][1]:h[1][1],"horizontal"===t?(o=(m=f-v)-5,i="center"):(r=(g=p-v)-5,i="right")):"leftBottom"===l?(p="horizontal"===t?h[1][0]:h[3][0],f="horizontal"===t?h[1][1]:h[2][1],"horizontal"===t?(o=(m=f+v)+5,i="center"):(r=(g=p-v)-5,i="right")):(p=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,"horizontal"===t?(o=(m=f+v)+5,i="center"):(r=(g=p+v)+5,i="left")),"horizontal"===t?r=g=p:o=m=f,a=[[p,f],[g,m]]}u.label={linePoints:a,x:r,y:o,verticalAlign:"middle",textAlign:i,inside:d}})}(n)})}var Pge=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new FK,n._initialized=!1,n}return nU(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,n,i){this._progressiveEls=null;var r=this._dataGroup,o=e.getData(),a=this._data,s=e.coordinateSystem,l=s.dimensions,c=Vge(e);if(o.diff(a).add(function d(e){Fge(Bge(o,r,e,l,s),o,e,c)}).update(function h(t,n){var i=a.getItemGraphicEl(n),r=zge(o,t,l,s);o.setItemGraphicEl(t,i),D5(i,{shape:{points:r}},e,t),P5(i),Fge(i,o,t,c)}).remove(function u(e){var t=a.getItemGraphicEl(e);r.remove(t)}).execute(),!this._initialized){this._initialized=!0;var p=function t(e,n,i){var r=e.model,o=e.getRect(),a=new Y0({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),s="horizontal"===r.get("layout")?"width":"height";return a.setShape(s,0),O5(a,{shape:{width:o.width,height:o.height}},n,i),a}(s,e,function(){setTimeout(function(){r.removeClipPath()})});r.setClipPath(p)}this._data=o},t.prototype.incrementalPrepareRender=function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,n){for(var i=t.getData(),r=t.coordinateSystem,o=r.dimensions,a=Vge(t),s=this._progressiveEls=[],l=e.start;l<e.end;l++){var c=Bge(i,this._dataGroup,l,o,r);c.incremental=!0,Fge(c,i,l,a),s.push(c)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(N7);function zge(e,t,n,i){for(var r=[],o=0;o<n.length;o++){var a=n[o],s=e.get(e.mapDimension(a),t);Hge(s,i.getAxis(a).type)||r.push(i.dataToPoint(s,a))}return r}function Bge(e,t,n,i,r){var o=zge(e,n,i,r),a=new n5({shape:{points:o},z2:10});return t.add(a),e.setItemGraphicEl(n,a),a}function Vge(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),JU(t=fJ(t))&&(t=0),{smooth:t}}function Fge(e,t,n,i){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",i.smooth);var r=t.getItemModel(n),o=r.getModel("emphasis");a2(e,r,"lineStyle"),n2(e,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function Hge(e,t){return"category"===t?null==e:null==e||isNaN(e)}var Wge=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return nU(t,e),t.prototype.getInitialData=function(e,t){return Cie(null,this,{useEncodeDefaulter:VU($ge,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,n=this.getData(),i=[];return t.eachActiveState(n,function(t,r){e===t&&i.push(n.getRawIndex(r))}),i},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(S7);function $ge(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var n={};return LU(t.dimensions,function(e){var t=function i(e){return+e.replace("dim","")}(e);n[e]=t}),n}}var jge=["lineStyle","opacity"],Gge={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,i={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){n.eachActiveState(t,function(e,n){var r=i[e];if("normal"===e&&t.hasItemOption){var o=t.getItemModel(n).get(jge,!0);null!=o&&(r=o)}t.ensureUniqueItemVisual(n,"style").opacity=r},e.start,e.end)}}}};function Uge(e){!function t(e){if(e.parallel)return;var t=!1;LU(e.series,function(e){e&&"parallel"===e.type&&(t=!0)}),t&&(e.parallel=[{}])}(e),function n(e){var t=MJ(e.parallelAxis);LU(t,function(t){if(XU(t)){var n=t.parallelIndex||0,i=MJ(e.parallel)[n];i&&i.parallelAxisDefault&&CU(t,i.parallelAxisDefault,!1)}})}(e)}var Xge=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},LU(qge,function(e,t){n.getZr().on(t,this._handlers[t]=VU(e,this))},this)),G7(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,t){U7(this,"_throttledDispatchExpand"),LU(this._handlers,function(e,n){t.getZr().off(n,e)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(AU({type:"parallelAxisExpand"},e))},t.type="parallel",t}(O7),qge={mousedown:function(e){Yge(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(Yge(this,"click")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&Yge(this,"mousemove")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function Yge(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}var Zge=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var t=this.option;e&&CU(t,e,!0),this._initDimensions()},t.prototype.contains=function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},t.prototype.setAxisExpand=function(e){LU(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];LU(PU(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(e){return(e.get("parallelIndex")||0)===this.componentIndex},this),function(n){e.push("dim"+n.get("dim")),t.push(n.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(D6),Kge=function(e){function t(t,n,i,r,o){var a=e.call(this,t,n,i)||this;return a.type=r||"value",a.axisIndex=o,a}return nU(t,e),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(foe);function Jge(e,t,n,i,r,o){e=e||0;var a=n[1]-n[0];if(null!=r&&(r=eme(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i){var s=Math.abs(t[1]-t[0]);s=eme(s,[0,a]),r=o=eme(s,[r,o]),i=0}t[0]=eme(t[0],n),t[1]=eme(t[1],n);var l=Qge(t,i);t[i]+=e;var c,u=r||0,h=n.slice();return l.sign<0?h[0]+=u:h[1]-=u,t[i]=eme(t[i],h),c=Qge(t,i),null!=r&&(c.sign!==l.sign||c.span<r)&&(t[1-i]=t[i]+l.sign*r),c=Qge(t,i),null!=o&&c.span>o&&(t[1-i]=t[i]+c.sign*o),t}function Qge(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function eme(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var tme=LU,nme=Math.min,ime=Math.max,rme=Math.floor,ome=Math.ceil,ame=eJ,sme=Math.PI,lme=function(){function e(e,t,n){this.type="parallel",this._axesMap=dX(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var i=e.dimensions,r=e.parallelAxisIndex;tme(i,function(e,n){var i=r[n],o=t.getComponent("parallelAxis",i),a=this._axesMap.set(e,new Kge(e,Cre(o),[0,0],o.get("type"),i)),s="category"===a.type;a.onBand=s&&o.get("boundaryGap"),a.inverse=o.get("inverse"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this},this)},e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},e.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,r=t.pixelDimIndex,o=e[1-r],a=e[r];return o>=n&&o<=n+t.axisLength&&a>=i&&a<=i+t.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();tme(this.dimensions,function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(i,i.mapDimension(e)),kre(t.scale,t.model)},this)}},this)},e.prototype.resize=function(e,t){var n=S6(e,t).refContainer;this._rect=x6(e.getBoxLayoutParams(),n),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var e,t=this._model,n=this._rect,i=["x","y"],r=["width","height"],o=t.get("layout"),a="horizontal"===o?0:1,s=n[r[a]],l=[0,s],c=this.dimensions.length,u=cme(t.get("axisExpandWidth"),l),h=cme(t.get("axisExpandCount")||0,[0,c]),d=t.get("axisExpandable")&&c>3&&c>h&&h>1&&u>0&&s>0,p=t.get("axisExpandWindow");p?(e=cme(p[1]-p[0],l),p[1]=p[0]+e):(e=cme(u*(h-1),l),(p=[u*(t.get("axisExpandCenter")||rme(c/2))-e/2])[1]=p[0]+e);var f=(s-e)/(c-h);f<3&&(f=0);var g=[rme(ame(p[0]/u,1))+1,ome(ame(p[1]/u,1))-1],m=f/u*p[0];return{layout:o,pixelDimIndex:a,layoutBase:n[i[a]],layoutLength:s,axisBase:n[i[1-a]],axisLength:n[r[1-a]],axisExpandable:d,axisExpandWidth:u,axisCollapseWidth:f,axisExpandWindow:p,axisCount:c,winInnerIndices:g,axisExpandWindow0Pos:m}},e.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;t.each(function(e){var t=[0,i.axisLength],n=e.inverse?1:0;e.setExtent(t[n],t[1-n])}),tme(n,function(t,n){var o=(i.axisExpandable?hme:ume)(n,i),a={horizontal:{x:o.position,y:i.axisLength},vertical:{x:0,y:o.position}},s={horizontal:sme/2,vertical:0},l=[a[r].x+e.x,a[r].y+e.y],c=s[r],u=[1,0,0,1,0,0];vq(u,u,c),mq(u,u,l),this._axesLayout[t]={position:l,rotation:c,transform:u,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(e){return this._axesMap.get(e)},e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},e.prototype.eachActiveState=function(e,t,n,i){null==n&&(n=0),null==i&&(i=e.count());var r=this._axesMap,o=this.dimensions,a=[],s=[];LU(o,function(t){a.push(e.mapDimension(t)),s.push(r.get(t).model)});for(var l=this.hasAxisBrushed(),c=n;c<i;c++){var u=void 0;if(l){u="active";for(var h=e.getValues(a,c),d=0,p=o.length;d<p;d++){if("inactive"===s[d].getActiveState(h[d])){u="inactive";break}}}else u="normal";t(u,c)}},e.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,r=e.length;i<r;i++)"normal"!==t.get(e[i]).model.getActiveState()&&(n=!0);return n},e.prototype.axisCoordToPoint=function(e,t){return Q5([e,0],this._axesLayout[t].transform)},e.prototype.getAxisLayout=function(e){return kU(this._axesLayout[e])},e.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var a,s=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l="slide",c=t.axisCollapseWidth,u=this._model.get("axisExpandSlideTriggerArea"),h=null!=u[0];if(c)h&&c&&s<r*u[0]?(l="jump",a=s-r*u[2]):h&&c&&s>r*(1-u[0])?(l="jump",a=s-r*(1-u[2])):(a=s-r*u[1])>=0&&(a=s-r*(1-u[1]))<=0&&(a=0),(a*=t.axisExpandWidth/c)?Jge(a,i,o,"all"):l="none";else{var d=i[1]-i[0];(i=[ime(0,o[1]*s/d-d/2)])[1]=nme(o[1],i[0]+d),i[0]=i[1]-d}return{axisExpandWindow:i,behavior:l}},e}();function cme(e,t){return nme(ime(e,t[0]),t[1])}function ume(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function hme(e,t){var n,i,r=t.layoutLength,o=t.axisExpandWidth,a=t.axisCount,s=t.axisCollapseWidth,l=t.winInnerIndices,c=s,u=!1;return e<l[0]?(n=e*s,i=s):e<=l[1]?(n=t.axisExpandWindow0Pos+e*o-t.axisExpandWindow[0],c=o,u=!0):(n=r-(a-1-e)*s,i=s),{position:n,axisNameAvailableWidth:c,axisLabelShow:u,nameTruncateMaxWidth:i}}var dme={create:function pme(e,t){var n=[];return e.eachComponent("parallel",function(i,r){var o=new lme(i,e,t);o.name="parallel_"+r,o.resize(i,t),i.coordinateSystem=o,o.model=i,n.push(o)}),e.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var t=e.getReferringComponents("parallel",FJ).models[0];e.coordinateSystem=t.coordinateSystem}}),n}},fme=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.activeIntervals=[],n}return nU(t,e),t.prototype.getAreaSelectStyle=function(){return iQ([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=kU(e);if(t)for(var n=t.length-1;n>=0;n--)tJ(t[n])},t.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return"active"}else for(var i=0,r=t.length;i<r;i++)if(t[i][0]<=e&&e<=t[i][1])return"active";return"inactive"},t}(D6);OU(fme,Nre);var gme=!0,mme=Math.min,vme=Math.max,yme=Math.pow,bme="globalPan",xme={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},_me={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},wme={brushStyle:{lineWidth:2,stroke:R6.color.backgroundTint,fill:R6.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},Sme=0,Mme=function(e){function t(t){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new FK,n._uid="brushController_"+Sme++,LU(Kme,function(e,t){this._handlers[t]=VU(e,this)},n),n}return nU(t,e),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var t=this._zr;this._enableGlobalPan||function n(e,t,i){Kue(e)[t]=i}(t,bme,this._uid),LU(this._handlers,function(e,n){t.on(n,e)}),this._brushType=e.brushType,this._brushOption=CU(kU(wme),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;!function t(e,n,i){var r=Kue(e);r[n]===i&&(r[n]=null)}(e,bme,this._uid),LU(this._handlers,function(t,n){e.off(n,t)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};LU(e,function(e){t[e.panelId]=kU(e)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=RU(e,function(e){return CU(kU(wme),e,!0)});var t=this._covers,n=this._covers=[],i=this,r=this._creatingCover;return new Xne(t,e,function a(e,t){return s(e.__brushOption,t)},s).add(l).update(l).remove(function o(e){t[e]!==r&&i.group.remove(t[e])}).execute(),this;function s(e,t){return(null!=e.id?e.id:"\0-brush-index-"+t)+"-"+e.brushType}function l(o,a){var s=e[o];if(null!=a&&t[a]===r)n[o]=t[a];else{var l=n[o]=null!=a?(t[a].__brushOption=s,t[a]):Cme(i,kme(i,s));Ime(i,l)}}},t.prototype.unmount=function(){return this.enableBrush(!1),Lme(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(HX);function kme(e,t){var n=Qme[t.brushType].createCover(e,t);return n.__brushOption=t,Ame(n,t),e.group.add(n),n}function Cme(e,t){var n=Dme(t);return n.endCreating&&(n.endCreating(e,t),Ame(t,t.__brushOption)),t}function Tme(e,t){var n=t.__brushOption;Dme(t).updateCoverShape(e,t,n.range,n)}function Ame(e,t){var n=t.z;null==n&&(n=1e4),e.traverse(function(e){e.z=n,e.z2=n})}function Ime(e,t){Dme(t).updateCommon(e,t),Tme(e,t)}function Dme(e){return Qme[e.__brushOption.brushType]}function Ome(e,t,n){var i,r=e._panels;if(!r)return gme;var o=e._transform;return LU(r,function(e){e.isTargetByCursor(t,n,o)&&(i=e)}),i}function Eme(e,t){var n=e._panels;if(!n)return gme;var i=t.__brushOption.panelId;return null!=i?n[i]:gme}function Lme(e){var t=e._covers,n=t.length;return LU(t,function(t){e.group.remove(t)},e),t.length=0,!!n}function Rme(e,t){var n=RU(e._covers,function(e){var t=e.__brushOption,n=kU(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}});e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function Nme(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function Pme(e,t,n,i){var r=new FK;return r.add(new Y0({name:"main",style:Fme(n),silent:!0,draggable:!0,cursor:"move",drift:HU($me,e,t,r,["n","s","w","e"]),ondragend:HU(Rme,t,{isEnd:!0})})),LU(i,function(n){r.add(new Y0({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:HU($me,e,t,r,n),ondragend:HU(Rme,t,{isEnd:!0})}))}),r}function zme(e,t,n,i){var r=i.brushStyle.lineWidth||0,o=vme(r,6),a=n[0][0],s=n[1][0],l=a-r/2,c=s-r/2,u=n[0][1],h=n[1][1],d=u-o+r/2,p=h-o+r/2,f=u-a,g=h-s,m=f+r,v=g+r;Vme(e,t,"main",a,s,f,g),i.transformable&&(Vme(e,t,"w",l,c,o,v),Vme(e,t,"e",d,c,o,v),Vme(e,t,"n",l,c,m,o),Vme(e,t,"s",l,p,m,o),Vme(e,t,"nw",l,c,o,o),Vme(e,t,"ne",d,c,o,o),Vme(e,t,"sw",l,p,o,o),Vme(e,t,"se",d,p,o,o))}function Bme(e,t){var n=t.__brushOption,i=n.transformable,r=t.childAt(0);r.useStyle(Fme(n)),r.attr({silent:!i,cursor:i?"move":"default"}),LU([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(n){var r=t.childOfName(n.join("")),o=1===n.length?Wme(e,n[0]):function a(e,t){var n=[Wme(e,t[0]),Wme(e,t[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(e,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?_me[o]+"-resize":null})})}function Vme(e,t,n,i,r,o,a){var s=t.childOfName(n);s&&s.setShape(function l(e){var t=mme(e[0][0],e[1][0]),n=mme(e[0][1],e[1][1]),i=vme(e[0][0],e[1][0]),r=vme(e[0][1],e[1][1]);return{x:t,y:n,width:i-t,height:r-n}}(Ume(e,t,[[i,r],[i+o,r+a]])))}function Fme(e){return IU({strokeNoScale:!0},e.brushStyle)}function Hme(e,t,n,i){var r=[mme(e,n),mme(t,i)],o=[vme(e,n),vme(t,i)];return[[r[0],o[0]],[r[1],o[1]]]}function Wme(e,t){var n=e3({w:"left",e:"right",n:"top",s:"bottom"}[t],function i(e){return J5(e.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[n]}function $me(e,t,n,i,r,o){var a=n.__brushOption,s=e.toRectRange(a.range),l=Gme(t,r,o);LU(i,function(e){var t=xme[e];s[t[0]][t[1]]+=l[t[0]]}),a.range=e.fromRectRange(Hme(s[0][0],s[1][0],s[0][1],s[1][1])),Ime(t,n),Rme(t,{isEnd:!1})}function jme(e,t,n,i){var r=t.__brushOption.range,o=Gme(e,n,i);LU(r,function(e){e[0]+=o[0],e[1]+=o[1]}),Ime(e,t),Rme(e,{isEnd:!1})}function Gme(e,t,n){var i=e.group,r=i.transformCoordToLocal(t,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function Ume(e,t,n){var i=Eme(e,t);return i&&i!==gme?i.clipPath(n,e._transform):kU(n)}function Xme(e){var t=e.event;t.preventDefault&&t.preventDefault()}function qme(e,t,n){return e.childOfName("main").contain(t,n)}function Yme(e,t,n,i){var r,o=e._creatingCover,a=e._creatingPanel,s=e._brushOption;if(e._track.push(n.slice()),function l(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],i=t[0],r=n[0]-i[0],o=n[1]-i[1];return yme(r*r+o*o,.5)>6}(e)||o){if(a&&!o){"single"===s.brushMode&&Lme(e);var c=kU(s);c.brushType=Zme(c.brushType,a),c.panelId=a===gme?null:a.panelId,o=e._creatingCover=kme(e,c),e._covers.push(o)}if(o){var u=Qme[Zme(e._brushType,a)];o.__brushOption.range=u.getCreatingRange(Ume(e,o,e._track)),i&&(Cme(e,o),u.updateCommon(e,o)),Tme(e,o),r={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&Ome(e,t,n)&&Lme(e)&&(r={isEnd:i,removeOnClick:!0});return r}function Zme(e,t){return"auto"===e?t.defaultBrushType:e}var Kme={mousedown:function(e){if(this._dragging)Jme(this,e);else if(!e.target||!e.target.draggable){Xme(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=Ome(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,i=this.group.transformCoordToLocal(t,n);if(function r(e,t,n){if(e._brushType&&!function i(e,t,n){var i=e._zr;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}(e,t.offsetX,t.offsetY)){var r=e._zr,o=e._covers,a=Ome(e,t,n);if(!e._dragging)for(var s=0;s<o.length;s++){var l=o[s].__brushOption;if(a&&(a===gme||l.panelId===a.panelId)&&Qme[l.brushType].contain(o[s],n[0],n[1]))return}a&&r.setCursorStyle("crosshair")}}(this,e,i),this._dragging){Xme(e);var o=Yme(this,e,i,!1);o&&Rme(this,o)}},mouseup:function(e){Jme(this,e)}};function Jme(e,t){if(e._dragging){Xme(t);var n=t.offsetX,i=t.offsetY,r=e.group.transformCoordToLocal(n,i),o=Yme(e,t,r,!0);e._dragging=!1,e._track=[],e._creatingCover=null,o&&Rme(e,o)}}var Qme={lineX:eve(0),lineY:eve(1),rect:{createCover:function(e,t){function n(e){return e}return Pme({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=Nme(e);return Hme(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){zme(e,t,n,i)},updateCommon:Bme,contain:qme},polygon:{createCover:function(e,t){var n=new FK;return n.add(new n5({name:"main",style:Fme(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new e5({name:"main",draggable:!0,drift:HU(jme,e,t),ondragend:HU(Rme,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:Ume(e,t,n)})},updateCommon:Bme,contain:qme}};function eve(e){return{createCover:function(t,n){return Pme({toRectRange:function(t){var n=[t,[0,100]];return e&&n.reverse(),n},fromRectRange:function(t){return t[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var n=Nme(t);return[mme(n[0][e],n[1][e]),vme(n[0][e],n[1][e])]},updateCoverShape:function(t,n,i,r){var o,a=Eme(t,n);if(a!==gme&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(e);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[i,o];e&&l.reverse(),zme(t,n,l,r)},updateCommon:Bme,contain:qme}}function tve(e){return e=rve(e),function(t){return i3(t,e)}}function nve(e,t){return e=rve(e),function(n){var i=null!=t?t:n,r=i?e.width:e.height,o=i?e.x:e.y;return[o,o+(r||0)]}}function ive(e,t,n){var i=rve(e);return function(e,r){return i.contain(r[0],r[1])&&!ehe(e,t,n)}}function rve(e){return Rq.create(e)}var ove=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(t,n){e.prototype.init.apply(this,arguments),(this._brushController=new Mme(n.getZr())).on("brush",VU(this._onBrush,this))},t.prototype.render=function(e,t,n,i){if(!function r(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}(e,t,i)){this.axisModel=e,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new FK,this.group.add(this._axisGroup),e.get("show")){var a=function i(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}(e,t),s=a.coordinateSystem,l=e.getAreaSelectStyle(),c=l.width,u=e.axis.dim,h=AU({strokeContainThreshold:c},s.getAxisLayout(u)),d=new $ce(e,n,h);d.build(),this._axisGroup.add(d.group),this._refreshBrushController(h,l,e,a,c,n),n3(o,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,t,n,i,r,o){var a=n.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),c=Rq.create({x:a[0],y:-r/2,width:s,height:r});c.x-=l,c.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:tve(c),isTargetByCursor:ive(c,o,i),getLinearBrushOtherExtent:nve(c,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(function u(e){var t=e.axis;return RU(e.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}(n))},t.prototype._onBrush=function(e){var t=e.areas,n=this.axisModel,i=n.axis,r=RU(t,function(e){return[i.coordToData(e.range[0],!0),i.coordToData(e.range[1],!0)]});(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:r})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(O7);var ave={type:"axisAreaSelect",event:"axisAreaSelected"};var sve={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function lve(e){e.registerComponentView(Xge),e.registerComponentModel(Zge),e.registerCoordinateSystem("parallel",dme),e.registerPreprocessor(Uge),e.registerComponentModel(fme),e.registerComponentView(ove),vce(e,"parallel",fme,sve),function t(e){e.registerAction(ave,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(t){t.axis.model.setActiveIntervals(e.intervals)})}),e.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(t){t.setAxisExpand(e)})})}(e)}var cve=function(){return function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}}(),uve=function(e){function t(t){return e.call(this,t)||this}return nU(t,e),t.prototype.getDefaultShape=function(){return new cve},t.prototype.buildPath=function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},t.prototype.highlight=function(){W1(this)},t.prototype.downplay=function(){$1(this)},t}(z0),hve=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new FK,n._focusAdjacencyDisabled=!1,n}return nU(t,e),t.prototype.init=function(e,t){this._controller=new the(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,n){var i=this,r=e.getGraph(),o=this._mainGroup,a=e.layoutInfo,s=a.width,l=a.height,c=e.getData(),u=e.getData("edge"),h=e.get("orient");this._model=e,o.removeAll(),o.x=a.x,o.y=a.y,this._updateViewCoordSys(e,n),phe(e,n,o,this._controller,this._controllerHost,null),r.eachEdge(function(t){var n=new uve,i=d1(n);i.dataIndex=t.dataIndex,i.seriesIndex=e.seriesIndex,i.dataType="edge";var r,a,c,d,p,f,g,m,v=t.getModel(),y=v.getModel("lineStyle"),b=y.get("curveness"),x=t.node1.getLayout(),_=t.node1.getModel(),w=_.get("localX"),S=_.get("localY"),M=t.node2.getLayout(),k=t.node2.getModel(),C=k.get("localX"),T=k.get("localY"),A=t.getLayout();n.shape.extent=Math.max(1,A.dy),n.shape.orient=h,"vertical"===h?(r=(null!=w?w*s:x.x)+A.sy,a=(null!=S?S*l:x.y)+x.dy,c=(null!=C?C*s:M.x)+A.ty,p=r,f=a*(1-b)+(d=null!=T?T*l:M.y)*b,g=c,m=a*b+d*(1-b)):(r=(null!=w?w*s:x.x)+x.dx,a=(null!=S?S*l:x.y)+A.sy,p=r*(1-b)+(c=null!=C?C*s:M.x)*b,f=a,g=r*b+c*(1-b),m=d=(null!=T?T*l:M.y)+A.ty),n.setShape({x1:r,y1:a,x2:c,y2:d,cpx1:p,cpy1:f,cpx2:g,cpy2:m}),n.useStyle(y.getItemStyle()),dve(n.style,h,t);var I=""+v.get("value"),D=O3(v,"edgeLabel");D3(n,D,{labelFetcher:{getFormattedLabel:function(t,n,i,r,o,a){return e.getFormattedLabel(t,n,"edge",r,tX(o,D.normal&&D.normal.get("formatter"),I),a)}},labelDataIndex:t.dataIndex,defaultText:I}),n.setTextConfig({position:"inside"});var O=v.getModel("emphasis");a2(n,v,"lineStyle",function(e){var n=e.getItemStyle();return dve(n,h,t),n}),o.add(n),u.setItemGraphicEl(t.dataIndex,n);var E=O.get("focus");n2(n,"adjacency"===E?t.getAdjacentDataIndices():"trajectory"===E?t.getTrajectoryDataIndices():E,O.get("blurScope"),O.get("disabled"))}),r.eachNode(function(t){var n=t.getLayout(),i=t.getModel(),r=i.get("localX"),a=i.get("localY"),u=i.getModel("emphasis"),h=i.get(["itemStyle","borderRadius"])||0,d=new Y0({shape:{x:null!=r?r*s:n.x,y:null!=a?a*l:n.y,width:n.dx,height:n.dy,r:h},style:i.getModel("itemStyle").getItemStyle(),z2:10});D3(d,O3(i),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(t,n,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id}),d.disableLabelAnimation=!0,d.setStyle("fill",t.getVisual("color")),d.setStyle("decal",t.getVisual("style").decal),a2(d,i),o.add(d),c.setItemGraphicEl(t.dataIndex,d),d1(d).dataType="node";var p=u.get("focus");n2(d,"adjacency"===p?t.getAdjacentDataIndices():"trajectory"===p?t.getTrajectoryDataIndices():p,u.get("blurScope"),u.get("disabled"))}),c.eachItemGraphicEl(function(t,r){c.getItemModel(r).get("draggable")&&(t.drift=function(t,o){i._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:c.getRawIndex(r),localX:this.shape.x/s,localY:this.shape.y/l})},t.ondragend=function(){i._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")}),!this._data&&e.isAnimationEnabled()&&o.setClipPath(function d(e,t,n){var i=new Y0({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return O5(i,{shape:{width:e.width+20}},t,n),i}(o.getBoundingRect(),e,function(){o.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._updateViewCoordSys=function(e,t){var n=e.layoutInfo,i=n.width,r=n.height,o=e.coordinateSystem=new xde(null,{api:t,ecModel:e.ecModel});o.zoomLimit=e.get("scaleLimit"),o.setBoundingRect(0,0,i,r),o.setCenter(e.get("center")),o.setZoom(e.get("zoom")),this._controllerHost.target.attr({x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY})},t.type="sankey",t}(N7);function dve(e,t,n){switch(e.fill){case"source":e.fill=n.node1.getVisual("color"),e.decal=n.node1.getVisual("style").decal;break;case"target":e.fill=n.node2.getVisual("color"),e.decal=n.node2.getVisual("style").decal;break;case"gradient":var i=n.node1.getVisual("color"),r=n.node2.getVisual("color");jU(i)&&jU(r)&&(e.fill=new f5(0,0,+("horizontal"===t),+("vertical"===t),[{color:i,offset:0},{color:r,offset:1}]))}}var pve=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.getInitialData=function(e,t){var n=e.edges||e.links||[],i=e.data||e.nodes||[],r=e.levels||[];this.levelModels=[];for(var o=this.levelModels,a=0;a<r.length;a++)null!=r[a].depth&&r[a].depth>=0&&(o[r[a].depth]=new Q3(r[a],this,t));return mge(i,n,this,!0,function s(e,t){e.wrapMethod("getItemModel",function(e,t){var n=e.parentModel,i=n.getData().getItemLayout(t);if(i){var r=i.depth,o=n.levelModels[r];o&&(e.parentModel=o)}return e}),t.wrapMethod("getItemModel",function(e,t){var n=e.parentModel,i=n.getGraph().getEdgeByIndex(t).node1.getLayout();if(i){var r=i.depth,o=n.levelModels[r];o&&(e.parentModel=o)}return e})}).data},t.prototype.setNodePosition=function(e,t){var n=(this.option.data||this.option.nodes)[e];n.localX=t[0],n.localY=t[1]},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,n){function i(e){return isNaN(e)||null==e}if("edge"===n){var r=this.getDataParams(e,n),o=r.data,a=r.value;return s7("nameValue",{name:o.source+" -- "+o.target,value:a,noValue:i(a)})}var s=this.getGraph().getNodeByIndex(e).getLayout().value,l=this.getDataParams(e,n).data.name;return s7("nameValue",{name:null!=l?l+"":null,value:s,noValue:i(s)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,n){var i=e.prototype.getDataParams.call(this,t,n);if(null==i.value&&"node"===n){var r=this.getGraph().getNodeByIndex(t).getLayout().value;i.value=r}return i},t.type="series.sankey",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:R6.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:R6.color.primary}},animationEasing:"linear",animationDuration:1e3},t}(S7);function fve(e,t){e.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),i=e.get("nodeGap"),r=S6(e,t).refContainer,o=x6(e.getBoxLayoutParams(),r);e.layoutInfo=o;var a=o.width,s=o.height,l=e.getGraph(),c=l.nodes,u=l.edges;!function h(e){LU(e,function(e){var t=Mve(e.outEdges,Sve),n=Mve(e.inEdges,Sve),i=e.getValue()||0,r=Math.max(t,n,i);e.setLayout({value:r},!0)})}(c),function d(e,t,n,i,r,o,a,s,l){(function c(e,t,n,i,r,o,a){for(var s=[],l=[],c=[],u=[],h=0,d=0;d<t.length;d++)s[d]=1;for(d=0;d<e.length;d++)l[d]=e[d].inEdges.length,0===l[d]&&c.push(e[d]);var p=-1;for(;c.length;){for(var f=0;f<c.length;f++){var g=c[f],m=g.hostGraph.data.getRawDataItem(g.dataIndex),v=null!=m.depth&&m.depth>=0;v&&m.depth>p&&(p=m.depth),g.setLayout({depth:v?m.depth:h},!0),"vertical"===o?g.setLayout({dy:n},!0):g.setLayout({dx:n},!0);for(var y=0;y<g.outEdges.length;y++){var b=g.outEdges[y];s[t.indexOf(b)]=0;var x=b.node2;0===--l[e.indexOf(x)]&&u.indexOf(x)<0&&u.push(x)}}++h,c=u,u=[]}for(d=0;d<s.length;d++)if(1===s[d])throw new Error("Sankey is a DAG, the original data has cycle!");var _=p>h-1?p:h-1;a&&"left"!==a&&function w(e,t,n,i){if("right"===t){for(var r=[],o=e,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var c=0;c<l.inEdges.length;c++){var u=l.inEdges[c];r.indexOf(u.node1)<0&&r.push(u.node1)}}o=r,r=[],++a}LU(e,function(e){gve(e)||e.setLayout({depth:Math.max(0,i-e.getLayout().skNodeHeight)},!0)})}else"justify"===t&&function h(e,t){LU(e,function(e){gve(e)||e.outEdges.length||e.setLayout({depth:t},!0)})}(e,i)}(e,a,0,_);var S="vertical"===o?(r-n)/_:(i-n)/_;!function M(e,t,n){LU(e,function(e){var i=e.getLayout().depth*t;"vertical"===n?e.setLayout({y:i},!0):e.setLayout({x:i},!0)})}(e,S,o)})(e,t,n,r,o,s,l),function u(e,t,n,i,r,o,a){var s=function l(e,t){var n=[],i="vertical"===t?"y":"x",r=jJ(e,function(e){return e.getLayout()[i]});return r.keys.sort(function(e,t){return e-t}),LU(r.keys,function(e){n.push(r.buckets.get(e))}),n}(e,a);(function c(e,t,n,i,r,o){var a=1/0;LU(e,function(e){var t=e.length,s=0;LU(e,function(e){s+=e.getLayout().value});var l="vertical"===o?(i-(t-1)*r)/s:(n-(t-1)*r)/s;l<a&&(a=l)}),LU(e,function(e){LU(e,function(e,t){var n=e.getLayout().value*a;"vertical"===o?(e.setLayout({x:t},!0),e.setLayout({dx:n},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:n},!0))})}),LU(t,function(e){var t=+e.getValue()*a;e.setLayout({dy:t},!0)})})(s,t,n,i,r,a),mve(s,r,n,i,a);for(var u=1;o>0;o--)vve(s,u*=.99,a),mve(s,r,n,i,a),kve(s,u,a),mve(s,r,n,i,a)}(e,t,o,r,i,a,s),function h(e,t){var n="vertical"===t?"x":"y";LU(e,function(e){e.outEdges.sort(function(e,t){return e.node2.getLayout()[n]-t.node2.getLayout()[n]}),e.inEdges.sort(function(e,t){return e.node1.getLayout()[n]-t.node1.getLayout()[n]})}),LU(e,function(e){var t=0,n=0;LU(e.outEdges,function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy}),LU(e.inEdges,function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy})})}(e,s)}(c,u,n,i,a,s,0!==PU(c,function(e){return 0===e.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function gve(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function mve(e,t,n,i,r){var o="vertical"===r?"x":"y";LU(e,function(e){var a,s,l;e.sort(function(e,t){return e.getLayout()[o]-t.getLayout()[o]});for(var c=0,u=e.length,h="vertical"===r?"dx":"dy",d=0;d<u;d++)(l=c-(s=e[d]).getLayout()[o])>0&&(a=s.getLayout()[o]+l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),c=s.getLayout()[o]+s.getLayout()[h]+t;if((l=c-t-("vertical"===r?i:n))>0){a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0),c=a;for(d=u-2;d>=0;--d)(l=(s=e[d]).getLayout()[o]+s.getLayout()[h]+t-c)>0&&(a=s.getLayout()[o]-l,"vertical"===r?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),c=s.getLayout()[o]}})}function vve(e,t,n){LU(e.slice().reverse(),function(e){LU(e,function(e){if(e.outEdges.length){var i=Mve(e.outEdges,yve,n)/Mve(e.outEdges,Sve);if(isNaN(i)){var r=e.outEdges.length;i=r?Mve(e.outEdges,bve,n)/r:0}if("vertical"===n){var o=e.getLayout().x+(i-wve(e,n))*t;e.setLayout({x:o},!0)}else{var a=e.getLayout().y+(i-wve(e,n))*t;e.setLayout({y:a},!0)}}})})}function yve(e,t){return wve(e.node2,t)*e.getValue()}function bve(e,t){return wve(e.node2,t)}function xve(e,t){return wve(e.node1,t)*e.getValue()}function _ve(e,t){return wve(e.node1,t)}function wve(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function Sve(e){return e.getValue()}function Mve(e,t,n){for(var i=0,r=e.length,o=-1;++o<r;){var a=+t(e[o],n);isNaN(a)||(i+=a)}return i}function kve(e,t,n){LU(e,function(e){LU(e,function(e){if(e.inEdges.length){var i=Mve(e.inEdges,xve,n)/Mve(e.inEdges,Sve);if(isNaN(i)){var r=e.inEdges.length;i=r?Mve(e.inEdges,_ve,n)/r:0}if("vertical"===n){var o=e.getLayout().x+(i-wve(e,n))*t;e.setLayout({x:o},!0)}else{var a=e.getLayout().y+(i-wve(e,n))*t;e.setLayout({y:a},!0)}}})})}function Cve(e){e.eachSeriesByType("sankey",function(e){var t=e.getGraph(),n=t.nodes,i=t.edges;if(n.length){var r=1/0,o=-1/0;LU(n,function(e){var t=e.getLayout().value;t<r&&(r=t),t>o&&(o=t)}),LU(n,function(t){var n=new Npe({type:"color",mappingMethod:"linear",dataExtent:[r,o],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),i=t.getModel().get(["itemStyle","color"]);null!=i?(t.setVisual("color",i),t.setVisual("style",{fill:i})):(t.setVisual("color",n),t.setVisual("style",{fill:n}))})}i.length&&LU(i,function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)})})}var Tve=function(){function e(){}return e.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&null!=t.get(e)},e.prototype.getInitialData=function(e,t){var n,i,r=t.getComponent("xAxis",this.get("xAxisIndex")),o=t.getComponent("yAxis",this.get("yAxisIndex")),a=r.get("type"),s=o.get("type");"category"===a?(e.layout="horizontal",n=r.getOrdinalMeta(),i=!this._hasEncodeRule("x")):"category"===s?(e.layout="vertical",n=o.getOrdinalMeta(),i=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var l=["x","y"],c="horizontal"===e.layout?0:1,u=this._baseAxisDim=l[c],h=l[1-c],d=[r,o],p=d[c].get("type"),f=d[1-c].get("type"),g=e.data;if(g&&i){var m=[];LU(g,function(e,t){var n;WU(e)?(n=e.slice(),e.unshift(t)):WU(e.value)?((n=AU({},e)).value=n.value.slice(),e.value.unshift(t)):n=e,m.push(n)}),e.data=m}var v=this.defaultValueDimensions,y=[{name:u,type:Zne(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:Zne(f),dimsDef:v.slice()}];return Zle(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:HU(n8,y,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),Ave=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return nU(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:R6.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:R6.color.shadow}},animationDuration:800},t}(S7);OU(Ave,Tve,!0);var Ive=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),r=this.group,o=this._data;this._data||r.removeAll();var a="horizontal"===e.get("layout")?1:0;i.diff(o).add(function(e){if(i.hasValue(e)){var t=Eve(i.getItemLayout(e),i,e,a,!0);i.setItemGraphicEl(e,t),r.add(t)}}).update(function(e,t){var n=o.getItemGraphicEl(t);if(i.hasValue(e)){var s=i.getItemLayout(e);n?(P5(n),Lve(s,n,i,e)):n=Eve(s,i,e,a),r.add(n),i.setItemGraphicEl(e,n)}else r.remove(n)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&r.remove(t)}).execute(),this._data=i},t.prototype.remove=function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(e){e&&t.remove(e)})},t.type="boxplot",t}(N7),Dve=function(){return function e(){}}(),Ove=function(e){function t(t){var n=e.call(this,t)||this;return n.type="boxplotBoxPath",n}return nU(t,e),t.prototype.getDefaultShape=function(){return new Dve},t.prototype.buildPath=function(e,t){var n=t.points,i=0;for(e.moveTo(n[i][0],n[i][1]),i++;i<4;i++)e.lineTo(n[i][0],n[i][1]);for(e.closePath();i<n.length;i++)e.moveTo(n[i][0],n[i][1]),i++,e.lineTo(n[i][0],n[i][1])},t}(z0);function Eve(e,t,n,i,r){var o=e.ends,a=new Ove({shape:{points:r?Rve(o,i,e):o}});return Lve(e,a,t,n,r),a}function Lve(e,t,n,i,r){var o=n.hostModel;(0,w3[r?"initProps":"updateProps"])(t,{shape:{points:e.ends}},o,i),t.useStyle(n.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.z2=100;var a=n.getItemModel(i),s=a.getModel("emphasis");a2(t,a),n2(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function Rve(e,t,n){return RU(e,function(e){return(e=e.slice())[t]=n.initBaseline,e})}var Nve=LU;function Pve(e){var t=function n(e){var t=[],n=[];return e.eachSeriesByType("boxplot",function(e){var i=e.getBaseAxis(),r=DU(n,i);r<0&&(r=n.length,n[r]=i,t[r]={axis:i,seriesModels:[]}),t[r].seriesModels.push(e)}),t}(e);Nve(t,function(e){var t=e.seriesModels;t.length&&(!function n(e){var t,n=e.axis,i=e.seriesModels,r=i.length,o=e.boxWidthList=[],a=e.boxOffsetList=[],s=[];if("category"===n.type)t=n.getBandWidth();else{var l=0;Nve(i,function(e){l=Math.max(l,e.getData().count())});var c=n.getExtent();t=Math.abs(c[1]-c[0])/l}Nve(i,function(e){var n=e.get("boxWidth");WU(n)||(n=[n,n]),s.push([KK(n[0],t)||0,KK(n[1],t)||0])});var u=.8*t-2,h=u/r*.3,d=(u-h*(r-1))/r,p=d/2-u/2;Nve(i,function(e,t){a.push(p),p+=h+d,o.push(Math.min(Math.max(d,s[t][0]),s[t][1]))})}(e),Nve(t,function(t,n){!function i(e,t,n){var i=e.coordinateSystem,r=e.getData(),o=n/2,a="horizontal"===e.get("layout")?0:1,s=1-a,l=["x","y"],c=r.mapDimension(l[a]),u=r.mapDimensionsAll(l[s]);if(null==c||u.length<5)return;for(var h=0;h<r.count();h++){var d=r.get(c,h),p=b(d,u[2],h),f=b(d,u[0],h),g=b(d,u[1],h),m=b(d,u[3],h),v=b(d,u[4],h),y=[];x(y,g,!1),x(y,m,!0),y.push(f,g,v,m),_(y,f),_(y,v),_(y,p),r.setItemLayout(h,{initBaseline:p[s],ends:y})}function b(e,n,o){var l,c=r.get(n,o),u=[];return u[a]=e,u[s]=c,isNaN(e)||isNaN(c)?l=[NaN,NaN]:(l=i.dataToPoint(u))[a]+=t,l}function x(e,t,n){var i=t.slice(),r=t.slice();i[a]+=o,r[a]-=o,n?e.push(i,r):e.push(r,i)}function _(e,t){var n=t.slice(),i=t.slice();n[a]-=o,i[a]+=o,e.push(n,i)}}(t,e.boxOffsetList[n],e.boxWidthList[n])}))})}var zve={type:"echarts:boxplot",transform:function e(t){var n=t.upstream;if(n.sourceFormat!==G6){xJ("")}var i=function r(e,t){for(var n=[],i=[],r=(t=t||{}).boundIQR,o="none"===r||0===r,a=0;a<e.length;a++){var s=tJ(e[a].slice()),l=dJ(s,.25),c=dJ(s,.5),u=dJ(s,.75),h=s[0],d=s[s.length-1],p=(null==r?1.5:r)*(u-l),f=o?h:Math.max(h,l-p),g=o?d:Math.min(d,u+p),m=t.itemNameFormatter,v=$U(m)?m({value:a}):jU(m)?m.replace("{value}",a+""):a+"";n.push([v,f,l,c,u,g]);for(var y=0;y<s.length;y++){var b=s[y];if(b<f||b>g){var x=[v,b];i.push(x)}}}return{boxData:n,outliers:i}}(n.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};var Bve=["itemStyle","borderColor"],Vve=["itemStyle","borderColor0"],Fve=["itemStyle","borderColorDoji"],Hve=["itemStyle","color"],Wve=["itemStyle","color0"];function $ve(e,t){return t.get(e>0?Hve:Wve)}function jve(e,t){return t.get(0===e?Fve:e>0?Bve:Vve)}var Gve={seriesType:"candlestick",plan:E7(),performRawSeries:!0,reset:function(e,t){if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var n;null!=(n=e.next());){var i=t.getItemModel(n),r=t.getItemLayout(n).sign,o=i.getItemStyle();o.fill=$ve(r,i),o.stroke=jve(r,i)||o.fill,AU(t.ensureUniqueItemVisual(n,"style"),o)}}}}},Uve=["color","borderColor"],Xve=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){p3(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),n=this._data,i=this.group,r=t.getLayout("isSimpleBox"),o=e.get("clip",!0),a=e.coordinateSystem,s=a.getArea&&a.getArea();this._data||i.removeAll(),t.diff(n).add(function(n){if(t.hasValue(n)){var a=t.getItemLayout(n);if(o&&Kve(s,a))return;var l=Zve(a,n,!0);O5(l,{shape:{points:a.ends}},e,n),Jve(l,t,n,r),i.add(l),t.setItemGraphicEl(n,l)}}).update(function(a,l){var c=n.getItemGraphicEl(l);if(t.hasValue(a)){var u=t.getItemLayout(a);o&&Kve(s,u)?i.remove(c):(c?(D5(c,{shape:{points:u.ends}},e,a),P5(c)):c=Zve(u),Jve(c,t,a,r),i.add(c),t.setItemGraphicEl(a,c))}else i.remove(c)}).remove(function(e){var t=n.getItemGraphicEl(e);t&&i.remove(t)}).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),nye(e,this.group);var t=e.get("clip",!0)?Use(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){for(var n,i=t.getData(),r=i.getLayout("isSimpleBox");null!=(n=e.next());){var o=Zve(i.getItemLayout(n));Jve(o,i,n,r),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},t.prototype._incrementalRenderLarge=function(e,t){nye(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(N7),qve=function(){return function e(){}}(),Yve=function(e){function t(t){var n=e.call(this,t)||this;return n.type="normalCandlestickBox",n}return nU(t,e),t.prototype.getDefaultShape=function(){return new qve},t.prototype.buildPath=function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(z0);function Zve(e,t,n){var i=e.ends;return new Yve({shape:{points:n?Qve(i,e):i},z2:100})}function Kve(e,t){for(var n=!0,i=0;i<t.ends.length;i++)if(e.contain(t.ends[i][0],t.ends[i][1])){n=!1;break}return n}function Jve(e,t,n,i){var r=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=i,a2(e,r);var o=t.getItemLayout(n).sign;LU(e.states,function(e,t){var n=r.getModel(t),i=$ve(o,n),a=jve(o,n)||i,s=e.style||(e.style={});i&&(s.fill=i),a&&(s.stroke=a)});var a=r.getModel("emphasis");n2(e,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function Qve(e,t){return RU(e,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var eye=function(){return function e(){}}(),tye=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeCandlestickBox",n}return nU(t,e),t.prototype.getDefaultShape=function(){return new eye},t.prototype.buildPath=function(e,t){for(var n=t.points,i=0;i<n.length;)if(this.__sign===n[i++]){var r=n[i++];e.moveTo(r,n[i++]),e.lineTo(r,n[i++])}else i+=3},t}(z0);function nye(e,t,n,i){var r=e.getData().getLayout("largePoints"),o=new tye({shape:{points:r},__sign:1,ignoreCoarsePointer:!0});t.add(o);var a=new tye({shape:{points:r},__sign:-1,ignoreCoarsePointer:!0});t.add(a);var s=new tye({shape:{points:r},__sign:0,ignoreCoarsePointer:!0});t.add(s),iye(1,o,e),iye(-1,a,e),iye(0,s,e),i&&(o.incremental=!0,a.incremental=!0),n&&n.push(o,a)}function iye(e,t,n,i){var r=jve(e,n)||$ve(e,n),o=n.getModel("itemStyle").getItemStyle(Uve);t.useStyle(o),t.style.fill=null,t.style.stroke=r}var rye=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return nU(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,n){var i=t.getItemLayout(e);return i&&n.rect(i.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(S7);function oye(e){e&&WU(e.series)&&LU(e.series,function(e){XU(e)&&"k"===e.type&&(e.type="candlestick")})}OU(rye,Tve,!0);var aye={seriesType:"candlestick",plan:E7(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),i=function r(e,t){var n,i=e.getBaseAxis(),r="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/t.count()),o=KK(eX(e.get("barMaxWidth"),r),r),a=KK(eX(e.get("barMinWidth"),1),r),s=e.get("barWidth");return null!=s?KK(s,r):Math.max(Math.min(r/2,o),a)}(e,n),o=["x","y"],a=n.getDimensionIndex(n.mapDimension(o[0])),s=RU(n.mapDimensionsAll(o[1]),n.getDimensionIndex,n),l=s[0],c=s[1],u=s[2],h=s[3];if(n.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(a<0||s.length<4))return{progress:e.pipelineContext.large?function d(n,i){var r,o,s=Uie(4*n.count),d=0,p=[],f=[],g=i.getStore(),m=!!e.get(["itemStyle","borderColorDoji"]);for(;null!=(o=n.next());){var v=g.get(a,o),y=g.get(l,o),b=g.get(c,o),x=g.get(u,o),_=g.get(h,o);isNaN(v)||isNaN(x)||isNaN(_)?(s[d++]=NaN,d+=3):(s[d++]=sye(g,o,y,b,c,m),p[0]=v,p[1]=x,r=t.dataToPoint(p,null,f),s[d++]=r?r[0]:NaN,s[d++]=r?r[1]:NaN,p[1]=_,r=t.dataToPoint(p,null,f),s[d++]=r?r[1]:NaN)}i.setLayout("largePoints",s)}:function p(e,n){var r,o=n.getStore();for(;null!=(r=e.next());){var s=o.get(a,r),d=o.get(l,r),p=o.get(c,r),f=o.get(u,r),g=o.get(h,r),m=Math.min(d,p),v=Math.max(d,p),y=M(m,s),b=M(v,s),x=M(f,s),_=M(g,s),w=[];k(w,b,0),k(w,y,1),w.push(T(_),T(b),T(x),T(y));var S=!!n.getItemModel(r).get(["itemStyle","borderColorDoji"]);n.setItemLayout(r,{sign:sye(o,r,d,p,c,S),initBaseline:d>p?b[1]:y[1],ends:w,brushRect:C(f,g,s)})}function M(e,n){var i=[];return i[0]=n,i[1]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(i)}function k(e,t,n){var r=t.slice(),o=t.slice();r[0]=K5(r[0]+i/2,1,!1),o[0]=K5(o[0]-i/2,1,!0),n?e.push(r,o):e.push(o,r)}function C(e,t,n){var r=M(e,n),o=M(t,n);return r[0]-=i/2,o[0]-=i/2,{x:r[0],y:r[1],width:i,height:o[1]-r[1]}}function T(e){return e[0]=K5(e[0],1),e}}}}};function sye(e,t,n,i,r,o){return n>i?-1:n<i?1:o?0:t>0?e.get(r,t-1)<=i?1:-1:1}function lye(e,t){var n=t.rippleEffectColor||t.color;e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?n:null,fill:"fill"===t.brushType?n:null}})})}var cye=function(e){function t(t,n){var i=e.call(this)||this,r=new Ase(t,n),o=new FK;return i.add(r),i.add(o),i.updateData(t,n),i}return nU(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,i=e.rippleNumber,r=this.childAt(1),o=0;o<i;o++){var a=Uee(t,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-o/i*e.period+e.effectOffset;a.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(s).start(),a.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),r.add(a)}lye(r,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],r=0;r<i.length;r++){var o=i[r];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}lye(n,e)},t.prototype.highlight=function(){W1(this)},t.prototype.downplay=function(){$1(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var n=this,i=e.hostModel;this.childAt(0).updateData(e,t);var r=this.childAt(1),o=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),s=Xee(e.getItemVisual(t,"symbolSize")),l=e.getItemVisual(t,"style"),c=l&&l.fill,u=o.getModel("emphasis");r.setScale(s),r.traverse(function(e){e.setStyle("fill",c)});var h=qee(e.getItemVisual(t,"symbolOffset"),s);h&&(r.x=h[0],r.y=h[1]);var d=e.getItemVisual(t,"symbolRotate");r.rotation=(d||0)*Math.PI/180||0;var p={};p.showEffectOn=i.get("showEffectOn"),p.rippleScale=o.get(["rippleEffect","scale"]),p.brushType=o.get(["rippleEffect","brushType"]),p.period=1e3*o.get(["rippleEffect","period"]),p.effectOffset=t/e.count(),p.z=i.getShallow("z")||0,p.zlevel=i.getShallow("zlevel")||0,p.symbolType=a,p.color=c,p.rippleEffectColor=o.get(["rippleEffect","color"]),p.rippleNumber=o.get(["rippleEffect","number"]),"render"===p.showEffectOn?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==p.showEffectOn&&n.startEffectAnimation(p):"normal"===e&&"render"!==p.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=p,n2(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(FK),uye=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(){this._symbolDraw=new Lse(cye)},t.prototype.render=function(e,t,n){var i=e.getData(),r=this._symbolDraw;r.updateData(i,{clipShape:this._getClipShape(e)}),this.group.add(r.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get("clip",!0)?n:null},t.prototype.updateTransform=function(e,t,n){var i=e.getData();this.group.dirty();var r=ale("").reset(e,t,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=function n(e){var t=[1,0,0,1,0,0];return fq(t,e),t}(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(N7),hye=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return nU(t,e),t.prototype.getInitialData=function(e,t){return Cie(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(S7);var dye=function(e){function t(t,n,i){var r=e.call(this)||this;return r.add(r.createLine(t,n,i)),r._updateEffectSymbol(t,n),r}return nU(t,e),t.prototype.createLine=function(e,t,n){return new qfe(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel("effect"),i=n.get("symbolSize"),r=n.get("symbol");WU(i)||(i=[i,i]);var o=e.getItemVisual(t,"style"),a=n.get("color")||o&&o.stroke,s=this.childAt(1);this._symbolType!==r&&(this.remove(s),(s=Uee(r,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.scaleX=i[0],s.scaleY=i[1],s.setColor(a),this._symbolType=r,this._symbolScale=i,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var r=e.getItemLayout(n),o=1e3*t.get("period"),a=t.get("loop"),s=t.get("roundTrip"),l=t.get("constantSpeed"),c=QU(t.get("delay"),function(t){return t/e.count()*o/3});if(i.ignore=!0,this._updateAnimationPoints(i,r),l>0&&(o=this._getLineLength(i)/l*1e3),o!==this._period||a!==this._loop||s!==this._roundTrip){i.stopAnimation();var u=void 0;u=$U(c)?c(n):c,i.__t>0&&(u=-o*i.__t),this._animateSymbol(i,o,u,a,s)}this._period=o,this._loop=a,this._roundTrip=s}},t.prototype._animateSymbol=function(e,t,n,i,r){if(t>0){e.__t=0;var o=this,a=e.animate("",i).when(r?2*t:t,{__t:r?2:1}).delay(n).during(function(){o._updateSymbolPosition(e)});i||a.done(function(){o.remove(e)}),a.start()}},t.prototype._getLineLength=function(e){return EX(e.__p1,e.__cp1)+EX(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,i=e.__cp1,r=e.__t<1?e.__t:2-e.__t,o=[e.x,e.y],a=o.slice(),s=kY,l=CY;o[0]=s(t[0],i[0],n[0],r),o[1]=s(t[1],i[1],n[1],r);var c=e.__t<1?l(t[0],i[0],n[0],r):l(n[0],i[0],t[0],1-r),u=e.__t<1?l(t[1],i[1],n[1],r):l(n[1],i[1],t[1],1-r);e.rotation=-Math.atan2(u,c)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*EX(a,o),1===r&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)):1===e.__lastT?e.scaleY=2*EX(t,o):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=o[0],e.y=o[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)},t}(FK),pye=function(e){function t(t,n,i){var r=e.call(this)||this;return r._createPolyline(t,n,i),r}return nU(t,e),t.prototype._createPolyline=function(e,t,n){var i=e.getItemLayout(t),r=new n5({shape:{points:i}});this.add(r),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var i=e.hostModel;D5(this.childAt(0),{shape:{points:e.getItemLayout(t)}},i,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var i=this.childAt(0),r=e.getItemModel(t),o=n&&n.emphasisLineStyle,a=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var c=r.getModel("emphasis");o=c.getModel("lineStyle").getLineStyle(),l=c.get("disabled"),a=c.get("focus"),s=c.get("blurScope")}i.useStyle(e.getItemVisual(t,"style")),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=o,n2(this,a,s,l)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},t}(FK),fye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return nU(t,e),t.prototype.createLine=function(e,t,n){return new pye(e,t,n)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],i=0,r=1;r<t.length;r++){var o=t[r-1],a=t[r];i+=EX(o,a),n.push(i)}if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t<1?e.__t:2-e.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o,a=this._lastFrame;if(t<this._lastFramePercent){for(o=Math.min(a+1,r-1);o>=0&&!(i[o]<=t);o--);o=Math.min(o,r-2)}else{for(o=a;o<r&&!(i[o]>t);o++);o=Math.min(o-1,r-2)}var s=(t-i[o])/(i[o+1]-i[o]),l=n[o],c=n[o+1];e.x=l[0]*(1-s)+s*c[0],e.y=l[1]*(1-s)+s*c[1];var u=e.__t<1?c[0]-l[0]:l[0]-c[0],h=e.__t<1?c[1]-l[1]:l[1]-c[1];e.rotation=-Math.atan2(h,u)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=t,e.ignore=!1}},t}(dye),gye=function(){return function e(){this.polyline=!1,this.curveness=0,this.segs=[]}}(),mye=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return nU(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:R6.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new gye},t.prototype.buildPath=function(e,t){var n,i=t.segs,r=t.curveness;if(t.polyline)for(n=this._off;n<i.length;){var o=i[n++];if(o>0){e.moveTo(i[n++],i[n++]);for(var a=1;a<o;a++)e.lineTo(i[n++],i[n++])}}else for(n=this._off;n<i.length;){var s=i[n++],l=i[n++],c=i[n++],u=i[n++];if(e.moveTo(s,l),r>0){var h=(s+c)/2-(l-u)*r,d=(l+u)/2-(c-s)*r;e.quadraticCurveTo(h,d,c,u)}else e.lineTo(c,u)}this.incremental&&(this._off=n,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var n=this.shape,i=n.segs,r=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var a=0,s=0;s<i.length;){var l=i[s++];if(l>0)for(var c=i[s++],u=i[s++],h=1;h<l;h++){if(v0(c,u,d=i[s++],p=i[s++],o,e,t))return a}a++}else for(a=0,s=0;s<i.length;){c=i[s++],u=i[s++];var d=i[s++],p=i[s++];if(r>0){if(b0(c,u,(c+d)/2-(u-p)*r,(u+p)/2-(d-c)*r,d,p,o,e,t))return a}else if(v0(c,u,d,p,o,e,t))return a;a++}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect();return e=n[0],t=n[1],i.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape.segs,n=1/0,i=1/0,r=-1/0,o=-1/0,a=0;a<t.length;){var s=t[a++],l=t[a++];n=Math.min(s,n),r=Math.max(s,r),i=Math.min(l,i),o=Math.max(l,o)}e=this._rect=new Rq(n,i,r,o)}return e},t}(z0),vye=function(){function e(){this.group=new FK}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],i=t.getLayout("linesPoints"),r=n&&n.shape.segs;if(r&&r.length<2e4){var o=r.length,a=new Float32Array(o+i.length);a.set(r),a.set(i,o),n.setShape({segs:a})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:i}),this._setCommon(s,t),s.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new mye({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var r=t.getVisual("style");r&&r.stroke&&e.setStyle("stroke",r.stroke),e.setStyle("fill",null);var o=d1(e);o.seriesIndex=i.seriesIndex,e.on("mousemove",function(t){o.dataIndex=null;var n=e.hoverDataIdx;n>0&&(o.dataIndex=n+e.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),yye={seriesType:"lines",plan:E7(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get("polyline"),i=e.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s=void 0,l=r.end-r.start;if(n){for(var c=0,u=r.start;u<r.end;u++)c+=e.getLineCoordsCount(u);s=new Float32Array(l+2*c)}else s=new Float32Array(4*l);var h=0,d=[];for(u=r.start;u<r.end;u++){var p=e.getLineCoords(u,a);n&&(s[h++]=p);for(var f=0;f<p;f++)d=t.dataToPoint(a[f],!1,d),s[h++]=d[0],s[h++]=d[1]}o.setLayout("linesPoints",s)}else for(u=r.start;u<r.end;u++){var g=o.getItemModel(u),m=(p=e.getLineCoords(u,a),[]);if(n)for(var v=0;v<p;v++)m.push(t.dataToPoint(a[v]));else{m[0]=t.dataToPoint(a[0]),m[1]=t.dataToPoint(a[1]);var y=g.get(["lineStyle","curveness"]);+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}o.setItemLayout(u,m)}}}}}},bye=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),r=this._updateLineDraw(i,e),o=e.get("zlevel"),a=e.get(["effect","trailLength"]),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&a>0&&(l||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),r.updateData(i);var c=e.get("clip",!0)&&Use(e.coordinateSystem,!1,e);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var i=e.getData();this._updateLineDraw(i,e).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,n){var i=e.getData(),r=e.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var o=yye.reset(e,t,n);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},t.prototype._updateLineDraw=function(e,t){var n=this._lineDraw,i=this._showEffect(t),r=!!t.get("polyline"),o=t.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new vye:new Yfe(r?i?fye:pye:i?dye:qfe),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=o),this.group.add(n.group),n},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(N7),xye="undefined"==typeof Uint32Array?Array:Uint32Array,_ye="undefined"==typeof Float64Array?Array:Float64Array;function wye(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=RU(t,function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),TU([t,e[0],e[1]])}))}var Sye=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return nU(t,e),t.prototype.init=function(t){t.data=t.data||[],wye(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(wye(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=pX(this._flatCoords,t.flatCoords),this._flatCoordsOffset=pX(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],i=this._flatCoordsOffset[2*e+1],r=0;r<i;r++)t[r]=t[r]||[],t[r][0]=this._flatCoords[n+2*r],t[r][1]=this._flatCoords[n+2*r+1];return i}var o=this._getCoordsFromItemModel(e);for(r=0;r<o.length;r++)t[r]=t[r]||[],t[r][0]=o[r][0],t[r][1]=o[r][1];return o.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),UU(e[0])){for(var n=e.length,i=new xye(n),r=new _ye(n),o=0,a=0,s=0,l=0;l<n;){s++;var c=e[l++];i[a++]=o+t,i[a++]=c;for(var u=0;u<c;u++){var h=e[l++],d=e[l++];r[o++]=h,r[o++]=d}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var n=new vie(["value"],this);return n.hasItemOption=!1,n.initData(e.data,[],function(e,t,i,r){if(e instanceof Array)return NaN;n.hasItemOption=!0;var o=e.value;return null!=o?o instanceof Array?o[r]:o:void 0}),n},t.prototype.formatTooltip=function(e,t,n){var i=this.getData().getItemModel(e),r=i.get("name");if(r)return r;var o=i.get("fromName"),a=i.get("toName"),s=[];return null!=o&&s.push(o),null!=a&&s.push(a),s7("nameValue",{name:s.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(S7);function Mye(e){return e instanceof Array||(e=[e,e]),e}var kye={seriesType:"lines",reset:function(e){var t=Mye(e.get("symbol")),n=Mye(e.get("symbolSize")),i=e.getData();return i.setVisual("fromSymbol",t&&t[0]),i.setVisual("toSymbol",t&&t[1]),i.setVisual("fromSymbolSize",n&&n[0]),i.setVisual("toSymbolSize",n&&n[1]),{dataEach:i.hasItemOption?function r(e,t){var n=e.getItemModel(t),i=Mye(n.getShallow("symbol",!0)),r=Mye(n.getShallow("symbolSize",!0));i[0]&&e.setItemVisual(t,"fromSymbol",i[0]),i[1]&&e.setItemVisual(t,"toSymbol",i[1]),r[0]&&e.setItemVisual(t,"fromSymbolSize",r[0]),r[1]&&e.setItemVisual(t,"toSymbolSize",r[1])}:null}}};var Cye=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=uU.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,n,i,r,o){var a=this._getBrush(),s=this._getGradient(r,"inRange"),l=this._getGradient(r,"outOfRange"),c=this.pointSize+this.blurSize,u=this.canvas,h=u.getContext("2d"),d=e.length;u.width=t,u.height=n;for(var p=0;p<d;++p){var f=e[p],g=f[0],m=f[1],v=i(f[2]);h.globalAlpha=v,h.drawImage(a,g-c,m-c)}if(!u.width||!u.height)return u;for(var y=h.getImageData(0,0,u.width,u.height),b=y.data,x=0,_=b.length,w=this.minOpacity,S=this.maxOpacity-w;x<_;){v=b[x+3]/256;var M=4*Math.floor(255*v);if(v>0){var k=o(v)?s:l;v>0&&(v=v*S+w),b[x++]=k[M],b[x++]=k[M+1],b[x++]=k[M+2],b[x++]=k[M+3]*v*256}else x+=4}return h.putImageData(y,0,0),u},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=uU.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor=R6.color.neutral99,i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,i=n[t]||(n[t]=new Uint8ClampedArray(1024)),r=[0,0,0,0],o=0,a=0;a<256;a++)e[t](a/255,!0,r),i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],i[o++]=r[3];return i},e}();function Tye(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var Aye=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){var i;t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(n){n===e&&(i=t)})}),this._progressiveEls=null,this.group.removeAll();var r=e.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type||"matrix"===r.type?this._renderOnGridLike(e,n,0,e.getData().count()):Tye(r)&&this._renderOnGeo(r,e,i,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,i){var r=t.coordinateSystem;r&&(Tye(r)?this.render(t,n,i):(this._progressiveEls=[],this._renderOnGridLike(t,i,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){p3(this._progressiveEls||this.group,e)},t.prototype._renderOnGridLike=function(e,t,n,i,r){var o,a,s,l,c=e.coordinateSystem,u=Xse(c,"cartesian2d"),h=Xse(c,"matrix");if(u){var d=c.getAxis("x"),p=c.getAxis("y");o=d.getBandWidth()+.5,a=p.getBandWidth()+.5,s=d.scale.getExtent(),l=p.scale.getExtent()}for(var f=this.group,g=e.getData(),m=e.getModel(["emphasis","itemStyle"]).getItemStyle(),v=e.getModel(["blur","itemStyle"]).getItemStyle(),y=e.getModel(["select","itemStyle"]).getItemStyle(),b=e.get(["itemStyle","borderRadius"]),x=O3(e),_=e.getModel("emphasis"),w=_.get("focus"),S=_.get("blurScope"),M=_.get("disabled"),k=u||h?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],C=n;C<i;C++){var T=void 0,A=g.getItemVisual(C,"style");if(u){var I=g.get(k[0],C),D=g.get(k[1],C);if(isNaN(g.get(k[2],C))||isNaN(I)||isNaN(D)||I<s[0]||I>s[1]||D<l[0]||D>l[1])continue;var O=c.dataToPoint([I,D]);T=new Y0({shape:{x:O[0]-o/2,y:O[1]-a/2,width:o,height:a},style:A})}else if(h){if(JU((E=c.dataToLayout([g.get(k[0],C),g.get(k[1],C)]).rect).x))continue;T=new Y0({z2:1,shape:E,style:A})}else{if(isNaN(g.get(k[1],C)))continue;var E,L=c.dataToLayout([g.get(k[0],C)]);if(JU((E=L.contentRect||L.rect).x)||JU(E.y))continue;T=new Y0({z2:1,shape:E,style:A})}if(g.hasItemOption){var R=g.getItemModel(C),N=R.getModel("emphasis");m=N.getModel("itemStyle").getItemStyle(),v=R.getModel(["blur","itemStyle"]).getItemStyle(),y=R.getModel(["select","itemStyle"]).getItemStyle(),b=R.get(["itemStyle","borderRadius"]),w=N.get("focus"),S=N.get("blurScope"),M=N.get("disabled"),x=O3(R)}T.shape.r=b;var P=e.getRawValue(C),z="-";P&&null!=P[2]&&(z=P[2]+""),D3(T,x,{labelFetcher:e,labelDataIndex:C,defaultOpacity:A.opacity,defaultText:z}),T.ensureState("emphasis").style=m,T.ensureState("blur").style=v,T.ensureState("select").style=y,n2(T,w,S,M),T.incremental=r,r&&(T.states.emphasis.hoverLayer=!0),f.add(T),g.setItemGraphicEl(C,T),this._progressiveEls&&this._progressiveEls.push(T)}},t.prototype._renderOnGeo=function(e,t,n,i){var r=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=t.getData(),s=this._hmLayer||this._hmLayer||new Cye;s.blurSize=t.get("blurSize"),s.pointSize=t.get("pointSize"),s.minOpacity=t.get("minOpacity"),s.maxOpacity=t.get("maxOpacity");var l=e.getViewRect().clone(),c=e.getRoamTransform();l.applyTransform(c);var u=Math.max(l.x,0),h=Math.max(l.y,0),d=Math.min(l.width+l.x,i.getWidth()),p=Math.min(l.height+l.y,i.getHeight()),f=d-u,g=p-h,m=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],v=a.mapArray(m,function(t,n,i){var r=e.dataToPoint([t,n]);return r[0]-=u,r[1]-=h,r.push(i),r}),y=n.getExtent(),b="visualMap.continuous"===n.type?function x(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(y,n.option.range):function _(e,t,n){var i=e[1]-e[0],r=(t=RU(t,function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}})).length,o=0;return function(e){var i;for(i=o;i<r;i++)if((a=t[i].interval)[0]<=e&&e<=a[1]){o=i;break}if(i===r)for(i=o-1;i>=0;i--){var a;if((a=t[i].interval)[0]<=e&&e<=a[1]){o=i;break}}return i>=0&&i<r&&n[i]}}(y,n.getPieceList(),n.option.selected);s.update(v,f,g,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},b);var w=new W0({style:{width:f,height:g,x:u,y:h,image:s.canvas},silent:!0});this.group.add(w)},t.type="heatmap",t}(N7),Iye=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.getInitialData=function(e,t){return Cie(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=i6.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:R6.color.primary}}},t}(S7);var Dye=["itemStyle","borderWidth"],Oye=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Eye=new E2,Lye=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){var i=this.group,r=e.getData(),o=this._data,a=e.coordinateSystem,s=a.getBaseAxis().isHorizontal(),l=a.master.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:a,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:Oye[+s],categoryDim:Oye[1-+s]};r.diff(o).add(function(e){if(r.hasValue(e)){var t=Hye(r,e),n=Rye(r,e,t,c),o=jye(r,c,n);r.setItemGraphicEl(e,o),i.add(o),Yye(o,c,n)}}).update(function(e,t){var n=o.getItemGraphicEl(t);if(r.hasValue(e)){var a=Hye(r,e),s=Rye(r,e,a,c),l=Uye(r,s);n&&l!==n.__pictorialShapeStr&&(i.remove(n),r.setItemGraphicEl(e,null),n=null),n?function t(e,n,i){var r=i.animationModel,o=i.dataIndex,a=e.__pictorialBundle;D5(a,{x:i.bundlePosition[0],y:i.bundlePosition[1]},r,o),i.symbolRepeat?zye(e,n,i,!0):Bye(e,n,i,!0);Vye(e,i,!0),Fye(e,n,i,!0)}(n,c,s):n=jye(r,c,s,!0),r.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=s,i.add(n),Yye(n,c,s)}else i.remove(n)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&Gye(o,e,t.__pictorialSymbolMeta.animationModel,t)}).execute();var u=e.get("clip",!0)?Use(e.coordinateSystem,!1,e):null;return u?i.setClipPath(u):i.removeClipPath(),this._data=r,this.group},t.prototype.remove=function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(t){Gye(i,d1(t).dataIndex,e,t)}):n.removeAll()},t.type="pictorialBar",t}(N7);function Rye(e,t,n,i){var r=e.getItemLayout(t),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=(n.get("symbolRotate")||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,u=n.isAnimationEnabled(),h={dataIndex:t,layout:r,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:l,animationModel:u?n:null,hoverScale:u&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};!function d(e,t,n,i,r){var o,a=i.valueDim,s=e.get("symbolBoundingData"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),c=l.toGlobalCoord(l.dataToCoord(0)),u=1-+(n[a.wh]<=0);if(WU(s)){var h=[Nye(l,s[0])-c,Nye(l,s[1])-c];h[1]<h[0]&&h.reverse(),o=h[u]}else o=null!=s?Nye(l,s)-c:t?i.coordSysExtent[a.index][u]-c:n[a.wh];r.boundingLength=o,t&&(r.repeatCutLength=n[a.wh]);var d="x"===a.xy,p=l.inverse;r.pxSign=d&&!p||!d&&p?o>=0?1:-1:o>0?1:-1}(n,o,r,i,h),function p(e,t,n,i,r,o,a,s,l,c){var u,h=l.valueDim,d=l.categoryDim,p=Math.abs(n[d.wh]),f=e.getItemVisual(t,"symbolSize");u=WU(f)?f.slice():null==f?["100%","100%"]:[f,f];u[d.index]=KK(u[d.index],p),u[h.index]=KK(u[h.index],i?p:Math.abs(o)),c.symbolSize=u;var g=c.symbolScale=[u[0]/s,u[1]/s];g[h.index]*=(l.isHorizontal?-1:1)*a}(e,t,r,o,0,h.boundingLength,h.pxSign,c,i,h),function f(e,t,n,i,r){var o=e.get(Dye)||0;o&&(Eye.attr({scaleX:t[0],scaleY:t[1],rotation:n}),Eye.updateTransform(),o/=Eye.getLineScale(),o*=t[i.valueDim.index]);r.valueLineWidth=o||0}(n,h.symbolScale,l,i,h);var g=h.symbolSize,m=qee(n.get("symbolOffset"),g);return function v(e,t,n,i,r,o,a,s,l,c,u,h){var d=u.categoryDim,p=u.valueDim,f=h.pxSign,g=Math.max(t[p.index]+s,0),m=g;if(i){var v=Math.abs(l),y=QU(e.get("symbolMargin"),"15%")+"",b=!1;y.lastIndexOf("!")===y.length-1&&(b=!0,y=y.slice(0,y.length-1));var x=KK(y,t[p.index]),_=Math.max(g+2*x,0),w=b?0:2*x,S=gJ(i),M=S?i:Zye((v+w)/_);_=g+2*(x=(v-M*g)/2/(b?M:Math.max(M-1,1))),w=b?0:2*x,S||"fixed"===i||(M=c?Zye((Math.abs(c)+w)/_):0),m=M*_-w,h.repeatTimes=M,h.symbolMargin=x}var k=f*(m/2),C=h.pathPosition=[];C[d.index]=n[d.wh]/2,C[p.index]="start"===a?k:"end"===a?l-k:l/2,o&&(C[0]+=o[0],C[1]+=o[1]);var T=h.bundlePosition=[];T[d.index]=n[d.xy],T[p.index]=n[p.xy];var A=h.barRectShape=AU({},n);A[p.wh]=f*Math.max(Math.abs(n[p.wh]),Math.abs(C[p.index]+k)),A[d.wh]=n[d.wh];var I=h.clipShape={};I[d.xy]=-n[d.xy],I[d.wh]=u.ecSize[d.wh],I[p.xy]=0,I[p.wh]=n[p.wh]}(n,g,r,o,0,m,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,i,h),h}function Nye(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function Pye(e){var t=e.symbolPatternSize,n=Uee(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function zye(e,t,n,i){var r=e.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=t.valueDim,c=n.repeatTimes||0,u=0,h=o[t.valueDim.index]+a+2*n.symbolMargin;for(Xye(e,function(e){e.__pictorialAnimationIndex=u,e.__pictorialRepeatTimes=c,u<c?qye(e,null,f(u),n,i):qye(e,null,{scaleX:0,scaleY:0},n,i,function(){r.remove(e)}),u++});u<c;u++){var d=Pye(n);d.__pictorialAnimationIndex=u,d.__pictorialRepeatTimes=c,r.add(d);var p=f(u);qye(d,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},n,i)}function f(e){var t=s.slice(),i=n.pxSign,r=e;return("start"===n.symbolRepeatDirection?i>0:i<0)&&(r=c-1-e),t[l.index]=h*(r-c/2+.5)+s[l.index],{x:t[0],y:t[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function Bye(e,t,n,i){var r=e.__pictorialBundle,o=e.__pictorialMainPath;o?qye(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,i):(o=e.__pictorialMainPath=Pye(n),r.add(o),qye(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,i))}function Vye(e,t,n){var i=AU({},t.barRectShape),r=e.__pictorialBarRect;r?qye(r,null,{shape:i},t,n):((r=e.__pictorialBarRect=new Y0({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(r))}function Fye(e,t,n,i){if(n.symbolClip){var r=e.__pictorialClipPath,o=AU({},n.clipShape),a=t.valueDim,s=n.animationModel,l=n.dataIndex;if(r)D5(r,{shape:o},s,l);else{o[a.wh]=0,r=new Y0({shape:o}),e.__pictorialBundle.setClipPath(r),e.__pictorialClipPath=r;var c={};c[a.wh]=n.clipShape[a.wh],w3[i?"updateProps":"initProps"](r,{shape:c},s,l)}}}function Hye(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=Wye,n.isAnimationEnabled=$ye,n}function Wye(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function $ye(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function jye(e,t,n,i){var r=new FK,o=new FK;return r.add(o),r.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?zye(r,t,n):Bye(r,0,n),Vye(r,n,i),Fye(r,t,n,i),r.__pictorialShapeStr=Uye(e,n),r.__pictorialSymbolMeta=n,r}function Gye(e,t,n,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];Xye(i,function(e){o.push(e)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),LU(o,function(e){L5(e,{scaleX:0,scaleY:0},n,t,function(){i.parent&&i.parent.remove(i)})}),e.setItemGraphicEl(t,null)}function Uye(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Xye(e,t,n){LU(e.__pictorialBundle.children(),function(i){i!==e.__pictorialBarRect&&t.call(n,i)})}function qye(e,t,n,i,r,o){t&&e.attr(t),i.symbolClip&&!r?n&&e.attr(n):n&&w3[r?"updateProps":"initProps"](e,n,i.animationModel,i.dataIndex,o)}function Yye(e,t,n){var i=n.dataIndex,r=n.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),c=r.getShallow("cursor"),u=o.get("focus"),h=o.get("blurScope"),d=o.get("scale");Xye(e,function(e){if(e instanceof W0){var t=e.style;e.useStyle(AU({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},n.style))}else e.useStyle(n.style);var i=e.ensureState("emphasis");i.style=a,d&&(i.scaleX=1.1*e.scaleX,i.scaleY=1.1*e.scaleY),e.ensureState("blur").style=s,e.ensureState("select").style=l,c&&(e.cursor=c),e.z2=n.z2});var p=t.valueDim.posDesc[+(n.boundingLength>0)],f=e.__pictorialBarRect;f.ignoreClip=!0,D3(f,O3(r),{labelFetcher:t.seriesModel,labelDataIndex:i,defaultText:Cse(t.seriesModel.getData(),i),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:p}),n2(e,u,h,o.get("disabled"))}function Zye(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var Kye=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return nU(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=i4(ule.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:R6.color.primary}}}),t}(ule);var Jye=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return nU(t,e),t.prototype.render=function(e,t,n){var i=e.getData(),r=this,o=this.group,a=e.getLayerSeries(),s=i.getLayout("layoutInfo"),l=s.rect,c=s.boundaryGap;function u(e){return e.name}o.x=0,o.y=l.y+c[0];var h=new Xne(this._layersSeries||[],a,u,u),d=[];function p(t,n,s){var l=r._layers;if("remove"!==t){for(var c,u,h=[],p=[],f=a[n].indices,g=0;g<f.length;g++){var m=i.getItemLayout(f[g]),v=m.x,y=m.y0,b=m.y;h.push(v,y),p.push(v,y+b),c=i.getItemVisual(f[g],"style")}var x=i.getItemLayout(f[0]),_=e.getModel("label").get("margin"),w=e.getModel("emphasis");if("add"===t){var S=d[n]=new FK;u=new $se({shape:{points:h,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(u),o.add(S),e.isAnimationEnabled()&&u.setClipPath(function t(e,n,i){var r=new Y0({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return O5(r,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},n,i),r}(u.getBoundingRect(),e,function(){u.removeClipPath()}))}else{S=l[s];u=S.childAt(0),o.add(S),d[n]=S,D5(u,{shape:{points:h,stackedOnPoints:p}},e),P5(u)}D3(u,O3(e),{labelDataIndex:f[g-1],defaultText:i.getName(f[g-1]),inheritColor:c.fill},{normal:{verticalAlign:"middle"}}),u.setTextConfig({position:null,local:!0});var M=u.getTextContent();M&&(M.x=x.x-_,M.y=x.y0+x.y/2),u.useStyle(c),i.setItemGraphicEl(n,u),a2(u,e),n2(u,w.get("focus"),w.get("blurScope"),w.get("disabled"))}else o.remove(l[n])}h.add(VU(p,this,"add")).update(VU(p,this,"update")).remove(VU(p,this,"remove")).execute(),this._layersSeries=a,this._layers=d},t.type="themeRiver",t}(N7);var Qye=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Kle(VU(this.getData,this),VU(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,n={},i=jJ(e,function(e){return n.hasOwnProperty(e[0]+"")||(n[e[0]+""]=-1),e[2]}),r=[];i.buckets.each(function(e,t){r.push({name:t,dataList:e})});for(var o=r.length,a=0;a<o;++a){for(var s=r[a].name,l=0;l<r[a].dataList.length;++l){var c=r[a].dataList[l][0]+"";n[c]=a}for(var c in n)n.hasOwnProperty(c)&&n[c]!==a&&(n[c]=a,e[t]=[c,0,s],t++)}return e},t.prototype.getInitialData=function(e,t){for(var n=this.getReferringComponents("singleAxis",FJ).models[0].get("type"),i=PU(e.data,function(e){return void 0!==e[2]}),r=this.fixData(i||[]),o=[],a=this.nameMap=dX(),s=0,l=0;l<r.length;++l)o.push(r[l][2]),a.get(r[l][2])||(a.set(r[l][2],s),s++);var c=yie(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Zne(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,u=new vie(c,this);return u.initData(r),u},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),n=[],i=0;i<t;++i)n[i]=i;var r=e.mapDimension("single"),o=jJ(n,function(t){return e.get("name",t)}),a=[];return o.buckets.each(function(t,n){t.sort(function(t,n){return e.get(r,t)-e.get(r,n)}),a.push({name:n,indices:t})}),a},t.prototype.getAxisTooltipData=function(e,t,n){WU(e)||(e=e?[e]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,l=0;l<s;++l){for(var c=Number.MAX_VALUE,u=-1,h=o[l].indices.length,d=0;d<h;++d){var p=r.get(e[0],o[l].indices[d]),f=Math.abs(p-t);f<=c&&(i=p,c=f,u=o[l].indices[d])}a.push(u)}return{dataIndices:a,nestestValue:i}},t.prototype.formatTooltip=function(e,t,n){var i=this.getData();return s7("nameValue",{name:i.getName(e),value:i.get(i.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(S7);function ebe(e,t){e.eachSeriesByType("themeRiver",function(e){var t=e.getData(),n=e.coordinateSystem,i={},r=n.getRect();i.rect=r;var o=e.get("boundaryGap"),a=n.getAxis();(i.boundaryGap=o,"horizontal"===a.orient)?(o[0]=KK(o[0],r.height),o[1]=KK(o[1],r.height),tbe(t,e,r.height-o[0]-o[1])):(o[0]=KK(o[0],r.width),o[1]=KK(o[1],r.width),tbe(t,e,r.width-o[0]-o[1]));t.setLayout("layoutInfo",i)})}function tbe(e,t,n){if(e.count())for(var i,r=t.coordinateSystem,o=t.getLayerSeries(),a=e.mapDimension("single"),s=e.mapDimension("value"),l=RU(o,function(t){return RU(t.indices,function(t){var n=r.dataToPoint(e.get(a,t));return n[1]=e.get(s,t),n})}),c=function m(e){for(var t=e.length,n=e[0].length,i=[],r=[],o=0,a=0;a<n;++a){for(var s=0,l=0;l<t;++l)s+=e[l][a][1];s>o&&(o=s),i.push(s)}for(var c=0;c<n;++c)r[c]=(o-i[c])/2;o=0;for(var u=0;u<n;++u){var h=i[u]+r[u];h>o&&(o=h)}return{y0:r,max:o}}(l),u=c.y0,h=n/c.max,d=o.length,p=o[0].indices.length,f=0;f<p;++f){i=u[f]*h,e.setItemLayout(o[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:i,y:l[0][f][1]*h});for(var g=1;g<d;++g)i+=l[g-1][f][1]*h,e.setItemLayout(o[g].indices[f],{layerIndex:g,x:l[g][f][0],y0:i,y:l[g][f][1]*h})}}var nbe=function(e){function t(t,n,i,r){var o=e.call(this)||this;o.z2=2,o.textConfig={inside:!0},d1(o).seriesIndex=n.seriesIndex;var a=new Q0({z2:4,silent:t.getModel().get(["label","silent"])});return o.setTextContent(a),o.updateData(!0,t,n,i,r),o}return nU(t,e),t.prototype.updateData=function(e,t,n,i,r){this.node=t,t.piece=this,n=n||this._seriesModel,i=i||this._ecModel;var o=this;d1(o).dataIndex=t.dataIndex;var a=t.getModel(),s=a.getModel("emphasis"),l=t.getLayout(),c=AU({},l);c.label=null;var u=t.getVisual("style");u.lineJoin="bevel";var h=t.getVisual("decal");h&&(u.decal=bte(h,r));var d=mle(a.getModel("itemStyle"),c,!0);AU(c,d),LU(y1,function(e){var t=o.ensureState(e),n=a.getModel([e,"itemStyle"]);t.style=n.getItemStyle();var i=mle(n,c);i&&(t.shape=i)}),e?(o.setShape(c),o.shape.r=l.r0,O5(o,{shape:{r:l.r}},n,t.dataIndex)):(D5(o,{shape:c},n),P5(o)),o.useStyle(u),this._updateLabel(n);var p=a.getShallow("cursor");p&&o.attr("cursor",p),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel;var f=s.get("focus");n2(this,"relative"===f?pX(t.getAncestorsIndices(),t.getDescendantIndices()):"ancestor"===f?t.getAncestorsIndices():"descendant"===f?t.getDescendantIndices():f,s.get("blurScope"),s.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,n=this.node.getModel(),i=n.getModel("label"),r=this.node.getLayout(),o=r.endAngle-r.startAngle,a=(r.startAngle+r.endAngle)/2,s=Math.cos(a),l=Math.sin(a),c=this,u=c.getTextContent(),h=this.node.dataIndex,d=i.get("minAngle")/180*Math.PI,p=i.get("show")&&!(null!=d&&Math.abs(o)<d);function f(e,t){var n=e.get(t);return null==n?i.get(t):n}u.ignore=!p,LU(b1,function(i){var d="normal"===i?n.getModel("label"):n.getModel([i,"label"]),p="normal"===i,g=p?u:u.ensureState(i),m=e.getFormattedLabel(h,i);p&&(m=m||t.node.name),g.style=E3(d,{},null,"normal"!==i,!0),m&&(g.style.text=m);var v=d.get("show");null==v||p||(g.ignore=!v);var y,b=f(d,"position"),x=p?c:c.states[i],_=x.style.fill;x.textConfig={outsideFill:"inherit"===d.get("color")?_:null,inside:"outside"!==b};var w=f(d,"distance")||0,S=f(d,"align"),M=f(d,"rotate"),k=.5*Math.PI,C=1.5*Math.PI,T=_0("tangential"===M?Math.PI/2-a:a),A=T>k&&!sJ(T-k)&&T<C;"outside"===b?(y=r.r+w,S=A?"right":"left"):S&&"center"!==S?"left"===S?(y=r.r0+w,S=A?"right":"left"):"right"===S&&(y=r.r-w,S=A?"left":"right"):(y=o===2*Math.PI&&0===r.r0?0:(r.r+r.r0)/2,S="center"),g.style.align=S,g.style.verticalAlign=f(d,"verticalAlign")||"middle",g.x=y*s+r.cx,g.y=y*l+r.cy;var I=0;"radial"===M?I=_0(-a)+(A?Math.PI:0):"tangential"===M?I=_0(Math.PI/2-a)+(A?Math.PI:0):UU(M)&&(I=M*Math.PI/180),g.rotation=_0(I)}),u.dirtyStyle()},t}(Y2),ibe="sunburstRootToNode",rbe="sunburstHighlight";var obe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n,i){var r=this;this.seriesModel=e,this.api=n,this.ecModel=t;var o=e.getData(),a=o.tree.root,s=e.getViewRoot(),l=this.group,c=e.get("renderLabelForZeroData"),u=[];s.eachNode(function(e){u.push(e)});var h=this._oldChildren||[];!function d(i,r){if(0===i.length&&0===r.length)return;function s(e){return e.getId()}function u(s,u){!function h(i,r){c||!i||i.getValue()||(i=null);if(i!==a&&r!==a)if(r&&r.piece)i?(r.piece.updateData(!1,i,e,t,n),o.setItemGraphicEl(i.dataIndex,r.piece)):function s(e){if(!e)return;e.piece&&(l.remove(e.piece),e.piece=null)}(r);else if(i){var u=new nbe(i,e,t,n);l.add(u),o.setItemGraphicEl(i.dataIndex,u)}}(null==s?null:i[s],null==u?null:r[u])}new Xne(r,i,s,s).add(u).update(u).remove(HU(u,null)).execute()}(u,h),function p(i,o){o.depth>0?(r.virtualPiece?r.virtualPiece.updateData(!1,i,e,t,n):(r.virtualPiece=new nbe(i,e,t,n),l.add(r.virtualPiece)),o.piece.off("click"),r.virtualPiece.on("click",function(e){r._rootToNode(o.parentNode)})):r.virtualPiece&&(l.remove(r.virtualPiece),r.virtualPiece=null)}(a,s),this._initEvents(),this._oldChildren=u},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(t){var n=!1;e.seriesModel.getViewRoot().eachNode(function(i){if(!n&&i.piece&&i.piece===t.target){var r=i.getModel().get("nodeClick");if("rootToNode"===r)e._rootToNode(i);else if("link"===r){var o=i.getModel(),a=o.get("link");if(a)e6(a,o.get("target",!0)||"_blank")}n=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ibe,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},t.type="sunburst",t}(N7),abe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return nU(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};sbe(n);var i=this._levelModels=RU(e.levels||[],function(e){return new Q3(e,this,t)},this),r=spe.createTree(n,this,function o(e){e.wrapMethod("getItemModel",function(e,t){var n=r.getNodeByDataIndex(t),o=i[n.depth];return o&&(e.parentModel=o),e})});return r.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=hpe(i,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){vpe(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(S7);function sbe(e){var t=0;LU(e.children,function(e){sbe(e);var n=e.value;WU(n)&&(n=n[0]),t+=n});var n=e.value;WU(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),WU(e.value)?e.value[0]=n:e.value=n}var lbe=Math.PI/180;function cbe(e,t,n){t.eachSeriesByType(e,function(e){var t=e.get("center"),i=e.get("radius");WU(i)||(i=[0,i]),WU(t)||(t=[t,t]);var r=n.getWidth(),o=n.getHeight(),a=Math.min(r,o),s=KK(t[0],r),l=KK(t[1],o),c=KK(i[0],a/2),u=KK(i[1],a/2),h=-e.get("startAngle")*lbe,d=e.get("minAngle")*lbe,p=e.getData().tree.root,f=e.getViewRoot(),g=f.depth,m=e.get("sort");null!=m&&ube(f,m);var v=0;LU(f.children,function(e){!isNaN(e.getValue())&&v++});var y=f.getValue(),b=Math.PI/(y||v)*2,x=f.depth>0,_=f.height-(x?-1:1),w=(u-c)/(_||1),S=e.get("clockwise"),M=e.get("stillShowZeroSum"),k=S?1:-1,C=function(t,n){if(t){var i=n;if(t!==p){var r=t.getValue(),o=0===y&&M?b:r*b;o<d&&(o=d),i=n+k*o;var u=t.depth-g-(x?-1:1),h=c+w*u,f=c+w*(u+1),m=e.getLevelModel(t);if(m){var v=m.get("r0",!0),_=m.get("r",!0),T=m.get("radius",!0);null!=T&&(v=T[0],_=T[1]),null!=v&&(h=KK(v,a/2)),null!=_&&(f=KK(_,a/2))}t.setLayout({angle:o,startAngle:n,endAngle:i,clockwise:S,cx:s,cy:l,r0:h,r:f})}if(t.children&&t.children.length){var A=0;LU(t.children,function(e){A+=C(e,n+A)})}return i-n}};if(x){var T=c,A=c+w,I=2*Math.PI;p.setLayout({angle:I,startAngle:h,endAngle:h+I,clockwise:S,cx:s,cy:l,r0:T,r:A})}C(f,h)})}function ube(e,t){var n=e.children||[];e.children=function i(e,t){if($U(t)){var n=RU(e,function(e,t){var n=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return n}},index:t}});return n.sort(function(e,n){return t(e.params,n.params)}),RU(n,function(t){return e[t.index]})}var i="asc"===t;return e.sort(function(e,t){var n=(e.getValue()-t.getValue())*(i?1:-1);return 0===n?(e.dataIndex-t.dataIndex)*(i?-1:1):n})}(n,t),n.length&&LU(e.children,function(e){ube(e,t)})}function hbe(e){var t={};e.eachSeriesByType("sunburst",function(e){var n=e.getData(),i=n.tree;i.eachNode(function(r){var o=r.getModel().getModel("itemStyle").getItemStyle();o.fill||(o.fill=function a(e,n,i){if(0===e.depth)return R6.color.neutral50;for(var r=e;r&&r.depth>1;)r=r.parentNode;var o=n.getColorFromPalette(r.name||r.dataIndex+"",t);return e.depth>1&&jU(o)&&(o=KY(o,(e.depth-1)/(i-1)*.5)),o}(r,e,i.root.height)),AU(n.ensureUniqueItemVisual(r.dataIndex,"style"),o)})})}var dbe={color:"fill",borderColor:"stroke"},pbe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},fbe=PJ(),gbe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return Cie(null,this)},t.prototype.getDataParams=function(t,n,i){var r=e.prototype.getDataParams.call(this,t,n);return i&&(r.info=fbe(i).info),r},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(S7);function mbe(e,t){return t=t||[0,0],RU(["x","y"],function(n,i){var r=this.getAxis(n),o=t[i],a=e[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function vbe(e,t){return t=t||[0,0],RU([0,1],function(n){var i=t[n],r=e[n]/2,o=[],a=[];return o[n]=i-r,a[n]=i+r,o[1-n]=a[1-n]=t[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])},this)}function ybe(e,t){var n=this.getAxis(),i=t instanceof Array?t[0]:t,r=(e instanceof Array?e[0]:e)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}function bbe(e,t){return t=t||[0,0],RU(["Radius","Angle"],function(n,i){var r=this["get"+n+"Axis"](),o=t[i],a=e[i]/2,s="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return"Angle"===n&&(s=s*Math.PI/180),s},this)}function xbe(e,t,n,i){return e&&(e.legacy||!1!==e.legacy&&!n&&!i&&"tspan"!==t&&("text"===t||mX(e,"text")))}function _be(e,t,n){var i,r,o,a=e;if("text"===t)o=a;else{o={},mX(a,"text")&&(o.text=a.text),mX(a,"rich")&&(o.rich=a.rich),mX(a,"textFill")&&(o.fill=a.textFill),mX(a,"textStroke")&&(o.stroke=a.textStroke),mX(a,"fontFamily")&&(o.fontFamily=a.fontFamily),mX(a,"fontSize")&&(o.fontSize=a.fontSize),mX(a,"fontStyle")&&(o.fontStyle=a.fontStyle),mX(a,"fontWeight")&&(o.fontWeight=a.fontWeight),r={type:"text",style:o,silent:!0},i={};var s=mX(a,"textPosition");n?i.position=s?a.textPosition:"inside":s&&(i.position=a.textPosition),mX(a,"textPosition")&&(i.position=a.textPosition),mX(a,"textOffset")&&(i.offset=a.textOffset),mX(a,"textRotation")&&(i.rotation=a.textRotation),mX(a,"textDistance")&&(i.distance=a.textDistance)}return wbe(o,e),LU(o.rich,function(e){wbe(e,e)}),{textConfig:i,textContent:r}}function wbe(e,t){t&&(t.font=t.textFont||t.font,mX(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),mX(t,"textAlign")&&(e.align=t.textAlign),mX(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),mX(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),mX(t,"textWidth")&&(e.width=t.textWidth),mX(t,"textHeight")&&(e.height=t.textHeight),mX(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),mX(t,"textPadding")&&(e.padding=t.textPadding),mX(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),mX(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),mX(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),mX(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),mX(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),mX(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),mX(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function Sbe(e,t,n){var i=e;i.textPosition=i.textPosition||n.position||"inside",null!=n.offset&&(i.textOffset=n.offset),null!=n.rotation&&(i.textRotation=n.rotation),null!=n.distance&&(i.textDistance=n.distance);var r=i.textPosition.indexOf("inside")>=0,o=e.fill||R6.color.neutral99;Mbe(i,t);var a=null==i.textFill;return r?a&&(i.textFill=n.insideFill||R6.color.neutral00,!i.textStroke&&n.insideStroke&&(i.textStroke=n.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=e.fill||n.outsideFill||R6.color.neutral00),!i.textStroke&&n.outsideStroke&&(i.textStroke=n.outsideStroke)),i.text=t.text,i.rich=t.rich,LU(t.rich,function(e){Mbe(e,e)}),i}function Mbe(e,t){t&&(mX(t,"fill")&&(e.textFill=t.fill),mX(t,"stroke")&&(e.textStroke=t.fill),mX(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),mX(t,"font")&&(e.font=t.font),mX(t,"fontStyle")&&(e.fontStyle=t.fontStyle),mX(t,"fontWeight")&&(e.fontWeight=t.fontWeight),mX(t,"fontSize")&&(e.fontSize=t.fontSize),mX(t,"fontFamily")&&(e.fontFamily=t.fontFamily),mX(t,"align")&&(e.textAlign=t.align),mX(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),mX(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),mX(t,"width")&&(e.textWidth=t.width),mX(t,"height")&&(e.textHeight=t.height),mX(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),mX(t,"padding")&&(e.textPadding=t.padding),mX(t,"borderColor")&&(e.textBorderColor=t.borderColor),mX(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),mX(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),mX(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),mX(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),mX(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),mX(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),mX(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),mX(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),mX(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),mX(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var kbe={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Cbe=BU(kbe);NU(gK,function(e,t){return e[t]=1,e},{}),gK.join(", ");var Tbe=["","style","shape","extra"],Abe=PJ();function Ibe(e,t,n,i,r){var o=e+"Animation",a=A5(e,i,r)||{},s=Abe(t).userDuring;return a.duration>0&&(a.during=s?VU(Pbe,{el:t,userDuring:s}):null,a.setToFinal=!0,a.scope=e),AU(a,n[o]),a}function Dbe(e,t,n,i){var r=(i=i||{}).dataIndex,o=i.isInit,a=i.clearStyle,s=n.isAnimationEnabled(),l=Abe(e),c=t.style;l.userDuring=t.during;var u={},h={};if(function d(e,t,n){for(var i=0;i<Cbe.length;i++){var r=Cbe[i],o=kbe[r],a=t[r];a&&(n[o[0]]=a[0],n[o[1]]=a[1])}for(i=0;i<gK.length;i++){var s=gK[i];null!=t[s]&&(n[s]=t[s])}}(0,t,h),"compound"===e.type)for(var p=e.shape.paths,f=t.shape.paths,g=0;g<f.length;g++){Bbe("shape",f[g],p[g])}else Bbe("shape",t,h),Bbe("extra",t,h);if(!o&&s&&(!function m(e,t,n){for(var i=t.transition,r=Lbe(i)?gK:MJ(i||[]),o=0;o<r.length;o++){var a=r[o];if("style"!==a&&"shape"!==a&&"extra"!==a){var s=e[a];n[a]=s}}}(e,t,u),zbe("shape",e,t,u),zbe("extra",e,t,u),function v(e,t,n,i){if(!n)return;var r,o=e.style;if(o){var a=n.transition,s=t.transition;if(a&&!Lbe(a)){var l=MJ(a);!r&&(r=i.style={});for(var c=0;c<l.length;c++){var u=o[f=l[c]];r[f]=u}}else if(e.getAnimationStyleProps&&(Lbe(s)||Lbe(a)||DU(s,"style")>=0)){var h=e.getAnimationStyleProps(),d=h?h.style:null;if(d){!r&&(r=i.style={});var p=BU(n);for(c=0;c<p.length;c++){var f;if(d[f=p[c]]){u=o[f];r[f]=u}}}}}}(e,t,c,u)),h.style=c,function y(e,t,n){var i=t.style;if(!e.isGroup&&i){if(n){e.useStyle({});for(var r=e.animators,o=0;o<r.length;o++){var a=r[o];"style"===a.targetName&&a.changeTarget(e.style)}}e.setStyle(i)}t&&(t.style=null,t&&e.attr(t),t.style=i)}(e,h,a),function b(e,t){mX(t,"silent")&&(e.silent=t.silent),mX(t,"ignore")&&(e.ignore=t.ignore),e instanceof RQ&&mX(t,"invisible")&&(e.invisible=t.invisible);e instanceof z0&&mX(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}(e,t),s)if(o){var x={};LU(Tbe,function(e){var n=e?t[e]:t;n&&n.enterFrom&&(e&&(x[e]=x[e]||{}),AU(e?x[e]:x,n.enterFrom))});var _=Ibe("enter",e,t,n,r);_.duration>0&&e.animateFrom(x,_)}else!function w(e,t,n,i,r){if(r){var o=Ibe("update",e,t,i,n);o.duration>0&&e.animateFrom(r,o)}}(e,t,r||0,n,u);Obe(e,t),c?e.dirty():e.markRedraw()}function Obe(e,t){for(var n=Abe(e).leaveToProps,i=0;i<Tbe.length;i++){var r=Tbe[i],o=r?t[r]:t;o&&o.leaveTo&&(n||(n=Abe(e).leaveToProps={}),r&&(n[r]=n[r]||{}),AU(r?n[r]:n,o.leaveTo))}}function Ebe(e,t,n,i){if(e){var r=e.parent,o=Abe(e).leaveToProps;if(o){var a=Ibe("update",e,t,n,0);a.done=function(){r&&r.remove(e)},e.animateTo(o,a)}else r&&r.remove(e)}}function Lbe(e){return"all"===e}var Rbe={},Nbe={setTransform:function(e,t){return Rbe.el[e]=t,this},getTransform:function(e){return Rbe.el[e]},setShape:function(e,t){var n=Rbe.el;return(n.shape||(n.shape={}))[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){var t=Rbe.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=Rbe.el,i=n.style;return i&&(i[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){var t=Rbe.el.style;if(t)return t[e]},setExtra:function(e,t){return(Rbe.el.extra||(Rbe.el.extra={}))[e]=t,this},getExtra:function(e){var t=Rbe.el.extra;if(t)return t[e]}};function Pbe(){var e=this,t=e.el;if(t){var n=Abe(t).userDuring,i=e.userDuring;n===i?(Rbe.el=t,i(Nbe)):e.el=e.userDuring=null}}function zbe(e,t,n,i){var r=n[e];if(r){var o,a=t[e];if(a){var s=n.transition,l=r.transition;if(l)if(!o&&(o=i[e]={}),Lbe(l))AU(o,a);else for(var c=MJ(l),u=0;u<c.length;u++){var h=a[p=c[u]];o[p]=h}else if(Lbe(s)||DU(s,e)>=0){!o&&(o=i[e]={});var d=BU(a);for(u=0;u<d.length;u++){var p;h=a[p=d[u]];Vbe(r[p],h)&&(o[p]=h)}}}}}function Bbe(e,t,n){var i=t[e];if(i)for(var r=n[e]={},o=BU(i),a=0;a<o.length;a++){var s=o[a];r[s]=AZ(i[s])}}function Vbe(e,t){return EU(e)?e!==t:null!=e&&isFinite(e)}var Fbe=PJ(),Hbe=["percent","easing","shape","style","extra"];function Wbe(e){e.stopAnimation("keyframe"),e.attr(Fbe(e))}function $be(e,t,n){if(n.isAnimationEnabled()&&t)if(WU(t))LU(t,function(t){$be(e,t,n)});else{var i=t.keyframes,r=t.duration;if(n&&null==r){var o=A5("enter",n,0);r=o&&o.duration}if(i&&r){var a=Fbe(e);LU(Tbe,function(n){var o;n&&!e[n]||(i.sort(function(e,t){return e.percent-t.percent}),LU(i,function(i){var s=e.animators,l=n?i[n]:i;if(l){var c=BU(l);if(n||(c=PU(c,function(e){return DU(Hbe,e)<0})),c.length){o||((o=e.animate(n,t.loop,!0)).scope="keyframe");for(var u=0;u<s.length;u++)s[u]!==o&&s[u].targetName===o.targetName&&s[u].stopTracks(c);n&&(a[n]=a[n]||{});var h=n?a[n]:a;LU(c,function(t){h[t]=((n?e[n]:e)||{})[t]}),o.whenWithKeys(r*i.percent,l,c,i.easing)}}}),o&&o.delay(t.delay||0).duration(r).start(t.easing))})}}}var jbe="emphasis",Gbe="normal",Ube="blur",Xbe="select",qbe=[Gbe,jbe,Ube,Xbe],Ybe={normal:["itemStyle"],emphasis:[jbe,"itemStyle"],blur:[Ube,"itemStyle"],select:[Xbe,"itemStyle"]},Zbe={normal:["label"],emphasis:[jbe,"label"],blur:[Ube,"label"],select:[Xbe,"label"]},Kbe=["x","y"],Jbe={normal:{},emphasis:{},blur:{},select:{}},Qbe={cartesian2d:function exe(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:VU(mbe,e)}}},geo:function txe(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:VU(vbe,e)}}},single:function nxe(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:VU(ybe,e)}}},polar:function ixe(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:function(i){var r=t.dataToRadius(i[0]),o=n.dataToAngle(i[1]),a=e.coordToPoint([r,o]);return a.push(r,o*Math.PI/180),a},size:VU(bbe,e)}}},calendar:function rxe(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)},layout:function(t,n){return e.dataToLayout(t,n)}}}},matrix:function oxe(e){var t=e.getRect();return{coordSys:{type:"matrix",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t,n){return e.dataToPoint(t,n)},layout:function(t,n){return e.dataToLayout(t,n)}}}}};function axe(e){return e instanceof z0}function sxe(e){return e instanceof RQ}var lxe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n,i){this._progressiveEls=null;var r=this._data,o=e.getData(),a=this.group,s=pxe(e,o,t,n);r||a.removeAll(),o.diff(r).add(function(t){gxe(n,null,t,s(t,i),e,a,o)}).remove(function(t){var n=r.getItemGraphicEl(t);n&&Ebe(n,fbe(n).option,e)}).update(function(t,l){var c=r.getItemGraphicEl(l);gxe(n,c,t,s(t,i),e,a,o)}).execute();var l=e.get("clip",!0)?Use(e.coordinateSystem,!1,e):null;l?a.setClipPath(l):a.removeClipPath(),this._data=o},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,n,i,r){var o=t.getData(),a=pxe(t,o,n,i),s=this._progressiveEls=[];function l(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var c=e.start;c<e.end;c++){var u=gxe(null,null,c,a(c,r),t,this.group,o);u&&(u.traverse(l),s.push(u))}},t.prototype.eachRendered=function(e){p3(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,n,i){var r=t.element;if(null==r||n.name===r)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1},t.type="custom",t}(N7);function cxe(e){var t,n=e.type;if("path"===n){var i=null!=(o=e.shape).width&&null!=o.height?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,r=kxe(o);t=j5(r,null,i,o.layout||"center"),fbe(t).customPathData=r}else if("image"===n)t=new W0({}),fbe(t).customImagePath=e.style.image;else if("text"===n)t=new Q0({});else if("group"===n)t=new FK;else if("compoundPath"===n){var o;if(!(o=e.shape)||!o.paths)xJ("");var a=RU(o.paths,function(e){if("path"===e.type)return j5(e.shape.pathData,e,null);var t=$5(e.type);if(!t){xJ("")}return new t});t=new d5({shape:{paths:a}})}else{var s=$5(n);if(!s)xJ("");t=new s}return fbe(t).customGraphicType=n,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function uxe(e,t,n,i,r,o,a){Wbe(t);var s=r&&r.normal.cfg;s&&t.setTextConfig(s),i&&null==i.transition&&(i.transition=Kbe);var l=i&&i.style;if(l){if("text"===t.type){var c=l;mX(c,"textFill")&&(c.fill=c.textFill),mX(c,"textStroke")&&(c.stroke=c.textStroke)}var u=void 0,h=axe(t)?l.decal:null;e&&h&&(h.dirty=!0,u=bte(h,e)),l.__decalPattern=u}sxe(t)&&(l&&(u=l.__decalPattern)&&(l.decal=u));Dbe(t,i,o,{dataIndex:n,isInit:a,clearStyle:!0}),$be(t,i.keyframeAnimation,o)}function hxe(e,t,n,i,r){var o=t.isGroup?null:t,a=r&&r[e].cfg;if(o){var s=o.ensureState(e);if(!1===i){var l=o.getState(e);l&&(l.style=null)}else s.style=i||null;a&&(s.textConfig=a),V1(o)}}function dxe(e,t,n){var i=n===Gbe,r=i?t:bxe(t,n),o=r?r.z2:null;null!=o&&((i?e:e.ensureState(n)).z2=o||0)}function pxe(e,t,n,i){var r=e.get("renderItem");if("string"==typeof r){var o=function e(t){return kte[t]}(r);o&&(r=o)}var a=e.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms(a):Qbe[a.type](a));for(var l,c,u=IU({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function S(e,n){return null==n&&(n=l),t.getStore().get(t.getDimensionIndex(e||0),n)},style:function M(n,i){null==i&&(i=l);var r=t.getItemVisual(i,"style"),o=r&&r.fill,a=r&&r.opacity,s=b(i,Gbe).getItemStyle();null!=o&&(s.fill=o),null!=a&&(s.opacity=a);var c={inheritColor:jU(o)?o:R6.color.neutral99},u=x(i,Gbe),h=E3(u,null,c,!1,!0);h.text=u.getShallow("show")?eX(e.getFormattedLabel(i,Gbe),Cse(t,i)):null;var d=L3(u,c,!1);return w(n,s),s=Sbe(s,h,d),n&&_(s,n),s.legacy=!0,s},ordinalRawValue:function k(e,n){null==n&&(n=l),e=e||0;var i=t.getDimensionInfo(e);if(!i){var r=t.getDimensionIndex(e);return r>=0?t.getStore().get(r,n):void 0}var o=t.get(i.name,n),a=i&&i.ordinalMeta;return a?a.categories[o]:o},styleEmphasis:function C(n,i){null==i&&(i=l);var r=b(i,jbe).getItemStyle(),o=x(i,jbe),a=E3(o,null,null,!0,!0);a.text=o.getShallow("show")?tX(e.getFormattedLabel(i,jbe),e.getFormattedLabel(i,Gbe),Cse(t,i)):null;var s=L3(o,null,!0);return w(n,r),r=Sbe(r,a,s),n&&_(r,n),r.legacy=!0,r},visual:function T(e,n){if(null==n&&(n=l),mX(dbe,e)){var i=t.getItemVisual(n,"style");return i?i[dbe[e]]:null}if(mX(pbe,e))return t.getItemVisual(n,e)},barLayout:function A(e){if("cartesian2d"===a.type){return function t(e){var t=[],n=e.axis,i="axis0";if("category"===n.type){for(var r=n.getBandWidth(),o=0;o<e.count;o++)t.push(IU({bandWidth:r,axisKey:i,stackId:Xie+o},e));var a=Jie(t),s=[];for(o=0;o<e.count;o++){var l=a[i][Xie+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}(IU({axis:a.getBaseAxis()},e))}},currentSeriesIndices:function I(){return n.getCurrentSeriesIndices()},font:function D(e){return B3(e,n)}},s.api||{}),h={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:fxe(e.getData()),itemPayload:e.get("itemPayload")||{}},d={},p={},f={},g={},m=0;m<qbe.length;m++){var v=qbe[m];f[v]=e.getModel(Ybe[v]),g[v]=e.getModel(Zbe[v])}function y(e){return e===l?c||(c=t.getItemModel(e)):t.getItemModel(e)}function b(e,n){return t.hasItemOption?e===l?d[n]||(d[n]=y(e).getModel(Ybe[n])):y(e).getModel(Ybe[n]):f[n]}function x(e,n){return t.hasItemOption?e===l?p[n]||(p[n]=y(e).getModel(Zbe[n])):y(e).getModel(Zbe[n]):g[n]}return function(e,n){return l=e,c=null,d={},p={},r&&r(IU({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:n?n.type:null},h),u)};function _(e,t){for(var n in t)mX(t,n)&&(e[n]=t[n])}function w(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function fxe(e){var t={};return LU(e.dimensions,function(n){var i=e.getDimensionInfo(n);if(!i.isExtraCoord){var r=i.coordDim;(t[r]=t[r]||[])[i.coordDimIndex]=e.getDimensionIndex(n)}}),t}function gxe(e,t,n,i,r,o,a){if(i){var s=mxe(e,t,n,i,r,o);return s&&a.setItemGraphicEl(n,s),s&&n2(s,i.focus,i.blurScope,i.emphasisDisabled),s}o.remove(t)}function mxe(e,t,n,i,r,o){var a=-1,s=t;t&&vxe(t,i,r)&&(a=DU(o.childrenRef(),t),t=null);var l=!t,c=t;c?c.clearStates():(c=cxe(i),s&&function u(e,t){t.copyTransform(e),sxe(t)&&sxe(e)&&(t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t.invisible=e.invisible,t.ignore=e.ignore,axe(t)&&axe(e)&&t.setShape(e.shape))}(s,c)),!1===i.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),i.tooltipDisabled&&(c.tooltipDisabled=!0),Jbe.normal.cfg=Jbe.normal.conOpt=Jbe.emphasis.cfg=Jbe.emphasis.conOpt=Jbe.blur.cfg=Jbe.blur.conOpt=Jbe.select.cfg=Jbe.select.conOpt=null,Jbe.isLegacy=!1,function h(e,t,n,i,r,o){if(e.isGroup||"compoundPath"===e.type)return;yxe(n,null,o),yxe(n,jbe,o);var a=o.normal.conOpt,s=o.emphasis.conOpt,l=o.blur.conOpt,c=o.select.conOpt;if(null!=a||null!=s||null!=c||null!=l){var u=e.getTextContent();if(!1===a)u&&e.removeTextContent();else{a=o.normal.conOpt=a||{type:"text"},u?u.clearStates():(u=cxe(a),e.setTextContent(u)),uxe(null,u,t,a,null,i,r);for(var h=a&&a.style,d=0;d<qbe.length;d++){var p=qbe[d];if(p!==Gbe){var f=o[p].conOpt;hxe(p,u,0,xxe(a,f,p),null)}}h?u.dirty():u.markRedraw()}}}(c,n,i,r,l,Jbe),function d(e,t,n,i,r){var o=n.clipPath;if(!1===o)e&&e.getClipPath()&&e.removeClipPath();else if(o){var a=e.getClipPath();a&&vxe(a,o,i)&&(a=null),a||(a=cxe(o),e.setClipPath(a)),uxe(null,a,t,o,null,i,r)}}(c,n,i,r,l),uxe(e,c,n,i,Jbe,r,l),mX(i,"info")&&(fbe(c).info=i.info);for(var p=0;p<qbe.length;p++){var f=qbe[p];if(f!==Gbe){var g=bxe(i,f);hxe(f,c,0,xxe(i,g,f),Jbe)}}return function m(e,t,n){if(!e.isGroup){var i=e,r=n.currentZ,o=n.currentZLevel;i.z=r,i.zlevel=o;var a=t.z2;null!=a&&(i.z2=a||0);for(var s=0;s<qbe.length;s++)dxe(i,t,qbe[s])}}(c,i,r),"group"===i.type&&function v(e,t,n,i,r){var o=i.children,a=o?o.length:0,s=i.$mergeChildren,l="byName"===s||i.diffChildrenByName,c=!1===s;if(!a&&!l&&!c)return;if(l)return void function u(e){new Xne(e.oldChildren,e.newChildren,wxe,wxe,e).add(Sxe).update(Sxe).remove(Mxe).execute()}({api:e,oldChildren:t.children()||[],newChildren:o||[],dataIndex:n,seriesModel:r,group:t});c&&t.removeAll();for(var h=0;h<a;h++){var d=o[h],p=t.childAt(h);d?(null==d.ignore&&(d.ignore=!1),mxe(e,p,n,d,r,t)):p.ignore=!0}for(var f=t.childCount()-1;f>=h;f--){var g=t.childAt(f);_xe(t,g,r)}}(e,c,n,i,r),a>=0?o.replaceAt(c,a):o.add(c),c}function vxe(e,t,n){var i=fbe(e),r=t.type,o=t.shape,a=t.style;return n.isUniversalTransitionEnabled()||null!=r&&r!==i.customGraphicType||"path"===r&&function s(e){return e&&(mX(e,"pathData")||mX(e,"d"))}(o)&&kxe(o)!==i.customPathData||"image"===r&&mX(a,"image")&&a.image!==i.customImagePath}function yxe(e,t,n){var i=t?bxe(e,t):e,r=t?xxe(e,i,jbe):e.style,o=e.type,a=i?i.textConfig:null,s=e.textContent,l=s?t?bxe(s,t):s:null;if(r&&(n.isLegacy||xbe(r,o,!!a,!!l))){n.isLegacy=!0;var c=_be(r,o,!t);!a&&c.textConfig&&(a=c.textConfig),!l&&c.textContent&&(l=c.textContent)}if(!t&&l){var u=l;!u.type&&(u.type="text")}var h=t?n[t]:n.normal;h.cfg=a,h.conOpt=l}function bxe(e,t){return t?e?e[t]:null:e}function xxe(e,t,n){var i=t&&t.style;return null==i&&n===jbe&&e&&(i=e.styleEmphasis),i}function _xe(e,t,n){t&&Ebe(t,fbe(e).option,n)}function wxe(e,t){var n=e&&e.name;return null!=n?n:"e\0\0"+t}function Sxe(e,t){var n=this.context,i=null!=e?n.newChildren[e]:null,r=null!=t?n.oldChildren[t]:null;mxe(n.api,r,n.dataIndex,i,n.seriesModel,n.group)}function Mxe(e){var t=this.context,n=t.oldChildren[e];n&&Ebe(n,fbe(n).option,t.seriesModel)}function kxe(e){return e&&(e.pathData||e.d)}var Cxe=PJ(),Txe=kU,Axe=VU,Ixe=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(e,t,n,i){var r=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,r,e,t,n);var c=l.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var u=this._moveAnimation=this.determineAnimation(e,t);if(a){var h=HU(Dxe,t,u);this.updatePointerEl(a,l,h),this.updateLabelEl(a,l,h,t)}else a=this._group=new FK,this.createPointerEl(a,l,e,t),this.createLabelEl(a,l,e,t),n.getZr().add(a);Rxe(a,t,!0),this._renderHandle(r)}},e.prototype.remove=function(e){this.clear(e)},e.prototype.dispose=function(e){this.clear(e)},e.prototype.determineAnimation=function(e,t){var n=t.get("animation"),i=e.axis,r="category"===i.type,o=t.get("snap");if(!o&&!r)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(r&&i.getBandWidth()>a)return!0;if(o){var s=vue(e).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===n},e.prototype.makeElOption=function(e,t,n,i,r){},e.prototype.createPointerEl=function(e,t,n,i){var r=t.pointer;if(r){var o=Cxe(e).pointerEl=new w3[r.type](Txe(t.pointer));e.add(o)}},e.prototype.createLabelEl=function(e,t,n,i){if(t.label){var r=Cxe(e).labelEl=new Q0(Txe(t.label));e.add(r),Exe(r,i)}},e.prototype.updatePointerEl=function(e,t,n){var i=Cxe(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(e,t,n,i){var r=Cxe(e).labelEl;r&&(r.setStyle(t.label.style),n(r,{x:t.label.x,y:t.label.y}),Exe(r,i))},e.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(t=!0,r=this._handle=r3(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){sq(e.event)},onmousedown:Axe(this._onHandleDragMove,this,0,0),drift:Axe(this._onHandleDragMove,this),ondragend:Axe(this._onHandleDragEnd,this)}),i.add(r)),Rxe(r,n,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");WU(s)||(s=[s,s]),r.scaleX=s[0]/2,r.scaleY=s[1]/2,G7(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},e.prototype._moveHandleToValue=function(e,t){Dxe(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Lxe(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(Lxe(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(Lxe(i)),Cxe(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),U7(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}},e}();function Dxe(e,t,n,i){Oxe(Cxe(n).lastProp,i)||(Cxe(n).lastProp=i,t?D5(n,i,e):(n.stopAnimation(),n.attr(i)))}function Oxe(e,t){if(XU(e)&&XU(t)){var n=!0;return LU(t,function(t,i){n=n&&Oxe(e[i],t)}),!!n}return e===t}function Exe(e,t){e[t.get(["label","show"])?"show":"hide"]()}function Lxe(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function Rxe(e,t,n){var i=t.get("z"),r=t.get("zlevel");e&&e.traverse(function(e){"group"!==e.type&&(null!=i&&(e.z=i),null!=r&&(e.zlevel=r),e.silent=n)})}function Nxe(e){var t,n=e.get("type"),i=e.getModel(n+"Style");return"line"===n?(t=i.getLineStyle()).fill=null:"shadow"===n&&((t=i.getAreaStyle()).stroke=null),t}function Pxe(e,t,n,i,r){var o=zxe(n.get("value"),t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),a=n.getModel("label"),s=q4(a.get("padding")||0),l=a.getFont(),c=SK(o,l),u=r.position,h=c.width+s[1]+s[3],d=c.height+s[0]+s[2],p=r.align;"right"===p&&(u[0]-=h),"center"===p&&(u[0]-=h/2);var f=r.verticalAlign;"bottom"===f&&(u[1]-=d),"middle"===f&&(u[1]-=d/2),function g(e,t,n,i){var r=i.getWidth(),o=i.getHeight();e[0]=Math.min(e[0]+t,r)-t,e[1]=Math.min(e[1]+n,o)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(u,h,d,i);var m=a.get("backgroundColor");m&&"auto"!==m||(m=t.get(["axisLine","lineStyle","color"])),e.label={x:u[0],y:u[1],style:E3(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:m}),z2:10}}function zxe(e,t,n,i,r){e=t.scale.parse(e);var o=t.scale.getLabel({value:e},{precision:r.precision}),a=r.formatter;if(a){var s={value:Are(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};LU(i,function(e){var t=n.getSeriesByIndex(e.seriesIndex),i=e.dataIndexInside,r=t&&t.getDataParams(i);r&&s.seriesData.push(r)}),jU(a)?o=a.replace("{value}",o):$U(a)&&(o=a(s))}return o}function Bxe(e,t,n){var i=[1,0,0,1,0,0];return vq(i,i,n.rotation),mq(i,i,n.position),Q5([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function Vxe(e,t,n,i,r,o){var a=$ce.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get(["label","margin"]),Pxe(t,i,r,o,{position:Bxe(i.axis,e,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function Fxe(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function Hxe(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function Wxe(e,t,n,i,r,o){return{cx:e,cy:t,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}var $xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.makeElOption=function(e,t,n,i,r){var o=n.axis,a=o.grid,s=i.get("type"),l=jxe(a,o).getOtherAxis(o).getGlobalExtent(),c=o.toGlobalCoord(o.dataToCoord(t,!0));if(s&&"none"!==s){var u=Nxe(i),h=Gxe[s](o,c,l);h.style=u,e.graphicKey=h.type,e.pointer=h}Vxe(t,e,tue(a.getRect(),n),n,i,r)},t.prototype.getHandleTransform=function(e,t,n){var i=tue(t.axis.grid.getRect(),t,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=Bxe(t.axis,e,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,i){var r=n.axis,o=r.grid,a=r.getGlobalExtent(!0),s=jxe(o,r).getOtherAxis(r).getGlobalExtent(),l="x"===r.dim?0:1,c=[e.x,e.y];c[l]+=t[l],c[l]=Math.min(a[1],c[l]),c[l]=Math.max(a[0],c[l]);var u=(s[1]+s[0])/2,h=[u,u];h[l]=c[l];return{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},t}(Ixe);function jxe(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var Gxe={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:Fxe([t,n[0]],[t,n[1]],Uxe(e))}},shadow:function(e,t,n){var i=Math.max(1,e.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:Hxe([t-i/2,n[0]],[i,r],Uxe(e))}}};function Uxe(e){return"x"===e.dim?0:1}var Xxe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:R6.color.border,width:1,type:"dashed"},shadowStyle:{color:R6.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:R6.color.neutral00,padding:[5,7,5,7],backgroundColor:R6.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:R6.color.accent40,throttle:40}},t}(D6),qxe=PJ(),Yxe=LU;function Zxe(e,t,n){if(!rU.node){var i=t.getZr();qxe(i).records||(qxe(i).records={}),function r(e,t){if(qxe(e).initialized)return;function n(n,i){e.on(n,function(n){var r=function o(e){var t={showTip:[],hideTip:[]},n=function(i){var r=t[i.type];r?r.push(i):(i.dispatchAction=n,e.dispatchAction(i))};return{dispatchAction:n,pendings:t}}(t);Yxe(qxe(e).records,function(e){e&&i(e,n,r.dispatchAction)}),function a(e,t){var n,i=e.showTip.length,r=e.hideTip.length;i?n=e.showTip[i-1]:r&&(n=e.hideTip[r-1]);n&&(n.dispatchAction=null,t.dispatchAction(n))}(r.pendings,t)})}qxe(e).initialized=!0,n("click",HU(Jxe,"click")),n("mousemove",HU(Jxe,"mousemove")),n("globalout",Kxe)}(i,t),(qxe(i).records[e]||(qxe(i).records[e]={})).handler=n}}function Kxe(e,t,n){e.handler("leave",null,n)}function Jxe(e,t,n,i){t.handler(e,n,i)}function Qxe(e,t){if(!rU.node){var n=t.getZr();(qxe(n).records||{})[e]&&(qxe(n).records[e]=null)}}var e_e=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){var i=t.getComponent("tooltip"),r=e.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";Zxe("axisPointer",n,function(e,t,n){"none"!==r&&("leave"===e||r.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})})},t.prototype.remove=function(e,t){Qxe("axisPointer",t)},t.prototype.dispose=function(e,t){Qxe("axisPointer",t)},t.type="axisPointer",t}(O7);function t_e(e,t){var n,i=[],r=e.seriesIndex;if(null==r||!(n=t.getSeriesByIndex(r)))return{point:[]};var o=n.getData(),a=NJ(o,e);if(null==a||a<0||WU(a))return{point:[]};var s=o.getItemGraphicEl(a),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(e.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c).dim,h=c.dim,d="x"===u||"radius"===u?1:0,p=o.mapDimension(h),f=[];f[d]=o.get(p,a),f[1-d]=o.get(o.getCalculationInfo("stackResultDimension"),a),i=l.dataToPoint(f)||[]}else i=l.dataToPoint(o.getValues(RU(l.dimensions,function(e){return o.mapDimension(e)}),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),i=[g.x+g.width/2,g.y+g.height/2]}return{point:i,el:s}}var n_e=PJ();function i_e(e,t,n){var i=e.currTrigger,r=[e.x,e.y],o=e,a=e.dispatchAction||VU(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){l_e(r)&&(r=t_e({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=l_e(r),c=o.axesInfo,u=s.axesInfo,h="leave"===i||l_e(r),d={},p={},f={list:[],map:{}},g={showPointer:HU(o_e,p),showTooltip:HU(a_e,f)};LU(s.coordSysMap,function(e,t){var n=l||e.containPoint(r);LU(s.coordSysAxesInfo[t],function(e,t){var i=e.axis,o=function a(e,t){for(var n=0;n<(e||[]).length;n++){var i=e[n];if(t.axis.dim===i.axisDim&&t.axis.model.componentIndex===i.axisIndex)return i}}(c,e);if(!h&&n&&(!c||o)){var s=o&&o.value;null!=s||l||(s=i.pointToData(r)),null!=s&&r_e(e,s,g,!1,d)}})});var m={};return LU(u,function(e,t){var n=e.linkGroup;n&&!p[t]&&LU(n.axesInfo,function(t,i){var r=p[i];if(t!==e&&r){var o=r.value;n.mapper&&(o=e.axis.scale.parse(n.mapper(o,s_e(t),s_e(e)))),m[e.key]=o}})}),LU(m,function(e,t){r_e(u[t],e,g,!0,d)}),function v(e,t,n){var i=n.axesInfo=[];LU(t,function(t,n){var r=t.axisPointerModel.option,o=e[n];o?(!t.useHandle&&(r.status="show"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!t.useHandle&&(r.status="hide"),"show"===r.status&&i.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:r.value})})}(p,u,d),function y(e,t,n,i){if(l_e(t)||!e.list.length)return void i({type:"hideTip"});var r=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:e.list})}(f,r,e,a),function b(e,t,n){var i=n.getZr(),r="axisPointerLastHighlights",o=n_e(i)[r]||{},a=n_e(i)[r]={};LU(e,function(e,t){var n=e.axisPointerModel.option;"show"===n.status&&e.triggerEmphasis&&LU(n.seriesDataIndices,function(e){var t=e.seriesIndex+" | "+e.dataIndex;a[t]=e})});var s=[],l=[];LU(o,function(e,t){!a[t]&&l.push(e)}),LU(a,function(e,t){!o[t]&&s.push(e)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(u,0,n),d}}function r_e(e,t,n,i,r){var o=e.axis;if(!o.scale.isBlank()&&o.containData(t))if(e.involveSeries){var a=function c(e,t){var n=t.axis,i=n.dim,r=e,o=[],a=Number.MAX_VALUE,s=-1;return LU(t.seriesModels,function(t,l){var c,u,h=t.getData().mapDimensionsAll(i);if(t.getAxisTooltipData){var d=t.getAxisTooltipData(h,e,n);u=d.dataIndices,c=d.nestestValue}else{if(!(u=t.indicesOfNearest(i,h[0],e,"category"===n.type?.5:null)).length)return;c=t.getData().get(h[0],u[0])}if(null!=c&&isFinite(c)){var p=e-c,f=Math.abs(p);f<=a&&((f<a||p>=0&&s<0)&&(a=f,s=p,r=c,o.length=0),LU(u,function(e){o.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})}))}}),{payloadBatch:o,snapToValue:r}}(t,e),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&AU(r,s[0]),!i&&e.snap&&o.containData(l)&&null!=l&&(t=l),n.showPointer(e,t,s),n.showTooltip(e,a,l)}else n.showPointer(e,t)}function o_e(e,t,n,i){e[t.key]={value:n,payloadBatch:i}}function a_e(e,t,n,i){var r=n.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&r.length){var l=t.coordSys.model,c=bue(l),u=e.map[c];u||(u=e.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function s_e(e){var t=e.axis.model,n={},i=n.axisDim=e.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=t.componentIndex,n.axisName=n[i+"AxisName"]=t.name,n.axisId=n[i+"AxisId"]=t.id,n}function l_e(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function c_e(e){_ue.registerAxisPointerClass("CartesianAxisPointer",$xe),e.registerComponentModel(Xxe),e.registerComponentView(e_e),e.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!WU(t)&&(e.axisPointer.link=[t])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=gue(e,t)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},i_e)}var u_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.makeElOption=function(e,t,n,i,r){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a=o.polar,s=a.getOtherAxis(o).getExtent(),l=o.dataToCoord(t),c=i.get("type");if(c&&"none"!==c){var u=Nxe(i),h=h_e[c](o,a,l,s);h.style=u,e.graphicKey=h.type,e.pointer=h}var d=function p(e,t,n,i,r){var o=t.axis,a=o.dataToCoord(e),s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,c,u,h=i.getRadiusAxis().getExtent();if("radius"===o.dim){var d=[1,0,0,1,0,0];vq(d,d,s),mq(d,d,[i.cx,i.cy]),l=Q5([a,-r],d);var p=t.getModel("axisLabel").get("rotate")||0,f=$ce.innerTextLayout(s,p*Math.PI/180,-1);c=f.textAlign,u=f.textVerticalAlign}else{var g=h[1];l=i.coordToPoint([g+r,a]);var m=i.cx,v=i.cy;c=Math.abs(l[0]-m)/g<.3?"center":l[0]>m?"left":"right",u=Math.abs(l[1]-v)/g<.3?"middle":l[1]>v?"top":"bottom"}return{position:l,align:c,verticalAlign:u}}(t,n,0,a,i.get(["label","margin"]));Pxe(e,n,i,r,d)},t}(Ixe);var h_e={line:function(e,t,n,i){return"angle"===e.dim?{type:"Line",shape:Fxe(t.coordToPoint([i[0],n]),t.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,i){var r=Math.max(1,e.getBandWidth()),o=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:Wxe(t.cx,t.cy,i[0],i[1],(-n-r/2)*o,(r/2-n)*o)}:{type:"Sector",shape:Wxe(t.cx,t.cy,n-r/2,n+r/2,0,2*Math.PI)}}},d_e=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.findAxisModel=function(e){var t;return this.ecModel.eachComponent(e,function(e){e.getCoordSysModel()===this&&(t=e)},this),t},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(D6),p_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",FJ).models[0]},t.type="polarAxis",t}(D6);OU(p_e,Nre);var f_e=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="angleAxis",t}(p_e),g_e=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="radiusAxis",t}(p_e),m_e=function(e){function t(t,n){return e.call(this,"radius",t,n)||this}return nU(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t}(foe);m_e.prototype.dataToRadius=foe.prototype.dataToCoord,m_e.prototype.radiusToData=foe.prototype.coordToData;var v_e=PJ(),y_e=function(e){function t(t,n){return e.call(this,"angle",t,n||[0,360])||this}return nU(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,t=e.getLabelModel(),n=e.scale,i=n.getExtent(),r=n.count();if(i[1]-i[0]<1)return 0;var o=i[0],a=e.dataToCoord(o+1)-e.dataToCoord(o),s=Math.abs(a),l=SK(null==o?"":o+"",t.getFont(),"center","top"),c=Math.max(l.height,7)/s;isNaN(c)&&(c=1/0);var u=Math.max(0,Math.floor(c)),h=v_e(e.model),d=h.lastAutoInterval,p=h.lastTickCount;return null!=d&&null!=p&&Math.abs(d-u)<=1&&Math.abs(p-r)<=1&&d>u?u=d:(h.lastTickCount=r,h.lastAutoInterval=u),u},t}(foe);y_e.prototype.dataToAngle=foe.prototype.dataToCoord,y_e.prototype.angleToData=foe.prototype.coordToData;var b_e=["radius","angle"],x_e=function(){function e(e){this.dimensions=b_e,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new m_e,this._angleAxis=new y_e,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},e.prototype.getAxis=function(e){return this["_"+e+"Axis"]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},e.prototype.dataToPoint=function(e,t,n){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)],n)},e.prototype.pointToData=function(e,t,n){n=n||[];var i=this.pointToCoord(e);return n[0]=this._radiusAxis.radiusToData(i[0],t),n[1]=this._angleAxis.angleToData(i[1],t),n},e.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);i.inverse?o=a-360:a=o+360;var s=Math.sqrt(t*t+n*n);t/=s,n/=s;for(var l=Math.atan2(-n,t)/Math.PI*180,c=l<o?1:-1;l<o||l>a;)l+=360*c;return[s,l]},e.prototype.coordToPoint=function(e,t){t=t||[];var n=e[0],i=e[1]/180*Math.PI;return t[0]=Math.cos(i)*n+this.cx,t[1]=-Math.sin(i)*n+this.cy,t},e.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var n=e.getExtent(),i=Math.PI/180,r=1e-4;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:e.inverse,contain:function(e,t){var n=e-this.cx,i=t-this.cy,o=n*n+i*i,a=this.r,s=this.r0;return a!==s&&o-r<=a*a&&o+r>=s*s},x:this.cx-t[1],y:this.cy-t[1],width:2*t[1],height:2*t[1]}},e.prototype.convertToPixel=function(e,t,n){return __e(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return __e(t)===this?this.pointToData(n):null},e}();function __e(e){var t=e.seriesModel,n=e.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function w_e(e,t){var n=this,i=n.getAngleAxis(),r=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===n){var t=e.getData();LU(Ore(t,"radius"),function(e){r.scale.unionExtentFromData(t,e)}),LU(Ore(t,"angle"),function(e){i.scale.unionExtentFromData(t,e)})}}),kre(i.scale,i.model),kre(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function S_e(e,t){var n;if(e.type=t.get("type"),e.scale=Cre(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),function i(e){return"angleAxis"===e.mainType}(t)){e.inverse=e.inverse!==t.get("clockwise");var r=t.get("startAngle"),o=null!==(n=t.get("endAngle"))&&void 0!==n?n:r+(e.inverse?-360:360);e.setExtent(r,o)}t.axis=e,e.model=t}var M_e={dimensions:b_e,create:function(e,t){var n=[];return e.eachComponent("polar",function(e,i){var r=new x_e(i+"");r.update=w_e;var o=r.getRadiusAxis(),a=r.getAngleAxis(),s=e.findAxisModel("radiusAxis"),l=e.findAxisModel("angleAxis");S_e(o,s),S_e(a,l),function c(e,t,n){var i=t.get("center"),r=S6(t,n).refContainer;e.cx=KK(i[0],r.width)+r.x,e.cy=KK(i[1],r.height)+r.y;var o=e.getRadiusAxis(),a=Math.min(r.width,r.height)/2,s=t.get("radius");null==s?s=[0,"100%"]:WU(s)||(s=[0,s]);var l=[KK(s[0],a),KK(s[1],a)];o.inverse?o.setExtent(l[1],l[0]):o.setExtent(l[0],l[1])}(r,e,t),n.push(r),e.coordinateSystem=r,r.model=e}),e.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var t=e.getReferringComponents("polar",FJ).models[0];e.coordinateSystem=t.coordinateSystem}}),n}},k_e=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function C_e(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var i=e.coordToPoint([t[0],n]),r=e.coordToPoint([t[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function T_e(e){return e.getRadiusAxis().inverse?0:1}function A_e(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var I_e=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return nU(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var n=e.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),o=n.getTicksCoords({breakTicks:"none"}),a=n.getMinorTicksCoords(),s=RU(n.getViewLabels(),function(e){e=kU(e);var t=n.scale,i="ordinal"===t.type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=n.dataToCoord(i),e});A_e(s),A_e(o),LU(k_e,function(t){!e.get([t,"show"])||n.scale.isBlank()&&"axisLine"!==t||D_e[t](this.group,e,i,o,a,r,s)},this)}},t.type="angleAxis",t}(_ue),D_e={axisLine:function(e,t,n,i,r,o){var a,s=t.getModel(["axisLine","lineStyle"]),l=n.getAngleAxis(),c=Math.PI/180,u=l.getExtent(),h=T_e(n),d=h?0:1,p=360===Math.abs(u[1]-u[0])?"Circle":"Arc";(a=0===o[d]?new w3[p]({shape:{cx:n.cx,cy:n.cy,r:o[h],startAngle:-u[0]*c,endAngle:-u[1]*c,clockwise:l.inverse},style:s.getLineStyle(),z2:1,silent:!0}):new K2({shape:{cx:n.cx,cy:n.cy,r:o[h],r0:o[d]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,e.add(a)},axisTick:function(e,t,n,i,r,o){var a=t.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[T_e(n)],c=RU(i,function(e){return new o5({shape:C_e(n,[l,l+s],e.coord)})});e.add(X5(c,{style:IU(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,n,i,r,o){if(r.length){for(var a=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),c=o[T_e(n)],u=[],h=0;h<r.length;h++)for(var d=0;d<r[h].length;d++)u.push(new o5({shape:C_e(n,[c,c+l],r[h][d].coord)}));e.add(X5(u,{style:IU(s.getModel("lineStyle").getLineStyle(),IU(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,n,i,r,o,a){var s=t.getCategories(!0),l=t.getModel("axisLabel"),c=l.get("margin"),u=t.get("triggerEvent");LU(a,function(i,r){var a=l,h=i.tickValue,d=o[T_e(n)],p=n.coordToPoint([d+c,i.coord]),f=n.cx,g=n.cy,m=Math.abs(p[0]-f)/d<.3?"center":p[0]>f?"left":"right",v=Math.abs(p[1]-g)/d<.3?"middle":p[1]>g?"top":"bottom";if(s&&s[h]){var y=s[h];XU(y)&&y.textStyle&&(a=new Q3(y.textStyle,l,l.ecModel))}var b=new Q0({silent:$ce.isLabelSilent(t),style:E3(a,{x:p[0],y:p[1],fill:a.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:m,verticalAlign:v})});if(e.add(b),h3({el:b,componentModel:t,itemName:i.formattedLabel,formatterParamsExtra:{isTruncated:function(){return b.isTruncated},value:i.rawLabel,tickIndex:r}}),u){var x=$ce.makeAxisEventDataBase(t);x.targetType="axisLabel",x.value=i.rawLabel,d1(b).eventData=x}},this)},splitLine:function(e,t,n,i,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var c=[],u=0;u<i.length;u++){var h=l++%s.length;c[h]=c[h]||[],c[h].push(new o5({shape:C_e(n,o,i[u].coord)}))}for(u=0;u<c.length;u++)e.add(X5(c[u],{style:IU({stroke:s[u%s.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,n,i,r,o){if(r.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<r.length;l++)for(var c=0;c<r[l].length;c++)s.push(new o5({shape:C_e(n,o,r[l][c].coord)}));e.add(X5(s,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,n,i,r,o){if(i.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var c=[],u=Math.PI/180,h=-i[0].coord*u,d=Math.min(o[0],o[1]),p=Math.max(o[0],o[1]),f=t.get("clockwise"),g=1,m=i.length;g<=m;g++){var v=g===m?i[0].coord:i[g].coord,y=l++%s.length;c[y]=c[y]||[],c[y].push(new Y2({shape:{cx:n.cx,cy:n.cy,r0:d,r:p,startAngle:h,endAngle:-v*u,clockwise:f},silent:!0})),h=-v*u}for(g=0;g<c.length;g++)e.add(X5(c[g],{style:IU({fill:s[g%s.length]},a.getAreaStyle()),silent:!0}))}}},O_e=["splitLine","splitArea","minorSplitLine"],E_e=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return nU(t,e),t.prototype.render=function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this._axisGroup,r=this._axisGroup=new FK;this.group.add(r);var o=e.axis,a=o.polar,s=a.getAngleAxis(),l=o.getTicksCoords(),c=o.getMinorTicksCoords(),u=s.getExtent()[0],h=o.getExtent(),d=function t(e,n,i){return{position:[e.cx,e.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}(a,e,u),p=new $ce(e,n,d);p.build(),r.add(p.group),n3(i,r,e),LU(O_e,function(t){e.get([t,"show"])&&!o.scale.isBlank()&&L_e[t](this.group,e,a,u,h,l,c)},this)}},t.type="radiusAxis",t}(_ue),L_e={splitLine:function(e,t,n,i,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0,c=n.getAngleAxis(),u=Math.PI/180,h=c.getExtent(),d=360===Math.abs(h[1]-h[0])?"Circle":"Arc";s=s instanceof Array?s:[s];for(var p=[],f=0;f<o.length;f++){var g=l++%s.length;p[g]=p[g]||[],p[g].push(new w3[d]({shape:{cx:n.cx,cy:n.cy,r:Math.max(o[f].coord,0),startAngle:-h[0]*u,endAngle:-h[1]*u,clockwise:c.inverse}}))}for(f=0;f<p.length;f++)e.add(X5(p[f],{style:IU({stroke:s[f%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,n,i,r,o,a){if(a.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],c=0;c<a.length;c++)for(var u=0;u<a[c].length;u++)l.push(new E2({shape:{cx:n.cx,cy:n.cy,r:a[c][u].coord}}));e.add(X5(l,{style:IU({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(e,t,n,i,r,o){if(o.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var c=[],u=o[0].coord,h=1;h<o.length;h++){var d=l++%s.length;c[d]=c[d]||[],c[d].push(new Y2({shape:{cx:n.cx,cy:n.cy,r0:u,r:o[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),u=o[h].coord}for(h=0;h<c.length;h++)e.add(X5(c[h],{style:IU({fill:s[h%s.length]},a.getAreaStyle()),silent:!0}))}}};function R_e(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function N_e(e,t){return t.dim+e.model.componentIndex}function P_e(e,t,n){var i={},r=function o(e){var t={};LU(e,function(e,n){var i=e.getData(),r=e.coordinateSystem,o=r.getBaseAxis(),a=N_e(r,o),s=o.getExtent(),l="category"===o.type?o.getBandWidth():Math.abs(s[1]-s[0])/i.count(),c=t[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=c.stacks;t[a]=c;var h=R_e(e);u[h]||c.autoWidthCount++,u[h]=u[h]||{width:0,maxWidth:0};var d=KK(e.get("barWidth"),l),p=KK(e.get("barMaxWidth"),l),f=e.get("barGap"),g=e.get("barCategoryGap");d&&!u[h].width&&(d=Math.min(c.remainedWidth,d),u[h].width=d,c.remainedWidth-=d),p&&(u[h].maxWidth=p),null!=f&&(c.gap=f),null!=g&&(c.categoryGap=g)});var n={};return LU(t,function(e,t){n[t]={};var i=e.stacks,r=e.bandWidth,o=KK(e.categoryGap,r),a=KK(e.gap,1),s=e.remainedWidth,l=e.autoWidthCount,c=(s-o)/(l+(l-1)*a);c=Math.max(c,0),LU(i,function(e,t){var n=e.maxWidth;n&&n<c&&(n=Math.min(n,s),e.width&&(n=Math.min(n,e.width)),s-=n,e.width=n,l--)}),c=(s-o)/(l+(l-1)*a),c=Math.max(c,0);var u,h=0;LU(i,function(e,t){e.width||(e.width=c),u=e,h+=e.width*(1+a)}),u&&(h-=u.width*a);var d=-h/2;LU(i,function(e,i){n[t][i]=n[t][i]||{offset:d,width:e.width},d+=e.width*(1+a)})}),n}(PU(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type}));t.eachSeriesByType(e,function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,o=n.getBaseAxis(),a=N_e(n,o),s=R_e(e),l=r[a][s],c=l.offset,u=l.width,h=n.getOtherAxis(o),d=e.coordinateSystem.cx,p=e.coordinateSystem.cy,f=e.get("barMinHeight")||0,g=e.get("barMinAngle")||0;i[s]=i[s]||[];for(var m=t.mapDimension(h.dim),v=t.mapDimension(o.dim),y=Mie(t,m),b="radius"!==o.dim||!e.get("roundCap",!0),x=h.model.get("startValue"),_=h.dataToCoord(x||0),w=0,S=t.count();w<S;w++){var M=t.get(m,w),k=t.get(v,w),C=M>=0?"p":"n",T=_;y&&(i[s][k]||(i[s][k]={p:_,n:_}),T=i[s][k][C]);var A=void 0,I=void 0,D=void 0,O=void 0;if("radius"===h.dim){var E=h.dataToCoord(M)-_,L=o.dataToCoord(k);Math.abs(E)<f&&(E=(E<0?-1:1)*f),A=T,I=T+E,O=(D=L-c)-u,y&&(i[s][k][C]=I)}else{var R=h.dataToCoord(M,b)-_,N=o.dataToCoord(k);Math.abs(R)<g&&(R=(R<0?-1:1)*g),I=(A=N+c)+u,D=T,O=T+R,y&&(i[s][k][C]=O)}t.setItemLayout(w,{cx:d,cy:p,r0:A,r:I,startAngle:-D*Math.PI/180,endAngle:-O*Math.PI/180,clockwise:D>=O})}}})}var z_e={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},B_e={splitNumber:5},V_e=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="polar",t}(O7);function F_e(e,t){t=t||{};var n=e.coordinateSystem,i=e.axis,r={},o=i.position,a=i.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===a?c.vertical[o]:l[0],"horizontal"===a?c.horizontal[o]:l[3]];r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a];r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],e.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),QU(t.labelInside,e.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var u=e.get(["axisLabel","rotate"]);return r.labelRotate="top"===o?-u:u,r.z2=1,r}var H_e=["splitArea","splitLine","breakArea"],W_e=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="SingleAxisPointer",n}return nU(t,e),t.prototype.render=function(t,n,i,r){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new FK;var s=F_e(t),l=new $ce(t,i,s);l.build(),o.add(this._axisGroup),o.add(l.group),LU(H_e,function(e){t.get([e,"show"])&&$_e[e](this,this.group,this._axisGroup,t,i)},this),n3(a,this._axisGroup,t),e.prototype.render.call(this,t,n,i,r)},t.prototype.remove=function(){Mue(this)},t.type="singleAxis",t}(_ue),$_e={splitLine:function(e,t,n,i,r){var o=i.axis;if(!o.scale.isBlank()){var a=i.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var c=s.get("width"),u=i.coordinateSystem.getRect(),h=o.isHorizontal(),d=[],p=0,f=o.getTicksCoords({tickModel:a,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),g=[],m=[],v=0;v<f.length;++v){var y=o.toGlobalCoord(f[v].coord);h?(g[0]=y,g[1]=u.y,m[0]=y,m[1]=u.y+u.height):(g[0]=u.x,g[1]=y,m[0]=u.x+u.width,m[1]=y);var b=new o5({shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},silent:!0});Z5(b.shape,c);var x=p++%l.length;d[x]=d[x]||[],d[x].push(b)}var _=s.getLineStyle(["color"]);for(v=0;v<d.length;++v)t.add(X5(d[v],{style:IU({stroke:l[v%l.length]},_),silent:!0}))}},splitArea:function(e,t,n,i,r){Sue(e,n,i,i)},breakArea:function(e,t,n,i,r){var o=mce(),a=i.axis.scale;o&&"ordinal"!==a.type&&o.rectCoordBuildBreakAxis(t,e,i,i.coordinateSystem.getRect(),r)}},j_e=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},t}(D6);OU(j_e,Nre.prototype);var G_e=function(e){function t(t,n,i,r,o){var a=e.call(this,t,n,i)||this;return a.type=r||"value",a.position=o||"bottom",a}return nU(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]},t}(foe),U_e=["single"],X_e=function(){function e(e,t,n){this.type="single",this.dimension="single",this.dimensions=U_e,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var i=this.dimension,r=new G_e(i,Cre(e),[0,0],e.get("type"),e.get("position")),o="category"===r.type;r.onBand=o&&e.get("boundaryGap"),r.inverse=e.get("inverse"),r.orient=e.get("orient"),e.axis=r,r.model=e,r.coordinateSystem=this,this._axis=r},e.prototype.update=function(e,t){e.eachSeries(function(e){if(e.coordinateSystem===this){var t=e.getData();LU(t.mapDimensionsAll(this.dimension),function(e){this._axis.scale.unionExtentFromData(t,e)},this),kre(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(e,t){var n=S6(e,t).refContainer;this._rect=x6(e.getBoxLayoutParams(),n),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],r=t.inverse?1:0;t.setExtent(i[r],i[1-r]),this._updateAxisTransform(t,n?e.x:e.y)},e.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),i=n[0]+n[1],r=e.isHorizontal();e.toGlobalCoord=r?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord=r?function(e){return e-t}:function(e){return i-e+t}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},e.prototype.pointToData=function(e,t,n){n=n||[];var i=this.getAxis();return n[0]=i.coordToData(i.toLocalCoord(e["horizontal"===i.orient?0:1])),n},e.prototype.dataToPoint=function(e,t,n){var i=this.getAxis(),r=this.getRect();n=n||[];var o="horizontal"===i.orient?0:1;return e instanceof Array&&(e=e[0]),n[o]=i.toGlobalCoord(i.dataToCoord(+e)),n[1-o]=0===o?r.y+r.height/2:r.x+r.width/2,n},e.prototype.convertToPixel=function(e,t,n){return q_e(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return q_e(t)===this?this.pointToData(n):null},e}();function q_e(e){var t=e.seriesModel,n=e.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}var Y_e={create:function Z_e(e,t){var n=[];return e.eachComponent("singleAxis",function(i,r){var o=new X_e(i,e,t);o.name="single_"+r,o.resize(i,t),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var t=e.getReferringComponents("singleAxis",FJ).models[0];e.coordinateSystem=t&&t.coordinateSystem}}),n},dimensions:U_e},K_e=["x","y"],J_e=["width","height"],Q_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.makeElOption=function(e,t,n,i,r){var o=n.axis,a=o.coordinateSystem,s=nwe(a,1-twe(o)),l=a.dataToPoint(t)[0],c=i.get("type");if(c&&"none"!==c){var u=Nxe(i),h=ewe[c](o,l,s);h.style=u,e.graphicKey=h.type,e.pointer=h}Vxe(t,e,F_e(n),n,i,r)},t.prototype.getHandleTransform=function(e,t,n){var i=F_e(t,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=Bxe(t.axis,e,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,i){var r=n.axis,o=r.coordinateSystem,a=twe(r),s=nwe(o,a),l=[e.x,e.y];l[a]+=t[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var c=nwe(o,1-a),u=(c[1]+c[0])/2,h=[u,u];return h[a]=l[a],{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},t}(Ixe),ewe={line:function(e,t,n){return{type:"Line",subPixelOptimize:!0,shape:Fxe([t,n[0]],[t,n[1]],twe(e))}},shadow:function(e,t,n){var i=e.getBandWidth(),r=n[1]-n[0];return{type:"Rect",shape:Hxe([t-i/2,n[0]],[i,r],twe(e))}}};function twe(e){return e.isHorizontal()?0:1}function nwe(e,t){var n=e.getRect();return[n[K_e[t]],n[K_e[t]]+n[J_e[t]]]}var iwe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="single",t}(O7);var rwe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(t,n,i){var r=T6(t);e.prototype.init.apply(this,arguments),owe(t,r)},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),owe(this.option,t)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.layoutMode="box",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:R6.color.axisLine,width:1,type:"solid"}},itemStyle:{color:R6.color.neutral00,borderWidth:1,borderColor:R6.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:R6.size.s,color:R6.color.secondary},monthLabel:{show:!0,position:"start",margin:R6.size.s,align:"center",formatter:null,color:R6.color.secondary},yearLabel:{show:!0,position:null,margin:R6.size.xl,formatter:null,color:R6.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(D6);function owe(e,t){var n,i=e.cellSize;1===(n=WU(i)?i:e.cellSize=[i,i]).length&&(n[1]=n[0]);var r=RU([0,1],function(e){return function i(e,t){return null!=e[g6[t][0]]||null!=e[g6[t][1]]&&null!=e[g6[t][2]]}(t,e)&&(n[e]="auto"),null!=n[e]&&"auto"!==n[e]});C6(e,t,{type:"box",ignoreSize:r})}var awe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){var i=this.group;i.removeAll();var r=e.coordinateSystem,o=r.getRangeInfo(),a=r.getOrient(),s=t.getLocaleModel();this._renderDayRect(e,o,i),this._renderLines(e,o,a,i),this._renderYearText(e,o,a,i),this._renderMonthText(e,s,a,i),this._renderWeekText(e,s,o,a,i)},t.prototype._renderDayRect=function(e,t,n){for(var i=e.coordinateSystem,r=e.getModel("itemStyle").getItemStyle(),o=i.getCellWidth(),a=i.getCellHeight(),s=t.start.time;s<=t.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToCalendarLayout([s],!1).tl,c=new Y0({shape:{x:l[0],y:l[1],width:o,height:a},cursor:"default",style:r});n.add(c)}},t.prototype._renderLines=function(e,t,n,i){var r=this,o=e.coordinateSystem,a=e.getModel(["splitLine","lineStyle"]).getLineStyle(),s=e.get(["splitLine","show"]),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=t.start,u=0;c.time<=t.end.time;u++){d(c.formatedDate),0===u&&(c=o.getDateInfo(t.start.y+"-"+t.start.m));var h=c.date;h.setMonth(h.getMonth()+1),c=o.getDateInfo(h)}function d(t){r._firstDayOfMonth.push(o.getDateInfo(t)),r._firstDayPoints.push(o.dataToCalendarLayout([t],!1).tl);var l=r._getLinePointsOfOneWeek(e,t,n);r._tlpoints.push(l[0]),r._blpoints.push(l[l.length-1]),s&&r._drawSplitline(l,a,i)}d(o.getNextNDay(t.end.time,1).formatedDate),s&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,l,n),a,i),s&&this._drawSplitline(r._getEdgesPoints(r._blpoints,l,n),a,i)},t.prototype._getEdgesPoints=function(e,t,n){var i=[e[0].slice(),e[e.length-1].slice()],r="horizontal"===n?0:1;return i[0][r]=i[0][r]-t/2,i[1][r]=i[1][r]+t/2,i},t.prototype._drawSplitline=function(e,t,n){var i=new n5({z2:20,shape:{points:e},style:t});n.add(i)},t.prototype._getLinePointsOfOneWeek=function(e,t,n){for(var i=e.coordinateSystem,r=i.getDateInfo(t),o=[],a=0;a<7;a++){var s=i.getNextNDay(r.time,a),l=i.dataToCalendarLayout([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return o},t.prototype._formatterLabel=function(e,t){return jU(e)&&e?function n(e,t,i){return LU(t,function(t,n){e=e.replace("{"+n+"}",t)}),e}(e,t):$U(e)?e(t):t.nameMap},t.prototype._yearTextPositionControl=function(e,t,n,i,r){var o=t[0],a=t[1],s=["center","bottom"];"bottom"===i?(a+=r,s=["center","top"]):"left"===i?o-=r:"right"===i?(o+=r,s=["center","top"]):a-=r;var l=0;return"left"!==i&&"right"!==i||(l=Math.PI/2),{rotation:l,x:o,y:a,style:{align:s[0],verticalAlign:s[1]}}},t.prototype._renderYearText=function(e,t,n,i){var r=e.getModel("yearLabel");if(r.get("show")){var o=r.get("margin"),a=r.get("position");a||(a="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,c=(s[0][1]+s[1][1])/2,u="horizontal"===n?0:1,h={top:[l,s[u][1]],bottom:[l,s[1-u][1]],left:[s[1-u][0],c],right:[s[u][0],c]},d=t.start.y;+t.end.y>+t.start.y&&(d=d+"-"+t.end.y);var p=r.get("formatter"),f={start:t.start.y,end:t.end.y,nameMap:d},g=this._formatterLabel(p,f),m=new Q0({z2:30,style:E3(r,{text:g}),silent:r.get("silent")});m.attr(this._yearTextPositionControl(m,h[a],n,a,o)),i.add(m)}},t.prototype._monthTextPositionControl=function(e,t,n,i,r){var o="left",a="top",s=e[0],l=e[1];return"horizontal"===n?(l+=r,t&&(o="center"),"start"===i&&(a="bottom")):(s+=r,t&&(a="middle"),"start"===i&&(o="right")),{x:s,y:l,align:o,verticalAlign:a}},t.prototype._renderMonthText=function(e,t,n,i){var r=e.getModel("monthLabel");if(r.get("show")){var o=r.get("nameMap"),a=r.get("margin"),s=r.get("position"),l=r.get("align"),c=[this._tlpoints,this._blpoints];o&&!jU(o)||(o&&(t=h4(o)||t),o=t.get(["time","monthAbbr"])||[]);var u="start"===s?0:1,h="horizontal"===n?0:1;a="start"===s?-a:a;for(var d="center"===l,p=r.get("silent"),f=0;f<c[u].length-1;f++){var g=c[u][f].slice(),m=this._firstDayOfMonth[f];if(d){var v=this._firstDayPoints[f];g[h]=(v[h]+c[0][f+1][h])/2}var y=r.get("formatter"),b=o[+m.m-1],x={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:b},_=this._formatterLabel(y,x),w=new Q0({z2:30,style:AU(E3(r,{text:_}),this._monthTextPositionControl(g,d,n,s,a)),silent:p});i.add(w)}}},t.prototype._weekTextPositionControl=function(e,t,n,i,r){var o="center",a="middle",s=e[0],l=e[1],c="start"===n;return"horizontal"===t?(s=s+i+(c?1:-1)*r[0]/2,o=c?"right":"left"):(l=l+i+(c?1:-1)*r[1]/2,a=c?"bottom":"top"),{x:s,y:l,align:o,verticalAlign:a}},t.prototype._renderWeekText=function(e,t,n,i,r){var o=e.getModel("dayLabel");if(o.get("show")){var a=e.coordinateSystem,s=o.get("position"),l=o.get("nameMap"),c=o.get("margin"),u=a.getFirstDayOfWeek();if(!l||jU(l))l&&(t=h4(l)||t),l=t.get(["time","dayOfWeekShort"])||RU(t.get(["time","dayOfWeekAbbr"]),function(e){return e[0]});var h=a.getNextNDay(n.end.time,7-n.lweek).time,d=[a.getCellWidth(),a.getCellHeight()];c=KK(c,Math.min(d[1],d[0])),"start"===s&&(h=a.getNextNDay(n.start.time,-(7+n.fweek)).time,c=-c);for(var p=o.get("silent"),f=0;f<7;f++){var g,m=a.getNextNDay(h,f),v=a.dataToCalendarLayout([m.time],!1).center;g=Math.abs((f+u)%7);var y=new Q0({z2:30,style:AU(E3(o,{text:l[g]}),this._weekTextPositionControl(v,i,s,c,d)),silent:p});r.add(y)}}},t.type="calendar",t}(O7),swe=864e5,lwe=function(){function e(t,n,i){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t,this._update(n,i)}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(e){var t=(e=cJ(e)).getFullYear(),n=e.getMonth()+1,i=n<10?"0"+n:""+n,r=e.getDate(),o=r<10?"0"+r:""+r,a=e.getDay();return{y:t+"",m:i,d:o,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+i+"-"+o,date:e}},e.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},e.prototype._update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],r=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),a="horizontal"===this._orient?[n,7]:[7,n];LU([0,1],function(e){c(r,e)&&(o[i[e]]=r[e]*a[e])});var s={width:t.getWidth(),height:t.getHeight()},l=this._rect=x6(o,s);function c(e,t){return null!=e[t]&&"auto"!==e[t]}LU([0,1],function(e){c(r,e)||(r[e]=l[i[e]]/a[e])}),this._sw=r[0],this._sh=r[1]},e.prototype.dataToPoint=function(e,t,n){n=n||[],WU(e)&&(e=e[0]),null==t&&(t=!0);var i=this.getDateInfo(e),r=this._rangeInfo,o=i.formatedDate;if(t&&!(i.time>=r.start.time&&i.time<r.end.time+swe))return n[0]=n[1]=NaN,n;var a=i.day,s=this._getRangeInfo([r.start.time,o]).nthWeek;return"vertical"===this._orient?(n[0]=this._rect.x+a*this._sw+this._sw/2,n[1]=this._rect.y+s*this._sh+this._sh/2):(n[0]=this._rect.x+s*this._sw+this._sw/2,n[1]=this._rect.y+a*this._sh+this._sh/2),n},e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},e.prototype.dataToLayout=function(e,t,n){var i=(n=n||{}).rect=n.rect||{},r=n.contentRect=n.contentRect||{},o=this.dataToPoint(e,t);return i.x=o[0]-this._sw/2,i.y=o[1]-this._sh/2,i.width=this._sw,i.height=this._sh,Rq.copy(r,i),l3(r,this._lineWidth/2,!0,!0),n},e.prototype.dataToCalendarLayout=function(e,t){var n=this.dataToPoint(e,t);return{center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},e.prototype.convertToPixel=function(e,t,n){var i=cwe(t);return i===this?i.dataToPoint(n):null},e.prototype.convertToLayout=function(e,t,n){var i=cwe(t);return i===this?i.dataToLayout(n):null},e.prototype.convertFromPixel=function(e,t,n){var i=cwe(t);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(e){return!1},e.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(WU(t)&&1===t.length&&(t=t[0]),WU(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),r=i.date;r.setMonth(r.getMonth()+1);var o=this.getNextNDay(r,-1);e=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var a=this._getRangeInfo(e);return a.start.time>a.end.time&&e.reverse(),e},e.prototype._getRangeInfo=function(e){var t,n=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];n[0].time>n[1].time&&(t=!0,n.reverse());var i=Math.floor(n[1].time/swe)-Math.floor(n[0].time/swe)+1,r=new Date(n[0].time),o=r.getDate(),a=n[1].date.getDate();r.setDate(o+i-1);var s=r.getDate();if(s!==a)for(var l=r.getTime()-n[1].time>0?1:-1;(s=r.getDate())!==a&&(r.getTime()-n[1].time)*l>0;)i-=l,r.setDate(s-l);var c=Math.floor((i+n[0].day+6)/7),u=t?1-c:c-1;return t&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:c,nthWeek:u,fweek:n[0].day,lweek:n[1].day}},e.prototype._getDateByWeeksAndDay=function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||0===e&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var r=7*(e-1)-i.fweek+t,o=new Date(i.start.time);return o.setDate(+i.start.d+r),this.getDateInfo(o)},e.create=function(t,n){var i=[];return t.eachComponent("calendar",function(r){var o=new e(r,t,n);i.push(o),r.coordinateSystem=o}),t.eachComponent(function(e,t){h6({targetModel:t,coordSysType:"calendar",coordSysProvider:d6})}),i},e.dimensions=["time","value"],e}();function cwe(e){var t=e.calendarModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem:null}var uwe=1,hwe=2,dwe=3,pwe={none:0,all:1,body:2,corner:3};function fwe(e,t,n){var i=t[B5[n]].getCell(e);return!i&&UU(e)&&e<0&&(i=t[B5[1-n]].getUnitLayoutInfo(n,Math.round(e))),i}function gwe(e){var t=e||[];return t[0]=t[0]||[],t[1]=t[1]||[],t[0][0]=t[0][1]=t[1][0]=t[1][1]=NaN,t}function mwe(e,t,n,i,r){vwe(e[0],t,r,n,i,0),vwe(e[1],t,r,n,i,1)}function vwe(e,t,n,i,r,o){e[0]=1/0,e[1]=-1/0;var a=i[o],s=WU(a)?a:[a],l=s.length,c=!!n;if(l>=1?(ywe(e,t,s,c,r,o,0),l>1&&ywe(e,t,s,c,r,o,l-1)):e[0]=e[1]=NaN,c){var u=-r[B5[1-o]].getLocatorCount(o),h=r[B5[o]].getLocatorCount(o)-1;n===pwe.body?u=qK(0,u):n===pwe.corner&&(h=XK(-1,h)),h<u&&(u=h=NaN),JU(e[0])&&(e[0]=u),JU(e[1])&&(e[1]=h),e[0]=qK(XK(e[0],h),u),e[1]=qK(XK(e[1],h),u)}}function ywe(e,t,n,i,r,o,a){var s=fwe(n[a],r,o);if(s){var l=s.id[B5[o]],c=l,u=function t(e){return!e||e.type!==hwe&&e.type!==dwe?null:e}(s);u&&(c+=u.span[B5[o]]-1),e[0]=XK(e[0],l,c),e[1]=qK(e[1],l,c)}else e[0]=e[1]=NaN}function bwe(e,t){return JU(e[t][0])||JU(e[t][1])}function xwe(e,t,n,i){t=t||_we;for(var r=0;r<i;r++)t[r]=!1;for(;;){var o=!1;for(r=0;r<i;r++){var a=n[r];!t[r]&&a.cellMergeOwner&&wwe(e,a.locatorRange)&&(t[r]=!0,o=!0)}if(!o)break}}var _we=[];function wwe(e,t){return!(!Swe(e[0],t[0])||!Swe(e[1],t[1]))&&(e[0][0]=XK(e[0][0],t[0][0]),e[0][1]=qK(e[0][1],t[0][1]),e[1][0]=XK(e[1][0],t[1][0]),e[1][1]=qK(e[1][1],t[1][1]),!0)}function Swe(e,t){return e[1]>=t[0]&&e[0]<=t[1]}function Mwe(e,t){e.id.set(t[0][0],t[1][0]),e.span.set(t[0][1]-e.id.x+1,t[1][1]-e.id.y+1)}function kwe(e,t,n,i){var r=fwe(t[i][0],n,i),o=fwe(t[i][1],n,i);e[B5[i]]=e[V5[i]]=NaN,r&&o&&(e[B5[i]]=r.xy,e[V5[i]]=o.xy+o.wh-r.xy)}function Cwe(e,t,n,i){return e[B5[t]]=n,e[B5[1-t]]=i,e}var Twe=function(){function e(e,t){this._cells=[],this._levels=[],this.dim=e,this.dimIdx="x"===e?0:1,this._model=t,this._uniqueValueGen=function n(e){var t=e.toUpperCase(),n=new RegExp("^"+t+"([0-9]+)$"),i=0;function r(e){var t;null!=e&&(t=e.match(n))&&(i=qK(i,+t[1]+1))}function o(){return""+t+i++}function a(e,t){for(var n=dX(),i=0;i<e.length;i++){var r=e[i];null!=r&&null==n.get(r)||(e[i]=r=o(),t[i].option=IU({value:r},t[i].option)),n.set(r,!0)}}return{calcDupBase:r,ensureValueUnique:a}}(e);var i=t.get("data",!0);null==i||WU(i)||(i=[]),i?this._initByDimModelData(i):this._initBySeriesData()}return e.prototype._initByDimModelData=function(e){var t=this,n=t._cells,i=t._levels,r=[],o=0;return t._leavesCount=function e(n,a,s){var l=0;if(!n)return l;return LU(n,function(n,c){var u;jU(n)?u={value:n}:XU(n)?(u=n,null==n.value||jU(n.value)||(u={value:null})):u={value:null};var h={type:dwe,ordinal:NaN,level:s,firstLeafLocator:a,id:new xq,span:Cwe(new xq,t.dimIdx,1,1),option:u,xy:NaN,wh:NaN,dim:t,rect:{x:NaN,y:NaN,width:NaN,height:NaN}};o++,(r[a]||(r[a]=[])).push(h),i[s]||(i[s]={type:uwe,xy:NaN,wh:NaN,option:null,id:new xq,dim:t});var d=e(u.children,a,s+1),p=Math.max(1,d);h.span[B5[t.dimIdx]]=p,l+=p,a+=p}),l}(e,0,0),void function a(){var e=[];for(;n.length<o;)for(var i=0;i<r.length;i++){var a=r[i].pop();if(a){a.ordinal=e.length;var s=a.option.value;e.push(s),n.push(a),t._uniqueValueGen.calcDupBase(s)}}t._uniqueValueGen.ensureValueUnique(e,n);var l=t._ordinalMeta=new Vie({categories:e,needCollect:!1,deduplication:!1});t._scale=new Hie({ordinalMeta:l});for(var c=0;c<t._leavesCount;c++){var u=t._cells[c];u.type=hwe,u.span[B5[1-t.dimIdx]]=t._levels.length-u.level}t._initCellsId(),t._initLevelIdOptions()}()},e.prototype._initBySeriesData=function(){var e=this;e._leavesCount=0,e._levels=[{type:uwe,xy:NaN,wh:NaN,option:null,id:new xq,dim:e}],e._initLevelIdOptions();var t=e._ordinalMeta=new Vie({needCollect:!0,deduplication:!0,onCollect:function(t,n){var i=e._cells[n]={type:hwe,ordinal:n,level:0,firstLeafLocator:n,id:new xq,span:Cwe(new xq,e.dimIdx,1,1),option:{value:t+""},xy:NaN,wh:NaN,dim:e,rect:{x:NaN,y:NaN,width:NaN,height:NaN}};e._leavesCount++,e._setCellId(i)}});e._scale=new Hie({ordinalMeta:t})},e.prototype._setCellId=function(e){var t=this._levels.length,n=this.dimIdx;Cwe(e.id,n,e.firstLeafLocator,e.level-t)},e.prototype._initCellsId=function(){var e=this._levels.length,t=this.dimIdx;LU(this._cells,function(n){Cwe(n.id,t,n.firstLeafLocator,n.level-e)})},e.prototype._initLevelIdOptions=function(){var e=this._levels.length,t=this.dimIdx,n=this._model.get("levels",!0);n=WU(n)?n:[],LU(this._levels,function(i,r){Cwe(i.id,t,0,r-e),i.option=n[r]})},e.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},e.prototype.resetLayoutIterator=function(e,t,n,i){if(e=e||new UJ,t===this.dimIdx){var r=this._leavesCount,o=null!=n?Math.max(0,n):0;i=null!=i?Math.min(i,r):r,e.reset(this._cells,o,o+i)}else{r=this._levels.length,o=null!=n?Math.max(0,n+r):0;i=null!=i?Math.min(i,r):r,e.reset(this._levels,o,o+i)}return e},e.prototype.resetCellIterator=function(e){return(e||new UJ).reset(this._cells,0)},e.prototype.resetLevelIterator=function(e){return(e||new UJ).reset(this._levels,0)},e.prototype.getLayout=function(e,t,n){var i=this.getUnitLayoutInfo(t,n);e[B5[t]]=i?i.xy:NaN,e[V5[t]]=i?i.wh:NaN},e.prototype.getUnitLayoutInfo=function(e,t){return e===this.dimIdx?t<this._leavesCount?this._cells[t]:void 0:this._levels[t+this._levels.length]},e.prototype.getCell=function(e){var t=this._scale.parse(e);return JU(t)?void 0:this._cells[t]},e.prototype.getLocatorCount=function(e){return e===this.dimIdx?this._leavesCount:this._levels.length},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e}();var Awe=function(){function e(e,t,n){this._model=t,this._dims=n,this._kind=e,this._cellMergeOwnerList=[]}return e.prototype._ensureCellMap=function(){var e=this,t=e._cellMap;return t||(t=e._cellMap=dX(),function n(){var t=[],n=e._model.getShallow("data");n&&!WU(n)&&(n=null);LU(n,function(n,i){if(XU(n)&&WU(n.coord)){var r=gwe([]);if(mwe(r,null,n.coord,e._dims,n.coordClamp?pwe[e._kind]:pwe.none),!bwe(r,0)&&!bwe(r,1)){var o=n&&n.mergeCells,a={id:new xq,span:new xq,locatorRange:r,option:n,cellMergeOwner:o};Mwe(a,r),t.push(a)}}});for(var r=[],o=0;o<t.length;o++){var a=t[o];if(a.cellMergeOwner){var s=a.locatorRange;xwe(s,r,t,o);for(var l=0;l<o;l++)r[l]&&(t[l].cellMergeOwner=!1);if(s[0][0]!==a.id.x||s[1][0]!==a.id.y){a.cellMergeOwner=!1;var c=AU({},a.option);c.coord=null;var u={id:new xq,span:new xq,locatorRange:s,option:c,cellMergeOwner:!0};Mwe(u,s),t.push(u)}}}LU(t,function(t){var n=i(t.id.x,t.id.y);if(t.cellMergeOwner&&(n.cellMergeOwner=!0,n.span=t.span,n.locatorRange=t.locatorRange,n.spanRect={x:NaN,y:NaN,width:NaN,height:NaN},e._cellMergeOwnerList.push(n)),t.cellMergeOwner||t.option)for(var r=0;r<t.span.y;r++)for(var o=0;o<t.span.x;o++){var a=i(t.id.x+o,t.id.y+r);a.option=t.option,t.cellMergeOwner&&(a.inSpanOf=n)}})}()),t;function i(e,n){var i=Dwe(e,n),r=t.get(i);return r||(r=t.set(i,{id:new xq(e,n),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),r}},e.prototype.getCell=function(e){return this._ensureCellMap().get(Dwe(e[0],e[1]))},e.prototype.travelExistingCells=function(e){this._ensureCellMap().each(e)},e.prototype.expandRangeByCellMerge=function(e){if(!bwe(e,0)&&!bwe(e,1)&&e[0][0]===e[0][1]&&e[1][0]===e[1][1]){Iwe[0]=e[0][0],Iwe[1]=e[1][0];var t=this.getCell(Iwe),n=t&&t.inSpanOf;if(n)return void function i(e,t){e[0][0]=t[0][0],e[0][1]=t[0][1],e[1][0]=t[1][0],e[1][1]=t[1][1]}(e,n.locatorRange)}var i=this._cellMergeOwnerList;xwe(e,null,i,i.length)},e}(),Iwe=[];function Dwe(e,t){return e+"|"+t}var Owe={show:!0,color:R6.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function Ewe(e){return{color:"none",borderWidth:1,borderColor:e?"none":R6.color.borderTint}}var Lwe={show:!0,label:Owe,itemStyle:Ewe(!1),silent:void 0,dividerLineStyle:{width:1,color:R6.color.border}},Rwe={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:Lwe,y:Lwe,body:{label:Owe,itemStyle:Ewe(!1),silent:void 0},corner:{label:Owe,itemStyle:Ewe(!0),silent:void 0},backgroundStyle:{color:"none",borderColor:R6.color.axisLine,borderWidth:1}},Nwe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.optionUpdated=function(){var e=this._dimModels={x:new Pwe(this.get("x",!0)||{}),y:new Pwe(this.get("y",!0)||{})};e.x.option.type=e.y.option.type="category";var t={x:e.x.dim=new Twe("x",e.x),y:e.y.dim=new Twe("y",e.y)};this._body=new Awe("body",new Q3(this.getShallow("body")),t),this._corner=new Awe("corner",new Q3(this.getShallow("corner")),t)},t.prototype.getDimensionModel=function(e){return this._dimModels[e]},t.prototype.getBody=function(){return this._body},t.prototype.getCorner=function(){return this._corner},t.type="matrix",t.layoutMode="box",t.defaultOption=Rwe,t}(D6),Pwe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},t}(Q3),zwe=Math.round,Bwe={normal:25,special:100},Vwe={normal:50,special:125},Fwe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t){this.group.removeAll();var n=this.group,i=e.coordinateSystem.getRect(),r=e.getDimensionModel("x"),o=e.getDimensionModel("y"),a=r.dim,s=o.dim;!function l(e,t,n){function i(i){var r=t.getDimensionModel(B5[i]),o=r.dim;if(o.shouldShow())for(var a=r.getModel("itemStyle"),s=r.getModel("label"),l=t.getShallow("tooltip",!0),c=[],u=o.resetCellIterator();u.next();){var h=u.item,d={};Rq.copy(d,h.rect),MX(c,h.id.x,h.id.y),Hwe(c,t,e,n,h.option,a,s,r,d,h.option.value,Vwe,l)}}i(0),i(1)}(n,e,t),function c(e,t,n,i,r){o("body",t.getBody(),n,i),n.shouldShow()&&i.shouldShow()&&o("corner",t.getCorner(),i,n);function o(n,i,o,a){var s=new Q3(t.getShallow(n,!0)),l=s.getModel("itemStyle"),c=s.getModel("label"),u=new UJ,h=new UJ,d=[],p=t.getShallow("tooltip",!0);for(a.resetLayoutIterator(h,1);h.next();)for(o.resetLayoutIterator(u,0);u.next();){var f=u.item,g=h.item;MX(d,f.id.x,g.id.y);var m=i.getCell(d);if(!m||!m.inSpanOf||m.inSpanOf===m){var v={};m&&m.span?Rq.copy(v,m.spanRect):(f.dim.getLayout(v,0,d[0]),g.dim.getLayout(v,1,d[1]));var y=m?m.option:null;Hwe(d,t,e,r,y,l,c,s,v,y?y.value:null,Bwe,p)}}}}(n,e,a,s,t);var u=eX(e.getShallow("borderZ2",!0),99),h=u-1,d=e.getModel("backgroundStyle").getItemStyle(["borderWidth"]);d.lineWidth=0;var p=e.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);p.fill="none";var f=Uwe(i.clone(),d,0),g=Uwe(i.clone(),p,u);f.silent=!0,g.silent=!0,n.add(f),n.add(g);var m=a.getUnitLayoutInfo(0,0),v=s.getUnitLayoutInfo(1,0);m&&v&&(a.shouldShow()&&n.add(Xwe({x1:i.x,y1:v.xy,x2:i.x+i.width,y2:v.xy},r.getModel("dividerLineStyle").getLineStyle(),h)),s.shouldShow()&&n.add(Xwe({x1:m.xy,y1:i.y,x2:m.xy,y2:i.y+i.height},o.getModel("dividerLineStyle").getLineStyle(),h)))},t.type="matrix",t}(O7);function Hwe(e,t,n,i,r,o,a,s,l,c,u,h){var d;$we.option=r?r.itemStyle:null,$we.parentModel=o,Wwe.option=r,Wwe.parentModel=s;var p=eX(Wwe.getShallow("z2"),r&&r.itemStyle?u.special:u.normal),f=h&&h.show,g=Uwe(l,$we.getItemStyle(),p);n.add(g);var m,v=Wwe.get("cursor");if(null!=v&&g.attr("cursor",v),null!=c){var y=c+"";if(jwe.option=r?r.label:null,jwe.parentModel=a,jwe.ecModel=i,D3(g,{normal:jwe},{defaultText:y,autoOverflowArea:!0,layoutRect:kU(g.shape)}),m=g.getTextContent()){m.z2=p+1;var b=m.style;if(b&&b.overflow&&"none"!==b.overflow&&b.lineOverflow){var x={};Rq.copy(x,l),l3(x,((null===(d=g.style)||void 0===d?void 0:d.lineWidth)||0)/2,!0,!0),g.updateInnerText(),m.getLocalTransform(Gwe),bq(Gwe,Gwe),Rq.applyTransform(x,x,Gwe),m.setClipPath(new Y0({shape:x}))}}h3({el:g,componentModel:t,itemName:y,itemTooltipOption:h,formatterParamsExtra:{xyLocator:e.slice()}})}if(m){var _=jwe.get("silent");null==_&&(_=!f),m.silent=_,m.ignoreHostSilent=!0}var w=Wwe.get("silent");null==w&&(w=!g.style||"none"===g.style.fill||!g.style.fill),g.silent=w,XJ(Wwe),XJ($we),XJ(jwe)}var Wwe=new Q3,$we=new Q3,jwe=new Q3,Gwe=[];function Uwe(e,t,n){var i=t.lineWidth;if(i){var r=e.x+e.width,o=e.y+e.height;e.x=U0(e.x,i,!0),e.y=U0(e.y,i,!0),e.width=U0(r,i,!0)-e.x,e.height=U0(o,i,!0)-e.y}return new Y0({shape:e,style:t,z2:n})}function Xwe(e,t,n){var i=t.lineWidth;return i&&(zwe(2*e.x1)===zwe(2*e.x2)&&(e.x1=e.x2=U0(e.x1,i,!0)),zwe(2*e.y1)===zwe(2*e.y2)&&(e.y1=e.y2=U0(e.y1,i,!0))),new o5({shape:e,style:t,silent:!0,z2:n})}var qwe=function(){function e(t,n,i){this.dimensions=e.dimensions,this.type="matrix",this._model=t;var r=this._dimModels={x:t.getDimensionModel("x"),y:t.getDimensionModel("y")};this._dims={x:r.x.dim,y:r.y.dim},this._resize(t,i)}return e.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},e.create=function(t,n){var i=[];return t.eachComponent("matrix",function(r){var o=new e(r,t,n);i.push(o),r.coordinateSystem=o}),t.eachComponent(function(e,t){h6({targetModel:t,coordSysType:"matrix",coordSysProvider:d6})}),i},e.prototype.getRect=function(){return this._rect},e.prototype._resize=function(e,t){var n=this._dims,i=this._dimModels,r=this._rect=x6(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});Jwe(i,n,r,0),Jwe(i,n,r,1),Qwe(0,n),Qwe(1,n),eSe(this._model.getBody(),n),eSe(this._model.getCorner(),n)},e.prototype.dataToPoint=function(e,t,n){return n=n||[],this.dataToLayout(e,t,Ywe),n[0]=Ywe.rect.x+Ywe.rect.width/2,n[1]=Ywe.rect.y+Ywe.rect.height/2,n},e.prototype.dataToLayout=function(e,t,n){var i=this._dims,r=(n=n||{}).rect=n.rect||{};r.x=r.y=r.width=r.height=NaN;var o=n.matrixXYLocatorRange=gwe(n.matrixXYLocatorRange);return WU(e)?(mwe(o,null,e,i,eX(t&&t.clamp,pwe.none)),t&&t.ignoreMergeCells||(t&&t.clamp===pwe.corner||this._model.getBody().expandRangeByCellMerge(o),t&&t.clamp===pwe.body||this._model.getCorner().expandRangeByCellMerge(o)),kwe(r,o,i,0),kwe(r,o,i,1),n):n},e.prototype.pointToData=function(e,t,n){var i=this._dims;return aSe(oSe,0,i,e,t&&t.clamp),aSe(oSe,1,i,e,t&&t.clamp),(n=n||[])[0]=n[1]=NaN,oSe.y===rSe.inCorner&&oSe.x===rSe.inBody?sSe(oSe,n,0,i):oSe.x===rSe.inCorner&&oSe.y===rSe.inBody?sSe(oSe,n,1,i):(lSe(oSe,n,0,i),lSe(oSe,n,1,i)),n},e.prototype.convertToPixel=function(e,t,n,i){var r=iSe(t);return r===this?r.dataToPoint(n,i):void 0},e.prototype.convertToLayout=function(e,t,n,i){var r=iSe(t);return r===this?r.dataToLayout(n,i):void 0},e.prototype.convertFromPixel=function(e,t,n,i){var r=iSe(t);return r===this?r.pointToData(n,i):void 0},e.prototype.containPoint=function(e){return this._rect.contain(e[0],e[1])},e.dimensions=["x","y","value"],e}(),Ywe={rect:{x:NaN,y:NaN,width:NaN,height:NaN}},Zwe=new UJ,Kwe=new UJ;function Jwe(e,t,n,i){for(var r=1-i,o=t[B5[i]],a=t[B5[r]],s=a.shouldShow(),l=o.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var c=a.resetLayoutIterator(null,i);c.next();)c.item.wh=c.item.xy=NaN;for(var u=n[V5[i]],h=o.getLocatorCount(i)+a.getLocatorCount(i),d=new Q3,p=a.resetLevelIterator();p.next();)d.option=p.item.option,d.parentModel=e[B5[r]],m(p.item,s?d.get("levelSize"):0);for(var f=new Q3,g=o.resetCellIterator();g.next();)g.item.type===hwe&&(f.option=g.item.option,f.parentModel=void 0,m(g.item,f.get("size")));function m(e,t){var r=function o(e,t,n){var i=QK(e,n[V5[t]]);return nSe(i,n[V5[t]])}(t,i,n);JU(r)||(e.wh=nSe(r,u),u=nSe(u-e.wh),h--)}var v=h?u/h:0,y=!h&&u>=1,b=n[B5[i]],x=o.getLocatorCount(i)-1,_=new UJ;for(a.resetLayoutIterator(_,i);_.next();)w(_.item);for(o.resetLayoutIterator(_,i);_.next();)w(_.item);function w(e){JU(e.wh)&&(e.wh=v),e.xy=b,e.id[B5[i]]!==x||y||(e.wh=n[B5[i]]+n[V5[i]]-e.xy),b+=e.wh}}function Qwe(e,t){for(var n=t[B5[e]].resetCellIterator();n.next();){var i=n.item;tSe(i.rect,e,i.id,i.span,t),tSe(i.rect,1-e,i.id,i.span,t),i.type===dwe&&(i.xy=i.rect[B5[e]],i.wh=i.rect[V5[e]])}}function eSe(e,t){e.travelExistingCells(function(e){var n=e.span;if(n){var i=e.spanRect,r=e.id;tSe(i,0,r,n,t),tSe(i,1,r,n,t)}})}function tSe(e,t,n,i,r){e[V5[t]]=0;var o=n[B5[t]]<0?r[B5[1-t]]:r[B5[t]],a=o.getUnitLayoutInfo(t,n[B5[t]]);if(e[B5[t]]=a.xy,e[V5[t]]=a.wh,i[B5[t]]>1){var s=o.getUnitLayoutInfo(t,n[B5[t]]+i[B5[t]]-1);e[V5[t]]=s.xy+s.wh-a.xy}}function nSe(e,t){return Math.max(Math.min(e,eX(t,1/0)),0)}function iSe(e){var t=e.matrixModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem:null}var rSe={inBody:1,inCorner:2,outside:3},oSe={x:null,y:null,point:[]};function aSe(e,t,n,i,r){var o=n[B5[t]],a=n[B5[1-t]],s=o.getUnitLayoutInfo(t,o.getLocatorCount(t)-1),l=o.getUnitLayoutInfo(t,0),c=a.getUnitLayoutInfo(t,-a.getLocatorCount(t)),u=a.shouldShow()?a.getUnitLayoutInfo(t,-1):null,h=e.point[t]=i[t];if(l||u)if(r!==pwe.body)if(r!==pwe.corner){var d=l?l.xy:u?u.xy+u.wh:NaN,p=c?c.xy:d,f=s?s.xy+s.wh:d;if(h<p){if(!r)return void(e[B5[t]]=rSe.outside);h=p}else if(h>f){if(!r)return void(e[B5[t]]=rSe.outside);h=f}e.point[t]=h,e[B5[t]]=d<=h&&h<=f?rSe.inBody:p<=h&&h<=d?rSe.inCorner:rSe.outside}else u?(e[B5[t]]=rSe.inCorner,h=XK(u.xy+u.wh,qK(c.xy,h)),e.point[t]=h):e[B5[t]]=rSe.outside;else l?(e[B5[t]]=rSe.inBody,h=XK(s.xy+s.wh,qK(l.xy,h)),e.point[t]=h):e[B5[t]]=rSe.outside;else e[B5[t]]=rSe.outside}function sSe(e,t,n,i){var r=1-n;if(e[B5[n]]!==rSe.outside)for(i[B5[n]].resetCellIterator(Kwe);Kwe.next();){var o=Kwe.item;if(uSe(e.point[n],o.rect,n)&&uSe(e.point[r],o.rect,r))return t[n]=o.ordinal,void(t[r]=o.id[B5[r]])}}function lSe(e,t,n,i){if(e[B5[n]]!==rSe.outside)for((e[B5[n]]===rSe.inCorner?i[B5[1-n]]:i[B5[n]]).resetLayoutIterator(Zwe,n);Zwe.next();)if(cSe(e.point[n],Zwe.item))return void(t[n]=Zwe.item.id[B5[n]])}function cSe(e,t){return t.xy<=e&&e<=t.xy+t.wh}function uSe(e,t,n){return t[B5[n]]<=e&&e<=t[B5[n]]+t[V5[n]]}function hSe(e,t){var n;return LU(t,function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)}),n}var dSe=["transition","enterFrom","leaveTo"],pSe=dSe.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function fSe(e,t,n){if(n&&(!e[n]&&t[n]&&(e[n]={}),e=e[n],t=t[n]),e&&t)for(var i=n?dSe:pSe,r=0;r<i.length;r++){var o=i[r];null==e[o]&&null!=t[o]&&(e[o]=t[o])}}var gSe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return nU(t,e),t.prototype.mergeOption=function(t,n){var i=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,t,n),this.option.elements=i},t.prototype.optionUpdated=function(e,t){var n=this.option,i=(t?n:e).elements,r=n.elements=t?[]:n.elements,o=[];this._flatten(i,o,null);var a=IJ(r,o,"normalMerge"),s=this._elOptionsToUpdate=[];LU(a,function(e,t){var n=e.newOption;n&&(s.push(n),function i(e,t){var n=e.existing;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var i=t.parentOption;i?t.parentId=i.id:n&&(t.parentId=n.parentId)}t.parentOption=null}(e,n),function o(e,t,n){var i=AU({},n),r=e[t],o=n.$action||"merge";"merge"===o?r?(CU(r,i,!0),C6(r,i,{ignoreSize:!0}),A6(n,r),fSe(n,r),fSe(n,r,"shape"),fSe(n,r,"style"),fSe(n,r,"extra"),n.clipPath=r.clipPath):e[t]=i:"replace"===o?e[t]=i:"remove"===o&&r&&(e[t]=null)}(r,t,n),function a(e,t){if(e&&(e.hv=t.hv=[hSe(t,["left","right"]),hSe(t,["top","bottom"])],"group"===e.type)){var n=e,i=t;null==n.width&&(n.width=i.width=0),null==n.height&&(n.height=i.height=0)}}(r[t],n))},this),n.elements=PU(r,function(e){return e&&delete e.$action,null!=e})},t.prototype._flatten=function(e,t,n){LU(e,function(e){if(e){n&&(e.parentOption=n),t.push(e);var i=e.children;i&&i.length&&this._flatten(i,t,e),delete e.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(D6),mSe={path:null,compoundPath:null,group:FK,image:W0,text:Q0},vSe=PJ(),ySe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(){this._elMap=dX()},t.prototype.render=function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},t.prototype._updateElements=function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,i=this.group,r=e.get("z"),o=e.get("zlevel");LU(t,function(t){var a=EJ(t.id,null),s=null!=a?n.get(a):null,l=EJ(t.parentId,null),c=null!=l?n.get(l):i,u=t.type,h=t.style;"text"===u&&h&&t.hv&&t.hv[1]&&(h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null);var d=t.textContent,p=t.textConfig;if(h&&xbe(h,u,!!p,!!d)){var f=_be(h,u,!0);!p&&f.textConfig&&(p=t.textConfig=f.textConfig),!d&&f.textContent&&(d=f.textContent)}var g=function m(e){return e=AU({},e),LU(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(f6),function(t){delete e[t]}),e}(t),v=t.$action||"merge",y="merge"===v,b="replace"===v;if(y){var x=s;(T=!s)?x=xSe(a,c,t.type,n):(x&&(vSe(x).isNew=!1),Wbe(x)),x&&(Dbe(x,g,e,{isInit:T}),wSe(x,t,r,o))}else if(b){_Se(s,t,n,e);var _=xSe(a,c,t.type,n);_&&(Dbe(_,g,e,{isInit:!0}),wSe(_,t,r,o))}else"remove"===v&&(Obe(s,t),_Se(s,t,n,e));var w=n.get(a);if(w&&d)if(y){var S=w.getTextContent();S?S.attr(d):w.setTextContent(new Q0(d))}else b&&w.setTextContent(new Q0(d));if(w){var M=t.clipPath;if(M){var k=M.type,C=void 0,T=!1;if(y){var A=w.getClipPath();C=(T=!A||vSe(A).type!==k)?bSe(k):A}else b&&(T=!0,C=bSe(k));w.setClipPath(C),Dbe(C,M,e,{isInit:T}),$be(C,M.keyframeAnimation,e)}var I=vSe(w);w.setTextConfig(p),I.option=t,function n(e,t,i){var r=d1(e).eventData;e.silent||e.ignore||r||(r=d1(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name});r&&(r.info=i.info)}(w,e,t),h3({el:w,componentModel:e,itemName:w.name,itemTooltipOption:t.tooltip}),$be(w,t.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,t){for(var n=e.option.elements,i=this.group,r=this._elMap,o=t.getWidth(),a=t.getHeight(),s=["x","y"],l=0;l<n.length;l++){if((f=null!=(p=EJ((d=n[l]).id,null))?r.get(p):null)&&f.isGroup){var c=(g=f.parent)===i,u=vSe(f),h=vSe(g);u.width=KK(u.option.width,c?o:h.width)||0,u.height=KK(u.option.height,c?a:h.height)||0}}for(l=n.length-1;l>=0;l--){var d,p,f;if(f=null!=(p=EJ((d=n[l]).id,null))?r.get(p):null){var g=f.parent,m=(h=vSe(g),{}),v=M6(f,d,g===i?{width:o,height:a}:{width:h.width,height:h.height},null,{hv:d.hv,boundingMode:d.bounding},m);if(!vSe(f).isNew&&v){for(var y=d.transition,b={},x=0;x<s.length;x++){var _=s[x],w=m[_];y&&(Lbe(y)||DU(y,_)>=0)?b[_]=w:f[_]=w}D5(f,b,e,0)}else f.attr(m)}}},t.prototype._clear=function(){var e=this,t=this._elMap;t.each(function(n){_Se(n,vSe(n).option,t,e._lastGraphicModel)}),this._elMap=dX()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(O7);function bSe(e){var t=new(mX(mSe,e)?mSe[e]:$5(e))({});return vSe(t).type=e,t}function xSe(e,t,n,i){var r=bSe(n);return t.add(r),i.set(e,r),vSe(r).id=e,vSe(r).isNew=!0,r}function _Se(e,t,n,i){e&&e.parent&&("group"===e.type&&e.traverse(function(e){_Se(e,t,n,i)}),Ebe(e,t,i),n.removeKey(vSe(e).id))}function wSe(e,t,n,i){e.isGroup||LU([["cursor",RQ.prototype.cursor],["zlevel",i||0],["z",n||0],["z2",0]],function(n){var i=n[0];mX(t,i)?e[i]=eX(t[i],n[1]):null==e[i]&&(e[i]=n[1])}),LU(BU(t),function(n){if(0===n.indexOf("on")){var i=t[n];e[n]=$U(i)?i:null}}),mX(t,"draggable")&&(e.draggable=t.draggable),null!=t.name&&(e.name=t.name),null!=t.id&&(e.id=t.id)}var SSe=["x","y","radius","angle","single"],MSe=["cartesian2d","polar","singleAxis"];function kSe(e){return e+"Axis"}function CSe(e,t){var n,i=dX(),r=[],o=dX();e.eachComponent({mainType:"dataZoom",query:t},function(e){o.get(e.uid)||s(e)});do{n=!1,e.eachComponent("dataZoom",a)}while(n);function a(e){!o.get(e.uid)&&function t(e){var t=!1;return e.eachTargetAxis(function(e,n){var r=i.get(e);r&&r[n]&&(t=!0)}),t}(e)&&(s(e),n=!0)}function s(e){o.set(e.uid,!0),r.push(e),function t(e){e.eachTargetAxis(function(e,t){(i.get(e)||i.set(e,[]))[t]=!0})}(e)}return r}function TSe(e){var t=e.ecModel,n={infoList:[],infoMap:dX()};return e.eachTargetAxis(function(e,i){var r=t.getComponent(kSe(e),i);if(r){var o=r.getCoordSysModel();if(o){var a=o.uid,s=n.infoMap.get(a);s||(s={model:o,axisModels:[]},n.infoList.push(s),n.infoMap.set(a,s)),s.axisModels.push(r)}}}),n}var ASe=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},e}(),ISe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return nU(t,e),t.prototype.init=function(e,t,n){var i=DSe(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this._doInit(i)},t.prototype.mergeOption=function(e){var t=DSe(e);CU(this.option,e,!0),CU(this.settledOption,t,!0),this._doInit(t)},t.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;LU([["start","startValue"],["end","endValue"]],function(e,i){"value"===this._rangePropMode[i]&&(t[e[0]]=n[e[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),t=this._targetAxisInfoMap=dX();this._fillSpecifiedTargetAxis(t)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each(function(e){e.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return LU(SSe,function(n){var i=this.getReferringComponents(kSe(n),HJ);if(i.specified){t=!0;var r=new ASe;LU(i.models,function(e){r.add(e.componentIndex)}),e.set(n,r)}},this),t},t.prototype._fillAutoTargetAxisByOrient=function(e,t){var n=this.ecModel,i=!0;if(i){var r="vertical"===t?"y":"x";o(n.findComponents({mainType:r+"Axis"}),r)}i&&o(n.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",!0)===t}}),"single");function o(t,n){var r=t[0];if(r){var o=new ASe;if(o.add(r.componentIndex),e.set(n,o),i=!1,"x"===n||"y"===n){var a=r.getReferringComponents("grid",FJ).models[0];a&&LU(t,function(e){r.componentIndex!==e.componentIndex&&a===e.getReferringComponents("grid",FJ).models[0]&&o.add(e.componentIndex)})}}}i&&LU(SSe,function(t){if(i){var r=n.findComponents({mainType:kSe(t),filter:function(e){return"category"===e.get("type",!0)}});if(r[0]){var o=new ASe;o.add(r[0].componentIndex),e.set(t,o),i=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(t){!e&&(e=t)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var t=this._rangePropMode,n=this.get("rangeMode");LU([["start","startValue"],["end","endValue"]],function(i,r){var o=null!=e[i[0]],a=null!=e[i[1]];o&&!a?t[r]="percent":!o&&a?t[r]="value":n?t[r]=n[r]:o&&(t[r]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(t,n){null==e&&(e=this.ecModel.getComponent(kSe(t),n))},this),e},t.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each(function(n,i){LU(n.indexList,function(n){e.call(t,i,n)})})},t.prototype.getAxisProxy=function(e,t){var n=this.getAxisModel(e,t);if(n)return n.__dzAxisProxy},t.prototype.getAxisModel=function(e,t){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[t])return this.ecModel.getComponent(kSe(e),t)},t.prototype.setRawRange=function(e){var t=this.option,n=this.settledOption;LU([["start","startValue"],["end","endValue"]],function(i){null==e[i[0]]&&null==e[i[1]]||(t[i[0]]=n[i[0]]=e[i[0]],t[i[1]]=n[i[1]]=e[i[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var t=this.option;LU(["start","startValue","end","endValue"],function(n){t[n]=e[n]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var t,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var r=n[i],o=this._targetAxisInfoMap.get(r),a=0;a<o.indexList.length;a++){var s=this.getAxisProxy(r,o.indexList[a]);if(s.hostedBy(this))return s;t||(t=s)}return t},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(D6);function DSe(e){var t={};return LU(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var OSe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="dataZoom.select",t}(ISe),ESe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},t.type="dataZoom",t}(O7),LSe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="dataZoom.select",t}(ESe),RSe=LU,NSe=tJ,PSe=function(){function e(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}return e.prototype.hostedBy=function(e){return this._dataZoomModel===e},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(function n(e){var t=e.get("coordinateSystem");return DU(MSe,t)>=0}(t)){var i=kSe(this._dimName),r=t.getReferringComponents(i,FJ).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return kU(this._minMaxSpan)},e.prototype.calculateDataWindow=function(e){var t,n=this._dataExtent,i=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[];RSe(["start","end"],function(l,c){var u=e[l],h=e[l+"Value"];"percent"===r[c]?(null==u&&(u=o[c]),h=i.parse(ZK(u,o,n))):(t=!0,u=ZK(h=null==h?n[c]:i.parse(h),n,o)),s[c]=null==h||isNaN(h)?n[c]:h,a[c]=null==u||isNaN(u)?o[c]:u}),NSe(s),NSe(a);var l=this._minMaxSpan;function c(e,t,n,r,o){var a=o?"Span":"ValueSpan";Jge(0,e,n,"all",l["min"+a],l["max"+a]);for(var s=0;s<2;s++)t[s]=ZK(e[s],n,r,!0),o&&(t[s]=i.parse(t[s]))}return t?c(s,a,n,o,!1):c(a,s,o,n,!0),{valueWindow:s,percentWindow:a}},e.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function i(e,t,n){var i=[1/0,-1/0];RSe(n,function(e){!function n(e,t,i){t&&LU(Ore(t,i),function(n){var i=t.getApproximateExtent(n);i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])})}(i,e.getData(),t)});var r=e.getAxisModel(),o=wre(r.axis.scale,r,i).calculate();return[o.min,o.max]}(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=e.get("filterMode"),o=this._valueWindow;"none"!==r&&RSe(i,function(e){var t=e.getData(),i=t.mapDimensionsAll(n);if(i.length){if("weakFilter"===r){var a=t.getStore(),s=RU(i,function(e){return t.getDimensionIndex(e)},t);t.filterSelf(function(e){for(var t,n,r,l=0;l<i.length;l++){var c=a.get(s[l],e),u=!isNaN(c),h=c<o[0],d=c>o[1];if(u&&!h&&!d)return!0;u&&(r=!0),h&&(t=!0),d&&(n=!0)}return r&&t&&n})}else RSe(i,function(n){if("empty"===r)e.setData(t=t.map(n,function(e){return function t(e){return e>=o[0]&&e<=o[1]}(e)?e:NaN}));else{var i={};i[n]=o,t.selectRange(i)}});RSe(i,function(e){t.setApproximateExtent(o,e)})}})}},e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;RSe(["min","max"],function(i){var r=t.get(i+"Span"),o=t.get(i+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?r=ZK(n[0]+o,n,[0,100],!0):null!=r&&(o=ZK(r,[0,100],n,!0)-n[0]),e[i+"Span"]=r,e[i+"ValueSpan"]=o},this)},e.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var i=iJ(n,[0,500]);i=Math.min(i,20);var r=e.axis.scale.rawExtentInfo;0!==t[0]&&r.setDeterminedMinMax("min",+n[0].toFixed(i)),100!==t[1]&&r.setDeterminedMinMax("max",+n[1].toFixed(i)),r.freeze()}},e}();var zSe={getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(i,r){var o=e.getComponent(kSe(i),r);t(i,r,o,n)})})}t(function(e,t,n,i){n.__dzAxisProxy=null});var n=[];t(function(t,i,r,o){r.__dzAxisProxy||(r.__dzAxisProxy=new PSe(t,i,o,e),n.push(r.__dzAxisProxy))});var i=dX();return LU(n,function(e){LU(e.getTargetSeriesModels(),function(e){i.set(e.uid,e)})}),i},overallReset:function(e,t){e.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(t,n){e.getAxisProxy(t,n).reset(e)}),e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).filterData(e,t)})}),e.eachComponent("dataZoom",function(e){var t=e.findRepresentativeAxisProxy();if(t){var n=t.getDataPercentWindow(),i=t.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}})}};var BSe=!1;function VSe(e){BSe||(BSe=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,zSe),function t(e){e.registerAction("dataZoom",function(e,t){LU(CSe(t,e),function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function FSe(e){e.registerComponentModel(OSe),e.registerComponentView(LSe),VSe(e)}var HSe=function(){return function e(){}}(),WSe={};function $Se(e,t){WSe[e]=t}function jSe(e){return WSe[e]}var GSe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;LU(this.option.feature,function(e,n){var i=jSe(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(t)),CU(e,i.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:R6.color.border,borderRadius:0,borderWidth:0,padding:R6.size.m,itemSize:15,itemGap:R6.size.s,showTitle:!0,iconStyle:{borderColor:R6.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:R6.color.accent50}},tooltip:{show:!1,position:"bottom"}},t}(D6);function USe(e,t){var n=q4(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),new Y0({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}var XSe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.render=function(e,t,n,i){var r=this.group;if(r.removeAll(),e.get("show")){var o=+e.get("itemSize"),a="vertical"===e.get("orient"),s=e.get("feature")||{},l=this._features||(this._features={}),c=[];LU(s,function(e,t){c.push(t)}),new Xne(this._featureNames||[],c).add(f).update(f).remove(HU(f,null)).execute(),this._featureNames=c;var u=S6(e,n).refContainer,h=e.getBoxLayoutParams(),d=e.get("padding"),p=x6(h,u,d);v6(e.get("orient"),r,e.get("itemGap"),p.width,p.height),M6(r,h,u,d),r.add(USe(r.getBoundingRect(),e)),a||r.eachChild(function(e){var t=e.__title,i=e.ensureState("emphasis"),a=i.textConfig||(i.textConfig={}),s=e.getTextContent(),l=s&&s.ensureState("emphasis");if(l&&!$U(l)&&t){var c=l.style||(l.style={}),u=SK(t,Q0.makeFont(c)),h=e.x+r.x,d=!1;e.y+r.y+o+u.height>n.getHeight()&&(a.position="top",d=!0);var p=d?-5-u.height:o+10;h+u.width/2>n.getWidth()?(a.position=["100%",p],c.align="right"):h-u.width/2<0&&(a.position=[0,p],c.align="left")}})}function f(u,h){var d,p=c[u],f=c[h],g=s[p],m=new Q3(g,e,e.ecModel);if(i&&null!=i.newTitle&&i.featureName===p&&(g.title=i.newTitle),p&&!f){if(function e(t){return 0===t.indexOf("my")}(p))d={onclick:m.option.onclick,featureName:p};else{var v=jSe(p);if(!v)return;d=new v}l[p]=d}else if(!(d=l[f]))return;d.uid=n4("toolbox-feature"),d.model=m,d.ecModel=t,d.api=n;var y=d instanceof HSe;p||!f?!m.get("show")||y&&d.unusable?y&&d.remove&&d.remove(t,n):(!function b(i,s,l){var c,u,h=i.getModel("iconStyle"),d=i.getModel(["emphasis","iconStyle"]),p=s instanceof HSe&&s.getIcons?s.getIcons():i.get("icon"),f=i.get("title")||{};jU(p)?(c={})[l]=p:c=p;jU(f)?(u={})[l]=f:u=f;var g=i.iconPaths={};LU(c,function(l,c){var p=r3(l,{},{x:-o/2,y:-o/2,width:o,height:o});p.setStyle(h.getItemStyle()),p.ensureState("emphasis").style=d.getItemStyle();var f=new Q0({style:{text:u[c],align:d.get("textAlign"),borderRadius:d.get("textBorderRadius"),padding:d.get("textPadding"),fill:null,font:B3({fontStyle:d.get("textFontStyle"),fontFamily:d.get("textFontFamily"),fontSize:d.get("textFontSize"),fontWeight:d.get("textFontWeight")},t)},ignore:!0});p.setTextContent(f),h3({el:p,componentModel:e,itemName:c,formatterParamsExtra:{title:u[c]}}),p.__title=u[c],p.on("mouseover",function(){var t=d.getItemStyle(),i=a?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";f.setStyle({fill:d.get("textFill")||t.fill||t.stroke||R6.color.neutral99,backgroundColor:d.get("textBackgroundColor")}),p.setTextConfig({position:d.get("textPosition")||i}),f.ignore=!e.get("showTitle"),n.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==i.get(["iconStatus",c])&&n.leaveEmphasis(this),f.hide()}),("emphasis"===i.get(["iconStatus",c])?W1:$1)(p),r.add(p),p.on("click",VU(s.onclick,s,t,n,c)),g[c]=p})}(m,d,p),m.setIconStatus=function(e,t){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,i[e]&&("emphasis"===t?W1:$1)(i[e])},d instanceof HSe&&d.render&&d.render(m,t,n,i)):y&&d.dispose&&d.dispose(t,n)}},t.prototype.updateView=function(e,t,n,i){LU(this._features,function(e){e instanceof HSe&&e.updateView&&e.updateView(e.model,t,n,i)})},t.prototype.remove=function(e,t){LU(this._features,function(n){n instanceof HSe&&n.remove&&n.remove(e,t)}),this.group.removeAll()},t.prototype.dispose=function(e,t){LU(this._features,function(n){n instanceof HSe&&n.dispose&&n.dispose(e,t)})},t.type="toolbox",t}(O7);var qSe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",r="svg"===t.getZr().painter.getType(),o=r?"svg":n.get("type",!0)||"png",a=t.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||R6.color.neutral00,connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),s=rU.browser;if("function"!=typeof MouseEvent||!s.newEdge&&(s.ie||s.edge))if(window.navigator.msSaveOrOpenBlob||r){var l=a.split(","),c=l[0].indexOf("base64")>-1,u=r?decodeURIComponent(l[1]):l[1];c&&(u=window.atob(u));var h=i+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var d=u.length,p=new Uint8Array(d);d--;)p[d]=u.charCodeAt(d);var f=new Blob([p]);window.navigator.msSaveOrOpenBlob(f,h)}else{var g=document.createElement("iframe");document.body.appendChild(g);var m=g.contentWindow,v=m.document;v.open("image/svg+xml","replace"),v.write(u),v.close(),m.focus(),v.execCommand("SaveAs",!0,h),document.body.removeChild(g)}}else{var y=n.get("lang"),b='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(y&&y[0]||"")+'" /></body>',x=window.open();x.document.write(b),x.document.title=i}else{var _=document.createElement("a");_.download=i+"."+o,_.target="_blank",_.href=a;var w=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});_.dispatchEvent(w)}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:R6.color.neutral00,name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(HSe),YSe="__ec_magicType_stack__",ZSe=[["line","bar"],["stack"]],KSe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return LU(e.get("type"),function(e){t[e]&&(n[e]=t[e])}),n},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,t,n){var i=this.model,r=i.get(["seriesIndex",n]);if(JSe[n]){var o,a={series:[]};LU(ZSe,function(e){DU(e,n)>=0&&LU(e,function(e){i.setIconStatus(e,"normal")})}),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},function(e){var t=e.subType,r=e.id,o=JSe[n](t,r,e,i);o&&(IU(o,e.option),a.series.push(o));var s=e.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var l=s.getAxesByScale("ordinal")[0];if(l){var c=l.dim+"Axis",u=e.getReferringComponents(c,FJ).models[0].componentIndex;a[c]=a[c]||[];for(var h=0;h<=u;h++)a[c][u]=a[c][u]||{};a[c][u].boundaryGap="bar"===n}}});var s=n;"stack"===n&&(o=CU({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",n])&&(s="tiled")),t.dispatchAction({type:"changeMagicType",currentType:s,newOption:a,newTitle:o,featureName:"magicType"})}},t}(HSe),JSe={line:function(e,t,n,i){if("bar"===e)return CU({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(e,t,n,i){if("line"===e)return CU({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(e,t,n,i){var r=n.get("stack")===YSe;if("line"===e||"bar"===e)return i.setIconStatus("stack",r?"normal":"emphasis"),CU({id:t,stack:r?"":YSe},i.get(["option","stack"])||{},!0)}};kne({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});var QSe=new Array(60).join("-"),eMe="\t";function tMe(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var nMe=new RegExp("[\t]+","g");function iMe(e,t){var n=e.split(new RegExp("\n*"+QSe+"\n*","g")),i={series:[]};return LU(n,function(e,n){if(function r(e){if(e.slice(0,e.indexOf("\n")).indexOf(eMe)>=0)return!0}(e)){var o=function r(e){for(var t=e.split(/\n+/g),n=[],i=RU(tMe(t.shift()).split(nMe),function(e){return{name:e,data:[]}}),r=0;r<t.length;r++){var o=tMe(t[r]).split(nMe);n.push(o.shift());for(var a=0;a<o.length;a++)i[a]&&(i[a].data[r]=o[a])}return{series:i,categories:n}}(e),a=t[n],s=a.axisDim+"Axis";a&&(i[s]=i[s]||[],i[s][a.axisIndex]={data:o.categories},i.series=i.series.concat(o.series))}else{o=function t(e){for(var t=e.split(/\n+/g),n=tMe(t.shift()),i=[],r=0;r<t.length;r++){var o=tMe(t[r]);if(o){var a=o.split(nMe),s="",l=void 0,c=!1;isNaN(a[0])?(c=!0,s=a[0],a=a.slice(1),i[r]={name:s,value:[]},l=i[r].value):l=i[r]=[];for(var u=0;u<a.length;u++)l.push(+a[u]);1===l.length&&(c?i[r].value=l[0]:i[r]=l[0])}}return{name:n,data:i}}(e);i.series.push(o)}}),i}var rMe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.onclick=function(e,t){setTimeout(function(){t.dispatchAction({type:"hideTip"})});var n=t.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var r=document.createElement("div");r.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",r.style.backgroundColor=i.get("backgroundColor")||R6.color.neutral00;var o=document.createElement("h4"),a=i.get("lang")||[];o.innerHTML=a[0]||i.get("title"),o.style.cssText="margin:10px 20px",o.style.color=i.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="overflow:auto";var c=i.get("optionToContent"),u=i.get("contentToOption"),h=function d(e){var t,n,i,r=function o(e){var t={},n=[],i=[];return e.eachRawSeries(function(e){var r=e.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)n.push(e);else{var o=r.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;t[a]||(t[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),t[a].series.push(e)}else n.push(e)}}),{seriesGroupByCategoryAxis:t,other:n,meta:i}}(e);return{value:PU([(n=r.seriesGroupByCategoryAxis,i=[],LU(n,function(e,t){var n=e.categoryAxis,r=e.valueAxis.dim,o=[" "].concat(RU(e.series,function(e){return e.name})),a=[n.model.getCategories()];LU(e.series,function(e){var t=e.getRawData();a.push(e.getRawData().mapArray(t.mapDimension(r),function(e){return e}))});for(var s=[o.join(eMe)],l=0;l<a[0].length;l++){for(var c=[],u=0;u<a.length;u++)c.push(a[u][l]);s.push(c.join(eMe))}i.push(s.join("\n"))}),i.join("\n\n"+QSe+"\n\n")),(t=r.other,RU(t,function(e){var t=e.getRawData(),n=[e.name],i=[];return t.each(t.dimensions,function(){for(var e=arguments.length,r=arguments[e-1],o=t.getName(r),a=0;a<e-1;a++)i[a]=arguments[a];n.push((o?o+eMe:"")+i.join(eMe))}),n.join("\n")}).join("\n\n"+QSe+"\n\n"))],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join("\n\n"+QSe+"\n\n"),meta:r.meta}}(e);if($U(c)){var p=c(t.getOption());jU(p)?s.innerHTML=p:ZU(p)&&s.appendChild(p)}else{l.readOnly=i.get("readOnly");var f=l.style;f.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",f.color=i.get("textColor"),f.borderColor=i.get("textareaBorderColor"),f.backgroundColor=i.get("textareaColor"),l.value=h.value,s.appendChild(l)}var g=h.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var v="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),b=document.createElement("div");v+=";background-color:"+i.get("buttonColor"),v+=";color:"+i.get("buttonTextColor");var x=this;function _(){n.removeChild(r),x._dom=null}oq(y,"click",_),oq(b,"click",function(){if(null==u&&null!=c||null!=u&&null==c)_();else{var e;try{e=$U(u)?u(s,t.getOption()):iMe(l.value,g)}catch(kLe){throw _(),new Error("Data view format error "+kLe)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),_()}}),y.innerHTML=a[1],b.innerHTML=a[2],b.style.cssText=y.style.cssText=v,!i.get("readOnly")&&m.appendChild(b),m.appendChild(y),r.appendChild(o),r.appendChild(s),r.appendChild(m),s.style.height=n.clientHeight-80+"px",n.appendChild(r),this._dom=r},t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:R6.color.background,textColor:R6.color.primary,textareaColor:R6.color.background,textareaBorderColor:R6.color.border,buttonColor:R6.color.accent50,buttonTextColor:R6.color.neutral00}},t}(HSe);function oMe(e,t){return RU(e,function(e,n){var i=t&&t[n];if(XU(i)&&!WU(i)){XU(e)&&!WU(e)||(e={value:e});var r=null!=i.name&&null==e.name;return e=IU(e,i),r&&delete e.name,e}return e})}kne({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];LU(e.newOption.series,function(e){var i=t.getSeriesByName(e.name)[0];if(i){var r=i.get("data");n.push({name:e.name,data:oMe(e.data,r)})}else n.push(AU({type:"scatter"},e))}),t.mergeOption(IU({series:n},e.newOption))});var aMe=LU,sMe=PJ();function lMe(e){var t=sMe(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var cMe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.onclick=function(e,t){!function n(e){sMe(e).snapshots=null}(e),t.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(HSe);kne({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var uMe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],hMe=function(){function e(e,t,n){var i=this;this._targetInfoList=[];var r=pMe(t,e);LU(fMe,function(e,t){(!n||!n.include||DU(n.include,t)>=0)&&e(r,i._targetInfoList)})}return e.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var i=vMe[e.brushType](0,n,t);e.__rangeOffset={offset:bMe[e.brushType](i.values,e.range,[1,1]),xyMinMax:i.xyMinMax}}}),e},e.prototype.matchOutputRanges=function(e,t,n){LU(e,function(e){var i=this.findTargetInfo(e,t);i&&!0!==i&&LU(i.coordSyses,function(i){var r=vMe[e.brushType](1,i,e.range,!0);n(e,r.values,i,t)})},this)},e.prototype.setInputRanges=function(e,t){LU(e,function(e){var n=this.findTargetInfo(e,t);if(e.range=e.range||[],n&&!0!==n){e.panelId=n.panelId;var i=vMe[e.brushType](0,n.coordSys,e.coordRange),r=e.__rangeOffset;e.range=r?bMe[e.brushType](i.values,r.offset,function t(e,n){var i=_Me(e),r=_Me(n),o=[i[0]/r[0],i[1]/r[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}(i.xyMinMax,r.xyMinMax)):i.values}},this)},e.prototype.makePanelOpts=function(e,t){return RU(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:tve(i),isTargetByCursor:ive(i,e,n.coordSysModel),getLinearBrushOtherExtent:nve(i)}})},e.prototype.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return!0===i||i&&DU(i.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=pMe(t,e),r=0;r<n.length;r++){var o=n[r],a=e.panelId;if(a){if(o.panelId===a)return o}else for(var s=0;s<gMe.length;s++)if(gMe[s](i,o))return o}return!0},e}();function dMe(e){return e[0]>e[1]&&e.reverse(),e}function pMe(e,t){return BJ(e,t,{includeMainTypes:uMe})}var fMe={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,r=e.gridModels,o=dX(),a={},s={};(n||i||r)&&(LU(n,function(e){var t=e.axis.grid.model;o.set(t.id,t),a[t.id]=!0}),LU(i,function(e){var t=e.axis.grid.model;o.set(t.id,t),s[t.id]=!0}),LU(r,function(e){o.set(e.id,e),a[e.id]=!0,s[e.id]=!0}),o.each(function(e){var r=e.coordinateSystem,o=[];LU(r.getCartesians(),function(e,t){(DU(n,e.getAxis("x").model)>=0||DU(i,e.getAxis("y").model)>=0)&&o.push(e)}),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:o[0],coordSyses:o,getPanelRect:mMe.grid,xAxisDeclared:a[e.id],yAxisDeclared:s[e.id]})}))},geo:function(e,t){LU(e.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:mMe.geo})})}},gMe=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel,r=e.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],mMe={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(J5(e)),t}},vMe={lineX:HU(yMe,0),lineY:HU(yMe,1),rect:function(e,t,n,i){var r=e?t.pointToData([n[0][0],n[1][0]],i):t.dataToPoint([n[0][0],n[1][0]],i),o=e?t.pointToData([n[0][1],n[1][1]],i):t.dataToPoint([n[0][1],n[1][1]],i),a=[dMe([r[0],o[0]]),dMe([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(e,t,n,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:RU(n,function(n){var o=e?t.pointToData(n,i):t.dataToPoint(n,i);return r[0][0]=Math.min(r[0][0],o[0]),r[1][0]=Math.min(r[1][0],o[1]),r[0][1]=Math.max(r[0][1],o[0]),r[1][1]=Math.max(r[1][1],o[1]),o}),xyMinMax:r}}};function yMe(e,t,n,i){var r=n.getAxis(["x","y"][e]),o=dMe(RU([0,1],function(e){return t?r.coordToData(r.toLocalCoord(i[e]),!0):r.toGlobalCoord(r.dataToCoord(i[e]))})),a=[];return a[e]=o,a[1-e]=[NaN,NaN],{values:o,xyMinMax:a}}var bMe={lineX:HU(xMe,0),lineY:HU(xMe,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return RU(e,function(e,i){return[e[0]-n[0]*t[i][0],e[1]-n[1]*t[i][1]]})}};function xMe(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function _Me(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var wMe=LU,SMe=function MMe(e){return SJ+e}("toolbox-dataZoom_"),kMe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.render=function(e,t,n,i){this._brushController||(this._brushController=new Mme(n.getZr()),this._brushController.on("brush",VU(this._onBrush,this)).mount()),function r(e,t,n,i,o){var a=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(a="dataZoomSelect"===i.key&&i.dataZoomSelectActive);n._isZoomActive=a,e.setIconStatus("zoom",a?"emphasis":"normal");var s=new hMe(TMe(e),t,{include:["grid"]}),l=s.makePanelOpts(o,function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(l).enableBrush(!(!a||!l.length)&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}(e,t,this,i,n),function o(e,t){e.setIconStatus("back",function n(e){return lMe(e).length}(t)>1?"emphasis":"normal")}(e,t)},t.prototype.onclick=function(e,t,n){CMe[n].call(this)},t.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var t=e.areas;if(e.isEnd&&t.length){var n={},i=this.ecModel;this._brushController.updateCovers([]),new hMe(TMe(this.model),i,{include:["grid"]}).matchOutputRanges(t,i,function(e,t,n){if("cartesian2d"===n.type){var i=e.brushType;"rect"===i?(r("x",n,t[0]),r("y",n,t[1])):r({lineX:"x",lineY:"y"}[i],n,t)}}),function e(t,n){var i=lMe(t);aMe(n,function(e,n){for(var r=i.length-1;r>=0&&!i[r][n];r--);if(r<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(o){var a=o.getPercentRange();i[0][n]={dataZoomId:n,start:a[0],end:a[1]}}}}),i.push(n)}(i,n),this._dispatchZoomAction(n)}function r(e,t,r){var o=t.getAxis(e),a=o.model,s=function l(e,t,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},function(n){n.getAxisModel(e,t.componentIndex)&&(i=n)}),i}(e,a,i),c=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==c.minValueSpan&&null==c.maxValueSpan||(r=Jge(0,r.slice(),o.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:r[0],endValue:r[1]})}},t.prototype._dispatchZoomAction=function(e){var t=[];wMe(e,function(e,n){t.push(kU(e))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:R6.color.backgroundTint}}},t}(HSe),CMe={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(function e(t){var n=lMe(t),i=n[n.length-1];n.length>1&&n.pop();var r={};return aMe(i,function(e,t){for(var i=n.length-1;i>=0;i--)if(e=n[i][t]){r[t]=e;break}}),r}(this.ecModel))}};function TMe(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}!function AMe(e,t){rX(null==s8.get(e)&&t),s8.set(e,t)}("dataZoom",function(e){var t=e.getComponent("toolbox",0),n=["feature","dataZoom"];if(t&&null!=t.get(n)){var i=t.getModel(n),r=[],o=BJ(e,TMe(i));return wMe(o.xAxisModels,function(e){return a(e,"xAxis","xAxisIndex")}),wMe(o.yAxisModels,function(e){return a(e,"yAxis","yAxisIndex")}),r}function a(e,t,n){var o=e.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:SMe+t+o};a[n]=o,r.push(a)}});var IMe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:R6.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:R6.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:R6.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:R6.color.tertiary,fontSize:14}},t}(D6);function DMe(e){var t=e.get("confine");return null!=t?!!t:"richText"===e.get("renderMode")}function OMe(e){if(rU.domSupported)for(var t=document.documentElement.style,n=0,i=e.length;n<i;n++)if(e[n]in t)return e[n]}var EMe=OMe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function LMe(e,t){if(!e)return t;t=X4(t,!0);var n=e.indexOf(t);return(e=-1===n?t:"-"+e.slice(0,n)+"-"+t).toLowerCase()}var RMe=LMe(OMe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),NMe=LMe(EMe,"transform"),PMe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(rU.transform3dSupported?"will-change:transform;":"");function zMe(e,t,n){var i=e.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!rU.transformSupported)return n?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=rU.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return n?"top:0;left:0;"+NMe+":"+a+";":[["top",0],["left",0],[EMe,a]]}function BMe(e,t,n,i){var r=[],o=e.get("transitionDuration"),a=e.get("backgroundColor"),s=e.get("shadowBlur"),l=e.get("shadowColor"),c=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),h=e.getModel("textStyle"),d=v7(e,"html"),p=c+"px "+u+"px "+s+"px "+l;return r.push("box-shadow:"+p),t&&o>0&&r.push(function f(e,t,n){var i="cubic-bezier(0.23,1,0.32,1)",r="",o="";return n&&(o="opacity"+(r=" "+e/2+"s "+i)+",visibility"+r),t||(r=" "+e+"s "+i,o+=(o.length?",":"")+(rU.transformSupported?""+NMe+r:",left"+r+",top"+r)),RMe+":"+o}(o,n,i)),a&&r.push("background-color:"+a),LU(["width","color","radius"],function(t){var n="border-"+t,i=X4(n),o=e.get(i);null!=o&&r.push(n+":"+o+("color"===t?"":"px"))}),r.push(function g(e){var t=[],n=e.get("fontSize"),i=e.getTextColor();i&&t.push("color:"+i),t.push("font:"+e.getFont());var r=eX(e.get("lineHeight"),Math.round(3*n/2));n&&t.push("line-height:"+r+"px");var o=e.get("textShadowColor"),a=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return o&&a&&t.push("text-shadow:"+s+"px "+l+"px "+a+"px "+o),LU(["decoration","align"],function(n){var i=e.get(n);i&&t.push("text-"+n+":"+i)}),t.join(";")}(h)),null!=d&&r.push("padding:"+q4(d).join("px ")+"px"),r.join(";")+";"}function VMe(e,t,n,i,r){var o=t&&t.painter;if(n){var a=o&&o.getViewportRoot();a&&function t(e,n,i,r,o){return XX(UX,n,r,o,!0)&&XX(e,i,UX[0],UX[1])}(e,a,n,i,r)}else{e[0]=i,e[1]=r;var s=o&&o.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var FMe=function(){function e(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,rU.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=e.getZr(),r=t.appendTo,o=r&&(jU(r)?document.querySelector(r):ZU(r)?r:$U(r)&&r(e.getDom()));VMe(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(n),this._api=e,this._container=o;var a=this;n.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!a._enterable){var t=i.handler;rq(i.painter.getViewportRoot(),e,!0),t.dispatch("mousemove",e)}},n.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return e.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),n=function e(t,n){var i=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return i?i[n]:null}(t,"position"),i=t.style;"absolute"!==i.position&&"absolute"!==n&&(i.position="relative")}var r=e.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},e.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,r=this._styleCoord;n.innerHTML?i.cssText=PMe+BMe(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+zMe(r[0],r[1],!0)+"border-color:"+Q4(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(e,t,n,i,r){var o=this.el;if(null!=e){var a="";if(jU(r)&&"item"===n.get("trigger")&&!DMe(n)&&(a=function t(e,n,i){if(!jU(i)||"inside"===i)return"";var r=e.get("backgroundColor"),o=e.get("borderWidth");n=Q4(n);var a,s=function l(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"top"}(i),c=Math.max(1.5*Math.round(o),6),u="",h=NMe+":";DU(["left","right"],s)>-1?(u+="top:50%",h+="translateY(-50%) rotate("+(a="left"===s?-225:-45)+"deg)"):(u+="left:50%",h+="translateX(-50%) rotate("+(a="top"===s?225:45)+"deg)");var d=a*Math.PI/180,p=c+o,f=p*Math.abs(Math.cos(d))+p*Math.abs(Math.sin(d)),g=n+" solid "+o+"px;";return'<div style="'+["position:absolute;width:"+c+"px;height:"+c+"px;z-index:-1;",(u+=";"+s+":-"+Math.round(100*((f-Math.SQRT2*o)/2+Math.SQRT2*o-(f-p)/2))/100+"px")+";"+h+";","border-bottom:"+g,"border-right:"+g,"background-color:"+r+";"].join("")+'"></div>'}(n,i,r)),jU(e))o.innerHTML=e+a;else if(e){o.innerHTML="",WU(e)||(e=[e]);for(var s=0;s<e.length;s++)ZU(e[s])&&e[s].parentNode!==o&&o.appendChild(e[s]);if(a&&o.childNodes.length){var l=document.createElement("div");l.innerHTML=a,o.appendChild(l)}}}else o.innerHTML=""},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},e.prototype.moveTo=function(e,t){if(this.el){var n=this._styleCoord;if(VMe(n,this._zr,this._container,e,t),null!=n[0]&&null!=n[1]){var i=this.el.style;LU(zMe(n[0],n[1]),function(e){i[e[0]]=e[1]})}}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var e=this,t=this.el.style;this._enableDisplayTransition?(t.visibility="hidden",t.opacity="0"):t.display="none",rU.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(VU(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;!function t(e,n){function i(e){var t=e[GX];t&&(t.clearMarkers&&t.clearMarkers(),delete e[GX])}e&&i(e),n&&i(n)}(e&&e.painter&&e.painter.getViewportRoot(),this._container);var n=this.el;if(n){n.onmouseenter=n.onmousemove=n.onmouseleave=null;var i=n.parentNode;i&&i.removeChild(n)}this.el=this._container=null},e}(),HMe=function(){function e(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),jMe(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return e.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(e,t,n,i,r){var o=this;XU(e)&&xJ(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new Q0({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:v7(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),LU(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(e){o.el.style[e]=n.get(e)}),LU(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(e){o.el.style[e]=a.get(e)||0}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=$Me(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},e.prototype.moveTo=function(e,t){var n=this.el;if(n){var i=this._styleCoord;jMe(i,this._zr,e,t),e=i[0],t=i[1];var r=n.style,o=WMe(r.borderWidth||0),a=$Me(r);n.x=e+o+a.left,n.y=t+o+a.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(e){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(VU(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function WMe(e){return Math.max(0,e)}function $Me(e){var t=WMe(e.shadowBlur||0),n=WMe(e.shadowOffsetX||0),i=WMe(e.shadowOffsetY||0);return{left:WMe(t-n),right:WMe(t+n),top:WMe(t-i),bottom:WMe(t+i)}}function jMe(e,t,n,i){e[0]=n,e[1]=i,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var GMe=new Y0({shape:{x:-1,y:-1,width:2,height:2}}),UMe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(e,t){if(!rU.node&&t.getDom()){var n=e.getComponent("tooltip"),i=this._renderMode=function r(e){return"auto"===e?rU.domSupported?"html":"richText":e||"html"}(n.get("renderMode"));this._tooltipContent="richText"===i?new HMe(t):new FMe(t,{appendTo:n.get("appendToBody",!0)?"body":n.get("appendTo",!0)})}},t.prototype.render=function(e,t,n){if(!rU.node&&n.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n;var i=this._tooltipContent;i.update(e),i.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?G7(this,"_updatePosition",50,"fixRate"):U7(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");Zxe("itemTooltip",this._api,VU(function(t,n,i){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,i):"leave"===t&&this._hide(i))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,t=this._ecModel,n=this._api,i=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==i&&"click"!==i){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&r.manuallyShowTip(e,t,n,{x:r._lastX,y:r._lastY,dataByCoordSys:r._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,t,n,i){if(i.from!==this.uid&&!rU.node&&n.getDom()){var r=qMe(i,n);this._ticket="";var o=i.dataByCoordSys,a=function d(e,t,n){var i=VJ(e).queryOptionMap,r=i.keys()[0];if(!r||"series"===r)return;var o=WJ(t,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),a=o.models[0];if(!a)return;var s,l=n.getViewOfComponentModel(a);if(l.group.traverse(function(t){var n=d1(t).tooltipConfig;if(n&&n.name===e.name)return s=t,!0}),s)return{componentMainType:r,componentIndex:a.componentIndex,el:s}}(i,t,n);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:i.position,positionDefault:"bottom"},r)}else if(i.tooltip&&null!=i.x&&null!=i.y){var l=GMe;l.x=i.x,l.y=i.y,l.update(),d1(l).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:l},r)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:o,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(e,t,n,i))return;var c=t_e(i,t),u=c.point[0],h=c.point[1];null!=u&&null!=h&&this._tryShow({offsetX:u,offsetY:h,target:c.el,position:i.position,positionDefault:"bottom"},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r))}},t.prototype.manuallyHideTip=function(e,t,n,i){var r=this._tooltipContent;this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(qMe(i,n))},t.prototype._manuallyAxisShowTip=function(e,t,n,i){var r=i.seriesIndex,o=i.dataIndex,a=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=t.getSeriesByIndex(r);if(s)if("axis"===XMe([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}},t.prototype._tryShow=function(e,t){var n=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var i=e.dataByCoordSys;if(i&&i.length)this._showAxisTooltip(i,e);else if(n){var r,o;if("legend"===d1(n).ssrType)return;this._lastDataByCoordSys=null,Ree(n,function(e){if(e.tooltipDisabled)return r=o=null,!0;r||o||(null!=d1(e).dataIndex?r=e:null!=d1(e).tooltipConfig&&(o=e))},!0),r?this._showSeriesItemTooltip(e,r,t):o?this._showComponentItemTooltip(e,o,t):this._hide(t)}else this._lastDataByCoordSys=null,this._hide(t)}},t.prototype._showOrMove=function(e,t){var n=e.get("showDelay");t=VU(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},t.prototype._showAxisTooltip=function(e,t){var n=this._ecModel,i=this._tooltipModel,r=[t.offsetX,t.offsetY],o=XMe([t.tooltipOption],i),a=this._renderMode,s=[],l=s7("section",{blocks:[],noHeader:!0}),c=[],u=new y7;LU(e,function(e){LU(e.dataByAxis,function(e){var t=n.getComponent(e.axisDim+"Axis",e.axisIndex),r=e.value;if(t&&null!=r){var o=zxe(r,t.axis,n,e.seriesDataIndices,e.valueLabelOpt),h=s7("section",{header:o,noHeader:!oX(o),sortBlocks:!0,blocks:[]});l.blocks.push(h),LU(e.seriesDataIndices,function(l){var d=n.getSeriesByIndex(l.seriesIndex),p=l.dataIndexInside,f=d.getDataParams(p);if(!(f.dataIndex<0)){f.axisDim=e.axisDim,f.axisIndex=e.axisIndex,f.axisType=e.axisType,f.axisId=e.axisId,f.axisValue=Are(t.axis,{value:r}),f.axisValueLabel=o,f.marker=u.makeTooltipMarker("item",Q4(f.color),a);var g=_9(d.formatTooltip(p,!0,null)),m=g.frag;if(m){var v=XMe([d],i).get("valueFormatter");h.blocks.push(v?AU({valueFormatter:v},m):m)}g.text&&c.push(g.text),s.push(f)}})}})}),l.blocks.reverse(),c.reverse();var h=t.position,d=o.get("order"),p=p7(l,u,a,d,n.get("useUTC"),o.get("textStyle"));p&&c.unshift(p);var f="richText"===a?"\n\n":"<br/>",g=c.join(f);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(e,s)?this._updatePosition(o,h,r[0],r[1],this._tooltipContent,s):this._showTooltipContent(o,g,s,Math.random()+"",r[0],r[1],h,null,u)})},t.prototype._showSeriesItemTooltip=function(e,t,n){var i=this._ecModel,r=d1(t),o=r.seriesIndex,a=i.getSeriesByIndex(o),s=r.dataModel||a,l=r.dataIndex,c=r.dataType,u=s.getData(c),h=this._renderMode,d=e.positionDefault,p=XMe([u.getItemModel(l),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),f=p.get("trigger");if(null==f||"item"===f){var g=s.getDataParams(l,c),m=new y7;g.marker=m.makeTooltipMarker("item",Q4(g.color),h);var v=_9(s.formatTooltip(l,!1,c)),y=p.get("order"),b=p.get("valueFormatter"),x=v.frag,_=x?p7(b?AU({valueFormatter:b},x):x,m,h,y,i.get("useUTC"),p.get("textStyle")):v.text,w="item_"+s.name+"_"+l;this._showOrMove(p,function(){this._showTooltipContent(p,_,g,w,e.offsetX,e.offsetY,e.position,e.target,m)}),n({type:"showTip",dataIndexInside:l,dataIndex:u.getRawIndex(l),seriesIndex:o,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,t,n){var i="html"===this._renderMode,r=d1(t),o=r.tooltipConfig.option||{},a=o.encodeHTMLContent;if(jU(o)){o={content:o,formatter:o},a=!0}a&&i&&o.content&&((o=kU(o)).content=KX(o.content));var s=[o],l=this._ecModel.getComponent(r.componentMainType,r.componentIndex);l&&s.push(l),s.push({formatter:o.content});var c=e.positionDefault,u=XMe(s,this._tooltipModel,c?{position:c}:null),h=u.get("content"),d=Math.random()+"",p=new y7;this._showOrMove(u,function(){var n=kU(u.get("formatterParams")||{});this._showTooltipContent(u,h,n,d,e.offsetX,e.offsetY,e.position,t,p)}),n({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,t,n,i,r,o,a,s,l){if(this._ticket="",e.get("showContent")&&e.get("show")){var c=this._tooltipContent;c.setEnterable(e.get("enterable"));var u=e.get("formatter");a=a||e.get("position");var h=t,d=this._getNearestPoint([r,o],n,e.get("trigger"),e.get("borderColor"),e.get("defaultBorderColor",!0)).color;if(u)if(jU(u)){var p=e.ecModel.get("useUTC"),f=WU(n)?n[0]:n;h=u,f&&f.axisType&&f.axisType.indexOf("time")>=0&&(h=I4(f.axisValue,h,p)),h=J4(h,n,!0)}else if($U(u)){var g=VU(function(t,i){t===this._ticket&&(c.setContent(i,l,e,d,a),this._updatePosition(e,a,r,o,c,n,s))},this);this._ticket=i,h=u(n,i,g)}else h=u;c.setContent(h,l,e,d,a),c.show(e,d),this._updatePosition(e,a,r,o,c,n,s)}},t.prototype._getNearestPoint=function(e,t,n,i,r){return"axis"===n||WU(t)?{color:i||r}:WU(t)?void 0:{color:i||t.color||t.borderColor}},t.prototype._updatePosition=function(e,t,n,i,r,o,a){var s=this._api.getWidth(),l=this._api.getHeight();t=t||e.get("position");var c=r.getSize(),u=e.get("align"),h=e.get("verticalAlign"),d=a&&a.getBoundingRect().clone();if(a&&d.applyTransform(a.transform),$U(t)&&(t=t([n,i],o,r.el,d,{viewSize:[s,l],contentSize:c.slice()})),WU(t))n=KK(t[0],s),i=KK(t[1],l);else if(XU(t)){var p=t;p.width=c[0],p.height=c[1];var f=x6(p,{width:s,height:l});n=f.x,i=f.y,u=null,h=null}else if(jU(t)&&a){var g=function r(e,t,n,i){var r=n[0],o=n[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,c=t.width,u=t.height;switch(e){case"inside":s=t.x+c/2-r/2,l=t.y+u/2-o/2;break;case"top":s=t.x+c/2-r/2,l=t.y-o-a;break;case"bottom":s=t.x+c/2-r/2,l=t.y+u+a;break;case"left":s=t.x-r-a,l=t.y+u/2-o/2;break;case"right":s=t.x+c+a,l=t.y+u/2-o/2}return[s,l]}(t,d,c,e.get("borderWidth"));n=g[0],i=g[1]}else{g=function e(t,n,i,r,o,a,s){var l=i.getSize(),c=l[0],u=l[1];null!=a&&(t+c+a+2>r?t-=c+a:t+=a);null!=s&&(n+u+s>o?n-=u+s:n+=s);return[t,n]}(n,i,r,s,l,u?null:20,h?null:20);n=g[0],i=g[1]}if(u&&(n-=YMe(u)?c[0]/2:"right"===u?c[0]:0),h&&(i-=YMe(h)?c[1]/2:"bottom"===h?c[1]:0),DMe(e)){g=function e(t,n,i,r,o){var a=i.getSize(),s=a[0],l=a[1];return t=Math.min(t+s,r)-s,n=Math.min(n+l,o)-l,t=Math.max(t,0),n=Math.max(n,0),[t,n]}(n,i,r,s,l);n=g[0],i=g[1]}r.moveTo(n,i)},t.prototype._updateContentNotChangedOnAxis=function(e,t){var n=this._lastDataByCoordSys,i=this._cbParamsList,r=!!n&&n.length===e.length;return r&&LU(n,function(n,o){var a=n.dataByAxis||[],s=(e[o]||{}).dataByAxis||[];(r=r&&a.length===s.length)&&LU(a,function(e,n){var o=s[n]||{},a=e.seriesDataIndices||[],l=o.seriesDataIndices||[];(r=r&&e.value===o.value&&e.axisType===o.axisType&&e.axisId===o.axisId&&a.length===l.length)&&LU(a,function(e,t){var n=l[t];r=r&&e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex}),i&&LU(e.seriesDataIndices,function(e){var n=e.seriesIndex,o=t[n],a=i[n];o&&a&&a.data!==o.data&&(r=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=t,!!r},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,t){!rU.node&&t.getDom()&&(U7(this,"_updatePosition"),this._tooltipContent.dispose(),Qxe("itemTooltip",t))},t.type="tooltip",t}(O7);function XMe(e,t,n){var i,r=t.ecModel;n?(i=new Q3(n,r,r),i=new Q3(t.option,i,r)):i=t;for(var o=e.length-1;o>=0;o--){var a=e[o];a&&(a instanceof Q3&&(a=a.get("tooltip",!0)),jU(a)&&(a={formatter:a}),a&&(i=new Q3(a,i,r)))}return i}function qMe(e,t){return e.dispatchAction||VU(t.dispatchAction,t)}function YMe(e){return"center"===e||"middle"===e}var ZMe=["rect","polygon","keep","clear"];function KMe(e,t){var n=MJ(e?e.brush:[]);if(n.length){var i=[];LU(n,function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(i=i.concat(t))});var r=e&&e.toolbox;WU(r)&&(r=r[0]),r||(r={feature:{}},e.toolbox=[r]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,i),function l(e){var t={};LU(e,function(e){t[e]=1}),e.length=0,LU(t,function(t,n){e.push(n)})}(s),t&&!s.length&&s.push.apply(s,ZMe)}}var JMe=LU;function QMe(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function eke(e,t,n){var i={};return JMe(t,function(t){var r=i[t]=function o(){var e=function(){};return e.prototype.__hidden=e.prototype,new e}();JMe(e[t],function(e,i){if(Npe.isValidType(i)){var o={type:i,visual:e};n&&n(o,t),r[i]=new Npe(o),"opacity"===i&&((o=kU(o)).type="colorAlpha",r.__hidden.__alphaForOpacity=new Npe(o))}})}),i}function tke(e,t,n){var i;LU(n,function(e){t.hasOwnProperty(e)&&QMe(t[e])&&(i=!0)}),i&&LU(n,function(n){t.hasOwnProperty(n)&&QMe(t[n])?e[n]=kU(t[n]):delete e[n]})}var nke={lineX:ike(0),lineY:ike(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&zre(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(!e||i.length<=1)return!1;var r=e.x,o=e.y,a=e.width,s=e.height,l=i[0];return!!(zre(i,r,o)||zre(i,r+a,o)||zre(i,r,o+s)||zre(i,r+a,o+s)||Rq.create(e).contain(l[0],l[1])||o3(r,o,r+a,o,i)||o3(r,o,r,o+s,i)||o3(r+a,o,r+a,o+s,i)||o3(r,o+s,r+a,o+s,i))||void 0}}};function ike(e){var t=["x","y"],n=["width","height"];return{point:function(t,n,i){if(t){var r=i.range;return rke(t[e],r)}},rect:function(i,r,o){if(i){var a=o.range,s=[i[t[e]],i[t[e]]+i[n[e]]];return s[1]<s[0]&&s.reverse(),rke(s[0],a)||rke(s[1],a)||rke(a[0],s)||rke(a[1],s)}}}}function rke(e,t){return t[0]<=e&&e<=t[1]}var oke=["inBrush","outOfBrush"],ake="__ecBrushSelect",ske="__ecInBrushSelectEvent";function lke(e){e.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new hMe(t.option,e)).setInputRanges(t.areas,e)})}function cke(e,t,n){var i,r,o=[];e.eachComponent({mainType:"brush"},function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})}),lke(e),e.eachComponent({mainType:"brush"},function(t,n){var a={brushId:t.id,brushIndex:n,brushName:t.name,areas:kU(t.areas),selected:[]};o.push(a);var s=t.option,l=s.brushLink,c=[],u=[],h=[],d=!1;n||(i=s.throttleType,r=s.throttleDelay);var p=RU(t.areas,function(e){var t=dke[e.brushType],n=IU({boundingRect:t?t(e):void 0},e);return n.selectors=function i(e){var t=e.brushType,n={point:function(i){return nke[t].point(i,n,e)},rect:function(i){return nke[t].rect(i,n,e)}};return n}(n),n}),f=eke(t.option,oke,function(e){e.mappingMethod="fixed"});function g(e){return"all"===l||!!c[e]}function m(e){return!!e.length}WU(l)&&LU(l,function(e){c[e]=1}),e.eachSeries(function(n,i){var r=h[i]=[];"parallel"===n.subType?function o(e,t){var n=e.coordinateSystem;d=d||n.hasAxisBrushed(),g(t)&&n.eachActiveState(e.getData(),function(e,t){"active"===e&&(u[t]=1)})}(n,i):function a(n,i,r){if(!n.brushSelector||function o(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(WU(n)?DU(n,t)<0:t!==n)}(t,i))return;if(LU(p,function(i){t.brushTargetManager.controlSeries(i,n,e)&&r.push(i),d=d||m(r)}),g(i)&&m(r)){var a=n.getData();a.each(function(e){hke(n,r,a,e)&&(u[e]=1)})}}(n,i,r)}),e.eachSeries(function(e,t){var n={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};a.selected.push(n);var i=h[t],r=e.getData(),o=g(t)?function(e){return u[e]?(n.dataIndex.push(r.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return hke(e,i,r,t)?(n.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"};(g(t)?d:m(i))&&function s(e,t,n,i,r,o){var a,s={};function l(e){return Iee(n,a,e)}function c(e,t){Oee(n,a,e,t)}LU(e,function(e){var n=Npe.prepareVisualTypes(t[e]);s[e]=n}),n.each(function u(e,o){a=e;var u=n.getRawDataItem(a);if(!u||!1!==u.visualMap)for(var h=i.call(r,e),d=t[h],p=s[h],f=0,g=p.length;f<g;f++){var m=p[f];d[m]&&d[m].applyVisual(e,l,c)}})}(oke,f,r,o)})}),function a(e,t,n,i,r){if(!r)return;var o=e.getZr();if(o[ske])return;o[ake]||(o[ake]=uke);var a=G7(o,ake,n,t);a(e,i)}(t,i,r,o,n)}function uke(e,t){if(!e.isDisposed()){var n=e.getZr();n[ske]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[ske]=!1}}function hke(e,t,n,i){for(var r=0,o=t.length;r<o;r++){var a=t[r];if(e.brushSelector(i,n,a.selectors,a))return!0}}var dke={rect:function(e){return pke(e.range)},polygon:function(e){for(var t,n=e.range,i=0,r=n.length;i<r;i++){t=t||[[1/0,-1/0],[1/0,-1/0]];var o=n[i];o[0]<t[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&pke(t)}};function pke(e){return new Rq(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var fke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new Mme(t.getZr())).on("brush",VU(this._onBrush,this)).mount()},t.prototype.render=function(e,t,n,i){this.model=e,this._updateController(e,t,n,i)},t.prototype.updateTransform=function(e,t,n,i){lke(t),this._updateController(e,t,n,i)},t.prototype.updateVisual=function(e,t,n,i){this.updateTransform(e,t,n,i)},t.prototype.updateView=function(e,t,n,i){this._updateController(e,t,n,i)},t.prototype._updateController=function(e,t,n,i){(!i||i.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var t=this.model.id,n=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:kU(n),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:kU(n),$from:t})},t.type="brush",t}(O7),gke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.areas=[],n.brushOption={},n}return nU(t,e),t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&tke(n,e,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:this.option.defaultOutOfBrushColor},i.hasOwnProperty("liftZ")||(i.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=RU(e,function(e){return mke(this.option,e)},this))},t.prototype.setBrushOption=function(e){this.brushOption=mke(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:R6.color.backgroundTint,borderColor:R6.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:R6.color.disabled},t}(D6);function mke(e,t){return CU({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new Q3(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var vke=["rect","polygon","lineX","lineY","keep","clear"],yke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nU(t,e),t.prototype.render=function(e,t,n){var i,r,o;t.eachComponent({mainType:"brush"},function(e){i=e.brushType,r=e.brushOption.brushMode||"single",o=o||!!e.areas.length}),this._brushType=i,this._brushMode=r,LU(e.get("type",!0),function(t){e.setIconStatus(t,("keep"===t?"multiple"===r:"clear"===t?o:t===i)?"emphasis":"normal")})},t.prototype.updateView=function(e,t,n){this.render(e,t,n)},t.prototype.getIcons=function(){var e=this.model,t=e.get("icon",!0),n={};return LU(e.get("type",!0),function(e){t[e]&&(n[e]=t[e])}),n},t.prototype.onclick=function(e,t,n){var i=this._brushType,r=this._brushMode;"clear"===n?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},t.getDefaultOption=function(e){return{show:!0,type:vke.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(HSe);var bke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return nU(t,e),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:R6.size.m,backgroundColor:R6.color.transparent,borderColor:R6.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:R6.color.primary},subtextStyle:{fontSize:12,color:R6.color.quaternary}},t}(D6),xke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){if(this.group.removeAll(),e.get("show")){var i=this.group,r=e.getModel("textStyle"),o=e.getModel("subtextStyle"),a=e.get("textAlign"),s=eX(e.get("textBaseline"),e.get("textVerticalAlign")),l=new Q0({style:E3(r,{text:e.get("text"),fill:r.getTextColor()},{disableBox:!0}),z2:10}),c=l.getBoundingRect(),u=e.get("subtext"),h=new Q0({style:E3(o,{text:u,fill:o.getTextColor(),y:c.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=e.get("link"),p=e.get("sublink"),f=e.get("triggerEvent",!0);l.silent=!d&&!f,h.silent=!p&&!f,d&&l.on("click",function(){e6(d,"_"+e.get("target"))}),p&&h.on("click",function(){e6(p,"_"+e.get("subtarget"))}),d1(l).eventData=d1(h).eventData=f?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(l),u&&i.add(h);var g=i.getBoundingRect(),m=e.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=x6(m,S6(e,n).refContainer,e.get("padding"));a||("middle"===(a=e.get("left")||e.get("right"))&&(a="center"),"right"===a?v.x+=v.width:"center"===a&&(v.x+=v.width/2)),s||("center"===(s=e.get("top")||e.get("bottom"))&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),i.x=v.x,i.y=v.y,i.markRedraw();var y={align:a,verticalAlign:s};l.setStyle(y),h.setStyle(y),g=i.getBoundingRect();var b=v.margin,x=e.getItemStyle(["color","opacity"]);x.fill=e.get("backgroundColor");var _=new Y0({shape:{x:g.x-b[3],y:g.y-b[0],width:g.width+b[1]+b[3],height:g.height+b[0]+b[2],r:e.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});i.add(_)}},t.type="title",t}(O7);var _ke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode="box",n}return nU(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._initData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,t=this.option,n=t.data||[],i=t.axisType,r=this._names=[];"category"===i?(e=[],LU(n,function(t,n){var i,o=EJ(TJ(t),"");XU(t)?(i=kU(t)).value=n:i=n,e.push(i),r.push(o)})):e=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number";(this._data=new vie([{name:"value",type:o}],this)).initData(e,r)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:R6.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:R6.color.secondary},data:[]},t}(D6),wke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="timeline.slider",t.defaultOption=i4(_ke.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:R6.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:R6.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:R6.color.tertiary},itemStyle:{color:R6.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:R6.color.accent50,borderColor:R6.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:R6.color.accent50,borderColor:R6.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:R6.color.accent60},itemStyle:{color:R6.color.accent60,borderColor:R6.color.accent60},controlStyle:{color:R6.color.accent70,borderColor:R6.color.accent70}},progress:{lineStyle:{color:R6.color.accent30},itemStyle:{color:R6.color.accent40}},data:[]}),t}(_ke);OU(wke,x9.prototype);var Ske=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="timeline",t}(O7),Mke=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i)||this;return o.type=r||"value",o}return nU(t,e),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(foe),kke=Math.PI,Cke=PJ(),Tke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(e,t){this.api=t},t.prototype.render=function(e,t,n){if(this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var i=this._layout(e,n),r=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),a=this._axis=this._createAxis(i,e);e.formatTooltip=function(e){return s7("nameValue",{noName:!0,value:a.scale.getLabel({value:e})})},LU(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](i,r,a,e)},this),this._renderAxisLabel(i,o,a,e),this._position(i,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,t){var n,i,r,o,a=e.get(["label","position"]),s=e.get("orient"),l=function c(e,t){return x6(e.getBoxLayoutParams(),S6(e,t).refContainer,e.get("padding"))}(e,t),u={horizontal:"center",vertical:(n=null==a||"auto"===a?"horizontal"===s?l.y+l.height/2<t.getHeight()/2?"-":"+":l.x+l.width/2<t.getWidth()/2?"+":"-":jU(a)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[s][a]:a)>=0||"+"===n?"left":"right"},h={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:kke/2},p="vertical"===s?l.height:l.width,f=e.getModel("controlStyle"),g=f.get("show",!0),m=g?f.get("itemSize"):0,v=g?f.get("itemGap"):0,y=m+v,b=e.get(["label","rotate"])||0;b=b*kke/180;var x=f.get("position",!0),_=g&&f.get("showPlayBtn",!0),w=g&&f.get("showPrevBtn",!0),S=g&&f.get("showNextBtn",!0),M=0,k=p;"left"===x||"bottom"===x?(_&&(i=[0,0],M+=y),w&&(r=[M,0],M+=y),S&&(o=[k-m,0],k-=y)):(_&&(i=[k-m,0],k-=y),w&&(r=[0,0],M+=y),S&&(o=[k-m,0],k-=y));var C=[M,k];return e.get("inverse")&&C.reverse(),{viewRect:l,mainLength:p,orient:s,rotation:d[s],labelRotation:b,labelPosOpt:n,labelAlign:e.get(["label","align"])||u[s],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||h[s],playPosition:i,prevBtnPosition:r,nextBtnPosition:o,axisExtent:C,controlSize:m,controlGap:v}},t.prototype._position=function(e,t){var n=this._mainGroup,i=this._labelGroup,r=e.viewRect;if("vertical"===e.orient){var o=[1,0,0,1,0,0],a=r.x,s=r.y+r.height;mq(o,o,[-a,-s]),vq(o,o,-kke/2),mq(o,o,[a,s]),(r=r.clone()).applyTransform(o)}var l=m(r),c=m(n.getBoundingRect()),u=m(i.getBoundingRect()),h=[n.x,n.y],d=[i.x,i.y];d[0]=h[0]=l[0][0];var p,f=e.labelPosOpt;null==f||jU(f)?(v(h,c,l,1,p="+"===f?0:1),v(d,u,l,1,1-p)):(v(h,c,l,1,p=f>=0?0:1),d[1]=h[1]+f);function g(e){e.originX=l[0][0]-e.x,e.originY=l[1][0]-e.y}function m(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function v(e,t,n,i,r){e[i]+=n[i][r]-t[i][r]}n.setPosition(h),i.setPosition(d),n.rotation=i.rotation=e.rotation,g(n),g(i)},t.prototype._createAxis=function(e,t){var n=t.getData(),i=t.get("axisType"),r=function o(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new Hie({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new ire({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new $ie}}(t,i);r.getTicks=function(){return n.mapArray(["value"],function(e){return{value:e}})};var a=n.getDataExtent("value");r.setExtent(a[0],a[1]),r.calcNiceTicks();var s=new Mke("value",r,e.axisExtent,i);return s.model=t,s},t.prototype._createGroup=function(e){var t=this[e]=new FK;return this.group.add(t),t},t.prototype._renderAxisLine=function(e,t,n,i){var r=n.getExtent();if(i.get(["lineStyle","show"])){var o=new o5({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:AU({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});t.add(o);var a=this._progressLine=new o5({shape:{x1:r[0],x2:this._currentPointer?this._currentPointer.x:r[0],y1:0,y2:0},style:IU({lineCap:"round",lineWidth:o.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});t.add(a)}},t.prototype._renderAxisTick=function(e,t,n,i){var r=this,o=i.getData(),a=n.scale.getTicks();this._tickSymbols=[],LU(a,function(e){var a=n.dataToCoord(e.value),s=o.getItemModel(e.value),l=s.getModel("itemStyle"),c=s.getModel(["emphasis","itemStyle"]),u=s.getModel(["progress","itemStyle"]),h={x:a,y:0,onclick:VU(r._changeTimeline,r,e.value)},d=Ake(s,l,t,h);d.ensureState("emphasis").style=c.getItemStyle(),d.ensureState("progress").style=u.getItemStyle(),t2(d);var p=d1(d);s.get("tooltip")?(p.dataIndex=e.value,p.dataModel=i):p.dataIndex=p.dataModel=null,r._tickSymbols.push(d)})},t.prototype._renderAxisLabel=function(e,t,n,i){var r=this;if(n.getLabelModel().get("show")){var o=i.getData(),a=n.getViewLabels();this._tickLabels=[],LU(a,function(i){var a=i.tickValue,s=o.getItemModel(a),l=s.getModel("label"),c=s.getModel(["emphasis","label"]),u=s.getModel(["progress","label"]),h=n.dataToCoord(i.tickValue),d=new Q0({x:h,y:0,rotation:e.labelRotation-e.rotation,onclick:VU(r._changeTimeline,r,a),silent:!1,style:E3(l,{text:i.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});d.ensureState("emphasis").style=E3(c),d.ensureState("progress").style=E3(u),t.add(d),t2(d),Cke(d).dataIndex=a,r._tickLabels.push(d)})}},t.prototype._renderControl=function(e,t,n,i){var r=e.controlSize,o=e.rotation,a=i.getModel("controlStyle").getItemStyle(),s=i.getModel(["emphasis","controlStyle"]).getItemStyle(),l=i.getPlayState(),c=i.get("inverse",!0);function u(e,n,l,c){if(e){var u=TK(eX(i.get(["controlStyle",n+"BtnSize"]),r),r),h=function d(e,t,n,i){var r=i.style,o=r3(e.get(["controlStyle",t]),i||{},new Rq(n[0],n[1],n[2],n[3]));r&&o.setStyle(r);return o}(i,n+"Icon",[0,-u/2,u,u],{x:e[0],y:e[1],originX:r/2,originY:0,rotation:c?-o:0,rectHover:!0,style:a,onclick:l});h.ensureState("emphasis").style=s,t.add(h),t2(h)}}u(e.nextBtnPosition,"next",VU(this._changeTimeline,this,c?"-":"+")),u(e.prevBtnPosition,"prev",VU(this._changeTimeline,this,c?"+":"-")),u(e.playPosition,l?"stop":"play",VU(this._handlePlayClick,this,!l),!0)},t.prototype._renderCurrentPointer=function(e,t,n,i){var r=i.getData(),o=i.getCurrentIndex(),a=r.getItemModel(o).getModel("checkpointStyle"),s=this,l={onCreate:function(e){e.draggable=!0,e.drift=VU(s._handlePointerDrag,s),e.ondragend=VU(s._handlePointerDragend,s),Ike(e,s._progressLine,o,n,i,!0)},onUpdate:function(e){Ike(e,s._progressLine,o,n,i)}};this._currentPointer=Ake(a,a,this._mainGroup,{},this._currentPointer,l)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,t,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,t){var n=this._toAxisCoord(e)[0],i=tJ(this._axis.getExtent().slice());n>i[1]&&(n=i[1]),n<i[0]&&(n=i[0]),this._currentPointer.x=n,this._currentPointer.markRedraw();var r=this._progressLine;r&&(r.shape.x2=n,r.dirty());var o=this._findNearestTick(n),a=this.model;(t||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return Q5(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var t,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],function(n,o){var a=r.dataToCoord(n),s=Math.abs(a-e);s<i&&(i=s,t=o)}),t},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),t=this._tickSymbols,n=this._tickLabels;if(t)for(var i=0;i<t.length;i++)t&&t[i]&&t[i].toggleState("progress",i<e);if(n)for(i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",Cke(n[i]).dataIndex<=e)},t.type="timeline.slider",t}(Ske);function Ake(e,t,n,i,r,o){var a=t.get("color");r?(r.setColor(a),n.add(r),o&&o.onUpdate(r)):((r=Uee(e.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(r),o&&o.onCreate(r));var s=t.getItemStyle(["color"]);r.setStyle(s),i=CU({rectHover:!0,z2:100},i,!0);var l=Xee(e.get("symbolSize"));i.scaleX=l[0]/2,i.scaleY=l[1]/2;var c=qee(e.get("symbolOffset"),l);c&&(i.x=(i.x||0)+c[0],i.y=(i.y||0)+c[1]);var u=e.get("symbolRotate");return i.rotation=(u||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function Ike(e,t,n,i,r,o){if(!e.dragging){var a=r.getModel("checkpointStyle"),s=i.dataToCoord(r.getData().get("value",n));if(o||!a.get("animation",!0))e.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function Dke(e){var t=e&&e.timeline;WU(t)||(t=t?[t]:[]),LU(t,function(e){e&&function t(e){var t=e.type,n={number:"value",time:"time"};n[t]&&(e.axisType=n[t],delete e.type);if(Oke(e),Eke(e,"controlPosition")){var i=e.controlStyle||(e.controlStyle={});Eke(i,"position")||(i.position=e.controlPosition),"none"!==i.position||Eke(i,"show")||(i.show=!1,delete i.position),delete e.controlPosition}LU(e.data||[],function(e){XU(e)&&!WU(e)&&(!Eke(e,"value")&&Eke(e,"name")&&(e.value=e.name),Oke(e))})}(e)})}function Oke(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),i=e.label||e.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};LU(i,function(e,t){o[t]||Eke(r,t)||(r[t]=e)}),n.label&&!Eke(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function Eke(e,t){return e.hasOwnProperty(t)}function Lke(e,t){if(!e)return!1;for(var n=WU(e)?e:[e],i=0;i<n.length;i++)if(n[i]&&n[i][t])return!0;return!1}function Rke(e){kJ(e,"label",["show"])}var Nke=PJ(),Pke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.createdBySelf=!1,n.preventAutoZ=!0,n}return nU(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},t.prototype.isAnimationEnabled=function(){if(rU.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,t){this._mergeOption(e,t,!1,!1)},t.prototype._mergeOption=function(e,t,n,i){var r=this.mainType;n||t.eachSeries(function(e){var n=e.get(this.mainType,!0),o=Nke(e)[r];n&&n.data?(o?o._mergeOption(n,t,!0):(i&&Rke(n),LU(n.data,function(e){e instanceof Array?(Rke(e[0]),Rke(e[1])):Rke(e)}),AU(o=this.createMarkerModelFromSeries(n,this,t),{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),o.__hostSeries=e),Nke(e)[r]=o):Nke(e)[r]=null},this)},t.prototype.formatTooltip=function(e,t,n){var i=this.getData(),r=this.getRawValue(e),o=i.getName(e);return s7("section",{header:this.name,blocks:[s7("nameValue",{name:o,value:r,noName:!o,noValue:null==r})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,t){var n=x9.prototype.getDataParams.call(this,e,t),i=this.__hostSeries;return i&&(n.seriesId=i.id,n.seriesName=i.name,n.seriesType=i.subType),n},t.getMarkerModelFromSeries=function(e,t){return Nke(e)[t]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(D6);OU(Pke,x9.prototype);var zke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Pke);function Bke(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function Vke(e,t,n,i,r,o,a){var s=[],l=Mie(t,r)?t.getCalculationInfo("stackResultDimension"):r,c=Gke(t,l,e),u=t.hostModel.indicesOfNearest(n,l,c)[0];s[o]=t.get(i,u),s[a]=t.get(l,u);var h=t.get(r,u),d=nJ(t.get(r,u));return(d=Math.min(d,20))>=0&&(s[a]=+s[a].toFixed(d)),[s,h]}var Fke={min:HU(Vke,"min"),max:HU(Vke,"max"),average:HU(Vke,"average"),median:HU(Vke,"median")};function Hke(e,t){if(t){var n=e.getData(),i=e.coordinateSystem,r=i&&i.dimensions;if(!function p(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(t)&&!WU(t.coord)&&WU(r)){var o=Wke(t,n,i,e);if((t=kU(t)).type&&Fke[t.type]&&o.baseAxis&&o.valueAxis){var a=DU(r,o.baseAxis.dim),s=DU(r,o.valueAxis.dim),l=Fke[t.type](n,o.valueAxis.dim,o.baseDataDim,o.valueDataDim,a,s);t.coord=l[0],t.value=l[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null!=t.coord&&WU(r))for(var c=t.coord,u=0;u<2;u++)Fke[c[u]]&&(c[u]=Gke(n,n.mapDimension(r[u]),c[u]));else{t.coord=[];var h=e.getBaseAxis();if(h&&t.type&&Fke[t.type]){var d=i.getOtherAxis(h);d&&(t.value=Gke(n,n.mapDimension(d.dim),t.type))}}return t}}function Wke(e,t,n,i){var r={};return null!=e.valueIndex||null!=e.valueDim?(r.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,r.valueAxis=n.getAxis(function o(e,t){var n=e.getData().getDimensionInfo(t);return n&&n.coordDim}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function $ke(e,t){return!(e&&e.containData&&t.coord&&!Bke(t))||e.containData(t.coord)}function jke(e,t){return e?function(e,n,i,r){return k9(r<2?e.coord&&e.coord[r]:e.value,t[r])}:function(e,n,i,r){return k9(e.value,t[r])}}function Gke(e,t,n){if("average"===n){var i=0,r=0;return e.each(t,function(e,t){isNaN(e)||(i+=e,r++)}),i/r}return"median"===n?e.getMedian(t):e.getDataExtent(t)["max"===n?1:0]}var Uke=PJ(),Xke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.init=function(){this.markerGroupMap=dX()},t.prototype.render=function(e,t,n){var i=this,r=this.markerGroupMap;r.each(function(e){Uke(e).keep=!1}),t.eachSeries(function(e){var r=Pke.getMarkerModelFromSeries(e,i.type);r&&i.renderSeries(e,r,t,n)}),r.each(function(e){!Uke(e).keep&&i.group.remove(e.group)}),function o(e,t,n){e.eachSeries(function(e){var i=Pke.getMarkerModelFromSeries(e,n),r=t.get(e.id);if(i&&r&&r.group){var o=y3(i),a=o.z,s=o.zlevel;x3(r.group,a,s)}})}(t,r,this.type)},t.prototype.markKeep=function(e){Uke(e).keep=!0},t.prototype.toggleBlurSeries=function(e,t){var n=this;LU(e,function(e){var i=Pke.getMarkerModelFromSeries(e,n.type);i&&i.getData().eachItemGraphicEl(function(e){e&&(t?j1(e):G1(e))})})},t.type="marker",t}(O7);function qke(e,t,n){var i=t.coordinateSystem,r=n.getWidth(),o=n.getHeight(),a=i&&i.getArea&&i.getArea();e.each(function(n){var s,l=e.getItemModel(n),c="coordinate"===l.get("relativeTo"),u=c?a?a.width:0:r,h=c?a?a.height:0:o,d=c&&a?a.x:0,p=c&&a?a.y:0,f=KK(l.get("x"),u)+d,g=KK(l.get("y"),h)+p;if(isNaN(f)||isNaN(g)){if(t.getMarkerPosition)s=t.getMarkerPosition(e.getValues(e.dimensions,n));else if(i){var m=e.get(i.dimensions[0],n),v=e.get(i.dimensions[1],n);s=i.dataToPoint([m,v])}}else s=[f,g];isNaN(f)||(s[0]=f),isNaN(g)||(s[1]=g),e.setItemLayout(n,s)})}var Yke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries(function(e){var t=Pke.getMarkerModelFromSeries(e,"markPoint");t&&(qke(t.getData(),e,n),this.markerGroupMap.get(e.id).updateLayout())},this)},t.prototype.renderSeries=function(e,t,n,i){var r=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new Lse),c=function u(e,t,n){var i;i=e?RU(e&&e.dimensions,function(e){return AU(AU({},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{}),{name:e,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new vie(i,n),o=RU(n.get("data"),HU(Hke,t));e&&(o=PU(o,HU($ke,e)));var a=jke(!!e,i);return r.initData(o,null,a),r}(r,e,t);t.setData(c),qke(t.getData(),e,i),c.each(function(e){var n=c.getItemModel(e),i=n.getShallow("symbol"),r=n.getShallow("symbolSize"),o=n.getShallow("symbolRotate"),s=n.getShallow("symbolOffset"),l=n.getShallow("symbolKeepAspect");if($U(i)||$U(r)||$U(o)||$U(s)){var u=t.getRawValue(e),h=t.getDataParams(e);$U(i)&&(i=i(u,h)),$U(r)&&(r=r(u,h)),$U(o)&&(o=o(u,h)),$U(s)&&(s=s(u,h))}var d=n.getModel("itemStyle").getItemStyle(),p=n.get("z2"),f=Dee(a,"color");d.fill||(d.fill=f),c.setItemVisual(e,{z2:eX(p,0),symbol:i,symbolSize:r,symbolRotate:o,symbolOffset:s,symbolKeepAspect:l,style:d})}),l.updateData(c),this.group.add(l.group),c.eachItemGraphicEl(function(e){e.traverse(function(e){d1(e).dataModel=t})}),this.markKeep(l),l.group.silent=t.get("silent")||e.get("silent")},t.type="markPoint",t}(Xke);var Zke=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Pke),Kke=PJ(),Jke=function(e,t,n,i){var r,o=e.getData();if(WU(i))r=i;else{var a=i.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=t.getAxis(null!=i.yAxis?"y":"x"),l=QU(i.yAxis,i.xAxis);else{var c=Wke(i,o,t,e);s=c.valueAxis,l=Gke(o,kie(o,c.valueDataDim),a)}var u="x"===s.dim?0:1,h=1-u,d=kU(i),p={coord:[]};d.type=null,d.coord=[],d.coord[h]=-1/0,p.coord[h]=1/0;var f=n.get("precision");f>=0&&UU(l)&&(l=+l.toFixed(Math.min(f,20))),d.coord[u]=p.coord[u]=l,r=[d,p,{type:a,valueIndex:i.valueIndex,value:l}]}else r=[]}var g=[Hke(e,r[0]),Hke(e,r[1]),AU({},r[2])];return g[2].type=g[2].type||null,CU(g[2],g[0]),CU(g[2],g[1]),g};function Qke(e){return!isNaN(e)&&!isFinite(e)}function eCe(e,t,n,i){var r=1-e,o=i.dimensions[e];return Qke(t[r])&&Qke(n[r])&&t[e]===n[e]&&i.getAxis(o).containData(t[e])}function tCe(e,t){if("cartesian2d"===e.type){var n=t[0].coord,i=t[1].coord;if(n&&i&&(eCe(1,n,i,e)||eCe(0,n,i,e)))return!0}return $ke(e,t[0])&&$ke(e,t[1])}function nCe(e,t,n,i,r){var o,a=i.coordinateSystem,s=e.getItemModel(t),l=KK(s.get("x"),r.getWidth()),c=KK(s.get("y"),r.getHeight());if(isNaN(l)||isNaN(c)){if(i.getMarkerPosition)o=i.getMarkerPosition(e.getValues(e.dimensions,t));else{var u=a.dimensions,h=e.get(u[0],t),d=e.get(u[1],t);o=a.dataToPoint([h,d])}if(Xse(a,"cartesian2d")){var p=a.getAxis("x"),f=a.getAxis("y");u=a.dimensions;Qke(e.get(u[0],t))?o[0]=p.toGlobalCoord(p.getExtent()[n?0:1]):Qke(e.get(u[1],t))&&(o[1]=f.toGlobalCoord(f.getExtent()[n?0:1]))}isNaN(l)||(o[0]=l),isNaN(c)||(o[1]=c)}else o=[l,c];e.setItemLayout(t,o)}var iCe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries(function(e){var t=Pke.getMarkerModelFromSeries(e,"markLine");if(t){var i=t.getData(),r=Kke(t).from,o=Kke(t).to;r.each(function(t){nCe(r,t,!0,e,n),nCe(o,t,!1,e,n)}),i.each(function(e){i.setItemLayout(e,[r.getItemLayout(e),o.getItemLayout(e)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,t,n,i){var r=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new Yfe);this.group.add(l.group);var c=function u(e,t,n){var i;i=e?RU(e&&e.dimensions,function(e){return AU(AU({},t.getData().getDimensionInfo(t.getData().mapDimension(e))||{}),{name:e,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new vie(i,n),o=new vie(i,n),a=new vie([],n),s=RU(n.get("data"),HU(Jke,t,e,n));e&&(s=PU(s,HU(tCe,e)));var l=jke(!!e,i);return r.initData(RU(s,function(e){return e[0]}),null,l),o.initData(RU(s,function(e){return e[1]}),null,l),a.initData(RU(s,function(e){return e[2]})),a.hasItemOption=!0,{from:r,to:o,line:a}}(r,e,t),h=c.from,d=c.to,p=c.line;Kke(t).from=h,Kke(t).to=d,t.setData(p);var f=t.get("symbol"),g=t.get("symbolSize"),m=t.get("symbolRotate"),v=t.get("symbolOffset");function y(t,n,r){var o=t.getItemModel(n);nCe(t,n,r,e,i);var s=o.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=Dee(a,"color")),t.setItemVisual(n,{symbolKeepAspect:o.get("symbolKeepAspect"),symbolOffset:eX(o.get("symbolOffset",!0),v[r?0:1]),symbolRotate:eX(o.get("symbolRotate",!0),m[r?0:1]),symbolSize:eX(o.get("symbolSize"),g[r?0:1]),symbol:eX(o.get("symbol",!0),f[r?0:1]),style:s})}WU(f)||(f=[f,f]),WU(g)||(g=[g,g]),WU(m)||(m=[m,m]),WU(v)||(v=[v,v]),c.from.each(function(e){y(h,e,!0),y(d,e,!1)}),p.each(function(e){var t=p.getItemModel(e),n=t.getModel("lineStyle").getLineStyle();p.setItemLayout(e,[h.getItemLayout(e),d.getItemLayout(e)]);var i=t.get("z2");null==n.stroke&&(n.stroke=h.getItemVisual(e,"style").fill),p.setItemVisual(e,{z2:eX(i,0),fromSymbolKeepAspect:h.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(e,"symbolOffset"),fromSymbolRotate:h.getItemVisual(e,"symbolRotate"),fromSymbolSize:h.getItemVisual(e,"symbolSize"),fromSymbol:h.getItemVisual(e,"symbol"),toSymbolKeepAspect:d.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(e,"symbolOffset"),toSymbolRotate:d.getItemVisual(e,"symbolRotate"),toSymbolSize:d.getItemVisual(e,"symbolSize"),toSymbol:d.getItemVisual(e,"symbol"),style:n})}),l.updateData(p),c.line.eachItemGraphicEl(function(e){d1(e).dataModel=t,e.traverse(function(e){d1(e).dataModel=t})}),this.markKeep(l),l.group.silent=t.get("silent")||e.get("silent")},t.type="markLine",t}(Xke);var rCe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Pke),oCe=PJ(),aCe=function(e,t,n,i){var r=i[0],o=i[1];if(r&&o){var a=Hke(e,r),s=Hke(e,o),l=a.coord,c=s.coord;l[0]=QU(l[0],-1/0),l[1]=QU(l[1],-1/0),c[0]=QU(c[0],1/0),c[1]=QU(c[1],1/0);var u=TU([{},a,s]);return u.coord=[a.coord,s.coord],u.x0=a.x,u.y0=a.y,u.x1=s.x,u.y1=s.y,u}};function sCe(e){return!isNaN(e)&&!isFinite(e)}function lCe(e,t,n,i){var r=1-e;return sCe(t[r])&&sCe(n[r])}function cCe(e,t){var n=t.coord[0],i=t.coord[1],r={coord:n,x:t.x0,y:t.y0},o={coord:i,x:t.x1,y:t.y1};return Xse(e,"cartesian2d")?!(!n||!i||!lCe(1,n,i)&&!lCe(0,n,i))||function a(e,t,n){return!(e&&e.containZone&&t.coord&&n.coord&&!Bke(t)&&!Bke(n))||e.containZone(t.coord,n.coord)}(e,r,o):$ke(e,r)||$ke(e,o)}function uCe(e,t,n,i,r){var o,a=i.coordinateSystem,s=e.getItemModel(t),l=KK(s.get(n[0]),r.getWidth()),c=KK(s.get(n[1]),r.getHeight());if(isNaN(l)||isNaN(c)){if(i.getMarkerPosition){var u=e.getValues(["x0","y0"],t),h=e.getValues(["x1","y1"],t),d=a.clampData(u),p=a.clampData(h),f=[];"x0"===n[0]?f[0]=d[0]>p[0]?h[0]:u[0]:f[0]=d[0]>p[0]?u[0]:h[0],"y0"===n[1]?f[1]=d[1]>p[1]?h[1]:u[1]:f[1]=d[1]>p[1]?u[1]:h[1],o=i.getMarkerPosition(f,n,!0)}else{var g=[y=e.get(n[0],t),b=e.get(n[1],t)];a.clampData&&a.clampData(g,g),o=a.dataToPoint(g,!0)}if(Xse(a,"cartesian2d")){var m=a.getAxis("x"),v=a.getAxis("y"),y=e.get(n[0],t),b=e.get(n[1],t);sCe(y)?o[0]=m.toGlobalCoord(m.getExtent()["x0"===n[0]?0:1]):sCe(b)&&(o[1]=v.toGlobalCoord(v.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(c)||(o[1]=c)}else o=[l,c];return o}var hCe=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],dCe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.updateTransform=function(e,t,n){t.eachSeries(function(e){var t=Pke.getMarkerModelFromSeries(e,"markArea");if(t){var i=t.getData();i.each(function(t){var r=RU(hCe,function(r){return uCe(i,t,r,e,n)});i.setItemLayout(t,r),i.getItemGraphicEl(t).setShape("points",r)})}},this)},t.prototype.renderSeries=function(e,t,n,i){var r=e.coordinateSystem,o=e.id,a=e.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,{group:new FK});this.group.add(l.group),this.markKeep(l);var c=function u(e,t,n){var i,r,o=["x0","y0","x1","y1"];if(e){var a=RU(e&&e.dimensions,function(e){var n=t.getData();return AU(AU({},n.getDimensionInfo(n.mapDimension(e))||{}),{name:e,ordinalMeta:null})});r=RU(o,function(e,t){return{name:e,type:a[t%2].type}}),i=new vie(r,n)}else i=new vie(r=[{name:"value",type:"float"}],n);var s=RU(n.get("data"),HU(aCe,t,e,n));e&&(s=PU(s,HU(cCe,e)));var l=e?function(e,t,n,i){return k9(e.coord[Math.floor(i/2)][i%2],r[i])}:function(e,t,n,i){return k9(e.value,r[i])};return i.initData(s,null,l),i.hasItemOption=!0,i}(r,e,t);t.setData(c),c.each(function(t){var n=RU(hCe,function(n){return uCe(c,t,n,e,i)}),o=r.getAxis("x").scale,s=r.getAxis("y").scale,l=o.getExtent(),u=s.getExtent(),h=[o.parse(c.get("x0",t)),o.parse(c.get("x1",t))],d=[s.parse(c.get("y0",t)),s.parse(c.get("y1",t))];tJ(h),tJ(d);var p=!!(l[0]>h[1]||l[1]<h[0]||u[0]>d[1]||u[1]<d[0]);c.setItemLayout(t,{points:n,allClipped:p});var f=c.getItemModel(t),g=f.getModel("itemStyle").getItemStyle(),m=f.get("z2"),v=Dee(a,"color");g.fill||(g.fill=v,jU(g.fill)&&(g.fill=eZ(g.fill,.4))),g.stroke||(g.stroke=v),c.setItemVisual(t,"style",g),c.setItemVisual(t,"z2",eX(m,0))}),c.diff(oCe(l).data).add(function(e){var t=c.getItemLayout(e),n=c.getItemVisual(e,"z2");if(!t.allClipped){var i=new e5({z2:eX(n,0),shape:{points:t.points}});c.setItemGraphicEl(e,i),l.group.add(i)}}).update(function(e,n){var i=oCe(l).data.getItemGraphicEl(n),r=c.getItemLayout(e),o=c.getItemVisual(e,"z2");r.allClipped?i&&l.group.remove(i):(i?D5(i,{z2:eX(o,0),shape:{points:r.points}},t,e):i=new e5({shape:{points:r.points}}),c.setItemGraphicEl(e,i),l.group.add(i))}).remove(function(e){var t=oCe(l).data.getItemGraphicEl(e);l.group.remove(t)}).execute(),c.eachItemGraphicEl(function(e,n){var i=c.getItemModel(n),r=c.getItemVisual(n,"style");e.useStyle(c.getItemVisual(n,"style")),D3(e,O3(i),{labelFetcher:t,labelDataIndex:n,defaultText:c.getName(n)||"",inheritColor:jU(r.fill)?eZ(r.fill,1):R6.color.neutral99}),a2(e,i),n2(e,null,null,i.get(["emphasis","disabled"])),d1(e).dataModel=t}),oCe(l).data=c,l.group.silent=t.get("silent")||e.get("silent")},t.type="markArea",t}(Xke);var pCe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return nU(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},t.prototype._updateSelector=function(e){var t=e.selector,n=this.ecModel;!0===t&&(t=e.selector=["all","inverse"]),WU(t)&&LU(t,function(e,i){jU(e)&&(e={type:e}),t[i]=CU(e,function(e,t){return"all"===t?{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(n,e.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}!t&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var t=[],n=[];e.eachRawSeries(function(i){var r,o=i.name;if(n.push(o),i.legendVisualProvider){var a=i.legendVisualProvider.getAllNames();e.isSeriesFiltered(i)||(n=n.concat(a)),a.length?t=t.concat(a):r=!0}else r=!0;r&&LJ(i)&&t.push(i.name)}),this._availableNames=n;var i=this.get("data")||t,r=dX(),o=RU(i,function(e){return(jU(e)||UU(e))&&(e={name:e}),r.get(e.name)?null:(r.set(e.name,!0),new Q3(e,this,this.ecModel))},this);this._data=PU(o,function(e){return!!e})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&LU(this._data,function(e){t[e.get("name")]=!1});t[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,t=this.option.selected;LU(e,function(e){t[e.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;LU(e,function(e){var n=e.get("name",!0);t.hasOwnProperty(n)||(t[n]=!0),t[n]=!t[n]})},t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&DU(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:R6.size.m,align:"auto",backgroundColor:R6.color.transparent,borderColor:R6.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:R6.color.disabled,inactiveBorderColor:R6.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:R6.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:R6.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:R6.color.tertiary,borderWidth:1,borderColor:R6.color.border},emphasis:{selectorLabel:{show:!0,color:R6.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},t}(D6),fCe=HU,gCe=LU,mCe=FK,vCe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return nU(t,e),t.prototype.init=function(){this.group.add(this._contentGroup=new mCe),this.group.add(this._selectorGroup=new mCe),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,t,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var r=e.get("align"),o=e.get("orient");r&&"auto"!==r||(r="right"===e.get("left")&&"vertical"===o?"right":"left");var a=e.get("selector",!0),s=e.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===o?"end":"start"),this.renderInner(r,e,t,n,a,o,s);var l=S6(e,n).refContainer,c=e.getBoxLayoutParams(),u=e.get("padding"),h=x6(c,l,u),d=this.layoutInner(e,r,h,i,a,s),p=x6(IU({width:d.width,height:d.height},c),l,u);this.group.x=p.x-d.x,this.group.y=p.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=USe(d,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,t,n,i,r,o,a){var s=this.getContentGroup(),l=dX(),c=t.get("selectedMode"),u=t.get("triggerEvent"),h=[];n.eachRawSeries(function(e){!e.get("legendHoverLink")&&h.push(e.id)}),gCe(t.getData(),function(r,o){var a=this,d=r.get("name");if(!this.newlineDisabled&&(""===d||"\n"===d)){var p=new mCe;return p.newline=!0,void s.add(p)}var f=n.getSeriesByName(d)[0];if(!l.get(d))if(f){var g=f.getData(),m=g.getVisual("legendLineStyle")||{},v=g.getVisual("legendIcon"),y=g.getVisual("style"),b=this._createItem(f,d,o,r,t,e,m,y,v,c,i);b.on("click",fCe(yCe,d,null,i,h)).on("mouseover",fCe(xCe,f.name,null,i,h)).on("mouseout",fCe(_Ce,f.name,null,i,h)),n.ssr&&b.eachChild(function(e){var t=d1(e);t.seriesIndex=f.seriesIndex,t.dataIndex=o,t.ssrType="legend"}),u&&b.eachChild(function(e){a.packEventData(e,t,f,o,d)}),l.set(d,!0)}else n.eachRawSeries(function(a){var s=this;if(!l.get(d)&&a.legendVisualProvider){var p=a.legendVisualProvider;if(!p.containName(d))return;var f=p.indexOfName(d),g=p.getItemVisual(f,"style"),m=p.getItemVisual(f,"legendIcon"),v=YY(g.fill);v&&0===v[3]&&(v[3]=.2,g=AU(AU({},g),{fill:tZ(v,"rgba")}));var y=this._createItem(a,d,o,r,t,e,{},g,m,c,i);y.on("click",fCe(yCe,null,d,i,h)).on("mouseover",fCe(xCe,null,d,i,h)).on("mouseout",fCe(_Ce,null,d,i,h)),n.ssr&&y.eachChild(function(e){var t=d1(e);t.seriesIndex=a.seriesIndex,t.dataIndex=o,t.ssrType="legend"}),u&&y.eachChild(function(e){s.packEventData(e,t,a,o,d)}),l.set(d,!0)}},this)},this),r&&this._createSelector(r,t,i,o,a)},t.prototype.packEventData=function(e,t,n,i,r){var o={componentType:"legend",componentIndex:t.componentIndex,dataIndex:i,value:r,seriesIndex:n.seriesIndex};d1(e).eventData=o},t.prototype._createSelector=function(e,t,n,i,r){var o=this.getSelectorGroup();gCe(e,function e(i){var r=i.type,a=new Q0({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect",legendId:t.id})}});o.add(a),D3(a,{normal:t.getModel("selectorLabel"),emphasis:t.getModel(["emphasis","selectorLabel"])},{defaultText:i.title}),t2(a)})},t.prototype._createItem=function(e,t,n,i,r,o,a,s,l,c,u){var h=e.visualDrawType,d=r.get("itemWidth"),p=r.get("itemHeight"),f=r.isSelected(t),g=i.get("symbolRotate"),m=i.get("symbolKeepAspect"),v=i.get("icon"),y=function b(e,t,n,i,r,o,a){function s(e,t){"auto"===e.lineWidth&&(e.lineWidth=t.lineWidth>0?2:0),gCe(e,function(n,i){"inherit"===e[i]&&(e[i]=t[i])})}var l=t.getModel("itemStyle"),c=l.getItemStyle(),u=0===e.lastIndexOf("empty",0)?"fill":"stroke",h=l.getShallow("decal");c.decal=h&&"inherit"!==h?bte(h,a):i.decal,"inherit"===c.fill&&(c.fill=i[r]);"inherit"===c.stroke&&(c.stroke=i[u]);"inherit"===c.opacity&&(c.opacity=("fill"===r?i:n).opacity);s(c,i);var d=t.getModel("lineStyle"),p=d.getLineStyle();if(s(p,n),"auto"===c.fill&&(c.fill=i.fill),"auto"===c.stroke&&(c.stroke=i.fill),"auto"===p.stroke&&(p.stroke=i.fill),!o){var f=t.get("inactiveBorderWidth"),g=c[u];c.lineWidth="auto"===f?i.lineWidth>0&&g?2:0:c.lineWidth,c.fill=t.get("inactiveColor"),c.stroke=t.get("inactiveBorderColor"),p.stroke=d.get("inactiveColor"),p.lineWidth=d.get("inactiveWidth")}return{itemStyle:c,lineStyle:p}}(l=v||l||"roundRect",i,a,s,h,f,u),x=new mCe,_=i.getModel("textStyle");if(!$U(e.getLegendIcon)||v&&"inherit"!==v){var w="inherit"===v&&e.getData().getVisual("symbol")?"inherit"===g?e.getData().getVisual("symbolRotate"):g:0;x.add(function t(e){var t=e.icon||"roundRect",n=Uee(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill=R6.color.neutral00,n.style.lineWidth=2);return n}({itemWidth:d,itemHeight:p,icon:l,iconRotate:w,itemStyle:y.itemStyle,symbolKeepAspect:m}))}else x.add(e.getLegendIcon({itemWidth:d,itemHeight:p,icon:l,iconRotate:g,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}));var S="left"===o?d+5:-5,M=o,k=r.get("formatter"),C=t;jU(k)&&k?C=k.replace("{name}",null!=t?t:""):$U(k)&&(C=k(t));var T=f?_.getTextColor():i.get("inactiveColor");x.add(new Q0({style:E3(_,{text:C,x:S,y:p/2,fill:T,align:M,verticalAlign:"middle"},{inheritColor:T})}));var A=new Y0({shape:x.getBoundingRect(),style:{fill:"transparent"}}),I=i.getModel("tooltip");return I.get("show")&&h3({el:A,componentModel:r,itemName:t,itemTooltipOption:I.option}),x.add(A),x.eachChild(function(e){e.silent=!0}),A.silent=!c,this.getContentGroup().add(x),t2(x),x.__legendDataIndex=n,x},t.prototype.layoutInner=function(e,t,n,i,r,o){var a=this.getContentGroup(),s=this.getSelectorGroup();v6(e.get("orient"),a,e.get("itemGap"),n.width,n.height);var l=a.getBoundingRect(),c=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),r){v6("horizontal",s,e.get("selectorItemGap",!0));var u=s.getBoundingRect(),h=[-u.x,-u.y],d=e.get("selectorButtonGap",!0),p=e.getOrient().index,f=0===p?"width":"height",g=0===p?"height":"width",m=0===p?"y":"x";"end"===o?h[p]+=l[f]+d:c[p]+=u[f]+d,h[1-p]+=l[g]/2-u[g]/2,s.x=h[0],s.y=h[1],a.x=c[0],a.y=c[1];var v={x:0,y:0};return v[f]=l[f]+d+u[f],v[g]=Math.max(l[g],u[g]),v[m]=Math.min(0,u[m]+h[1-p]),v}return a.x=c[0],a.y=c[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(O7);function yCe(e,t,n,i){_Ce(e,t,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),xCe(e,t,n,i)}function bCe(e){for(var t,n=e.getZr().storage.getDisplayList(),i=0,r=n.length;i<r&&!(t=n[i].states.emphasis);)i++;return t&&t.hoverLayer}function xCe(e,t,n,i){bCe(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:i})}function _Ce(e,t,n,i){bCe(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:i})}function wCe(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}function SCe(e,t,n){var i="allSelect"===e||"inverseSelect"===e,r={},o=[];n.eachComponent({mainType:"legend",query:t},function(n){i?n[e]():n[e](t.name),MCe(n,r),o.push(n.componentIndex)});var a={};return n.eachComponent("legend",function(e){LU(r,function(t,n){e[t?"select":"unSelect"](n)}),MCe(e,a)}),i?{selected:a,legendIndex:o}:{name:t.name,selected:a}}function MCe(e,t){var n=t||{};return LU(e.getData(),function(t){var i=t.get("name");if("\n"!==i&&""!==i){var r=e.isSelected(i);mX(n,i)?n[i]=n[i]&&r:n[i]=r}}),n}function kCe(e){e.registerComponentModel(pCe),e.registerComponentView(vCe),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,wCe),e.registerSubTypeDefaulter("legend",function(){return"plain"}),function t(e){e.registerAction("legendToggleSelect","legendselectchanged",HU(SCe,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",HU(SCe,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",HU(SCe,"inverseSelect")),e.registerAction("legendSelect","legendselected",HU(SCe,"select")),e.registerAction("legendUnSelect","legendunselected",HU(SCe,"unSelect"))}(e)}var CCe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(t,n,i){var r=T6(t);e.prototype.init.call(this,t,n,i),TCe(this,t,r)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),TCe(this,this.option,t)},t.type="legend.scroll",t.defaultOption=i4(pCe.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:R6.color.accent50,pageIconInactiveColor:R6.color.accent10,pageIconSize:15,pageTextStyle:{color:R6.color.tertiary},animationDurationUpdate:800}),t}(pCe);function TCe(e,t,n){var i=[1,1];i[e.getOrient().index]=0,C6(t,n,{type:"box",ignoreSize:!!i})}var ACe=FK,ICe=["width","height"],DCe=["x","y"],OCe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return nU(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new ACe),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ACe)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(t,n,i,r,o,a,s){var l=this;e.prototype.renderInner.call(this,t,n,i,r,o,a,s);var c=this._controllerGroup,u=n.get("pageIconSize",!0),h=WU(u)?u:[u,u];p("pagePrev",0);var d=n.getModel("pageTextStyle");function p(e,t){var i=e+"DataIndex",o=r3(n.get("pageIcons",!0)[n.getOrient().name][t],{onclick:VU(l._pageGo,l,i,n,r)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});o.name=e,c.add(o)}c.add(new Q0({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1)},t.prototype.layoutInner=function(e,t,n,i,r,o){var a=this.getSelectorGroup(),s=e.getOrient().index,l=ICe[s],c=DCe[s],u=ICe[1-s],h=DCe[1-s];r&&v6("horizontal",a,e.get("selectorItemGap",!0));var d=e.get("selectorButtonGap",!0),p=a.getBoundingRect(),f=[-p.x,-p.y],g=kU(n);r&&(g[l]=n[l]-p[l]-d);var m=this._layoutContentAndController(e,i,g,s,l,u,h,c);if(r){if("end"===o)f[s]+=m[l]+d;else{var v=p[l]+d;f[s]-=v,m[c]-=v}m[l]+=p[l]+d,f[1-s]+=m[h]+m[u]/2-p[u]/2,m[u]=Math.max(m[u],p[u]),m[h]=Math.min(m[h],p[h]+f[1-s]),a.x=f[0],a.y=f[1],a.markRedraw()}return m},t.prototype._layoutContentAndController=function(e,t,n,i,r,o,a,s){var l=this.getContentGroup(),c=this._containerGroup,u=this._controllerGroup;v6(e.get("orient"),l,e.get("itemGap"),i?n.width:null,i?null:n.height),v6("horizontal",u,e.get("pageButtonItemGap",!0));var h=l.getBoundingRect(),d=u.getBoundingRect(),p=this._showController=h[r]>n[r],f=[-h.x,-h.y];t||(f[i]=l[s]);var g=[0,0],m=[-d.x,-d.y],v=eX(e.get("pageButtonGap",!0),e.get("itemGap",!0));p&&("end"===e.get("pageButtonPosition",!0)?m[i]+=n[r]-d[r]:g[i]+=d[r]+v);m[1-i]+=h[o]/2-d[o]/2,l.setPosition(f),c.setPosition(g),u.setPosition(m);var y={x:0,y:0};if(y[r]=p?n[r]:h[r],y[o]=Math.max(h[o],d[o]),y[a]=Math.min(0,d[a]+m[1-i]),c.__rectSize=n[r],p){var b={x:0,y:0};b[r]=Math.max(n[r]-d[r]-v,0),b[o]=y[o],c.setClipPath(new Y0({shape:b})),c.__rectSize=b[r]}else u.eachChild(function(e){e.attr({invisible:!0,silent:!0})});var x=this._getPageInfo(e);return null!=x.pageIndex&&D5(l,{x:x.contentPosition[0],y:x.contentPosition[1]},p?e:null),this._updatePageInfoView(e,x),y},t.prototype._pageGo=function(e,t,n){var i=this._getPageInfo(t)[e];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:t.id})},t.prototype._updatePageInfoView=function(e,t){var n=this._controllerGroup;LU(["pagePrev","pageNext"],function(i){var r=null!=t[i+"DataIndex"],o=n.childOfName(i);o&&(o.setStyle("fill",r?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),o.cursor=r?"pointer":"default")});var i=n.childOfName("pageText"),r=e.get("pageFormatter"),o=t.pageIndex,a=null!=o?o+1:0,s=t.pageCount;i&&r&&i.setStyle("text",jU(r)?r.replace("{current}",null==a?"":a+"").replace("{total}",null==s?"":s+""):r({current:a,total:s}))},t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=e.getOrient().index,o=ICe[r],a=DCe[r],s=this._findTargetItemIndex(t),l=n.children(),c=l[s],u=l.length,h=u?1:0,d={contentPosition:[n.x,n.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return d;var p=y(c);d.contentPosition[r]=-p.s;for(var f=s+1,g=p,m=p,v=null;f<=u;++f)(!(v=y(l[f]))&&m.e>g.s+i||v&&!b(v,g.s))&&(g=m.i>g.i?m:v)&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount),m=v;for(f=s-1,g=p,m=p,v=null;f>=-1;--f)(v=y(l[f]))&&b(m,v.s)||!(g.i<m.i)||(m=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=v;return d;function y(e){if(e){var t=e.getBoundingRect(),n=t[a]+e[a];return{s:n,e:n+t[o],i:e.__legendDataIndex}}}function b(e,t){return e.e>=t&&e.s<=t+i}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(i,r){var o=i.__legendDataIndex;null==n&&null!=o&&(n=r),o===e&&(t=r)}),null!=t?t:n):0;var t,n},t.type="legend.scroll",t}(vCe);function ECe(e){jne(kCe),e.registerComponentModel(CCe),e.registerComponentView(OCe),function t(e){e.registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(e){e.setScrollDataIndex(n)})})}(e)}var LCe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="dataZoom.inside",t.defaultOption=i4(ISe.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(ISe),RCe=PJ();function NCe(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function PCe(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function zCe(e,t,n,i){return e.coordinateSystem.containPoint([n,i])}function BCe(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(e,t){var n=RCe(t),i=n.coordSysRecordMap||(n.coordSysRecordMap=dX());i.each(function(e){e.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(e){LU(TSe(e).infoList,function(n){var r=n.model.uid,o=i.get(r)||i.set(r,function a(e,t){var n={model:t,containsPoint:HU(zCe,t),dispatchAction:HU(PCe,e),dataZoomInfoMap:null,controller:null},i=n.controller=new the(e.getZr());return LU(["pan","zoom","scrollMove"],function(e){i.on(e,function(t){var i=[];n.dataZoomInfoMap.each(function(r){if(t.isAvailableBehavior(r.model.option)){var o=(r.getRange||{})[e],a=o&&o(r.dzReferCoordSysInfo,n.model.mainType,n.controller,t);!r.model.get("disabled",!0)&&a&&i.push({dataZoomId:r.model.id,start:a[0],end:a[1]})}}),i.length&&n.dispatchAction(i)})}),n}(t,n.model));(o.dataZoomInfoMap||(o.dataZoomInfoMap=dX())).set(e.uid,{dzReferCoordSysInfo:n,model:e,getRange:null})})}),i.each(function(e){var n,r=e.controller,o=e.dataZoomInfoMap;if(o){var a=o.keys()[0];null!=a&&(n=o.get(a))}if(n){var s=function i(e,t,n){var i,r="type_",o={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return e.each(function(e){var t=e.model,n=!t.get("disabled",!0)&&(!t.get("zoomLock",!0)||"move");o[r+n]>o[r+i]&&(i=n),a=a&&t.get("preventDefaultMouseMove",!0)}),{controlType:i,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a,api:n,zInfo:{component:t.model},triggerInfo:{roamTrigger:null,isInSelf:t.containsPoint}}}}(o,e,t);r.enable(s.controlType,s.opt),G7(e,"dispatchAction",n.model.get("throttle",!0),"fixRate")}else NCe(i,e)})})}var VCe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return nU(t,e),t.prototype.render=function(t,n,i){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),function r(e,t,n){RCe(e).coordSysRecordMap.each(function(e){var i=e.dataZoomInfoMap.get(t.uid);i&&(i.getRange=n)})}(i,t,{pan:VU(FCe.pan,this),zoom:VU(FCe.zoom,this),scrollMove:VU(FCe.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){!function e(t,n){for(var i=RCe(t).coordSysRecordMap,r=i.keys(),o=0;o<r.length;o++){var a=r[o],s=i.get(a),l=s.dataZoomInfoMap;if(l){var c=n.uid;l.get(c)&&(l.removeKey(c),l.keys().length||NCe(i,s))}}}(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(ESe),FCe={zoom:function(e,t,n,i){var r=this.range,o=r.slice(),a=e.axisModels[0];if(a){var s=WCe[t](null,[i.originX,i.originY],a,n,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],c=Math.max(1/i.scale,0);o[0]=(o[0]-l)*c+l,o[1]=(o[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Jge(0,o,[0,100],0,u.minSpan,u.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:HCe(function(e,t,n,i,r,o){var a=WCe[i]([o.oldX,o.oldY],[o.newX,o.newY],t,r,n);return a.signal*(e[1]-e[0])*a.pixel/a.pixelLength}),scrollMove:HCe(function(e,t,n,i,r,o){return WCe[i]([0,0],[o.scrollDelta,o.scrollDelta],t,r,n).signal*(e[1]-e[0])*o.scrollDelta})};function HCe(e){return function(t,n,i,r){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s)return Jge(e(a,s,t,n,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var WCe={grid:function(e,t,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem.getRect();return e=e||[0,0],"x"===o.dim?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(e,t,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),"radiusAxis"===n.mainType?(a.pixel=t[0]-e[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=c[1]-c[0],a.pixelStart=c[0],a.signal=o.inverse?-1:1),a},singleAxis:function(e,t,n,i,r){var o=n.axis,a=r.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===o.orient?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};function $Ce(e){VSe(e),e.registerComponentModel(LCe),e.registerComponentView(VCe),BCe(e)}var jCe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=i4(ISe.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:R6.color.accent10,borderRadius:0,backgroundColor:R6.color.transparent,dataBackground:{lineStyle:{color:R6.color.accent30,width:.5},areaStyle:{color:R6.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:R6.color.accent40,width:.5},areaStyle:{color:R6.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:R6.color.neutral00,borderColor:R6.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:R6.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:R6.color.tertiary},brushSelect:!0,brushStyle:{color:R6.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:R6.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),t}(ISe),GCe=Y0,UCe="horizontal",XCe="vertical",qCe=["line","bar","candlestick","scatter"],YCe={easing:"cubicOut",duration:100,delay:0},ZCe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return nU(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=VU(this._onBrush,this),this._onBrushEnd=VU(this._onBrushEnd,this)},t.prototype.render=function(t,n,i,r){if(e.prototype.render.apply(this,arguments),G7(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){U7(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new FK;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,n=e.get("brushSelect")?7:0,i=S6(e,t).refContainer,r=this._findCoordRect(),o=e.get("defaultLocationEdgeGap",!0)||0,a=this._orient===UCe?{right:i.width-r.x-r.width,top:i.height-30-o-n,width:r.width,height:30}:{right:o,top:r.y,width:30,height:r.height},s=T6(e.option);LU(["right","top","width","height"],function(e){"ph"===s[e]&&(s[e]=a[e])});var l=x6(s,i);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===XCe&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),o=this._displayables.sliderGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==UCe||r?n===UCe&&r?{scaleY:a?1:-1,scaleX:-1}:n!==XCe||r?{scaleY:a?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:a?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:a?1:-1,scaleX:1});var s=e.getBoundingRect([o]);e.x=t.x-s.x,e.y=t.y-s.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.sliderGroup,i=e.get("brushSelect");n.add(new GCe({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var r=new GCe({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:VU(this._onClickPanel,this)}),o=this.api.getZr();i?(r.on("mousedown",this._onBrushStart,this),r.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),n.add(r)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,n=this._shadowSize||[],i=e.series,r=i.getRawData(),o=i.getShadowDim&&i.getShadowDim(),a=o&&r.getDimensionInfo(o)?i.getShadowDim():e.otherDim;if(null!=a){var s=this._shadowPolygonPts,l=this._shadowPolylinePts;if(r!==this._shadowData||a!==this._shadowDim||t[0]!==n[0]||t[1]!==n[1]){var c=r.getDataExtent(e.thisDim),u=r.getDataExtent(a),h=.3*(u[1]-u[0]);u=[u[0]-h,u[1]+h];var d,p=[0,t[1]],f=[0,t[0]],g=[[t[0],0],[0,0]],m=[],v=f[1]/Math.max(1,r.count()-1),y=t[0]/(c[1]-c[0]),b="time"===e.thisAxis.type,x=-v,_=Math.round(r.count()/t[0]);r.each([e.thisDim,a],function(e,t,n){if(_>0&&n%_)b||(x+=v);else{x=b?(+e-c[0])*y:x+v;var i=null==t||isNaN(t)||""===t,r=i?0:ZK(t,u,p,!0);i&&!d&&n?(g.push([g[g.length-1][0],0]),m.push([m[m.length-1][0],0])):!i&&d&&(g.push([x,0]),m.push([x,0])),i||(g.push([x,r]),m.push([x,r])),d=i}}),s=this._shadowPolygonPts=g,l=this._shadowPolylinePts=m}this._shadowData=r,this._shadowDim=a,this._shadowSize=[t[0],t[1]];for(var w=this.dataZoomModel,S=0;S<3;S++){var M=k(1===S);this._displayables.sliderGroup.add(M),this._displayables.dataShadowSegs.push(M)}}}function k(e){var t=w.getModel(e?"selectedDataBackground":"dataBackground"),n=new FK,i=new e5({shape:{points:s},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),r=new n5({shape:{points:l},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(i),n.add(r),n}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,i=this.ecModel;return e.eachTargetAxis(function(r,o){LU(e.getAxisProxy(r,o).getTargetSeriesModels(),function(e){if(!(n||!0!==t&&DU(qCe,e.get("type"))<0)){var a,s=i.getComponent(kSe(r),o).axis,l=function t(e){return{x:"y",y:"x",radius:"angle",angle:"radius"}[e]}(r),c=e.coordinateSystem;null!=l&&c.getOtherAxis&&(a=c.getOtherAxis(s).inverse),l=e.getData().mapDimension(l);var u=e.getData().mapDimension(r);n={thisAxis:s,series:e,thisDim:u,otherDim:l,otherAxisInverse:a}}},this)},this),n}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,n=t.handles=[null,null],i=t.handleLabels=[null,null],r=this._displayables.sliderGroup,o=this._size,a=this.dataZoomModel,s=this.api,l=a.get("borderRadius")||0,c=a.get("brushSelect"),u=t.filler=new GCe({silent:c,style:{fill:a.get("fillerColor")},textConfig:{position:"inside"}});r.add(u),r.add(new GCe({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:l},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:R6.color.transparent}})),LU([0,1],function(t){var o=a.get("handleIcon");!$ee[o]&&o.indexOf("path://")<0&&o.indexOf("image://")<0&&(o="path://"+o);var s,l=Uee(o,-1,0,2,2,null,!0);l.attr({cursor:(s=this._orient,"vertical"===s?"ns-resize":"ew-resize"),draggable:!0,drift:VU(this._onDragMove,this,t),ondragend:VU(this._onDragEnd,this),onmouseover:VU(this._showDataInfo,this,!0),onmouseout:VU(this._showDataInfo,this,!1),z2:5});var c=l.getBoundingRect(),u=a.get("handleSize");this._handleHeight=KK(u,this._size[1]),this._handleWidth=c.width/c.height*this._handleHeight,l.setStyle(a.getModel("handleStyle").getItemStyle()),l.style.strokeNoScale=!0,l.rectHover=!0,l.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),t2(l);var h=a.get("handleColor");null!=h&&(l.style.fill=h),r.add(n[t]=l);var d=a.getModel("textStyle"),p=(a.get("handleLabel")||{}).show||!1;e.add(i[t]=new Q0({silent:!0,invisible:!p,style:E3(d,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:d.getTextColor(),font:d.getFont()}),z2:10}))},this);var h=u;if(c){var d=KK(a.get("moveHandleSize"),o[1]),p=t.moveHandle=new Y0({style:a.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:d}}),f=.8*d,g=t.moveHandleIcon=Uee(a.get("moveHandleIcon"),-f/2,-f/2,f,f,R6.color.neutral00,!0);g.silent=!0,g.y=o[1]+d/2-.5,p.ensureState("emphasis").style=a.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(o[1]/2,Math.max(d,10));(h=t.moveZone=new Y0({invisible:!0,shape:{y:o[1]-m,height:d+m}})).on("mouseover",function(){s.enterEmphasis(p)}).on("mouseout",function(){s.leaveEmphasis(p)}),r.add(p),r.add(g),r.add(h)}h.attr({draggable:!0,cursor:"default",drift:VU(this._onDragMove,this,"all"),ondragstart:VU(this._showDataInfo,this,!0),ondragend:VU(this._onDragEnd,this),onmouseover:VU(this._showDataInfo,this,!0),onmouseout:VU(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[ZK(e[0],[0,100],t,!0),ZK(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];Jge(t,i,r,n.get("zoomLock")?"all":e,null!=o.minSpan?ZK(o.minSpan,a,r,!0):null,null!=o.maxSpan?ZK(o.maxSpan,a,r,!0):null);var s=this._range,l=this._range=tJ([ZK(i[0],r,a,!0),ZK(i[1],r,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},t.prototype._updateView=function(e){var t=this._displayables,n=this._handleEnds,i=tJ(n.slice()),r=this._size;LU([0,1],function(e){var i=t.handles[e],o=this._handleHeight;i.attr({scaleX:o/2,scaleY:o/2,x:n[e]+(e?-1:1),y:r[1]/2-o/2})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]});var o={x:i[0],width:i[1]-i[0]};t.moveHandle&&(t.moveHandle.setShape(o),t.moveZone.setShape(o),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",o.x+o.width/2));for(var a=t.dataShadowSegs,s=[0,i[0],i[1],r[0]],l=0;l<a.length;l++){var c=a[l],u=c.getClipPath();u||(u=new Y0,c.setClipPath(u)),u.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:r[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,n=this._displayables,i=n.handleLabels,r=this._orient,o=["",""];if(t.get("showDetail")){var a=t.findRepresentativeAxisProxy();if(a){var s=a.getAxisModel().axis,l=this._range,c=e?a.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:a.getDataValueWindow();o=[this._formatLabel(c[0],s),this._formatLabel(c[1],s)]}}var u=tJ(this._handleEnds.slice());function h(e){var t=J5(n.handles[e].parent,this.group),a=e3(0===e?"right":"left",t),s=this._handleWidth/2+5,l=Q5([u[e]+(0===e?-s:s),this._size[1]/2],t);i[e].setStyle({x:l[0],y:l[1],verticalAlign:r===UCe?"middle":a,align:r===UCe?a:"center",text:o[e]})}h.call(this,0),h.call(this,1)},t.prototype._formatLabel=function(e,t){var n=this.dataZoomModel,i=n.get("labelFormatter"),r=n.get("labelPrecision");null!=r&&"auto"!==r||(r=t.getPixelPrecision());var o=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(r,20));return $U(i)?i(e,o):jU(i)?i.replace("{value}",o):o},t.prototype._showDataInfo=function(e){var t=(this.dataZoomModel.get("handleLabel")||{}).show||!1,n=this.dataZoomModel.getModel(["emphasis","handleLabel"]).get("show")||!1,i=e||this._dragging?n:t,r=this._displayables,o=r.handleLabels;o[0].attr("invisible",!i),o[1].attr("invisible",!i),r.moveHandle&&this.api[i?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},t.prototype._onDragMove=function(e,t,n,i){this._dragging=!0,sq(i.event);var r=Q5([t,n],this._displayables.sliderGroup.getLocalTransform(),!0),o=this._updateInterval(e,r[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),o&&a&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds,r=(i[0]+i[1])/2,o=this._updateInterval("all",n[0]-r);this._updateView(),o&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,n=e.offsetY;this._brushStart=new xq(t,n),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var n=t.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(n.width)<5)){var i=this._getViewExtent(),r=[0,100],o=this._handleEnds=[n.x,n.x+n.width],a=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();Jge(0,o,i,0,null!=a.minSpan?ZK(a.minSpan,r,i,!0):null,null!=a.maxSpan?ZK(a.maxSpan,r,i,!0):null),this._range=tJ([ZK(o[0],i,r,!0),ZK(o[1],i,r,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(sq(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var n=this._displayables,i=this.dataZoomModel,r=n.brushRect;r||(r=n.brushRect=new GCe({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(r)),r.attr("ignore",!1);var o=this._brushStart,a=this._displayables.sliderGroup,s=a.transformCoordToLocal(e,t),l=a.transformCoordToLocal(o.x,o.y),c=this._size;s[0]=Math.max(Math.min(c[0],s[0]),0),r.setShape({x:l[0],y:0,width:s[0]-l[0],height:c[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?YCe:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=TSe(this.dataZoomModel).infoList;if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}if(!e){var i=this.api.getWidth(),r=this.api.getHeight();e={x:.2*i,y:.2*r,width:.6*i,height:.6*r}}return e},t.type="dataZoom.slider",t}(ESe);function KCe(e){e.registerComponentModel(jCe),e.registerComponentView(ZCe),VSe(e)}var JCe=function(e,t,n){var i=kU((QCe[e]||{})[t]);return n&&WU(i)?i[i.length-1]:i},QCe={color:{active:["#006edd","#e0ffff"],inactive:[R6.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},eTe=Npe.mapVisual,tTe=Npe.eachVisual,nTe=WU,iTe=LU,rTe=tJ,oTe=ZK,aTe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return nU(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&tke(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=VU(e,this),this.controllerVisuals=eke(this.option.controller,t,e),this.targetVisuals=eke(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesId,t=this.option.seriesIndex;return null==t&&null==e&&(t="all"),RU(WJ(this.ecModel,"series",{index:t,id:e},{useDefault:!1,enableAll:!0,enableNone:!1}).models,function(e){return e.componentIndex})},t.prototype.eachTargetSeries=function(e,t){LU(this.getTargetSeriesIndices(),function(n){var i=this.ecModel.getSeriesByIndex(n);i&&e.call(t,i)},this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},t.prototype.formatValueText=function(e,t,n){var i,r=this.option,o=r.precision,a=this.dataBound,s=r.formatter;n=n||["<",">"],WU(e)&&(e=e.slice(),i=!0);var l=t?e:i?[c(e[0]),c(e[1])]:c(e);return jU(s)?s.replace("{value}",i?l[0]:l).replace("{value2}",i?l[1]:l):$U(s)?i?s(e[0],e[1]):s(e):i?e[0]===a[0]?n[0]+" "+l[1]:e[1]===a[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function c(e){return e===a[0]?"min":e===a[1]?"max":(+e).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,t=rTe([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var n=e.dimensions,i=n.length-1;i>=0;i--){var r=n[i],o=e.getDimensionInfo(r);if(!o.isCalculationCoord)return o.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),r=t.controller||(t.controller={});CU(i,n),CU(r,n);var o=this.isCategory();function a(n){nTe(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get("gradientColor")}}a.call(this,i),a.call(this,r),function s(e,t,n){var i=e[t],r=e[n];i&&!r&&(r=e[n]={},iTe(i,function(e,t){if(Npe.isValidType(t)){var n=JCe(t,"inactive",o);null!=n&&(r[t]=n,"color"!==t||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}}))}.call(this,i,"inRange","outOfRange"),function l(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),r=this.getItemSymbol()||"roundRect";iTe(this.stateList,function(a){var s=this.itemSize,l=e[a];l||(l=e[a]={color:o?i:[i]}),null==l.symbol&&(l.symbol=t&&kU(t)||(o?r:[r])),null==l.symbolSize&&(l.symbolSize=n&&kU(n)||(o?s[0]:[s[0],s[0]])),l.symbol=eTe(l.symbol,function(e){return"none"===e?r:e});var c=l.symbolSize;if(null!=c){var u=-1/0;tTe(c,function(e){e>u&&(u=e)}),l.symbolSize=eTe(c,function(e){return oTe(e,[0,u],[0,s[0]],!0)})}},this)}.call(this,r)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:R6.color.transparent,borderColor:R6.color.borderTint,contentColor:R6.color.theme[0],inactiveColor:R6.color.disabled,borderWidth:0,padding:R6.size.m,textGap:10,precision:0,textStyle:{color:R6.color.secondary}},t}(D6),sTe=[20,140],lTe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=sTe[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=sTe[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):WU(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),LU(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=tJ((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,n=this.getExtent(),i=eX(this.option.unboundedRange,!0);return(i&&t[0]<=n[0]||t[0]<=e)&&(i&&t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimensionIndex(r),function(t,n){e[0]<=t&&t<=e[1]&&i.push(n)},this),t.push({seriesId:n.id,dataIndex:i})},this),t},t.prototype.getVisualMeta=function(e){var t=cTe(this,"outOfRange",this.getExtent()),n=cTe(this,"inRange",this.option.range.slice()),i=[];function r(t,n){i.push({value:t,color:e(t,n)})}for(var o=0,a=0,s=n.length,l=t.length;a<l&&(!n.length||t[a]<=n[0]);a++)t[a]<n[o]&&r(t[a],"outOfRange");for(var c=1;o<s;o++,c=0)c&&i.length&&r(n[o],"outOfRange"),r(n[o],"inRange");for(c=1;a<l;a++)(!n.length||n[n.length-1]<t[a])&&(c&&(i.length&&r(i[i.length-1].value,"outOfRange"),c=0),r(t[a],"outOfRange"));var u=i.length;return{stops:i,outerColors:[u?i[0].color:"transparent",u?i[u-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=i4(aTe.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:R6.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:R6.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:R6.color.shadow}}),t}(aTe);function cTe(e,t,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a<=200&&r<n[1];a++)o.push(r),r+=i;return o.push(n[1]),o}var uTe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return nU(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,n,i){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,n,i):this.group.removeAll()},t.prototype.renderBackground=function(e){var t=this.visualMapModel,n=q4(t.get("padding")||0),i=e.getBoundingRect();e.add(new Y0({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,n){var i=(n=n||{}).forceState,r=this.visualMapModel,o={};if("color"===t){var a=r.get("contentColor");o.color=a}function s(e){return o[e]}function l(e,t){o[e]=t}var c=r.controllerVisuals[i||r.getValueState(e)];return LU(Npe.prepareVisualTypes(c),function(i){var r=c[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",r=c.__alphaForOpacity),Npe.dependsOn(i,t)&&r&&r.applyVisual(e,s,l)}),o[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,n=S6(t,this.api).refContainer;M6(e,t.getBoxLayoutParams(),n)},t.prototype.doRender=function(e,t,n,i){},t.type="visualMap",t}(O7),hTe=[["left","right","width"],["top","bottom","height"]];function dTe(e,t,n){var i=e.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:t.getWidth(),height:t.getHeight()},a="horizontal"===i.orient?1:0,s=hTe[a],l=[0,null,10],c={},u=0;u<3;u++)c[hTe[1-a][u]]=l[u],c[s[u]]=2===u?n[0]:i[s[u]];var h=[["x","width",3],["y","height",0]][a],d=x6(c,o,i.padding);return s[(d.margin[h[2]]||0)+d[h[0]]+.5*d[h[1]]<.5*o[h[1]]?0:1]}function pTe(e,t){return LU(e||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var fTe=ZK,gTe=LU,mTe=Math.min,vTe=Math.max,yTe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return nU(t,e),t.prototype.init=function(t,n){e.prototype.init.call(this,t,n),this._hoverLinkFromSeriesMouseOver=VU(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=VU(this._hideIndicator,this)},t.prototype.doRender=function(e,t,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,o=r.get("textGap"),a=r.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),c=this._applyTransform(0===n?"bottom":"top",s),u=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new Q0({style:E3(h,{x:l[0],y:l[1],verticalAlign:h.get("verticalAlign")||("horizontal"===u?"middle":c),align:h.get("align")||("horizontal"===u?c:"center"),text:i})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,r=this._orient,o=this._useHandle,a=dTe(t,this.api,i),s=n.mainGroup=this._createBarGroup(a),l=new FK;s.add(l),l.add(n.outOfRange=bTe()),l.add(n.inRange=bTe(null,o?_Te(this._orient):null,VU(this._dragHandle,this,"all",!1),VU(this._dragHandle,this,"all",!0))),l.setClipPath(new Y0({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var c=t.textStyleModel.getTextRect(""),u=vTe(c.width,c.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(t,s,0,i,u,r),this._createHandle(t,s,1,i,u,r)),this._createIndicator(t,s,i,u,r),e.add(s)},t.prototype._createHandle=function(e,t,n,i,r,o){var a=VU(this._dragHandle,this,n,!1),s=VU(this._dragHandle,this,n,!0),l=TK(e.get("handleSize"),i[0]),c=Uee(e.get("handleIcon"),-l/2,-l/2,l,l,null,!0),u=_Te(this._orient);c.attr({cursor:u,draggable:!0,drift:a,ondragend:s,onmousemove:function(e){sq(e.event)}}),c.x=i[0]/2,c.useStyle(e.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),s2(c,!0),t.add(c);var h=this.visualMapModel.textStyleModel,d=new Q0({cursor:u,draggable:!0,drift:a,onmousemove:function(e){sq(e.event)},ondragend:s,style:E3(h,{x:0,y:0,text:""})});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var p=[l,0],f=this._shapes;f.handleThumbs[n]=c,f.handleLabelPoints[n]=p,f.handleLabels[n]=d},t.prototype._createIndicator=function(e,t,n,i,r){var o=TK(e.get("indicatorSize"),n[0]),a=Uee(e.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=e.getModel("indicatorStyle").getItemStyle();if(a instanceof W0){var l=a.style;a.useStyle(AU({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else a.useStyle(s);t.add(a);var c=this.visualMapModel.textStyleModel,u=new Q0({silent:!0,invisible:!0,style:E3(c,{x:0,y:0,text:""})});this.group.add(u);var h=[("horizontal"===r?i/2:6)+n[0]/2,0],d=this._shapes;d.indicator=a,d.indicatorLabel=u,d.indicatorLabelPoint=h,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var r=this._applyTransform([n,i],this._shapes.mainGroup,!0);this._updateInterval(e,r[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():xTe(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[fTe(t[0],n,i,!0),fTe(t[1],n,i,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];Jge(t,i,r,e,0);var o=n.getExtent();this._dataInterval=[fTe(i[0],r,o,!0),fTe(i[1],r,o,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,r=[0,t.itemSize[1]],o=e?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(o,a)},t.prototype._createBarVisual=function(e,t,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,r),a=[this.getControllerVisual(e[0],"symbolSize",r),this.getControllerVisual(e[1],"symbolSize",r)],s=this._createBarPoints(n,a);return{barColor:new f5(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var n=[],i=(e[1]-e[0])/100;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<100;r++){var o=e[0]+i*r;if(o>e[1])break;n.push({color:this.getControllerVisual(o,"color",t),offset:r/100})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},t.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new FK("horizontal"!==t||n?"horizontal"===t&&n?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||n?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels,a=i.itemSize,s=i.getExtent(),l=this._applyTransform("left",n.mainGroup);gTe([0,1],function(c){var u=r[c];u.setStyle("fill",t.handlesColor[c]),u.y=e[c];var h=fTe(e[c],[0,a[1]],s,!0),d=this.getControllerVisual(h,"symbolSize");u.scaleX=u.scaleY=d/a[0],u.x=a[0]-d/2;var p=Q5(n.handleLabelPoints[c],J5(u,this.group));if("horizontal"===this._orient){var f="left"===l||"top"===l?(a[0]-d)/2:(a[0]-d)/-2;p[1]+=f}o[c].setStyle({x:p[0],y:p[1],text:i.formatValueText(this._dataInterval[c]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,t,n,i){var r=this.visualMapModel,o=r.getExtent(),a=r.itemSize,s=[0,a[1]],l=this._shapes,c=l.indicator;if(c){c.attr("invisible",!1);var u=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),h=this.getControllerVisual(e,"symbolSize"),d=fTe(e,o,s,!0),p=a[0]-h/2,f={x:c.x,y:c.y};c.y=d,c.x=p;var g=Q5(l.indicatorLabelPoint,J5(c,this.group)),m=l.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),y="horizontal"===this._orient;m.setStyle({text:(n||"")+r.formatValueText(t),verticalAlign:y?v:"middle",align:y?"center":v});var b={x:p,y:d,style:{fill:u}},x={style:{x:g[0],y:g[1]}};if(r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var _={duration:100,easing:"cubicInOut",additive:!0};c.x=f.x,c.y=f.y,c.animateTo(b,_),m.animateTo(x,_)}else c.attr(b),m.attr(x);this._firstShowIndicator=!1;var w=this._shapes.handleLabels;if(w)for(var S=0;S<w.length;S++)this.api.enterBlur(w[S])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);i[1]=mTe(vTe(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],o=n.getExtent();e=mTe(vTe(r[0],e),r[1]);var a=function p(e,t,n){var i=6,r=e.get("hoverLinkDataSize");r&&(i=fTe(r,t,n,!0)/2);return i}(n,o,r),s=[e-a,e+a],l=fTe(e,r,o,!0),c=[fTe(s[0],r,o,!0),fTe(s[1],r,o,!0)];s[0]<r[0]&&(c[0]=-1/0),s[1]>r[1]&&(c[1]=1/0),t&&(c[0]===-1/0?this._showIndicator(l,c[1],"< ",a):c[1]===1/0?this._showIndicator(l,c[0],"> ",a):this._showIndicator(l,l," ",a));var u=this._hoverLinkDataIndices,h=[];(t||xTe(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var d=function f(e,t){var n={},i={};return r(e||[],n),r(t||[],i,n),[o(n),o(i)];function r(e,t,n){for(var i=0,r=e.length;i<r;i++){var o=EJ(e[i].seriesId,null);if(null==o)return;for(var a=MJ(e[i].dataIndex),s=n&&n[o],l=0,c=a.length;l<c;l++){var u=a[l];s&&s[u]?s[u]=null:(t[o]||(t[o]={}))[u]=1}}}function o(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)&&null!=e[i])if(t)n.push(+i);else{var r=o(e[i],!0);r.length&&n.push({seriesId:i,dataIndex:r})}return n}}(u,h);this._dispatchHighDown("downplay",pTe(d[0],n)),this._dispatchHighDown("highlight",pTe(d[1],n))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t;if(Ree(e.target,function(e){var n=d1(e);if(null!=n.dataIndex)return t=n,!0},!0),t){var n=this.ecModel.getSeriesByIndex(t.seriesIndex),i=this.visualMapModel;if(i.isTargetSeries(n)){var r=n.getData(t.dataType),o=r.getStore().get(i.getDataDimensionIndex(r),t.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var n=0;n<t.length;n++)this.api.leaveBlur(t[n])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",pTe(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,n,i){var r=J5(t,i?null:this.group);return WU(e)?Q5(e,r,n):e3(e,r,n)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(uTe);function bTe(e,t,n,i){return new e5({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){sq(e.event)},ondragend:i})}function xTe(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function _Te(e){return"vertical"===e?"ns-resize":"ew-resize"}var wTe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},STe=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})},MTe=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(t){var i=e.pipelineContext;!t.isTargetSeries(e)||i&&i.large||n.push(function r(e,t,n,i){var r={};return LU(e,function(e){var n=Npe.prepareVisualTypes(t[e]);r[e]=n}),{progress:function e(o,a){var s,l;function c(e){return Iee(a,l,e)}function u(e,t){Oee(a,l,e,t)}null!=i&&(s=a.getDimensionIndex(i));for(var h=a.getStore();null!=(l=o.next());){var d=a.getRawDataItem(l);if(!d||!1!==d.visualMap)for(var p=null!=i?h.get(s,l):l,f=n(p),g=t[f],m=r[f],v=0,y=m.length;v<y;v++){var b=m[v];g[b]&&g[b].applyVisual(p,c,u)}}}}}(t.stateList,t.targetVisuals,VU(t.getValueState,t),t.getDataDimensionIndex(e.getData())))}),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(e)){var r=t.getVisualMeta(VU(kTe,null,e,t))||{stops:[],outerColors:[]},o=t.getDataDimensionIndex(n);o>=0&&(r.dimension=o,i.push(r))}}),e.getData().setVisual("visualMeta",i)}}];function kTe(e,t,n,i){for(var r=t.targetVisuals[i],o=Npe.prepareVisualTypes(r),a={color:Dee(e.getData(),"color")},s=0,l=o.length;s<l;s++){var c=o[s],u=r["opacity"===c?"__alphaForOpacity":c];u&&u.applyVisual(n,h,d)}return a.color;function h(e){return a[e]}function d(e,t){a[e]=t}}var CTe=LU;function TTe(e){var t=e&&e.visualMap;WU(t)||(t=t?[t]:[]),CTe(t,function(e){if(e){ATe(e,"splitList")&&!ATe(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&WU(t)&&CTe(t,function(e){XU(e)&&(ATe(e,"start")&&!ATe(e,"min")&&(e.min=e.start),ATe(e,"end")&&!ATe(e,"max")&&(e.max=e.end))})}})}function ATe(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var ITe=!1;function DTe(e){ITe||(ITe=!0,e.registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"}),e.registerAction(wTe,STe),LU(MTe,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(TTe))}function OTe(e){e.registerComponentModel(lTe),e.registerComponentView(yTe),DTe(e)}var ETe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return nU(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],LTe[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var r=this.option.categories;this.resetVisual(function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=kU(r)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=RU(this._pieceList,function(e){return e=kU(e),"inRange"!==t&&(e.visual=null),e}))})},t.prototype.completeVisualOption=function(){var t=this.option,n={},i=Npe.listVisualTypes(),r=this.isCategory();function o(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}LU(t.pieces,function(e){LU(i,function(t){e.hasOwnProperty(t)&&(n[t]=1)})}),LU(n,function(e,n){var i=!1;LU(this.stateList,function(e){i=i||o(t,e,n)||o(t.target,e,n)},this),!i&&LU(this.stateList,function(e){(t[e]||(t[e]={}))[n]=JCe(n,"inRange"===e?"active":"inactive",r)})},this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var n=this.option,i=this._pieceList,r=(t?n:e).selected||{};if(n.selected=r,LU(i,function(e,t){var n=this.getSelectedMapKey(e);r.hasOwnProperty(n)||(r[n]=!0)},this),"single"===n.selectedMode){var o=!1;LU(i,function(e,t){var n=this.getSelectedMapKey(e);r[n]&&(o?r[n]=!1:o=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=kU(e)},t.prototype.getValueState=function(e){var t=Npe.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],n=this._pieceList;return this.eachTargetSeries(function(i){var r=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(t,i){Npe.findPieceIndex(t,n)===e&&r.push(i)},this),t.push({seriesId:i.id,dataIndex:r})},this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],n=["",""],i=this,r=this._pieceList.slice();if(r.length){var o=r[0].interval[0];o!==-1/0&&r.unshift({interval:[-1/0,o]}),(o=r[r.length-1].interval[1])!==1/0&&r.push({interval:[o,1/0]})}else r.push({interval:[-1/0,1/0]});var a=-1/0;return LU(r,function(e){var t=e.interval;t&&(t[0]>a&&s([a,t[0]],"outOfRange"),s(t.slice()),a=t[1])},this),{stops:t,outerColors:n}}function s(r,o){var a=i.getRepresentValue({interval:r});o||(o=i.getValueState(a));var s=e(a,o);r[0]===-1/0?n[0]=s:r[1]===1/0?n[1]=s:t.push({value:r[0],color:s},{value:r[1],color:s})}},t.type="visualMap.piecewise",t.defaultOption=i4(aTe.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(aTe),LTe={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),i=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(n)!==o&&n<5;)n++;t.precision=n,o=+o.toFixed(n),t.minOpen&&e.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<r;s+=o,a++){var l=a===r-1?i[1]:s+o;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[i[1],1/0],close:[0,0]}),pJ(e),LU(e,function(e,t){e.index=t,e.text=this.formatValueText(e.interval)},this)},categories:function(e){var t=this.option;LU(t.categories,function(t){e.push({text:this.formatValueText(t,!0),value:t})},this),RTe(t,e)},pieces:function(e){var t=this.option;LU(t.pieces,function(t,n){XU(t)||(t={value:t});var i={text:"",index:n};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){var r=i.value=t.value;i.interval=[r,r],i.close=[1,1]}else{for(var o=i.interval=[],a=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],c=[],u=0;u<2;u++){for(var h=[["gte","gt","min"],["lte","lt","max"]][u],d=0;d<3&&null==o[u];d++)o[u]=t[h[d]],a[u]=s[d],c[u]=2===d;null==o[u]&&(o[u]=l[u])}c[0]&&o[1]===1/0&&(a[0]=0),c[1]&&o[0]===-1/0&&(a[1]=0),o[0]===o[1]&&a[0]&&a[1]&&(i.value=o[0])}i.visual=Npe.retrieveVisuals(t),e.push(i)},this),RTe(t,e),pJ(e),LU(e,function(e){var t=e.close,n=[["<",""][t[1]],[">",""][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)},this)}};function RTe(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var NTe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,r=this._getItemAlign(),o=t.itemSize,a=this._getViewData(),s=a.endsText,l=QU(t.get("showLabel",!0),!s),c=!t.get("selectedMode");s&&this._renderEndsText(e,s[0],o,l,r),LU(a.viewPieceList,function(a){var s=a.piece,u=new FK;u.onclick=VU(this._onItemClick,this,s),this._enableHoverLink(u,a.indexInModelPieceList);var h=t.getRepresentValue(s);if(this._createItemSymbol(u,h,[0,0,o[0],o[1]],c),l){var d=this.visualMapModel.getValueState(h),p=i.get("align")||r;u.add(new Q0({style:E3(i,{x:"right"===p?-n:o[0]+n,y:o[1]/2,text:s.text,verticalAlign:i.get("verticalAlign")||"middle",align:p,opacity:eX(i.get("opacity"),"outOfRange"===d?.5:1)}),silent:c}))}e.add(u)},this),s&&this._renderEndsText(e,s[1],o,l,r),v6(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var n=this;e.on("mouseover",function(){return i("highlight")}).on("mouseout",function(){return i("downplay")});var i=function(e){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:e,batch:pTe(i.findTargetDataIndices(t),i)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return dTe(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},t.prototype._renderEndsText=function(e,t,n,i,r){if(t){var o=new FK,a=this.visualMapModel.textStyleModel;o.add(new Q0({style:E3(a,{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?r:"center",text:t})})),e.add(o)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=RU(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),n=e.get("text"),i=e.get("orient"),r=e.get("inverse");return("horizontal"===i?r:!r)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},t.prototype._createItemSymbol=function(e,t,n,i){var r=Uee(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color"));r.silent=i,e.add(r)},t.prototype._onItemClick=function(e){var t=this.visualMapModel,n=t.option,i=n.selectedMode;if(i){var r=kU(n.selected),o=t.getSelectedMapKey(e);"single"===i||!0===i?(r[o]=!0,LU(r,function(e,t){r[t]=t===o})):r[o]=!r[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}},t.type="visualMap.piecewise",t}(uTe);function PTe(e){e.registerComponentModel(ETe),e.registerComponentView(NTe),DTe(e)}var zTe=function(){function e(e){this._thumbnailModel=e}return e.prototype.reset=function(e){this._renderVersion=e.getMainProcessVersion()},e.prototype.renderContent=function(e){var t=e.api.getViewOfComponentModel(this._thumbnailModel);t&&(e.group.silent=!0,t.renderContent({group:e.group,targetTrans:e.targetTrans,z2Range:b3(e.group),roamType:e.roamType,viewportRect:e.viewportRect,renderVersion:this._renderVersion}))},e.prototype.updateWindow=function(e,t){var n=t.getViewOfComponentModel(this._thumbnailModel);n&&n.updateWindow({targetTrans:e,renderVersion:this._renderVersion})},e}(),BTe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return nU(t,e),t.prototype.optionUpdated=function(e,t){this._updateBridge()},t.prototype._updateBridge=function(){var e=this._birdge=this._birdge||new zTe(this);(this._target=null,this.ecModel.eachSeries(function(e){lge(e,null)}),this.shouldShow())&&lge(this.getTarget().baseMapProvider,e)},t.prototype.shouldShow=function(){return this.getShallow("show",!0)},t.prototype.getBridge=function(){return this._birdge},t.prototype.getTarget=function(){if(this._target)return this._target;var e=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return e?"graph"!==e.subType&&(e=null):e=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:e},this._target},t.type="thumbnail",t.layoutMode="box",t.dependencies=["series","geo"],t.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:R6.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:R6.color.neutral30,borderColor:R6.color.neutral40,opacity:.3},z:10},t}(D6),VTe=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return nU(t,e),t.prototype.render=function(e,t,n){if(this._api=n,this._model=e,this._coordSys||(this._coordSys=new xde),this._isEnabled()){this._renderVersion=n.getMainProcessVersion();var i=this.group;i.removeAll();var r=e.getModel("itemStyle"),o=r.getItemStyle();null==o.fill&&(o.fill=t.get("backgroundColor")||R6.color.neutral00);var a=S6(e,n).refContainer,s=x6(y6(e,!0),a),l=o.lineWidth||0,c=this._contentRect=l3(s.clone(),l/2,!0,!0),u=new FK;i.add(u),u.setClipPath(new Y0({shape:c.plain()}));var h=this._targetGroup=new FK;u.add(h);var d=s.plain();d.r=r.getShallow("borderRadius",!0),i.add(this._bgRect=new Y0({style:o,shape:d,silent:!1,cursor:"grab"}));var p=e.getModel("windowStyle"),f=p.getShallow("borderRadius",!0);u.add(this._windowRect=new Y0({shape:{x:0,y:0,width:0,height:0,r:f},style:p.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),HTe(e,this)}else this._clear()},t.prototype.renderContent=function(e){this._bridgeRendered=e,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),HTe(this._model,this))},t.prototype._dealRenderContent=function(){var e=this._bridgeRendered;if(e&&e.renderVersion===this._renderVersion){var t=this._targetGroup,n=this._coordSys,i=this._contentRect;if(t.removeAll(),e){var r=e.group,o=r.getBoundingRect();t.add(r),this._bgRect.z2=e.z2Range.min-10,n.setBoundingRect(o.x,o.y,o.width,o.height);var a=x6({left:"center",top:"center",aspect:o.width/o.height},i);n.setViewRect(a.x,a.y,a.width,a.height),r.attr(n.getTransformInfo().raw),this._windowRect.z2=e.z2Range.max+10,this._resetRoamController(e.roamType)}}},t.prototype.updateWindow=function(e){var t=this._bridgeRendered;t&&t.renderVersion===e.renderVersion&&(t.targetTrans=e.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},t.prototype._dealUpdateWindow=function(){var e=this._bridgeRendered;if(e&&e.renderVersion===this._renderVersion){var t=bq([],e.targetTrans),n=gq([],this._coordSys.transform,t);this._transThisToTarget=bq([],n);var i=e.viewportRect;(i=i?i.clone():new Rq(0,0,this._api.getWidth(),this._api.getHeight())).applyTransform(n);var r=this._windowRect,o=r.shape.r;r.setShape(IU({r:o},i))}},t.prototype._resetRoamController=function(e){var t=this,n=this._api,i=this._roamController;i||(i=this._roamController=new the(n.getZr())),e&&this._isEnabled()?(i.enable(e,{api:n,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(e,n,i){return t._contentRect.contain(n,i)}}}),i.off("pan").off("zoom").on("pan",VU(this._onPan,this)).on("zoom",VU(this._onZoom,this))):i.disable()},t.prototype._onPan=function(e){var t=this._transThisToTarget;if(this._isEnabled()&&t){var n=PX([],[e.oldX,e.oldY],t),i=PX([],[e.oldX-e.dx,e.oldY-e.dy],t);this._api.dispatchAction(FTe(this._model.getTarget().baseMapProvider,{dx:i[0]-n[0],dy:i[1]-n[1]}))}},t.prototype._onZoom=function(e){var t=this._transThisToTarget;if(this._isEnabled()&&t){var n=PX([],[e.originX,e.originY],t);this._api.dispatchAction(FTe(this._model.getTarget().baseMapProvider,{zoom:1/e.scale,originX:n[0],originY:n[1]}))}},t.prototype._isEnabled=function(){var e=this._model;return!(!e||!e.shouldShow())&&!!e.getTarget().baseMapProvider},t.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},t.prototype.remove=function(){this._clear()},t.prototype.dispose=function(){this._clear()},t.type="thumbnail",t}(O7);function FTe(e,t){var n={type:"series"===e.mainType?e.subType+"Roam":e.mainType+"Roam"};return n[e.mainType+"Id"]=e.id,AU(n,t),n}function HTe(e,t){var n=y3(e);x3(t.group,n.z,n.zlevel)}var WTe={label:{enabled:!0},decal:{show:!1}},$Te=PJ(),jTe={};function GTe(e,t){var n=e.getModel("aria");if(n.get("enabled")){var i=kU(WTe);CU(i.label,e.getLocaleModel().get("aria"),!1),CU(n.option,i,!1),function o(){if(n.getModel("decal").get("show")){var t=dX();e.eachSeries(function(e){if(!e.isColorBySeries()){var n=t.get(e.type);n||(n={},t.set(e.type,n)),$Te(e).scope=n}}),e.eachRawSeries(function(t){if(!e.isSeriesFiltered(t))if($U(t.enableAriaDecal))t.enableAriaDecal();else{var n=t.getData();if(t.isColorBySeries()){var i=f8(t.ecModel,t.name,jTe,e.getSeriesCount()),r=n.getVisual("decal");n.setVisual("decal",c(r,i))}else{var o=t.getRawData(),a={},s=$Te(t).scope;n.each(function(e){var t=n.getRawIndex(e);a[t]=e});var l=o.count();o.each(function(e){var i=a[e],r=o.getName(e)||e+"",u=f8(t.ecModel,r,s,l),h=n.getItemVisual(i,"decal");n.setItemVisual(i,"decal",c(h,u))})}}function c(e,t){var n=e?AU(AU({},t),e):t;return n.dirty=!0,n}})}}(),function a(){var i=t.getZr().dom;if(!i)return;var o=e.getLocaleModel().get("aria"),a=n.getModel("label");if(a.option=IU(a.option,o),!a.get("enabled"))return;if(i.setAttribute("role","img"),a.get("description"))return void i.setAttribute("aria-label",a.get("description"));var s,l=e.getSeriesCount(),c=a.get(["data","maxCount"])||10,u=a.get(["series","maxCount"])||10,h=Math.min(l,u);if(l<1)return;var d=function p(){var t=e.get("title");t&&t.length&&(t=t[0]);return t&&t.text}();s=d?r(a.get(["general","withTitle"]),{title:d}):a.get(["general","withoutTitle"]);var f=[];s+=r(l>1?a.get(["series","multiple","prefix"]):a.get(["series","single","prefix"]),{seriesCount:l}),e.eachSeries(function(t,n){if(n<h){var i=void 0,o=t.get("name")?"withName":"withoutName";i=r(i=l>1?a.get(["series","multiple",o]):a.get(["series","single",o]),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(x=t.subType,_=e.getLocaleModel().get(["series","typeNames"]),_[x]||_.chart)});var s=t.getData();if(s.count()>c)i+=r(a.get(["data","partialData"]),{displayCnt:c});else i+=a.get(["data","allData"]);for(var u=a.get(["data","separator","middle"]),d=a.get(["data","separator","end"]),p=a.get(["data","excludeDimensionId"]),g=[],m=0;m<s.count();m++)if(m<c){var v=s.getName(m),y=p?PU(s.getValues(m),function(e,t){return-1===DU(p,t)}):s.getValues(m),b=a.get(["data",v?"withName":"withoutName"]);g.push(r(b,{name:v,value:y.join(u)}))}i+=g.join(u)+d,f.push(i)}var x,_});var g=a.getModel(["series","multiple","separator"]),m=g.get("middle"),v=g.get("end");s+=f.join(m)+v,i.setAttribute("aria-label",s)}()}function r(e,t){if(!jU(e))return e;var n=e;return LU(t,function(e,t){n=n.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)}),n}}function UTe(e){if(e&&e.aria){var t=e.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},LU(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var XTe={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},qTe=function(){function e(e){if(null==(this._condVal=jU(e)?new RegExp(e):function t(e){return"[object RegExp]"===pU.call(e)}(e)?e:null)){xJ("")}}return e.prototype.evaluate=function(e){var t=typeof e;return jU(t)?this._condVal.test(e):!!UU(t)&&this._condVal.test(e+"")},e}(),YTe=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),ZTe=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},e}(),KTe=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},e}(),JTe=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),QTe=function(){function e(){}return e.prototype.evaluate=function(){for(var e=!!this.valueParser,t=(0,this.getValue)(this.valueGetterParam),n=e?this.valueParser(t):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(e?n:t))return!1;return!0},e}();function eAe(e,t){if(!0===e||!1===e){var n=new YTe;return n.value=e,n}return nAe(e)||xJ(""),e.and?tAe("and",e,t):e.or?tAe("or",e,t):e.not?function i(e,t){var n=e.not,i="";nAe(n)||xJ(i);var r=new JTe;r.child=eAe(n,t),r.child||xJ(i);return r}(e,t):function r(e,t){for(var n="",i=t.prepareGetValue(e),r=[],o=BU(e),a=e.parser,s=a?T9(a):null,l=0;l<o.length;l++){var c=o[l];if("parser"!==c&&!t.valueGetterAttrMap.get(c)){var u=mX(XTe,c)?XTe[c]:c,h=e[c],d=s?s(h):h,p=E9(u,d)||"reg"===u&&new qTe(d);p||xJ(n),r.push(p)}}r.length||xJ(n);var f=new QTe;return f.valueGetterParam=i,f.valueParser=s,f.getValue=t.getValue,f.subCondList=r,f}(e,t)}function tAe(e,t,n){var i=t[e];WU(i)||xJ(""),i.length||xJ("");var r="and"===e?new ZTe:new KTe;return r.children=RU(i,function(e){return eAe(e,n)}),r.children.length||xJ(""),r}function nAe(e){return XU(e)&&!EU(e)}var iAe=function(){function e(e,t){this._cond=eAe(e,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();var rAe={type:"echarts:filter",transform:function(e){for(var t,n=e.upstream,i=function s(e,t){return new iAe(e,t)}(e.config,{valueGetterAttrMap:dX({dimension:!0}),prepareGetValue:function(e){var t=e.dimension;mX(e,"dimension")||xJ("");var i=n.getDimensionInfo(t);return i||xJ(""),{dimIdx:i.index}},getValue:function(e){return n.retrieveValueFromItem(t,e.dimIdx)}}),r=[],o=0,a=n.count();o<a;o++)t=n.getRawDataItem(o),i.evaluate()&&r.push(t);return{data:r}}},oAe={type:"echarts:sort",transform:function(e){var t=e.upstream,n=e.config,i="",r=MJ(n);r.length||xJ(i);var o=[];LU(r,function(e){var n=e.dimension,r=e.order,a=e.parser,s=e.incomparable;if(null==n&&xJ(i),"asc"!==r&&"desc"!==r&&xJ(i),s&&"min"!==s&&"max"!==s){xJ("")}if("asc"!==r&&"desc"!==r){xJ("")}var l=t.getDimensionInfo(n);l||xJ(i);var c=a?T9(a):null;a&&!c&&xJ(i),o.push({dimIdx:l.index,parser:c,comparator:new D9(r,s)})});var a=t.sourceFormat;a!==G6&&a!==U6&&xJ(i);for(var s=[],l=0,c=t.count();l<c;l++)s.push(t.getRawDataItem(l));return s.sort(function(e,n){for(var i=0;i<o.length;i++){var r=o[i],a=t.retrieveValueFromItem(e,r.dimIdx),s=t.retrieveValueFromItem(n,r.dimIdx);r.parser&&(a=r.parser(a),s=r.parser(s));var l=r.comparator.evaluate(a,s);if(0!==l)return l}return 0}),{data:s}}};var aAe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return nU(t,e),t.prototype.init=function(t,n,i){e.prototype.init.call(this,t,n,i),this._sourceManager=new Q9(this),e7(this)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),e7(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Z6},t}(D6),sAe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return nU(t,e),t.type="dataset",t}(O7);var lAe=m0.CMD;function cAe(e,t){return Math.abs(e-t)<1e-5}function uAe(e){var t,n,i,r,o,a=e.data,s=e.len(),l=[],c=0,u=0,h=0,d=0;function p(e,n){t&&t.length>2&&l.push(t),t=[e,n]}function f(e,n,i,r){cAe(e,i)&&cAe(n,r)||t.push(e,n,i,r,i,r)}function g(e,n,i,r,o,a){var s=Math.abs(n-e),l=4*Math.tan(s/4)/3,c=n<e?-1:1,u=Math.cos(e),h=Math.sin(e),d=Math.cos(n),p=Math.sin(n),f=u*o+i,g=h*a+r,m=d*o+i,v=p*a+r,y=o*l*c,b=a*l*c;t.push(f-y*h,g+b*u,m+y*p,v-b*d,m,v)}for(var m=0;m<s;){var v=a[m++],y=1===m;switch(y&&(h=c=a[m],d=u=a[m+1],v!==lAe.L&&v!==lAe.C&&v!==lAe.Q||(t=[h,d])),v){case lAe.M:c=h=a[m++],u=d=a[m++],p(h,d);break;case lAe.L:f(c,u,n=a[m++],i=a[m++]),c=n,u=i;break;case lAe.C:t.push(a[m++],a[m++],a[m++],a[m++],c=a[m++],u=a[m++]);break;case lAe.Q:n=a[m++],i=a[m++],r=a[m++],o=a[m++],t.push(c+2/3*(n-c),u+2/3*(i-u),r+2/3*(n-r),o+2/3*(i-o),r,o),c=r,u=o;break;case lAe.A:var b=a[m++],x=a[m++],_=a[m++],w=a[m++],S=a[m++],M=a[m++]+S;m+=1;var k=!a[m++];n=Math.cos(S)*_+b,i=Math.sin(S)*w+x,y?p(h=n,d=i):f(c,u,n,i),c=Math.cos(M)*_+b,u=Math.sin(M)*w+x;for(var C=(k?-1:1)*Math.PI/2,T=S;k?T>M:T<M;T+=C){g(T,k?Math.max(T+C,M):Math.min(T+C,M),b,x,_,w)}break;case lAe.R:h=c=a[m++],d=u=a[m++],n=h+a[m++],i=d+a[m++],p(n,d),f(n,d,n,i),f(n,i,h,i),f(h,i,h,d),f(h,d,n,d);break;case lAe.Z:t&&f(c,u,h,d),c=h,u=d}}return t&&t.length>2&&l.push(t),l}function hAe(e,t,n,i,r,o,a,s,l,c){if(cAe(e,n)&&cAe(t,i)&&cAe(r,a)&&cAe(o,s))l.push(a,s);else{var u=2/c,h=u*u,d=a-e,p=s-t,f=Math.sqrt(d*d+p*p);d/=f,p/=f;var g=n-e,m=i-t,v=r-a,y=o-s,b=g*g+m*m,x=v*v+y*y;if(b<h&&x<h)l.push(a,s);else{var _=d*g+p*m,w=-d*v-p*y;if(b-_*_<h&&_>=0&&x-w*w<h&&w>=0)l.push(a,s);else{var S=[],M=[];wY(e,n,r,a,.5,S),wY(t,i,o,s,.5,M),hAe(S[0],M[0],S[1],M[1],S[2],M[2],S[3],M[3],l,c),hAe(S[4],M[4],S[5],M[5],S[6],M[6],S[7],M[7],l,c)}}}}function dAe(e,t,n){var i=e[t],r=e[1-t],o=Math.abs(i/r),a=Math.ceil(Math.sqrt(o*n)),s=Math.floor(n/a);0===s&&(s=1,a=n);for(var l=[],c=0;c<a;c++)l.push(s);var u=n-a*s;if(u>0)for(c=0;c<u;c++)l[c%a]+=1;return l}function pAe(e,t,n){for(var i=e.r0,r=e.r,o=e.startAngle,a=e.endAngle,s=Math.abs(a-o),l=s*r,c=r-i,u=l>Math.abs(c),h=dAe([l,c],u?0:1,t),d=(u?s:c)/h.length,p=0;p<h.length;p++)for(var f=(u?c:s)/h[p],g=0;g<h[p];g++){var m={};u?(m.startAngle=o+d*p,m.endAngle=o+d*(p+1),m.r0=i+f*g,m.r=i+f*(g+1)):(m.startAngle=o+f*g,m.endAngle=o+f*(g+1),m.r0=i+d*p,m.r=i+d*(p+1)),m.clockwise=e.clockwise,m.cx=e.cx,m.cy=e.cy,n.push(m)}}function fAe(e,t,n,i){return e*i-n*t}function gAe(e,t,n,i,r,o,a,s){var l=n-e,c=i-t,u=a-r,h=s-o,d=fAe(u,h,l,c);if(Math.abs(d)<1e-6)return null;var p=fAe(e-r,t-o,u,h)/d;return p<0||p>1?null:new xq(p*l+e,p*c+t)}function mAe(e,t,n){var i=new xq;xq.sub(i,n,t),i.normalize();var r=new xq;return xq.sub(r,e,t),r.dot(i)}function vAe(e,t){var n=e[e.length-1];n&&n[0]===t[0]&&n[1]===t[1]||e.push(t)}function yAe(e){var t=e.points,n=[],i=[];GQ(t,n,i);var r=new Rq(n[0],n[1],i[0]-n[0],i[1]-n[1]),o=r.width,a=r.height,s=r.x,l=r.y,c=new xq,u=new xq;return o>a?(c.x=u.x=s+o/2,c.y=l,u.y=l+a):(c.y=u.y=l+a/2,c.x=s,u.x=s+o),function h(e,t,n){for(var i=e.length,r=[],o=0;o<i;o++){var a=e[o],s=e[(o+1)%i],l=gAe(a[0],a[1],s[0],s[1],t.x,t.y,n.x,n.y);l&&r.push({projPt:mAe(l,t,n),pt:l,idx:o})}if(r.length<2)return[{points:e},{points:e}];r.sort(function(e,t){return e.projPt-t.projPt});var c=r[0],u=r[r.length-1];if(u.idx<c.idx){var h=c;c=u,u=h}var d=[c.pt.x,c.pt.y],p=[u.pt.x,u.pt.y],f=[d],g=[p];for(o=c.idx+1;o<=u.idx;o++)vAe(f,e[o].slice());for(vAe(f,p),vAe(f,d),o=u.idx+1;o<=c.idx+i;o++)vAe(g,e[o%i].slice());return vAe(g,d),vAe(g,p),[{points:f},{points:g}]}(t,c,u)}function bAe(e,t,n,i){if(1===n)i.push(t);else{var r=Math.floor(n/2),o=e(t);bAe(e,o[0],r,i),bAe(e,o[1],n-r,i)}return i}function xAe(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function _Ae(e,t){var n,i=[],r=e.shape;switch(e.type){case"rect":!function g(e,t,n){for(var i=e.width,r=e.height,o=i>r,a=dAe([i,r],o?0:1,t),s=o?"width":"height",l=o?"height":"width",c=o?"x":"y",u=o?"y":"x",h=e[s]/a.length,d=0;d<a.length;d++)for(var p=e[l]/a[d],f=0;f<a[d];f++){var g={};g[c]=d*h,g[u]=f*p,g[s]=h,g[l]=p,g.x+=e.x,g.y+=e.y,n.push(g)}}(r,t,i),n=Y0;break;case"sector":pAe(r,t,i),n=Y2;break;case"circle":pAe({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},t,i),n=Y2;break;default:var o=e.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=RU(function m(e,t){var n=uAe(e),i=[];t=t||1;for(var r=0;r<n.length;r++){var o=n[r],a=[],s=o[0],l=o[1];a.push(s,l);for(var c=2;c<o.length;){var u=o[c++],h=o[c++],d=o[c++],p=o[c++],f=o[c++],g=o[c++];hAe(s,l,u,h,d,p,f,g,a,t),s=f,l=g}i.push(a)}return i}(e.getUpdatedPathProxy(),a),function(e){return function t(e){for(var t=[],n=0;n<e.length;)t.push([e[n++],e[n++]]);return t}(e)}),l=s.length;if(0===l)bAe(yAe,{points:s[0]},t,i);else if(l===t)for(var c=0;c<l;c++)i.push({points:s[c]});else{var u=0,h=RU(s,function(e){var t=[],n=[];GQ(e,t,n);var i=(n[1]-t[1])*(n[0]-t[0]);return u+=i,{poly:e,area:i}});h.sort(function(e,t){return t.area-e.area});var d=t;for(c=0;c<l;c++){var p=h[c];if(d<=0)break;var f=c===l-1?d:Math.ceil(p.area/u*t);f<0||(bAe(yAe,{points:p.poly},f,i),d-=f)}}n=e5}if(!n)return function g(e,t){for(var n=[],i=0;i<t;i++)n.push(D2(e));return n}(e,t);var m=[];for(c=0;c<i.length;c++){var v=new n;v.setShape(i[c]),xAe(e,v),m.push(v)}return m}function wAe(e,t){var n=e.length,i=t.length;if(n===i)return[e,t];for(var r=[],o=[],a=n<i?e:t,s=Math.min(n,i),l=Math.abs(i-n)/6,c=(s-2)/6,u=Math.ceil(l/c)+1,h=[a[0],a[1]],d=l,p=2;p<s;){var f=a[p-2],g=a[p-1],m=a[p++],v=a[p++],y=a[p++],b=a[p++],x=a[p++],_=a[p++];if(d<=0)h.push(m,v,y,b,x,_);else{for(var w=Math.min(d,u-1)+1,S=1;S<=w;S++){var M=S/w;wY(f,m,y,x,M,r),wY(g,v,b,_,M,o),f=r[3],g=o[3],h.push(r[1],o[1],r[2],o[2],f,g),m=r[5],v=o[5],y=r[6],b=o[6]}d-=w-1}}return a===e?[h,t]:[e,h]}function SAe(e,t){for(var n=e.length,i=e[n-2],r=e[n-1],o=[],a=0;a<t.length;)o[a++]=i,o[a++]=r;return o}function MAe(e){for(var t=0,n=0,i=0,r=e.length,o=0,a=r-2;o<r;a=o,o+=2){var s=e[a],l=e[a+1],c=e[o],u=e[o+1],h=s*u-c*l;t+=h,n+=(s+c)*h,i+=(l+u)*h}return 0===t?[e[0]||0,e[1]||0]:[n/t/3,i/t/3,t]}function kAe(e,t,n,i){for(var r=(e.length-2)/6,o=1/0,a=0,s=e.length,l=s-2,c=0;c<r;c++){for(var u=6*c,h=0,d=0;d<s;d+=2){var p=0===d?u:(u+d-2)%l+2,f=e[p]-n[0],g=e[p+1]-n[1],m=t[d]-i[0]-f,v=t[d+1]-i[1]-g;h+=m*m+v*v}h<o&&(o=h,a=c)}return a}function CAe(e){for(var t=[],n=e.length,i=0;i<n;i+=2)t[i]=e[n-i-2],t[i+1]=e[n-i-1];return t}function TAe(e){return e.__isCombineMorphing}var AAe="__mOriginal_";function IAe(e,t,n){var i=AAe+t,r=e[i]||e[t];e[i]||(e[i]=e[t]);var o=n.replace,a=n.after,s=n.before;e[t]=function(){var e,t=arguments;return s&&s.apply(this,t),e=o?o.apply(this,t):r.apply(this,t),a&&a.apply(this,t),e}}function DAe(e,t){var n=AAe+t;e[n]&&(e[t]=e[n],e[n]=null)}function OAe(e,t){for(var n=0;n<e.length;n++)for(var i=e[n],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=t[0]*o+t[2]*a+t[4],i[r++]=t[1]*o+t[3]*a+t[5]}}function EAe(e,t){var n=e.getUpdatedPathProxy(),i=t.getUpdatedPathProxy(),r=function o(e,t){for(var n,i,r,o=[],a=[],s=0;s<Math.max(e.length,t.length);s++){var l=e[s],c=t[s],u=void 0,h=void 0;l?c?(i=u=(n=wAe(l,c))[0],r=h=n[1]):(h=SAe(r||l,l),u=l):(u=SAe(i||c,c),h=c),o.push(u),a.push(h)}return[o,a]}(uAe(n),uAe(i)),a=r[0],s=r[1],l=e.getComputedTransform(),c=t.getComputedTransform();l&&OAe(a,l),c&&OAe(s,c),IAe(t,"updateTransform",{replace:function u(){this.transform=null}}),t.transform=null;var h=function d(e,t,n,i){for(var r,o=[],a=0;a<e.length;a++){var s=e[a],l=t[a],c=MAe(s),u=MAe(l);null==r&&(r=c[2]<0!=u[2]<0);var h=[],d=[],p=0,f=1/0,g=[],m=s.length;r&&(s=CAe(s));for(var v=6*kAe(s,l,c,u),y=m-2,b=0;b<y;b+=2){var x=(v+b)%y+2;h[b+2]=s[x]-c[0],h[b+3]=s[x+1]-c[1]}h[0]=s[v]-c[0],h[1]=s[v+1]-c[1];for(var _=i/n,w=-i/2;w<=i/2;w+=_){var S=Math.sin(w),M=Math.cos(w),k=0;for(b=0;b<s.length;b+=2){var C=h[b],T=h[b+1],A=l[b]-u[0],I=l[b+1]-u[1],D=A*M-I*S,O=A*S+I*M;g[b]=D,g[b+1]=O;var E=D-C,L=O-T;k+=E*E+L*L}if(k<f){f=k,p=w;for(var R=0;R<g.length;R++)d[R]=g[R]}}o.push({from:h,to:d,fromCp:c,toCp:u,rotation:-p})}return o}(a,s,10,Math.PI),p=[];IAe(t,"buildPath",{replace:function(e){for(var n=t.__morphT,i=1-n,r=[],o=0;o<h.length;o++){var a=h[o],s=a.from,l=a.to,c=a.rotation*n,u=a.fromCp,d=a.toCp,f=Math.sin(c),g=Math.cos(c);NX(r,u,d,n);for(var m=0;m<s.length;m+=2){var v=s[m],y=s[m+1],b=v*i+(S=l[m])*n,x=y*i+(M=l[m+1])*n;p[m]=b*g-x*f+r[0],p[m+1]=b*f+x*g+r[1]}var _=p[0],w=p[1];e.moveTo(_,w);for(m=2;m<s.length;){var S=p[m++],M=p[m++],k=p[m++],C=p[m++],T=p[m++],A=p[m++];_===S&&w===M&&k===T&&C===A?e.lineTo(T,A):e.bezierCurveTo(S,M,k,C,T,A),_=T,w=A}}}})}function LAe(e,t,n){if(!e||!t)return t;var i=n.done,r=n.during;return EAe(e,t),t.__morphT=0,t.animateTo({__morphT:1},IU({during:function(e){t.dirtyShape(),r&&r(e)},done:function(){!function e(){DAe(t,"buildPath"),DAe(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}(),i&&i()}},n)),t}function RAe(e,t,n,i,r,o){e=r===n?0:Math.round(32767*(e-n)/(r-n)),t=o===i?0:Math.round(32767*(t-i)/(o-i));for(var a,s=0,l=32768;l>0;l/=2){var c=0,u=0;(e&l)>0&&(c=1),(t&l)>0&&(u=1),s+=l*l*(3*c^u),0===u&&(1===c&&(e=l-1-e,t=l-1-t),a=e,e=t,t=a)}return s}function NAe(e){var t=1/0,n=1/0,i=-1/0,r=-1/0,o=RU(e,function(e){var o=e.getBoundingRect(),a=e.getComputedTransform(),s=o.x+o.width/2+(a?a[4]:0),l=o.y+o.height/2+(a?a[5]:0);return t=Math.min(s,t),n=Math.min(l,n),i=Math.max(s,i),r=Math.max(l,r),[s,l]});return RU(o,function(o,a){return{cp:o,z:RAe(o[0],o[1],t,n,i,r),path:e[a]}}).sort(function(e,t){return e.z-t.z}).map(function(e){return e.path})}function PAe(e){return _Ae(e.path,e.count)}function zAe(e){return WU(e[0])}function BAe(e,t){for(var n=[],i=e.length,r=0;r<i;r++)n.push({one:e[r],many:[]});for(r=0;r<t.length;r++){var o=t[r].length,a=void 0;for(a=0;a<o;a++)n[a%i].many.push(t[r][a])}var s=0;for(r=i-1;r>=0;r--)if(!n[r].many.length){var l=n[s].many;if(l.length<=1){if(!s)return n;s=0}o=l.length;var c=Math.ceil(o/2);n[r].many=l.slice(c,o),n[s].many=l.slice(0,c),s++}return n}var VAe={clone:function(e){for(var t=[],n=1-Math.pow(1-e.path.style.opacity,1/e.count),i=0;i<e.count;i++){var r=D2(e.path);r.setStyle("opacity",n),t.push(r)}return t},split:null};function FAe(e,t,n,i,r,o){if(e.length&&t.length){var a=A5("update",i,r);if(a&&a.duration>0){var s,l,c=i.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},a);zAe(e)&&(s=e,l=t),zAe(t)&&(s=t,l=e);for(var h=s?s===e:e.length>t.length,d=s?BAe(l,s):BAe(h?t:e,[h?e:t]),p=0,f=0;f<d.length;f++)p+=d[f].many.length;var g=0;for(f=0;f<d.length;f++)m(d[f],h,g,p),g+=d[f].many.length}}function m(e,t,i,r,a){var s=e.many,l=e.one;if(1!==s.length||a)for(var h=IU({dividePath:VAe[n],individualDelay:c&&function(e,t,n,o){return c(e+i,r)}},u),d=t?function m(e,t,n){var i=[];!function e(t){for(var n=0;n<t.length;n++){var r=t[n];TAe(r)?e(r.childrenRef()):r instanceof z0&&i.push(r)}}(e);var r=i.length;if(!r)return{fromIndividuals:[],toIndividuals:[],count:0};var o=(n.dividePath||PAe)({path:t,count:r});if(o.length!==r)return{fromIndividuals:[],toIndividuals:[],count:0};i=NAe(i),o=NAe(o);for(var a=n.done,s=n.during,l=n.individualDelay,c=new fK,u=0;u<r;u++){var h=i[u],d=o[u];d.parent=t,d.copyTransform(c),l||EAe(h,d)}function p(e){for(var t=0;t<o.length;t++)o[t].addSelfToZr(e)}function f(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,DAe(t,"addSelfToZr"),DAe(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return o},IAe(t,"addSelfToZr",{after:function(e){p(e)}}),IAe(t,"removeSelfFromZr",{after:function(e){for(var t=0;t<o.length;t++)o[t].removeSelfFromZr(e)}});var g=o.length;if(l){var m=g,v=function(){0===--m&&(f(),a&&a())};for(u=0;u<g;u++){var y=l?IU({delay:(n.delay||0)+l(u,g,i[u],o[u]),done:v},n):n;LAe(i[u],o[u],y)}}else t.__morphT=0,t.animateTo({__morphT:1},IU({during:function(e){for(var n=0;n<g;n++){var i=o[n];i.__morphT=t.__morphT,i.dirtyShape()}s&&s(e)},done:function(){f();for(var t=0;t<e.length;t++)DAe(e[t],"updateTransform");a&&a()}},n));return t.__zr&&p(t.__zr),{fromIndividuals:i,toIndividuals:o,count:g}}(s,l,h):function _(e,t,n){var i=t.length,r=[],o=n.dividePath||PAe;if(TAe(e)){!function e(t){for(var n=0;n<t.length;n++){var i=t[n];TAe(i)?e(i.childrenRef()):i instanceof z0&&r.push(i)}}(e.childrenRef());var a=r.length;if(a<i)for(var s=0,l=a;l<i;l++)r.push(D2(r[s++%a]));r.length=i}else{r=o({path:e,count:i});var c=e.getComputedTransform();for(l=0;l<r.length;l++)r[l].setLocalTransform(c);if(r.length!==i)return{fromIndividuals:[],toIndividuals:[],count:0}}r=NAe(r),t=NAe(t);var u=n.individualDelay;for(l=0;l<i;l++){var h=u?IU({delay:(n.delay||0)+u(l,i,r[l],t[l])},n):n;LAe(r[l],t[l],h)}return{fromIndividuals:r,toIndividuals:t,count:t.length}}(l,s,h),p=d.fromIndividuals,f=d.toIndividuals,g=p.length,v=0;v<g;v++){y=c?IU({delay:c(v,g)},u):u;o(p[v],f[v],t?s[v]:e.one,t?e.one:s[v],y)}else{var y,b=t?s[0]:l,x=t?l:s[0];if(TAe(b))m({many:[b],one:x},!0,i,r,!0);else LAe(b,x,y=c?IU({delay:c(i,r)},u):u),o(b,x,b,x,y)}}}function HAe(e){if(!e)return[];if(WU(e)){for(var t=[],n=0;n<e.length;n++)t.push(HAe(e[n]));return t}var i=[];return e.traverse(function(e){e instanceof z0&&!e.disableMorphing&&!e.invisible&&!e.ignore&&i.push(e)}),i}var WAe=PJ();function $Ae(e,t,n,i){var r=function o(e,t){for(var n=e.dimensions,i=0;i<n.length;i++){var r=e.getDimensionInfo(n[i]);if(r&&0===r.otherDims[t])return n[i]}}(e,i?"itemChildGroupId":"itemGroupId");if(r){var a=function n(e,t,i){var r=e.getDimensionInfo(i),o=r&&r.ordinalMeta;if(r){var a=e.get(r.name,t);return o&&o.categories[a]||a+""}}(e,t,r);return a}var s=e.getRawDataItem(t),l=i?"childGroupId":"groupId";return s&&s[l]?s[l]+"":i?void 0:n||e.getId(t)}function jAe(e){var t=[];return LU(e,function(e){var n=e.data,i=e.dataGroupId;if(!(n.count()>1e4))for(var r=n.getIndices(),o=0;o<r.length;o++)t.push({data:n,groupId:$Ae(n,o,i,!1),childGroupId:$Ae(n,o,i,!0),divide:e.divide,dataIndex:o})}),t}function GAe(e,t,n){e.traverse(function(e){e instanceof z0&&O5(e,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})})}function UAe(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function XAe(e){e.stopAnimation(),e.isGroup&&e.traverse(function(e){e.stopAnimation()})}function qAe(e,t,n){var i=A5("update",n,t);i&&e.traverse(function(e){if(e instanceof RQ){var t=function n(e){return T5(e).oldStyle}(e);t&&e.animateFrom({style:t},i)}})}function YAe(e,t,n){var i=jAe(e),r=jAe(t);function o(e,t,n,i,r){(n||e)&&t.animateFrom({style:n&&n!==e?AU(AU({},n.style),e.style):e.style},r)}var a=!1,s=0,l=dX(),c=dX();i.forEach(function(e){e.groupId&&l.set(e.groupId,!0),e.childGroupId&&c.set(e.childGroupId,!0)});for(var u=0;u<r.length;u++){var h=r[u].groupId;if(c.get(h)){s=1;break}var d=r[u].childGroupId;if(d&&l.get(d)){s=2;break}}function p(e,t){return function(n){var i=n.data,r=n.dataIndex;return t?i.getId(r):e?1===s?n.childGroupId:n.groupId:2===s?n.childGroupId:n.groupId}}var f=function g(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++){var r=e[i],o=t[i];if(r.data.getId(r.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(i,r),m={};if(!f)for(u=0;u<r.length;u++){var v=r[u],y=v.data.getItemGraphicEl(v.dataIndex);y&&(m[y.id]=!0)}function b(e,t){var n=i[t],s=r[e],l=s.data.hostModel,c=n.data.getItemGraphicEl(n.dataIndex),u=s.data.getItemGraphicEl(s.dataIndex);c!==u?c&&m[c.id]||u&&(XAe(u),c?(XAe(c),UAe(c),a=!0,FAe(HAe(c),HAe(u),s.divide,l,e,o)):GAe(u,l,e)):u&&qAe(u,s.dataIndex,l)}new Xne(i,r,p(!0,f),p(!1,f),null,"multiple").update(b).updateManyToOne(function(e,t){var n=r[e],s=n.data,l=s.hostModel,c=s.getItemGraphicEl(n.dataIndex),u=PU(RU(t,function(e){return i[e].data.getItemGraphicEl(i[e].dataIndex)}),function(e){return e&&e!==c&&!m[e.id]});c&&(XAe(c),u.length?(LU(u,function(e){XAe(e),UAe(e)}),a=!0,FAe(HAe(u),HAe(c),n.divide,l,e,o)):GAe(c,l,n.dataIndex))}).updateOneToMany(function(e,t){var n=i[t],s=n.data.getItemGraphicEl(n.dataIndex);if(!s||!m[s.id]){var l=PU(RU(e,function(e){return r[e].data.getItemGraphicEl(r[e].dataIndex)}),function(e){return e&&e!==s}),c=r[e[0]].data.hostModel;l.length&&(LU(l,function(e){return XAe(e)}),s?(XAe(s),UAe(s),a=!0,FAe(HAe(s),HAe(l),n.divide,c,e[0],o)):LU(l,function(t){return GAe(t,c,e[0])}))}}).updateManyToMany(function(e,t){new Xne(t,e,function(e){return i[e].data.getId(i[e].dataIndex)},function(e){return r[e].data.getId(r[e].dataIndex)}).update(function(n,i){b(e[n],t[i])}).execute()}).execute(),a&&LU(t,function(e){var t=e.data.hostModel,i=t&&n.getViewOfSeriesModel(t),r=A5("update",t,0);i&&t.isAnimationEnabled()&&r&&r.duration>0&&i.group.traverse(function(e){e instanceof z0&&!e.animators.length&&e.animateFrom({style:{opacity:0}},r)})})}function ZAe(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function KAe(e){return WU(e)?e.sort().join(","):e}function JAe(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function QAe(e,t){for(var n=0;n<e.length;n++){if(null!=t.seriesIndex&&t.seriesIndex===e[n].seriesIndex||null!=t.seriesId&&t.seriesId===e[n].id)return n}}var eIe=function(){function e(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return e.prototype.setBreaks=function(e){this.breaks=e.breaks},e.prototype.update=function(e){!function t(e,n){var i=0,r={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},o=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:o(),tpPrct:o()},E:{tpAbs:o(),tpPrct:o()}};LU(e.breaks,function(e){var t=e.gapParsed;"tpPrct"===t.type&&(i+=t.val);var o=aIe(e,n);if(o){var s=o.vmin!==e.vmin,l=o.vmax!==e.vmax,c=o.vmax-o.vmin;if(s&&l);else if(s||l){var u=s?"S":"E";a[u][t.type].has=!0,a[u][t.type].span=c,a[u][t.type].inExtFrac=c/(e.vmax-e.vmin),a[u][t.type].val=t.val}else r[t.type].span+=c,r[t.type].val+=t.val}});var s=i*(n[1]-n[0]+0+(r.tpAbs.val-r.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-r.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-r.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));LU(e.breaks,function(e){var t=e.gapParsed;"tpPrct"===t.type&&(e.gapReal=0!==i?Math.max(s,0)*t.val/i:0),"tpAbs"===t.type&&(e.gapReal=t.val),null==e.gapReal&&(e.gapReal=0)})}(this,e);var n=this._elapsedExtent;n[0]=this.elapse(e[0]),n[1]=this.elapse(e[1])},e.prototype.hasBreaks=function(){return!!this.breaks.length},e.prototype.calcNiceTickMultiple=function(e,t){for(var n=0;n<this.breaks.length;n++){var i=this.breaks[n];if(i.vmin<e&&e<i.vmax)return t(e,i.vmax)}return 0},e.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},e.prototype.normalize=function(e){var t=this._elapsedExtent[1]-this._elapsedExtent[0];return 0===t?.5:(this.elapse(e)-this._elapsedExtent[0])/t},e.prototype.scale=function(e){return this.unelapse(e*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},e.prototype.elapse=function(e){for(var t=nIe,n=iIe,i=!0,r=0;r<this.breaks.length;r++){var o=this.breaks[r];if(e<=o.vmax){e>o.vmin?t+=o.vmin-n+(e-o.vmin)/(o.vmax-o.vmin)*o.gapReal:t+=e-n,n=o.vmax,i=!1;break}t+=o.vmin-n+o.gapReal,n=o.vmax}return i&&(t+=e-n),t},e.prototype.unelapse=function(e){for(var t=nIe,n=iIe,i=!0,r=0,o=0;o<this.breaks.length;o++){var a=this.breaks[o],s=t+a.vmin-n,l=s+a.gapReal;if(e<=l){r=e>s?a.vmin+(e-s)/(l-s)*(a.vmax-a.vmin):n+e-t,n=a.vmax,i=!1;break}t=l,n=a.vmax}return i&&(r=n+e-t),r},e}();function tIe(){return new eIe}var nIe=0,iIe=0;function rIe(e,t,n,i,r,o){"no"!==e&&LU(n,function(n){var a=aIe(n,o);if(a)for(var s=t.length-1;s>=0;s--){var l=t[s],c=i(l),u=3*r/4;c>a.vmin-u&&c<a.vmax+u&&("preserve_extent_bound"!==e||c!==o[0]&&c!==o[1])&&t.splice(s,1)}})}function oIe(e,t,n,i){LU(t,function(t){var r=aIe(t,n);r&&(e.push({value:r.vmin,break:{type:"vmin",parsedBreak:r},time:i?i(r):void 0}),e.push({value:r.vmax,break:{type:"vmax",parsedBreak:r},time:i?i(r):void 0}))}),t.length&&e.sort(function(e,t){return e.value-t.value})}function aIe(e,t){var n=Math.max(e.vmin,t[0]),i=Math.min(e.vmax,t[1]);return n<i||n===i&&n>t[0]&&n<t[1]?{vmin:n,vmax:i,breakOption:e.breakOption,gapParsed:e.gapParsed,gapReal:e.gapReal}:null}function sIe(e,t,n){var i=[];if(!e)return{breaks:i};LU(e,function(e){if(e&&null!=e.start&&null!=e.end&&!e.isExpanded){var r={breakOption:kU(e),vmin:t(e.start),vmax:t(e.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(null!=e.gap){var o=!1;if(jU(e.gap)){var a=oX(e.gap);if(a.match(/%$/)){var s=parseFloat(a)/100;(function e(t,n){return t>=0&&t<.99999})(s)||(s=0),r.gapParsed.type="tpPrct",r.gapParsed.val=s,o=!0}}if(!o){var l=t(e.gap);(!isFinite(l)||l<0)&&(l=0),r.gapParsed.type="tpAbs",r.gapParsed.val=l}}if(r.vmin===r.vmax&&(r.gapParsed.type="tpAbs",r.gapParsed.val=0),n&&n.noNegative&&LU(["vmin","vmax"],function(e){r[e]<0&&(r[e]=0)}),r.vmin>r.vmax){var c=r.vmax;r.vmax=r.vmin,r.vmin=c}i.push(r)}}),i.sort(function(e,t){return e.vmin-t.vmin});var r=-1/0;return LU(i,function(e,t){r>e.vmin&&(i[t]=null),r=e.vmax}),{breaks:i.filter(function(e){return!!e})}}function lIe(e,t){return cIe(t)===cIe(e)}function cIe(e){return e.start+"_\0_"+e.end}function uIe(e,t,n){var i=[];LU(e,function(e,n){var r=t(e);r&&"vmin"===r.type&&i.push([n])}),LU(e,function(n,r){var o=t(n);if(o&&"vmax"===o.type){var a=zU(i,function(n){return lIe(t(e[n[0]]).parsedBreak.breakOption,o.parsedBreak.breakOption)});a&&a.push(r)}});var r=[];return LU(i,function(t){2===t.length&&r.push(n?t:[e[t[0]],e[t[1]]])}),r}function hIe(e,t,n,i){var r,o;if(e.break){var a=e.break.parsedBreak,s=zU(n,function(t){return lIe(t.breakOption,e.break.parsedBreak.breakOption)}),l=i(Math.pow(t,a.vmin),s.vmin),c=i(Math.pow(t,a.vmax),s.vmax),u={type:a.gapParsed.type,val:"tpAbs"===a.gapParsed.type?eJ(Math.pow(t,a.vmin+a.gapParsed.val))-l:a.gapParsed.val};r={type:e.break.type,parsedBreak:{breakOption:a.breakOption,vmin:l,vmax:c,gapParsed:u,gapReal:a.gapReal}},o=s[e.break.type]}return{brkRoundingCriterion:o,vBreak:r}}function dIe(e,t,n){var i={noNegative:!0},r=sIe(e,n,i),o=sIe(e,n,i),a=Math.log(t);return o.breaks=RU(o.breaks,function(e){var t=Math.log(e.vmin)/a;return{vmin:t,vmax:Math.log(e.vmax)/a,gapParsed:{type:e.gapParsed.type,val:"tpAbs"===e.gapParsed.type?Math.log(e.vmin+e.gapParsed.val)/a-t:e.gapParsed.val},gapReal:e.gapReal,breakOption:e.breakOption}}),{parsedOriginal:r,parsedLogged:o}}var pIe={vmin:"start",vmax:"end"};function fIe(e,t){return t&&((e=e||{}).break={type:pIe[t.type],start:t.parsedBreak.vmin,end:t.parsedBreak.vmax}),e}function gIe(){!function e(t){d4||(d4=t)}({createScaleBreakContext:tIe,pruneTicksByBreak:rIe,addBreaksToTicks:oIe,parseAxisBreakOption:sIe,identifyAxisBreak:lIe,serializeAxisBreakIdentifier:cIe,retrieveAxisBreakPairs:uIe,getTicksLogTransformBreak:hIe,logarithmicParseBreaksFromOption:dIe,makeAxisLabelFormatterParamBreak:fIe})}var mIe=PJ();function vIe(e,t,n,i,r){var o=n.axis;if(!o.scale.isBlank()&&p4()){var a=p4().retrieveAxisBreakPairs(o.scale.getTicks({breakTicks:"only_break"}),function(e){return e.break},!1);if(a.length){var s=n.getModel("breakArea"),l=s.get("zigzagAmplitude"),c=s.get("zigzagMinSpan"),u=s.get("zigzagMaxSpan");c=Math.max(2,c||0),u=Math.max(c,u||0);var h=s.get("expandOnClick"),d=s.get("zigzagZ"),p=s.getModel("itemStyle").getItemStyle(),f=p.stroke,g=p.lineWidth,m=p.lineDash,v=p.fill,y=new FK({ignoreModelZ:!0}),b=o.isHorizontal(),x=mIe(t).visualList||(mIe(t).visualList=[]);!function S(e){LU(e,function(e){return e.shouldRemove=!0})}(x);for(var _=function(e){var t=a[e][0].break.parsedBreak,s=[];s[0]=o.toGlobalCoord(o.dataToCoord(t.vmin,!0)),s[1]=o.toGlobalCoord(o.dataToCoord(t.vmax,!0)),s[1]<s[0]&&s.reverse();var _=function w(e,t){var n=zU(e,function(e){return p4().identifyAxisBreak(e.parsedBreak.breakOption,t.breakOption)});return n||e.push(n={zigzagRandomList:[],parsedBreak:t,shouldRemove:!1}),n}(x,t);_.shouldRemove=!1;var S=new FK;!function M(e,t,n,r,o,a){var s={stroke:f,lineWidth:g,lineDash:m,fill:"none"},h=o?0:1,y=1-h,b=i[B5[y]]+i[V5[y]];function x(e){var t=[],n=[];t[h]=n[h]=e,t[y]=i[B5[y]],n[y]=b;var r={x1:t[0],y1:t[1],x2:n[0],y2:n[1]};return j0(r,r,{lineWidth:1}),t[0]=r.x1,t[1]=r.y1,t[h]}n=x(n),r=x(r);for(var _=[],w=[],S=!0,M=i[B5[y]],k=0;;k++){var C=M===i[B5[y]],T=M>=b;T&&(M=b);var A=[],I=[];A[h]=n,I[h]=r,C||T||(A[h]+=S?-l:l,I[h]-=S?l:-l),A[y]=M,I[y]=M,_.push(A),w.push(I);var D=void 0;if(k<e.length?D=e[k]:(D=Math.random(),e.push(D)),M+=D*(u-c)+c,S=!S,T)break}var O=p4().serializeAxisBreakIdentifier(a.breakOption);if(t.add(new n5({anid:"break_a_"+O,shape:{points:_},style:s,z:d})),0!==a.gapReal){t.add(new n5({anid:"break_b_"+O,shape:{points:w},style:s,z:d}));var E=w.slice();E.reverse();var L=_.concat(E);t.add(new e5({anid:"break_c_"+O,shape:{points:L},style:{fill:v,opacity:p.opacity},z:d}))}}(_.zigzagRandomList,S,s[0],s[1],b,t),h&&S.on("click",function(){var e={type:Mce,breaks:[{start:t.breakOption.start,end:t.breakOption.end}]};e[o.dim+"AxisIndex"]=n.componentIndex,r.dispatchAction(e)}),S.silent=!h,y.add(S)},w=0;w<a.length;w++)_(w);e.add(y),function M(e){for(var t=e.length-1;t>=0;t--)e[t].shouldRemove&&e.splice(t,1)}(x)}}}function yIe(e,t,n,i){var r=e.axis,o=n.transform;rX(i.style);var a=r.getExtent();r.inverse&&(a=a.slice()).reverse();var s=RU(p4().retrieveAxisBreakPairs(r.scale.getTicks({breakTicks:"only_break"}),function(e){return e.break},!1),function(e){var t=e[0].break.parsedBreak,n=[r.dataToCoord(t.vmin,!0),r.dataToCoord(t.vmax,!0)];return n[0]>n[1]&&n.reverse(),{coordPair:n,brkId:p4().serializeAxisBreakIdentifier(t.breakOption)}});s.sort(function(e,t){return e.coordPair[0]-t.coordPair[0]});for(var l=a[0],c=null,u=0;u<s.length;u++){var h=s[u],d=Math.max(h.coordPair[0],a[0]),p=Math.min(h.coordPair[1],a[1]);l<=d&&f(l,d,c,h),l=p,c=h}function f(e,n,r,a){function s(e,t){o&&(PX(e,e,o),PX(t,t,o))}function l(e,t){var n={x1:e[0],y1:e[1],x2:t[0],y2:t[1]};j0(n,n,i.style),e[0]=n.x1,e[1]=n.y1,t[0]=n.x2,t[1]=n.y2}var c=[e,0],u=[n,0],h=[e,5],d=[n,5];s(c,h),l(c,h),s(u,d),l(u,d),l(c,u);var p=new o5(AU({shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]}},i));t.add(p),p.anid="breakLine_"+(r?r.brkId:"\0")+"_\0_"+(a?a.brkId:"\0")}l<=a[1]&&f(l,a[1],c,null)}function bIe(e,t,n){if(!zU(n,function(e){return!e})){var i=new xq;if(Koe(n[0],n[1],i,{direction:-(e?t+Math.PI:t),touchThreshold:0,bidirectional:!1})){var r=[1,0,0,1,0,0];vq(r,r,-t);var o=RU(n,function(e){return e.transform?gq([1,0,0,1,0,0],r,e.transform):r}),a=.5;if(g(0)||g(1)){var s=RU(n,function(e,t){var n=e.localRect.clone();return n.applyTransform(o[t]),n}),l=new xq;l.copy(n[0].label).add(n[1].label).scale(.5),l.transform(r);var c=i.clone().transform(r),u=(s[0].x+s[1].x+(c.x>=0?s[0].width:s[1].width)+c.x)/2-l.x,h=Math.min(u,u-c.x),d=Math.max(u,u-c.x);a=(u-(d<0?d:h>0?h:0))/c.x}var p=new xq,f=new xq;xq.scale(p,i,-a),xq.scale(f,i,1-a),Uoe(n[0],p),Uoe(n[1],f)}}function g(e){var t=n[0].localRect,i=new xq(t[V5[e]]*o[0][0],t[V5[e]]*o[0][1]);return Math.abs(i.y)<1e-5}}function xIe(e,t){var n={breaks:[]};return LU(t.breaks,function(i){if(i){var r=zU(e.get("breaks",!0),function(e){return p4().identifyAxisBreak(e,i)});if(r){var o=t.type,a={isExpanded:!!r.isExpanded};r.isExpanded=o===Mce||o!==kce&&(o===Cce?!r.isExpanded:r.isExpanded),n.breaks.push({start:r.start,end:r.end,isExpanded:!!r.isExpanded,old:a})}}}),n}function _Ie(){!function e(t){gce||(gce=t)}({adjustBreakLabelPair:bIe,buildAxisBreakLine:yIe,rectCoordBuildBreakAxis:vIe,updateModelAxisBreak:xIe})}function wIe(e,t){LU(e,function(e){if(!e.model.get(["axisLabel","inside"])){var n=function o(e){var t,n,i=e.model,r=e.scale;if(!i.get(["axisLabel","show"])||r.isBlank())return;var o=r.getExtent();n=r instanceof Hie?r.count():(t=r.getTicks()).length;var a,s=e.getLabelModel(),l=Tre(e),c=1;n>40&&(c=Math.ceil(n/40));for(var u=0;u<n;u+=c){var h=l(t?t[u]:{value:o[0]+u},u),d=p(s.getTextRect(h),s.get("rotate")||0);a?a.union(d):a=d}return a;function p(e,t){var n=t*Math.PI/180,i=e.width,r=e.height,o=i*Math.abs(Math.cos(n))+Math.abs(r*Math.sin(n)),a=i*Math.abs(Math.sin(n))+Math.abs(r*Math.cos(n));return new Rq(e.x,e.y,o,a)}}(e);if(n){var i=e.isHorizontal()?"height":"width",r=e.model.get(["axisLabel","margin"]);t[i]-=n[i]+r,"top"===e.position?t.y+=n.height+r:"left"===e.position&&(t.x+=n.width+r)}}})}jne([function SIe(e){e.registerPainter("canvas",Mse)}]),jne([function MIe(e){e.registerPainter("svg",yse)}]),jne([function kIe(e){e.registerChartView(ole),e.registerSeriesModel(kse),e.registerLayout(ale("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,cle("line"))},function CIe(e){e.registerChartView(ble),e.registerSeriesModel(hle),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,HU(Qie,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ere("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,cle("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)})})},function TIe(e){e.registerChartView(Yle),e.registerSeriesModel(Qle),Eee("pie",e.registerAction),e.registerLayout(HU(zle,"pie")),e.registerProcessor(Vle("pie")),e.registerProcessor(function t(e){return{seriesType:e,reset:function(e,t){var n=e.getData();n.filterSelf(function(e){var t=n.mapDimension("value"),i=n.get(t,e);return!(UU(i)&&!isNaN(i)&&i<0)})}}}("pie"))},function AIe(e){jne(Eue),e.registerSeriesModel(tce),e.registerChartView(oce),e.registerLayout(ale("scatter"))},function IIe(e){jne(Zue),e.registerChartView(Wue),e.registerSeriesModel($ue),e.registerLayout(Bue),e.registerProcessor(Vle("radar")),e.registerPreprocessor(Hue)},function DIe(e){jne(Ede),e.registerChartView(gde),e.registerSeriesModel(mde),e.registerLayout(yde),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,vde),Eee("map",e.registerAction)},function OIe(e){e.registerChartView(jde),e.registerSeriesModel(dpe),e.registerLayout(fpe),e.registerVisual(gpe),function t(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var n=e.dataIndex,i=t.getData().tree.getNodeByDataIndex(n);i.isExpand=!i.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var n=ghe(t.coordinateSystem,e,t.get("scaleLimit"));t.setCenter(n.center),t.setZoom(n.zoom)})})}(e)},function EIe(e){e.registerSeriesModel(ype),e.registerChartView(Ope),e.registerVisual(qpe),e.registerLayout(sfe),function t(e){for(var t=0;t<mpe.length;t++)e.registerAction({type:mpe[t],update:"updateView"},vX);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function n(t,i){var r=lpe(e,["treemapZoomToNode","treemapRootToNode"],t);if(r){var o=t.getViewRoot();o&&(e.direction=upe(o,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}})})}(e)},function LIe(e){e.registerChartView(uge),e.registerSeriesModel(vge),e.registerProcessor(pfe),e.registerVisual(ffe),e.registerVisual(mfe),e.registerLayout(Cfe),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,Rfe),e.registerLayout(Pfe),e.registerCoordinateSystem("graphView",{dimensions:xde.dimensions,create:zfe}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},vX),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},vX),e.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",query:e},function(t){var i=n.getViewOfSeriesModel(t);i&&(null!=e.dx&&null!=e.dy&&i.updateViewOnPan(t,n,e),null!=e.zoom&&null!=e.originX&&null!=e.originY&&i.updateViewOnZoom(t,n,e));var r=ghe(t.coordinateSystem,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom)})})},function RIe(e){e.registerChartView(wge),e.registerSeriesModel(Sge),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,kge),e.registerProcessor(Vle("chord"))},function NIe(e){e.registerChartView(Ige),e.registerSeriesModel(Dge)},function PIe(e){e.registerChartView(Lge),e.registerSeriesModel(Rge),e.registerLayout(Nge),e.registerProcessor(Vle("funnel"))},function zIe(e){jne(lve),e.registerChartView(Pge),e.registerSeriesModel(Wge),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Gge)},function BIe(e){e.registerChartView(hve),e.registerSeriesModel(pve),e.registerLayout(fve),e.registerVisual(Cve),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),e.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){var n=ghe(t.coordinateSystem,e,t.get("scaleLimit"));t.setCenter(n.center),t.setZoom(n.zoom)})})},function VIe(e){e.registerSeriesModel(Ave),e.registerChartView(Ive),e.registerLayout(Pve),e.registerTransform(zve)},function FIe(e){e.registerChartView(Xve),e.registerSeriesModel(rye),e.registerPreprocessor(oye),e.registerVisual(Gve),e.registerLayout(aye)},function HIe(e){e.registerChartView(uye),e.registerSeriesModel(hye),e.registerLayout(ale("effectScatter"))},function WIe(e){e.registerChartView(bye),e.registerSeriesModel(Sye),e.registerLayout(yye),e.registerVisual(kye)},function $Ie(e){e.registerChartView(Aye),e.registerSeriesModel(Iye)},function jIe(e){e.registerChartView(Lye),e.registerSeriesModel(Kye),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,HU(Qie,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ere("pictorialBar"))},function GIe(e){e.registerChartView(Jye),e.registerSeriesModel(Qye),e.registerLayout(ebe),e.registerProcessor(Vle("themeRiver"))},function UIe(e){e.registerChartView(obe),e.registerSeriesModel(abe),e.registerLayout(HU(cbe,"sunburst")),e.registerProcessor(HU(Vle,"sunburst")),e.registerVisual(hbe),function t(e){e.registerAction({type:ibe,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function n(t,i){var r=lpe(e,[ibe],t);if(r){var o=t.getViewRoot();o&&(e.direction=upe(o,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}})}),e.registerAction({type:rbe,update:"none"},function(e,t,n){e=AU({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},function i(t){var n=lpe(e,[rbe],t);n&&(e.dataIndex=n.node.dataIndex)}),n.dispatchAction(AU(e,{type:"highlight"}))}),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,t,n){e=AU({},e),n.dispatchAction(AU(e,{type:"downplay"}))})}(e)},function XIe(e){e.registerChartView(lxe),e.registerSeriesModel(gbe)}]),jne(function qIe(e){jne(Eue),jne(c_e)}),jne(function YIe(e){jne(c_e),_ue.registerAxisPointerClass("PolarAxisPointer",u_e),e.registerCoordinateSystem("polar",M_e),e.registerComponentModel(d_e),e.registerComponentView(V_e),vce(e,"angle",f_e,z_e),vce(e,"radius",g_e,B_e),e.registerComponentView(I_e),e.registerComponentView(E_e),e.registerLayout(HU(P_e,"bar"))}),jne(Ede),jne(function ZIe(e){jne(c_e),_ue.registerAxisPointerClass("SingleAxisPointer",Q_e),e.registerComponentView(iwe),e.registerComponentView(W_e),e.registerComponentModel(j_e),vce(e,"single",j_e,j_e.defaultOption),e.registerCoordinateSystem("single",Y_e)}),jne(lve),jne(function KIe(e){e.registerComponentModel(rwe),e.registerComponentView(awe),e.registerCoordinateSystem("calendar",lwe)}),jne(function JIe(e){e.registerComponentModel(Nwe),e.registerComponentView(Fwe),e.registerCoordinateSystem("matrix",qwe)}),jne(function QIe(e){e.registerComponentModel(gSe),e.registerComponentView(ySe),e.registerPreprocessor(function(e){var t=e.graphic;WU(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}),jne(function eDe(e){e.registerComponentModel(GSe),e.registerComponentView(XSe),$Se("saveAsImage",qSe),$Se("magicType",KSe),$Se("dataView",rMe),$Se("dataZoom",kMe),$Se("restore",cMe),jne(FSe)}),jne(function tDe(e){jne(c_e),e.registerComponentModel(IMe),e.registerComponentView(UMe),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},vX),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},vX)}),jne(c_e),jne(function nDe(e){e.registerComponentView(fke),e.registerComponentModel(gke),e.registerPreprocessor(KMe),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,cke),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(t){t.setAreas(e.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},vX),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},vX),$Se("brush",yke)}),jne(function iDe(e){e.registerComponentModel(bke),e.registerComponentView(xke)}),jne(function rDe(e){e.registerComponentModel(wke),e.registerComponentView(Tke),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),function t(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,n){var i=t.getComponent("timeline");return i&&null!=e.currentIndex&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),IU({currentIndex:i.option.currentIndex},e)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&null!=e.playState&&n.setPlayState(e.playState)})}(e),e.registerPreprocessor(Dke)}),jne(function oDe(e){e.registerComponentModel(zke),e.registerComponentView(Yke),e.registerPreprocessor(function(e){Lke(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}),jne(function aDe(e){e.registerComponentModel(Zke),e.registerComponentView(iCe),e.registerPreprocessor(function(e){Lke(e.series,"markLine")&&(e.markLine=e.markLine||{})})}),jne(function sDe(e){e.registerComponentModel(rCe),e.registerComponentView(dCe),e.registerPreprocessor(function(e){Lke(e.series,"markArea")&&(e.markArea=e.markArea||{})})}),jne(function lDe(e){jne(kCe),jne(ECe)}),jne(function cDe(e){jne($Ce),jne(KCe)}),jne($Ce),jne(KCe),jne(function uDe(e){jne(OTe),jne(PTe)}),jne(OTe),jne(PTe),jne(function hDe(e){e.registerComponentModel(BTe),e.registerComponentView(VTe)}),jne(function dDe(e){e.registerPreprocessor(UTe),e.registerVisual(e.PRIORITY.VISUAL.ARIA,GTe)}),jne(function pDe(e){e.registerTransform(rAe),e.registerTransform(oAe)}),jne(function fDe(e){e.registerComponentModel(aAe),e.registerComponentView(sAe)}),jne(function gDe(e){e.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){LU(MJ(n.seriesTransition),function(e){LU(MJ(e.to),function(e){for(var t=n.updatedSeries,i=0;i<t.length;i++)(null!=e.seriesIndex&&e.seriesIndex===t[i].seriesIndex||null!=e.seriesId&&e.seriesId===t[i].id)&&(t[i][w7]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(e,t,n){var i=WAe(t);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var r=n.seriesTransition;if(r)LU(MJ(r),function(e){!function r(e,t,n,i){var r=[],o=[];LU(MJ(e.from),function(e){var n=QAe(t.oldSeries,e);n>=0&&r.push({dataGroupId:t.oldDataGroupIds[n],data:t.oldData[n],divide:JAe(t.oldData[n]),groupIdDim:e.dimension})}),LU(MJ(e.to),function(e){var i=QAe(n.updatedSeries,e);if(i>=0){var r=n.updatedSeries[i].getData();o.push({dataGroupId:t.oldDataGroupIds[i],data:r,divide:JAe(r),groupIdDim:e.dimension})}}),r.length>0&&o.length>0&&YAe(r,o,i)}(e,i,n,t)});else{var o=function e(t,n){var i=dX(),r=dX(),o=dX();return LU(t.oldSeries,function(e,n){var i=t.oldDataGroupIds[n],a=t.oldData[n],s=ZAe(e),l=KAe(s);r.set(l,{dataGroupId:i,data:a}),WU(s)&&LU(s,function(e){o.set(e,{key:l,dataGroupId:i,data:a})})}),LU(n.updatedSeries,function(e){if(e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()){var t=e.get("dataGroupId"),n=e.getData(),a=ZAe(e),s=KAe(a),l=r.get(s);if(l)i.set(s,{oldSeries:[{dataGroupId:l.dataGroupId,divide:JAe(l.data),data:l.data}],newSeries:[{dataGroupId:t,divide:JAe(n),data:n}]});else if(WU(a)){var c=[];LU(a,function(e){var t=r.get(e);t.data&&c.push({dataGroupId:t.dataGroupId,divide:JAe(t.data),data:t.data})}),c.length&&i.set(s,{oldSeries:c,newSeries:[{dataGroupId:t,data:n,divide:JAe(n)}]})}else{var u=o.get(a);if(u){var h=i.get(u.key);h||(h={oldSeries:[{dataGroupId:u.dataGroupId,data:u.data,divide:JAe(u.data)}],newSeries:[]},i.set(u.key,h)),h.newSeries.push({dataGroupId:t,data:n,divide:JAe(n)})}}}}),i}(i,n);LU(o.keys(),function(e){var n=o.get(e);YAe(n.oldSeries,n.newSeries,t)})}LU(n.updatedSeries,function(e){e[w7]&&(e[w7]=!1)})}for(var a=e.getSeries(),s=i.oldSeries=[],l=i.oldDataGroupIds=[],c=i.oldData=[],u=0;u<a.length;u++){var h=a[u].getData();h.count()<1e4&&(s.push(a[u]),l.push(a[u].get("dataGroupId")),c.push(h))}})}),jne(function mDe(e){e.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){var i=sae(t).labelManager;i||(i=sae(t).labelManager=new aae),i.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(e,t,n){var i=sae(t).labelManager;n.updatedSeries.forEach(function(e){i.addLabelsOfSeries(t.getViewOfSeriesModel(e))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}),jne(function vDe(e){!function t(e){function t(e,t){var n=[],i=BJ(t,e);function r(t,r){LU(i[t],function(t){LU(t.updateAxisBreaks(e).breaks,function(e){var i;n.push(IU(((i={})[r]=t.componentIndex,i),e))})})}return r("xAxisModels","xAxisIndex"),r("yAxisModels","yAxisIndex"),r("singleAxisModels","singleAxisIndex"),{eventBreaks:n}}e.registerAction(Ace,t),e.registerAction(Ice,t),e.registerAction(Dce,t)}(e),gIe(),_Ie()}),jne(function yDe(){!function e(t){rue=t}(wIe)}),jne(function bDe(e){e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,zue)});const xDe={key:1,width:"16",height:"16",viewBox:"-12 -4 32 32",xmlns:"http://www.w3.org/2000/svg"},_De=[Hr("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],wDe=Pn({__name:"ColorInputMenu",props:{iconClass:{default:"",type:String},inputType:{default:"RGB",type:String}},emits:["onChangeInputName"],setup(e,{emit:t}){const n=St(e.inputType),i=["CMYK","HSL","HSV","RGB"],r=t,o=()=>{const e=i.findIndex(e=>e==n.value),t=i[e+1]?i[e+1]:i[0];n.value=t,r("onChangeInputName",t)};return(t,i)=>(Or(),Nr("button",{type:"button",class:"cp-btn",onClick:o},[Gr(Y(n.value)+" ",1),e.iconClass?(Or(),Nr("i",{key:0,class:$(e.iconClass)},null,2)):(Or(),Nr("svg",xDe,_De))]))}}),SDe={class:"ck-cp-menu"},MDe={class:"ck-cp-controller-bar",style:{display:"flex","justify-content":"end",position:"relative","flex-grow":"1"}},kDe={key:1,width:"16",height:"16",viewBox:"-12 -4 32 32",xmlns:"http://www.w3.org/2000/svg"},CDe=[Hr("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],TDe={key:1,width:"16",height:"16",viewBox:"-12 -4 32 32",xmlns:"http://www.w3.org/2000/svg"},ADe=[Hr("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],IDe={key:1,width:"15",height:"28",viewBox:"0 -3 36 36",xmlns:"http://www.w3.org/2000/svg"},DDe=[Ur('<path d="M29.333 9.667h-8c-0.547 0-1-0.453-1-1s0.453-1 1-1h8c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M8 9.667h-5.333c-0.547 0-1-0.453-1-1s0.453-1 1-1h5.333c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M13.333 14.333c-3.12 0-5.667-2.547-5.667-5.667s2.547-5.667 5.667-5.667c3.12 0 5.667 2.547 5.667 5.667s-2.547 5.667-5.667 5.667zM13.333 5c-2.027 0-3.667 1.64-3.667 3.667s1.64 3.667 3.667 3.667c2.027 0 3.667-1.64 3.667-3.667s-1.64-3.667-3.667-3.667z"></path><path d="M29.333 24.333h-5.333c-0.547 0-1-0.453-1-1s0.453-1 1-1h5.333c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M10.667 24.333h-8c-0.547 0-1-0.453-1-1s0.453-1 1-1h8c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M18.667 29c-3.12 0-5.667-2.547-5.667-5.667s2.547-5.667 5.667-5.667c3.12 0 5.667 2.547 5.667 5.667s-2.547 5.667-5.667 5.667zM18.667 19.667c-2.027 0-3.667 1.64-3.667 3.667s1.64 3.667 3.667 3.667c2.027 0 3.667-1.64 3.667-3.667s-1.64-3.667-3.667-3.667z"></path>',6)],ODe={key:0,class:"ck-cp-linear-angle-container"},EDe={class:"ck-gradient-set-label",style:{"margin-top":"0"}},LDe=["value"],RDe={key:1,class:"ck-cp-linear-angle-container"},NDe={class:"ck-gradient-set-label",style:{"margin-top":"0"}},PDe=["value"],zDe={class:"ck-gradient-set-label"},BDe=["value"],VDe=Pn({__name:"PickerMenu",props:{mode:{default:"gradient",type:String},inputType:{default:"RGB",type:String},gradientType:{default:"linear",type:String},showInputMenu:{default:!0,type:Boolean},showPickerMode:{default:!0,type:Boolean},angle:{default:90,type:Number},percentageX:{default:50,type:Number},percentageY:{default:50,type:Number},local:{default:{},type:Object},iconClasses:{default:{ruler:"",eyeDroper:"",arrowDown:"",save:"",delete:""},type:Object}},emits:["onPickerChangeMode","onChangeMode","onChangeInputType","onDeleteColor","onClickEyeDropper","update:angle","update:percentageX","update:percentageY","onInput"],setup(e,{emit:t}){const n=e,i=St(!1),r=t,o=(e,t)=>{switch(t){case"angle":r("update:angle",parseInt(e.target.value)),r("onInput");break;case"percentageX":r("update:percentageX",parseInt(e.target.value)),r("onInput");break;case"percentageY":r("update:percentageY",parseInt(e.target.value)),r("onInput")}},a=e=>{r("onChangeInputType",e)},s=()=>{r("onChangeMode","linear"==n.gradientType?"radial":"linear")},l=()=>{r("onPickerChangeMode","gradient"==n.mode?"solid":"gradient")};return(t,n)=>(Or(),Nr(kr,null,[Hr("div",SDe,[Hr("div",MDe,[e.showPickerMode?(Or(),Nr("button",{key:0,type:"button",class:"cp-btn",onClick:l,style:{"margin-bottom":"var(--margin-top)"}},[sn(Hr("span",null,Y(e.local.gradient?e.local.gradient:"Gradient"),513),[[Go,"gradient"==e.mode]]),sn(Hr("span",null,Y(e.local.solid?e.local.solid:"Solid"),513),[[Go,"solid"==e.mode]]),e.iconClasses.arrowDown?(Or(),Nr("i",{key:0,class:$(e.iconClasses.arrowDown)},null,2)):(Or(),Nr("svg",kDe,CDe))])):Xr("",!0),"gradient"==e.mode?(Or(),Nr("button",{key:1,type:"button",class:"cp-btn",style:{"margin-bottom":"var(--margin-top)"},onClick:s},[sn(Hr("span",null,Y(e.local.linear?e.local.linear:"Linear"),513),[[Go,"linear"==e.gradientType]]),sn(Hr("span",null,Y(e.local.radial?e.local.radial:"Radial"),513),[[Go,"radial"==e.gradientType]]),e.iconClasses.arrowDown?(Or(),Nr("i",{key:0,class:$(e.iconClasses.arrowDown)},null,2)):(Or(),Nr("svg",TDe,ADe))])):Xr("",!0),e.showInputMenu?(Or(),Pr(wDe,{key:2,style:{"margin-bottom":"var(--margin-top)"},iconClass:e.iconClasses.arrowDown,inputType:e.inputType,onOnChangeInputName:a},null,8,["iconClass","inputType"])):Xr("",!0),"gradient"==e.mode?(Or(),Nr("button",{key:3,type:"button",class:"cp-btn",style:{"margin-bottom":"var(--margin-top)"},onClick:n[0]||(n[0]=e=>i.value=!i.value)},[e.iconClasses.ruler?(Or(),Nr("i",{key:0,class:$(e.iconClasses.ruler)},null,2)):(Or(),Nr("svg",IDe,DDe))])):Xr("",!0)])]),"gradient"==e.mode?sn((Or(),Nr("div",ODe,[Hr("div",null,[Hr("p",EDe,[Gr(Y(e.local.angle?e.local.angle:"Angle")+" ",1),Hr("span",null,Y(e.angle)+"",1)]),Hr("input",{type:"range",min:"0",max:"360",value:e.angle,onInput:n[1]||(n[1]=e=>o(e,"angle"))},null,40,LDe)])],512)),[[Go,"linear"==e.gradientType&&i.value]]):Xr("",!0),"gradient"==e.mode&&i.value?sn((Or(),Nr("div",RDe,[Hr("div",null,[Hr("p",NDe,[Gr(Y(e.local.positionX?e.local.positionX:"Position X")+" ",1),Hr("span",null,Y(e.percentageX)+"%",1)]),Hr("input",{type:"range",min:"0",max:"100",value:e.percentageX,onInput:n[2]||(n[2]=e=>o(e,"percentageX"))},null,40,PDe)]),Hr("div",null,[Hr("p",zDe,[Gr(Y(e.local.positionY?e.local.positionY:"Position Y")+" ",1),Hr("span",null,Y(e.percentageY)+"%",1)]),Hr("input",{type:"range",min:"0",max:"100",value:e.percentageY,onInput:n[3]||(n[3]=e=>o(e,"percentageY"))},null,40,BDe)])],512)),[[Go,"radial"==e.gradientType]]):Xr("",!0)],64))}}),FDe=["onTouchstart"],HDe=Pn({__name:"GradientBar",emits:["onAddColor","onMouseDown"],setup(e,{emit:t}){const n=Fi("gradientBar"),i=t,r=e=>{e.preventDefault()};let o=0;const a=e=>{e.preventDefault();const t=(new Date).getTime(),n=t-o;n<300&&n>0&&i("onAddColor",e),o=t};return(e,t)=>(Or(),Nr("div",{class:"gradient-bar",onMousedown:t[1]||(t[1]=t=>e.$emit("onMouseDown",t)),onTouchstart:t[2]||(t[2]=t=>e.$emit("onMouseDown",t)),onDragstart:r},[Hr("div",{ref_key:"gradientBar",ref:n,class:"gradient-container",onDblclick:t[0]||(t[0]=t=>e.$emit("onAddColor",t)),onTouchstart:La(a,["self"])},null,40,FDe)],32))}}),WDe=Hr("div",{class:"colour-area-mask"},null,-1),$De=Pn({__name:"PickerWrap",emits:["onEventStart"],setup(e){const t=Fi("canvas"),n=Fi("pickerWrap"),i=Fi("pickerPointer"),r=e=>{e.preventDefault()};return(e,o)=>(Or(),Nr("div",{ref_key:"pickerWrap",ref:n,class:"cp-picker-wrap",onMousedown:o[0]||(o[0]=t=>e.$emit("onEventStart",t)),onTouchstart:o[1]||(o[1]=t=>{t.preventDefault(),e.$emit("onEventStart",t)}),onDragstart:r},[Hr("canvas",{ref_key:"canvas",ref:t,class:"colour-area"},null,512),WDe,Hr("div",{ref_key:"pickerPointer",ref:i,class:"colour-area-point-circle"},null,512)],544))}}),jDe={class:"picker-hue"},GDe=["value"],UDe=Pn({__name:"PickerHue",props:{modelValue:{default:0,type:Number}},emits:["update:modelValue","onInput","onChange"],setup(e,{emit:t}){const n=t,i=e=>{n("update:modelValue",parseFloat(e.target.value)),n("onInput",e)};return(t,n)=>(Or(),Nr("div",jDe,[Hr("input",{value:e.modelValue,class:"picker-hue-range-slider",type:"range",min:"0",max:"360",step:"0.1",onInput:i,onChange:n[0]||(n[0]=e=>t.$emit("onChange",e))},null,40,GDe)]))}}),XDe={class:"opacity-bar"},qDe=["value"],YDe=Pn({__name:"OpacityBar",props:{modelValue:{default:0,type:Number}},emits:["update:modelValue","onInput"],setup(e,{emit:t}){const n=Fi("opacitySlider"),i=t,r=e=>{i("update:modelValue",parseInt(e.target.value)),i("onInput",e)};return(t,i)=>(Or(),Nr("div",XDe,[Hr("input",{ref_key:"opacitySlider",ref:n,value:e.modelValue,class:"opacity_slider",type:"range",min:"0",max:"100",onInput:r},null,40,qDe)]))}}),ZDe={class:"ck-cp-input-content"},KDe={class:"ck-cp-input-label"},JDe=["min","max","value"],QDe=Pn({__name:"InputNumber",props:{label:{default:"",type:String},modelValue:{default:0,type:Number},min:{default:0,type:Number},max:{default:100,type:Number}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,r=St(n.modelValue);ji(()=>n.modelValue,(e,t)=>{e!==t&&(r.value=e)},{immediate:!0});const o=e=>{const t=e=>{r.value=e,i("update:modelValue",e)},o=e.target.value;return o?parseInt(o)>n.max?t(n.max):void i("update:modelValue",parseInt(o)):t(n.modelValue)},a=e=>{r.value=e.target.value},s=e=>{if(["KeyE","Equal","Equal","Backslash","Slash","NumpadDecimal","NumpadAdd"].includes(e.code))return e.preventDefault();"Enter"===e.code&&o(e)},l=o;return(t,n)=>(Or(),Nr("div",ZDe,[Hr("span",KDe,Y(e.label),1),Hr("input",{type:"number",min:e.min,max:e.max,value:r.value,onInput:a,onKeydown:s,onFocusout:n[0]||(n[0]=(...e)=>Tt(l)&&Tt(l)(...e))},null,40,JDe)]))}}),eOe={class:"ck-cp-input-content color-hex"},tOe=Hr("span",{class:"ck-cp-input-label"},"HEX",-1),nOe=["value"],iOe=Pn({__name:"InputHex",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,r=St(""),o=e=>{const t=e.target.value;r.value=t,r.value=`#${t.replace(/#/g,"")}`},a=e=>{const t=e.target.value;if(t===n.modelValue)return;if(!/^#[0-9a-fA-F]+$/.test(t))return void(r.value=n.modelValue);let o=t.replace(/#/g,"");switch(o.length){case 0:o=n.modelValue.replace("#","");break;case 1:case 2:o=o.repeat(3);break;case 4:case 5:o=o.slice(0,3);break;case 3:case 6:break;default:o=o.slice(0,6)}r.value=`#${o.toUpperCase()}`,i("update:modelValue",r.value)},s=e=>{"Enter"===e.code&&a(e)},l=a;return ji(()=>n.modelValue,(e,t)=>{e!==t&&(r.value=e)},{immediate:!0}),(e,t)=>(Or(),Nr("div",eOe,[tOe,Hr("input",{type:"text",value:r.value,onInput:o,onKeydown:s,onFocusout:t[0]||(t[0]=(...e)=>Tt(l)&&Tt(l)(...e))},null,40,nOe)]))}}),rOe=e=>{var t;try{let n=null==(t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,n,i)=>"#"+t+t+n+n+i+i).substring(1).match(/.{2}/g))?void 0:t.map(e=>parseInt(e,16)),i=null==n?void 0:n[0],r=null==n?void 0:n[1],o=null==n?void 0:n[2];return Number.isNaN(i)||Number.isNaN(r)||Number.isNaN(o)||void 0===i||void 0===r||void 0===o?null:{r:i,g:r,b:o}}catch{return null}},oOe=(e,t,n)=>{e/=255,t/=255,n/=255;const i=Math.max(e,t,n),r=Math.min(e,t,n);let o;return o=i===e?(t-n)/(i-r):i===t?2+(n-e)/(i-r):4+(e-t)/(i-r),o*=60,o<0&&(o+=360),Number.isNaN(o)&&(o=0),o},aOe=(e,t,n)=>"#"+(16777216+(n|t<<8|e<<16)).toString(16).slice(1),sOe=(e,t,n)=>{let i=((e,t,n)=>{t/=100,n/=100;let i,r,o,a=[];return i=(1-Math.abs(2*n-1))*t,r=i*(1-Math.abs(e/60%2-1)),o=n-i/2,e>=0&&e<60&&(a=[i,r,0]),e>=60&&e<120&&(a=[r,i,0]),e>=120&&e<180&&(a=[0,i,r]),e>=180&&e<240&&(a=[0,r,i]),e>=240&&e<300&&(a=[r,0,i]),e>=300&&e<=360&&(a=[i,0,r]),a.map(e=>Math.round(255*(e+o)))})(e,t,n);return{rgb:i,hexA:aOe(i[0],i[1],i[2])}},lOe=(e,t,n)=>{let i,r,o,a,s,l,c=0,u=[];for(u[0]=e/255,u[1]=t/255,u[2]=n/255,i=u[0],r=u[0],l=0,o=0;o<u.length-1;o++)u[o+1]<=i&&(i=u[o+1]),u[o+1]>=r&&(r=u[o+1],l=o+1);return 0===l&&(c=(u[1]-u[2])/(r-i)),1===l&&(c=2+(u[2]-u[0])/(r-i)),2===l&&(c=4+(u[0]-u[1])/(r-i)),isNaN(c)&&(c=0),c*=60,c<0&&(c+=360),a=(i+r)/2,s=i===r?0:a<.5?(r-i)/(r+i):(r-i)/(2-r-i),{h:c,s:s,l:a}},cOe=(e,t,n)=>{let i,r,o;if(e=e%360/360,t=Math.min(1,Math.max(0,t)),n=Math.min(1,Math.max(0,n)),0===t)i=r=o=n;else{const a=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<.16666666666666666?e+6*(t-e)*n:n<.5?t:n<.6666666666666666?e+(t-e)*(.6666666666666666-n)*6:e),s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=a(l,s,e+1/3),r=a(l,s,e),o=a(l,s,e-1/3)}return i=Math.round(255*i),r=Math.round(255*r),o=Math.round(255*o),{r:i,g:r,b:o}},uOe={class:"ck-cp-local-color-conatiner"},hOe={class:"ck-cp-color-list-label"},dOe={style:{display:"flex","align-items":"center"}},pOe={key:1,width:"32",height:"14",viewBox:"5 -5 32 32",xmlns:"http://www.w3.org/2000/svg"},fOe=[Hr("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],gOe={key:1,width:"18",height:"18",viewBox:"-2 -2 30 30",xmlns:"http://www.w3.org/2000/svg"},mOe=[Ur('<path d="M20.9997 6.72998C20.9797 6.72998 20.9497 6.72998 20.9197 6.72998C15.6297 6.19998 10.3497 5.99998 5.11967 6.52998L3.07967 6.72998C2.65967 6.76998 2.28967 6.46998 2.24967 6.04998C2.20967 5.62998 2.50967 5.26998 2.91967 5.22998L4.95967 5.02998C10.2797 4.48998 15.6697 4.69998 21.0697 5.22998C21.4797 5.26998 21.7797 5.63998 21.7397 6.04998C21.7097 6.43998 21.3797 6.72998 20.9997 6.72998Z"></path><path d="M8.50074 5.72C8.46074 5.72 8.42074 5.72 8.37074 5.71C7.97074 5.64 7.69074 5.25 7.76074 4.85L7.98074 3.54C8.14074 2.58 8.36074 1.25 10.6907 1.25H13.3107C15.6507 1.25 15.8707 2.63 16.0207 3.55L16.2407 4.85C16.3107 5.26 16.0307 5.65 15.6307 5.71C15.2207 5.78 14.8307 5.5 14.7707 5.1L14.5507 3.8C14.4107 2.93 14.3807 2.76 13.3207 2.76H10.7007C9.64074 2.76 9.62074 2.9 9.47074 3.79L9.24074 5.09C9.18074 5.46 8.86074 5.72 8.50074 5.72Z"></path><path d="M15.2104 22.7501H8.79039C5.30039 22.7501 5.16039 20.8201 5.05039 19.2601L4.40039 9.19007C4.37039 8.78007 4.69039 8.42008 5.10039 8.39008C5.52039 8.37008 5.87039 8.68008 5.90039 9.09008L6.55039 19.1601C6.66039 20.6801 6.70039 21.2501 8.79039 21.2501H15.2104C17.3104 21.2501 17.3504 20.6801 17.4504 19.1601L18.1004 9.09008C18.1304 8.68008 18.4904 8.37008 18.9004 8.39008C19.3104 8.42008 19.6304 8.77007 19.6004 9.19007L18.9504 19.2601C18.8404 20.8201 18.7004 22.7501 15.2104 22.7501Z"></path><path d="M13.6601 17.25H10.3301C9.92008 17.25 9.58008 16.91 9.58008 16.5C9.58008 16.09 9.92008 15.75 10.3301 15.75H13.6601C14.0701 15.75 14.4101 16.09 14.4101 16.5C14.4101 16.91 14.0701 17.25 13.6601 17.25Z"></path><path d="M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z"></path>',5)],vOe={class:"ck-cp-color-list"},yOe=["onClick"],bOe={key:1,width:"25",height:"25",viewBox:"2 2 20 20",xmlns:"http://www.w3.org/2000/svg"},xOe=[Hr("path",{d:"M18 12.75H6C5.59 12.75 5.25 12.41 5.25 12C5.25 11.59 5.59 11.25 6 11.25H18C18.41 11.25 18.75 11.59 18.75 12C18.75 12.41 18.41 12.75 18 12.75Z"},null,-1),Hr("path",{d:"M12 18.75C11.59 18.75 11.25 18.41 11.25 18V6C11.25 5.59 11.59 5.25 12 5.25C12.41 5.25 12.75 5.59 12.75 6V18C12.75 18.41 12.41 18.75 12 18.75Z"},null,-1)],_Oe=Pn({__name:"HistoryColorList",props:{colorListCount:{default:10,type:Number},hexVal:{default:"",type:String},title:{default:"",type:String},iconClasses:{default:{ruler:"",eyeDroper:"",arrowDown:"",save:"",delete:""},type:Object}},emits:["color-item-click"],setup(e,{emit:t}){const n=e,i=t,r=St([]),o=go(()=>r.value.some(e=>1==e.selected)),a=()=>{if(!r.value.find(e=>e.color===n.hexVal)){const e=r.value.find(e=>1==e.selected);if(e)e.color=n.hexVal;else{r.value.length===n.colorListCount&&r.value.pop();let e=n.hexVal;r.value.unshift({color:e,selected:!1})}localStorage.setItem("ck-cp-local-color-list",JSON.stringify(r.value.map(e=>e.color)))}},s=()=>{r.value=r.value.filter(e=>0==e.selected),localStorage.setItem("ck-cp-local-color-list",JSON.stringify(r.value.map(e=>e.color)))};return Yn(()=>{let e=localStorage.getItem("ck-cp-local-color-list");if(e){let t=JSON.parse(e);r.value=t.map(e=>({color:e,selected:!1}))}}),(t,n)=>(Or(),Nr("div",uOe,[Hr("div",hOe,[Hr("div",dOe,[Gr(Y(e.title?e.title:"Color Palette")+" ",1),e.iconClasses.arrowDown?(Or(),Nr("i",{key:0,class:$(e.iconClasses.arrowDown)},null,2)):(Or(),Nr("svg",pOe,fOe))]),o.value?(Or(),Nr("button",{key:0,type:"button",class:"cp-main-btn",onClick:s,style:{width:"17.33px",height:"17.33px"}},[e.iconClasses.delete?(Or(),Nr("i",{key:0,class:$(e.iconClasses.delete)},null,2)):(Or(),Nr("svg",gOe,mOe))])):Xr("",!0)]),Hr("div",vOe,[(Or(!0),Nr(kr,null,hi(r.value,e=>(Or(),Nr("div",{key:`color-${e.color}`,class:$(["ck-cp-color-item",e.selected?"ck-select":""]),style:B({backgroundColor:e.color}),onClick:t=>(e=>{r.value.forEach(t=>{t.color===e?t.selected=!t.selected:t.selected=!1}),i("color-item-click",e)})(e.color)},null,14,yOe))),128)),Hr("button",{type:"button",class:"cp-btn-save-color",onClick:a},[e.iconClasses.save?(Or(),Nr("i",{key:0,class:$(e.iconClasses.save)},null,2)):(Or(),Nr("svg",bOe,xOe))])])]))}}),wOe=["cp-theme"],SOe={key:0,style:{display:"flex","align-items":"center",gap:"8px","margin-top":"calc(var(--margin-top) * 1.35)",padding:"var(--padding)"}},MOe={key:1,width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},kOe=[Ur('<path d="M20.9997 6.72998C20.9797 6.72998 20.9497 6.72998 20.9197 6.72998C15.6297 6.19998 10.3497 5.99998 5.11967 6.52998L3.07967 6.72998C2.65967 6.76998 2.28967 6.46998 2.24967 6.04998C2.20967 5.62998 2.50967 5.26998 2.91967 5.22998L4.95967 5.02998C10.2797 4.48998 15.6697 4.69998 21.0697 5.22998C21.4797 5.26998 21.7797 5.63998 21.7397 6.04998C21.7097 6.43998 21.3797 6.72998 20.9997 6.72998Z"></path><path d="M8.50074 5.72C8.46074 5.72 8.42074 5.72 8.37074 5.71C7.97074 5.64 7.69074 5.25 7.76074 4.85L7.98074 3.54C8.14074 2.58 8.36074 1.25 10.6907 1.25H13.3107C15.6507 1.25 15.8707 2.63 16.0207 3.55L16.2407 4.85C16.3107 5.26 16.0307 5.65 15.6307 5.71C15.2207 5.78 14.8307 5.5 14.7707 5.1L14.5507 3.8C14.4107 2.93 14.3807 2.76 13.3207 2.76H10.7007C9.64074 2.76 9.62074 2.9 9.47074 3.79L9.24074 5.09C9.18074 5.46 8.86074 5.72 8.50074 5.72Z"></path><path d="M15.2104 22.7501H8.79039C5.30039 22.7501 5.16039 20.8201 5.05039 19.2601L4.40039 9.19007C4.37039 8.78007 4.69039 8.42008 5.10039 8.39008C5.52039 8.37008 5.87039 8.68008 5.90039 9.09008L6.55039 19.1601C6.66039 20.6801 6.70039 21.2501 8.79039 21.2501H15.2104C17.3104 21.2501 17.3504 20.6801 17.4504 19.1601L18.1004 9.09008C18.1304 8.68008 18.4904 8.37008 18.9004 8.39008C19.3104 8.42008 19.6304 8.77007 19.6004 9.19007L18.9504 19.2601C18.8404 20.8201 18.7004 22.7501 15.2104 22.7501Z"></path><path d="M13.6601 17.25H10.3301C9.92008 17.25 9.58008 16.91 9.58008 16.5C9.58008 16.09 9.92008 15.75 10.3301 15.75H13.6601C14.0701 15.75 14.4101 16.09 14.4101 16.5C14.4101 16.91 14.0701 17.25 13.6601 17.25Z"></path><path d="M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z"></path>',5)],COe={style:{display:"flex","align-items":"center",gap:"8px","margin-top":"calc(var(--margin-top) * 1.35)",padding:"var(--padding)"}},TOe=Hr("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"3 2 28 28"},[Hr("path",{d:"M27.014 2.891l-0.058-0.058c-1.106-1.11-2.911-1.11-4.022 0l-2.515 2.515-0.072-0.072c-0.603-0.603-1.584-0.603-2.216 0.024-0.599 0.603-0.599 1.584 0 2.187l0.072 0.072-8.034 8.039c-1.135 1.13-1.878 2.617-2.1 4.2l-1.217 1.453c-0.483 0.483-0.483 1.265 0 1.743 0.241 0.246 0.565 0.367 0.883 0.367 0.304 0 0.608-0.111 0.826-0.338l1.487-1.241c1.584-0.227 3.071-0.97 4.205-2.1l8.034-8.039 0.072 0.072c0.299 0.299 0.69 0.449 1.086 0.449 0.401 0 0.811-0.159 1.13-0.478 0.29-0.29 0.449-0.676 0.449-1.091s-0.159-0.801-0.449-1.096l-0.072-0.068 2.515-2.515c1.106-1.11 1.106-2.916-0.005-4.027zM13.568 18.997c-1.014 1.014-2.356 1.671-3.78 1.844-0.092 0.014-0.179 0.048-0.251 0.111l-1.622 1.361c-0.106 0.106-0.275 0.106-0.381 0-0.101-0.106-0.101-0.275 0.029-0.41l1.337-1.593c0.058-0.072 0.097-0.159 0.106-0.251 0.174-1.424 0.83-2.766 1.844-3.78l8.039-8.034 2.718 2.718-8.039 8.034z"}),Hr("path",{d:"M5.804 24.979c-0.275 0.328-1.651 2.023-1.651 2.998 0 1.115 0.908 2.023 2.018 2.023 1.115 0 2.023-0.908 2.023-2.023 0-0.975-1.376-2.67-1.651-2.998-0.183-0.222-0.555-0.222-0.739 0z"})],-1),AOe={style:{"flex-grow":"1",display:"flex","flex-direction":"column",gap:"calc(var(--margin-top) * 1.85)"}},IOe={id:"ck-cp-target-background"},DOe={key:1,class:"ck-cp-input-container"},OOe={key:3,class:"ck-cp-buttons"},EOe=Pn({__name:"Vue3ColorPicker",props:{modelValue:{default:"",type:String},mode:{default:"gradient",type:String},type:{default:"HEX8",type:String},inputType:{default:"RGB",type:String},theme:{default:"light",type:String},colorListCount:{default:15,type:Number},showColorList:{default:!0,type:Boolean},showEyeDrop:{default:!0,type:Boolean},showPickerMode:{default:!0,type:Boolean},showAlpha:{default:!0,type:Boolean},showInputMenu:{default:!0,type:Boolean},showInputSet:{default:!0,type:Boolean},disabled:{default:!1,type:Boolean},gradientMode:{default:"linear",type:String},local:{default:{angle:"",positionX:"",positionY:"",solid:"",gradient:"",linear:"",radial:"",colorPalette:"",btnSaveLabel:"Save",btnCancelLabel:"Cancel"},type:Object},iconClasses:{default:{linear:"",radial:"",ruler:"",eyeDroper:"",inputMenu:"",save:"",delete:""},type:Object},showButtons:{type:Boolean,default:!1}},emits:["update:modelValue","onChange","onSave","onCancel"],setup(e,{emit:t}){const n=e,i=St(null),r=t,o=St(n.mode),a=St(n.modelValue),s=St(n.modelValue),l=e=>{a.value=e,r("onChange",e),n.showButtons||(s.value=e,r("update:modelValue",e))},c=St([{id:1,r:68,g:71,b:119,a:100,percent:0,hue:0,select:!0},{id:2,r:0,g:0,b:255,a:100,percent:100,hue:0,select:!1}]),u=St(!1),h=St(n.gradientMode),d=ut({angle:90,percentageX:50,percentageY:50}),p=St(""),f=St(n.inputType),g=St(!1),m=St(),v=St(),y=St(),b=St(),x=St(),_=ut({h:0,s:0,l:0}),w=ut({h:0,s:0,v:0}),S=ut({c:0,m:0,y:0,k:0});Vi("gradientBar",v),Vi("canvas",y),Vi("pickerWrap",b),Vi("pickerPointer",x),Vi("opacitySlider",m);let M=0,k=0,C=0,T=0,A=0,I=0;const D=e=>{if(!b.value||!x.value)return;const t="TouchEvent"in window&&e instanceof TouchEvent,{clientX:n,clientY:i}=t?e.touches[0]:e;A=b.value.offsetHeight-x.value.offsetHeight,I=b.value.offsetWidth-x.value.offsetWidth,C=n-e.target.getBoundingClientRect().left,T=i-e.target.getBoundingClientRect().top,M=C-x.value.offsetWidth/2,k=T-x.value.offsetHeight/2,x.value.style.left=`${M}px`,x.value.style.top=`${k}px`,L(!1),ue(),t?(window.addEventListener("touchmove",O),window.addEventListener("touchend",E)):(window.addEventListener("mousemove",O),window.addEventListener("mouseup",E))},O=e=>{e.preventDefault();const t="TouchEvent"in window&&e instanceof TouchEvent,{clientX:n,clientY:i}=t?e.touches[0]:e,r=b.value.getBoundingClientRect(),o=n-r.left-x.value.offsetWidth/2,a=i-r.top-x.value.offsetHeight/2;o>=0&&o<=I?(M=o,x.value.style.left=`${o}px`):0>o?(M=0,x.value.style.left="0px"):o>I&&(M=I,x.value.style.left=`${I}px`),a>=0&&a<=A?(k=a,x.value.style.top=`${a}px`):0>a?(k=0,x.value.style.top="0px"):a>A&&(k=A,x.value.style.top=`${A}px`),L(!1),ue()},E=e=>{"TouchEvent"in window&&e instanceof TouchEvent?(window.removeEventListener("touchmove",O),window.removeEventListener("touchend",E)):(window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",E))},L=e=>{if(!e){let e=P();const t=cOe(R.value,e.s,e.l);if(t){if(g.value){let e=c.value.find(e=>1==e.select);e&&(e.r=t.r,e.g=t.g,e.b=t.b)}Q(),ee()}}},R=St(0),N=async e=>{const{rgb:t}=sOe(R.value,100,50);J(t),setTimeout(()=>{L(e),ue()},0)},P=()=>{let e={s:0,l:0},t=b.value.offsetWidth-x.value.offsetWidth,n=b.value.offsetHeight-x.value.offsetHeight,i=parseInt(x.value.style.left),r=1-parseInt(x.value.style.top)/n,o=i/t;return e.l=r/2*(2-o),e.s=r*o/(1-Math.abs(2*e.l-1)),Number.isNaN(e.s)&&(e.s=e.l),e.l=e.l>1?1:e.l,e.s=e.s>1?1:e.s,e},z=()=>{const e=c.value.find(e=>1==e.select);if(e){const{l:t,s:n}=lOe(e.r,e.g,e.b);let i=t,r=n;Number.isNaN(r)&&(r=i);let o={x:0,y:0},a=b.value.offsetWidth-x.value.offsetWidth,s=b.value.offsetHeight-x.value.offsetHeight;const[l,c]=2*i-1<0?[2*a*r/(1+r),s*(1-i*(1+r))]:[2*-a*(i-1)*r/(i+r-i*r),s*(i-1)*(r-1)];return o.x=l,o.y=c,o}return null},B=()=>{const e=c.value.find(e=>1==e.select);e&&(e.hue=R.value)},V=St(100),F=e=>{if(n.showAlpha){const t=e.target,n=c.value.find(e=>1==e.select);n&&(n.a=parseInt(t.value),ee())}};let H=null,W=null;const j=e=>{var t,n;const r=e.target.offsetParent;if(null!=(t=null==r?void 0:r.id)&&t.includes("clr-gb-")){const t=r.id.replace("clr-gb-","");W=r;const o=c.value.find(e=>1==e.select);if(o&&o.id!=t){const e=null==(n=i.value)?void 0:n.querySelector(".gradient-handle.select");null==e||e.classList.remove("select"),r.classList.add("select");const o=c.value.findIndex(e=>1==e.select);for(let n=0;n<c.value.length;n++){const e=c.value[n];if(e.id==t){-1!=o&&(c.value[o].select=!1),c.value[n].select=!0,V.value=e.a,Z(e.r,e.g,e.b,e.hue,!0),Q(),ue();break}}}"TouchEvent"in window&&e instanceof TouchEvent?(window.addEventListener("touchmove",U),window.addEventListener("touchend",G)):(window.addEventListener("mousemove",U),window.addEventListener("mouseup",G))}},G=e=>{"TouchEvent"in window&&e instanceof TouchEvent?(window.removeEventListener("touchmove",U),window.removeEventListener("touchend",G)):(window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",G))},U=e=>{var t,n;e.preventDefault();const r="TouchEvent"in window&&e instanceof TouchEvent?e.touches[0].clientX:e.clientX,o=null==(n=null==(t=i.value)?void 0:t.querySelector(".gradient-handle-content"))?void 0:n.getBoundingClientRect(),a=null==H?void 0:H.getBoundingClientRect(),s=(null==a?void 0:a.width)-(null==o?void 0:o.width);let l=r-((null==a?void 0:a.left)||0)-((null==o?void 0:o.width)||0)/2;if(l<0?l=0:l>s&&(l=s),W){W.style.left=`${l}px`;const e=parseFloat((l/((null==a?void 0:a.width)-(null==o?void 0:o.width))*100).toFixed(0)),t=c.value.find(e=>e.id==(null==W?void 0:W.id.replace("clr-gb-","")));t&&(t.percent=e),ee()}},X=e=>{var t,n;const r="TouchEvent"in window&&e instanceof TouchEvent,o=null==H?void 0:H.getBoundingClientRect();let a;a=r?Math.round((e.touches[0].clientX-((null==o?void 0:o.left)||0))/((null==o?void 0:o.width)||1)*100):Math.round((e.clientX-((null==o?void 0:o.left)||0))/((null==o?void 0:o.width)||1)*100);const s=c.value.findIndex(e=>1==e.select),l=c.value[s],u={id:Date.now(),r:l.r,g:l.g,b:l.b,a:l.a,percent:a,hue:l.hue,select:!0};c.value[s].select=!1;const h=null==(t=i.value)?void 0:t.querySelector(".gradient-handle.select");null==h||h.classList.remove("select"),c.value=[...c.value,u],K(u),W=null==(n=i.value)?void 0:n.querySelector(`#clr-gb-${u.id}`),ee()},q=e=>{if(0==e.r&&0==e.g&&0==e.b)return!0;if(255==e.r&&255==e.g&&255==e.b)return!0;{const t=y.value.getContext("2d",{willReadFrequently:!0}),n=y.value.width,i=y.value.height,r=t.getImageData(0,0,n,i).data,o=e.r,a=e.g,s=e.b;for(let e=0;e<i;e++)for(let t=0;t<n;t++){const i=4*(e*n+t),l=r[i],c=r[i+1],u=r[i+2];if(l===o&&c===a&&u===s)return!0}return!1}},Z=(e,t,n,i,r)=>{setTimeout(()=>{if(q({r:e,g:t,b:n})){let e=z();e&&(x.value.style.left=`${e.x}px`,x.value.style.top=`${e.y}px`)}else{let e=z();e&&(x.value.style.left=`${e.x}px`,x.value.style.top=`${e.y}px`),R.value=i,N(r)}},0)},K=e=>{if("gradient"==o.value){let t=document.createElement("div");t.id=`clr-gb-${e.id}`,t.classList.add("gradient-handle"),t.style.left=(e=>{var t,n,r,o;const a=null==(n=null==(t=i.value)?void 0:t.querySelector(".gradient-handle-content"))?void 0:n.getBoundingClientRect();return 0===e?"0px":100===e&&a?((null==(r=v.value)?void 0:r.offsetWidth)||0)-(a.width||0)+"px":((null==(o=v.value)?void 0:o.offsetWidth)||0)*(e/100)-((null==a?void 0:a.width)||0)/2+"px"})(e.percent);let n=document.createElement("div");n.classList.add("gradient-handle-content"),1==e.select&&t.classList.add("select"),t.appendChild(n),H&&H.appendChild(t)}},J=e=>{const t=y.value.getContext("2d",{willReadFrequently:!0}),n=y.value.width,i=y.value.height;t.fillStyle=`rgb(${e[0]},${e[1]},${e[2]})`,t.fillRect(0,0,n,i);let r=t.createLinearGradient(0,0,n-12,0);r.addColorStop(0,"rgb(255,255,255)"),r.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=r,t.fillRect(0,0,n,i);let o=t.createLinearGradient(0,0,0,i);o.addColorStop(0,"rgba(0,0,0,0)"),o.addColorStop(1,"rgb(0,0,0)"),t.fillStyle=o,t.fillRect(0,0,n,i)},Q=()=>{if(n.showAlpha){let e=c.value.find(e=>1==e.select);e&&(m.value.style.background=` linear-gradient(90deg,rgba(255, 255, 255, 0) 0%, rgba(${e.r}, ${e.g}, ${e.b}, 100) 97%)`)}},ee=()=>{var e;if("gradient"==o.value){c.value.sort((e,t)=>e.percent-t.percent);let t,n="linear-gradient(90deg, ";if("linear"==h.value){t=`linear-gradient(${d.angle}deg, `;for(let e=0;e<c.value.length;e++){const{r:i,g:r,b:o,a:a,percent:s}=c.value[e];c.value.length-1==e?(n+=`rgba(${i},${r},${o},${a/100}) ${s}%)`,t+=`rgba(${i},${r},${o},${a/100}) ${s}%)`):(n+=`rgba(${i},${r},${o},${a/100}) ${s}%, `,t+=`rgba(${i},${r},${o},${a/100}) ${s}%, `)}}else{t=`radial-gradient(circle at ${d.percentageX}% ${d.percentageY}%, `;for(let e=0;e<c.value.length;e++){const{r:i,g:r,b:o,a:a,percent:s}=c.value[e];c.value.length-1==e?(n+=`rgba(${i},${r},${o},${a/100}) ${s}%)`,t+=`rgba(${i},${r},${o},${a/100}) ${s}%)`):(n+=`rgba(${i},${r},${o},${a/100}) ${s}%, `,t+=`rgba(${i},${r},${o},${a/100}) ${s}%, `)}}v.value.style.backgroundImage=n;let r=null==(e=i.value)?void 0:e.querySelector("#ck-cp-target-background");r&&(r.style.backgroundImage=t,g.value&&l(r.style.backgroundImage))}else{const{r:e,g:t,b:i,a:r}=c.value[0];let o="";switch(n.type){case"HEX8":o=((e,t,n,i)=>{function r(e){const t=e.toString(16);return 1===t.length?"0"+t:t}return`#${r(Math.round(e))}${r(Math.round(t))}${r(Math.round(n))}${r(Math.round(255*i))}`})(e,t,i,r/100);break;case"RGBA":o=`rgba(${e},${t},${i},${r/100})`;break;case"RGB":o=`rgb(${e},${t},${i})`;break;case"HEX":o=aOe(e,t,i)}g.value&&l(o)}},te=()=>{c.value.forEach(e=>{e.hue=oOe(e.r,e.g,e.b)})},ne=e=>{h.value=e,ee()},ie=()=>{var e,t;if(c.value.length>2){const n=c.value.findIndex(e=>1==e.select);if(-1!==n){const r=c.value[n].id;c.value.splice(n,1);const o=null==(e=i.value)?void 0:e.querySelector(`#clr-gb-${r}`);null==o||o.remove();const a=c.value[0];a&&(a.select=!0,W=null==(t=i.value)?void 0:t.querySelector(`#clr-gb-${a.id}`),null==W||W.classList.add("select"),Z(a.r,a.g,a.b,a.hue,!1),ue(),ee())}}},re=()=>{var e;const t=null==(e=i.value)?void 0:e.querySelector("#cp-btn-eyedropper");null==t||t.classList.add("active"),(new EyeDropper).open().then(e=>{const{sRGBHex:n}=e,i=c.value.find(e=>1==e.select),r=rOe(n);if(r){const e=oOe(r.r,r.g,r.b);if(i&&(i.hue=e,i.r=r.r,i.g=r.g,i.b=r.b),q(r)){const e=z();e&&(x.value.style.left=`${e.x}px`,x.value.style.top=`${e.y}px`)}else{R.value=e;const{rgb:t}=sOe(e,100,50);J(t);const n=z();n&&(x.value.style.left=`${n.x}px`,x.value.style.top=`${n.y}px`)}ue(),Q(),ee(),null==t||t.classList.remove("active")}}).catch(()=>{null==t||t.classList.remove("active")})},oe=(e,t)=>{if("a"!=t){const e=c.value.find(e=>1==e.select);if(e){const t=oOe(e.r,e.g,e.b);e.hue=t,Z(e.r,e.g,e.b,e.hue,!0),ee(),Q()}}else V.value=e,ee(),Q()},ae=()=>{const e=c.value.find(e=>1==e.select);if(e&&!Number.isNaN(_.h)&&!Number.isNaN(_.s)&&!Number.isNaN(_.l)){const{r:t,g:n,b:i}=cOe(_.h,_.s/100,_.l/100);e.hue=_.h,e.r=t,e.g=n,e.b=i,Z(e.r,e.g,e.b,e.hue,!0),ee(),Q()}},se=()=>{const e=c.value.find(e=>1==e.select);if(e&&!Number.isNaN(w.h)&&!Number.isNaN(w.s)&&!Number.isNaN(w.v)){const{r:t,g:n,b:i}=((e,t,n)=>{let i=0,r=0,o=0;const a=e/60,s=n*t,l=s*(1-Math.abs(a%2-1)),c=n-s;switch(Math.floor(a)%6){case 0:i=s,r=l,o=0;break;case 1:i=l,r=s,o=0;break;case 2:i=0,r=s,o=l;break;case 3:i=0,r=l,o=s;break;case 4:i=l,r=0,o=s;break;case 5:i=s,r=0,o=l}return{r:Math.round(255*(i+c)),g:Math.round(255*(r+c)),b:Math.round(255*(o+c))}})(w.h,w.s/100,w.v/100),{h:r}=((e,t,n)=>{const i=(2-t)*n/2;return{h:e,s:i&&i<1?t*n/(i<.5?2*i:2-2*i):t,l:i}})(w.h,w.s/100,w.v/100);e.hue=r,e.r=t,e.g=n,e.b=i,Z(e.r,e.g,e.b,e.hue,!0),ee(),Q()}},le=()=>{const e=c.value.find(e=>1==e.select);if(e&&!Number.isNaN(S.c)&&!Number.isNaN(S.m)&&!Number.isNaN(S.y)&&!Number.isNaN(S.k)){const{r:t,g:n,b:i}=((e,t,n,i)=>{const r=Math.round(255*(1-e)*(1-i)),o=Math.round(255*(1-t)*(1-i)),a=Math.round(255*(1-n)*(1-i));return{r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,o)),b:Math.min(255,Math.max(0,a))}})(S.c/100,S.m/100,S.y/100,S.k/100),r=oOe(t,n,i);e.hue=r,e.r=t,e.g=n,e.b=i,Z(e.r,e.g,e.b,e.hue,!0),ee(),Q()}},ce=()=>{if(p.value){const e=rOe(p.value);if(e){const t=oOe(e.r,e.g,e.b),n=c.value.find(e=>1==e.select);n&&(n.r=e.r,n.g=e.g,n.b=e.b,n.hue=t,Z(e.r,e.g,e.b,n.hue,!0),ee(),Q(),pe(f.value))}}},ue=()=>{const e=c.value.find(e=>1==e.select);e&&(p.value=aOe(e.r,e.g,e.b).toUpperCase()),pe(f.value)},he=e=>{p.value=e;let t=rOe(p.value);if(t){const e=oOe(t.r,t.g,t.b),n=c.value.find(e=>1==e.select);n&&(n.r=t.r,n.g=t.g,n.b=t.b,n.hue=e,Z(t.r,t.g,t.b,n.hue,!0),ee(),Q())}};window.EyeDropper&&(u.value=!0);const de=(e="")=>{if("gradient"==o.value){let t=e?e.includes("linear-gradient")?"linear":"radial":n.gradientMode,i=[];if(h.value=t,"linear"==t){let t=/^linear-gradient\((.*)\)$/,n=e.replace(";","").trim().match(t),r=/,\s*(?![^()]*\))/;if(e.includes("deg")||(d.angle=180),n){let e=n[1].split(r);for(let t=0;t<e.length;t++){const n=e[t];let r={id:t,r:0,g:0,b:0,a:100,percent:100,hue:0,select:!1};if(n.includes("deg"))d.angle=parseInt(n.replace("deg",""));else if(n.includes("rgba")){let e=n.trim().replace(/rgba|\(|\)|%/g,"").replace(/,/g," ").split(" ");e=e.filter(e=>""!==e.trim()),r.r=parseInt(e[0]),r.g=parseInt(e[1]),r.b=parseInt(e[2]),r.a=100*parseFloat(e[3]),r.percent=parseInt(e[4]),i.push(r)}else if(n.includes("rgb")){let e=n.trim().replace(/rgb|\(|\)|%/g,"").replace(/,/g," ").split(" ");e=e.filter(e=>""!==e.trim()),r.r=parseInt(e[0]),r.g=parseInt(e[1]),r.b=parseInt(e[2]),r.percent=parseInt(e[3]),i.push(r)}}}}else{let t=/^radial-gradient\((.*)\)$/,n=e.replace(";","").trim().match(t),r=/,\s*(?![^()]*\))/;if(n){let e=n[1].split(r);for(let t=0;t<e.length;t++){const n=e[t];let r={id:t,r:0,g:0,b:0,a:100,percent:100,hue:0,select:!1};if(n.includes("circle at")){let e=n.replace("circle at ","").replace(" ","").replace(/%/g," ").trim().split(" ");d.percentageX=parseInt(e[0]),d.percentageY=parseInt(e[1])}else if(n.includes("rgba")){let e=n.replace(/rgba|\(|\)|%/g,"").replace(/,/g," ").split(" ");e=e.filter(e=>""!==e.trim()),r.r=parseInt(e[0]),r.g=parseInt(e[1]),r.b=parseInt(e[2]),r.a=100*parseFloat(e[3]),r.percent=parseInt(e[4]),i.push(r)}else if(n.includes("rgb")){let e=n.replace(/rgb|\(|\)|%/g,"").replace(/,/g," ").split(" ");e=e.filter(e=>""!==e.trim()),r.r=parseInt(e[0]),r.g=parseInt(e[1]),r.b=parseInt(e[2]),r.percent=parseInt(e[3]),i.push(r)}}}}i.length>1&&(c.value=i,c.value[0].select=!0,V.value=c.value[0].a)}else if(e){let t={r:0,g:0,b:0,a:0};if(e.includes("#"))if(e.length>=8)t=(e=>{const t=/^#?([a-f\d]{8})$/i;if(!t.test(e))return null;const n=t.exec(e);if(!n)return null;const i=n[1],r=i.substring(6,8);return{r:parseInt(i.substring(0,2),16),g:parseInt(i.substring(2,4),16),b:parseInt(i.substring(4,6),16),a:parseInt(r,16)/255}})(e);else{let n=rOe(e);n?(t.a=1,t.r=n.r,t.g=n.g,t.b=n.b):t=null}else if(e.includes("rgb"))if(e.includes("rgba"))t=(e=>{const t=/^rgba?\((\s*\d+\s*),(\s*\d+\s*),(\s*\d+\s*),(\s*[\d.]+\s*)\)$/i;if(!t.test(e))return null;const n=t.exec(e);return n?{r:parseInt(n[1].trim(),10),g:parseInt(n[2].trim(),10),b:parseInt(n[3].trim(),10),a:parseFloat(n[4].trim())}:null})(e);else{let n=(e=>{const t=/^rgb\((\s*\d+\s*),(\s*\d+\s*),(\s*\d+\s*)\)$/i;if(!t.test(e))return null;const n=t.exec(e);return n?{r:parseInt(n[1].trim(),10),g:parseInt(n[2].trim(),10),b:parseInt(n[3].trim(),10)}:null})(e);n?(t.a=1,t.r=n.r,t.g=n.g,t.b=n.b):t=null}t&&(c.value[0].r=t.r,c.value[0].b=t.b,c.value[0].g=t.g,c.value[0].a=parseInt((100*t.a).toFixed(0)),V.value=c.value[0].a,c.value[0].hue=0)}},pe=e=>{const t=c.value.find(e=>1==e.select);if(t){switch(e){case"RGB":break;case"HSL":{const{h:e,s:n,l:i}=lOe(t.r,t.g,t.b);_.h=Math.round(e),_.s=Math.round(100*n),_.l=Math.round(100*i);break}case"HSV":{const{h:e,s:n,v:i}=((e,t,n)=>{e/=255,t/=255,n/=255;const i=Math.max(e,t,n);let r,o,a=i;const s=i-Math.min(e,t,n);return 0===i?{h:0,s:0,v:0}:(o=s/i,r=0===s?0:i===e?(t-n)/s%6*60:i===t?60*((n-e)/s+2):60*((e-t)/s+4),r<0&&(r+=360),{h:Math.round(r),s:Math.round(100*o)/100,v:Math.round(100*a)/100})})(t.r,t.g,t.b);w.h=Math.round(e),w.s=Math.round(100*n),w.v=Math.round(100*i);break}case"CMYK":{const{c:e,m:n,y:i,k:r}=((e,t,n)=>{e/=255,t/=255,n/=255;const i=1-Math.max(e,t,n),r=(1-e-i)/(1-i),o=(1-t-i)/(1-i),a=(1-n-i)/(1-i);return{c:isNaN(r)?0:r,m:isNaN(o)?0:o,y:isNaN(a)?0:a,k:isNaN(i)?0:i}})(t.r,t.g,t.b);S.c=Math.round(100*e),S.m=Math.round(100*n),S.y=Math.round(100*i),S.k=Math.round(100*r)}}f.value=e}},fe=e=>{o.value=e,setTimeout(()=>{var e;"gradient"==o.value&&(H=null==(e=i.value)?void 0:e.querySelector(".gradient-bar")),ge(n.modelValue),pe(f.value)},0)},ge=e=>{e&&de(e),(()=>{c.value.forEach(e=>K(e)),te();const e=c.value[0];R.value=e.hue,N(!0);let t=z();t&&(x.value.style.left=`${t.x}px`,x.value.style.top=`${t.y}px`),Q(),ee()})()},me=()=>{s.value=a.value,r("update:modelValue",s.value),r("onSave",s.value)},ve=()=>{c.value.forEach(e=>{const t=null==H?void 0:H.querySelector(`#clr-gb-${e.id}`);null==t||t.remove()})},ye=()=>{a.value=s.value,ve(),ge(a.value),r("onCancel",a.value)};return ji(()=>n.modelValue,(e,t)=>{e!==t&&e!==s.value&&(ve(),ge(e))}),(be=n.modelValue)&&(be.includes("linear-gradient")||be.includes("radial-gradient")?o.value="gradient":o.value="solid"),Zn(()=>{Yt(()=>{var e;"gradient"==o.value&&(H=null==(e=i.value)?void 0:e.querySelector(".gradient-bar")),ge(n.modelValue),pe(f.value),g.value=!0})}),(t,n)=>(Or(),Nr("div",{class:$(["ck-cp-container",e.disabled?"ck-cp-disabled ":""]),ref_key:"pickerTemplateRef",ref:i,"cp-theme":e.theme},[Wr(VDe,{angle:d.angle,"onUpdate:angle":n[0]||(n[0]=e=>d.angle=e),percentageX:d.percentageX,"onUpdate:percentageX":n[1]||(n[1]=e=>d.percentageX=e),percentageY:d.percentageY,"onUpdate:percentageY":n[2]||(n[2]=e=>d.percentageY=e),local:e.local,iconClasses:e.iconClasses,inputType:f.value,mode:o.value,showInputMenu:e.showInputMenu,gradientType:h.value,showPickerMode:e.showPickerMode,onOnChangeMode:ne,onOnInput:ee,onOnClickEyeDropper:re,onOnDeleteColor:ie,onOnChangeInputType:pe,onOnPickerChangeMode:fe},null,8,["angle","percentageX","percentageY","local","iconClasses","inputType","mode","showInputMenu","gradientType","showPickerMode"]),Wr($De,{onOnEventStart:D}),"gradient"==o.value?(Or(),Nr("div",SOe,[Hr("button",{type:"button",class:"cp-main-btn",onClick:ie},[e.iconClasses.delete?(Or(),Nr("i",{key:0,class:$(e.iconClasses.delete)},null,2)):(Or(),Nr("svg",MOe,kOe))]),Wr(HDe,{onOnAddColor:X,onOnMouseDown:j})])):Xr("",!0),Hr("div",COe,[u.value&&e.showEyeDrop?(Or(),Nr("button",{key:0,type:"button",id:"cp-btn-eyedropper",class:"cp-main-btn",onClick:re},[e.iconClasses.eyeDroper?(Or(),Nr("i",{key:0,class:$(e.iconClasses.eyeDroper)},null,2)):Xr("",!0),TOe])):Xr("",!0),Hr("div",AOe,[Wr(UDe,{modelValue:R.value,"onUpdate:modelValue":n[3]||(n[3]=e=>R.value=e),showEyeDrop:e.showEyeDrop,isEyeDropperUsing:u.value,onOnInput:n[4]||(n[4]=e=>N(!1)),onOnChange:B,onOnClickEyeDropper:re},null,8,["modelValue","showEyeDrop","isEyeDropperUsing"]),e.showAlpha?(Or(),Pr(YDe,{key:0,modelValue:V.value,"onUpdate:modelValue":n[5]||(n[5]=e=>V.value=e),onOnInput:F},null,8,["modelValue"])):Xr("",!0)])]),sn(Hr("div",IOe,null,512),[[Go,!1]]),g.value&&e.showInputSet?(Or(),Nr("div",DOe,["CMYK"!==f.value?(Or(),Pr(iOe,{key:0,modelValue:p.value,"onUpdate:modelValue":[n[6]||(n[6]=e=>p.value=e),ce]},null,8,["modelValue"])):Xr("",!0),"RGB"==f.value?(Or(),Pr(QDe,{key:1,label:"R",min:0,max:255,modelValue:c.value.find(e=>1==e.select).r,"onUpdate:modelValue":[n[7]||(n[7]=e=>c.value.find(e=>1==e.select).r=e),n[8]||(n[8]=e=>oe(e,"r"))]},null,8,["modelValue"])):Xr("",!0),"RGB"==f.value?(Or(),Pr(QDe,{key:2,label:"G",min:0,max:255,modelValue:c.value.find(e=>1==e.select).g,"onUpdate:modelValue":[n[9]||(n[9]=e=>c.value.find(e=>1==e.select).g=e),n[10]||(n[10]=e=>oe(e,"g"))]},null,8,["modelValue"])):Xr("",!0),"RGB"==f.value?(Or(),Pr(QDe,{key:3,label:"B",min:0,max:255,modelValue:c.value.find(e=>1==e.select).b,"onUpdate:modelValue":[n[11]||(n[11]=e=>c.value.find(e=>1==e.select).b=e),n[12]||(n[12]=e=>oe(e,"b"))]},null,8,["modelValue"])):Xr("",!0),"HSL"==f.value?(Or(),Pr(QDe,{key:4,label:"H",min:0,max:360,modelValue:_.h,"onUpdate:modelValue":[n[13]||(n[13]=e=>_.h=e),ae]},null,8,["modelValue"])):Xr("",!0),"HSL"==f.value?(Or(),Pr(QDe,{key:5,label:"S",min:0,max:100,modelValue:_.s,"onUpdate:modelValue":[n[14]||(n[14]=e=>_.s=e),ae]},null,8,["modelValue"])):Xr("",!0),"HSL"==f.value?(Or(),Pr(QDe,{key:6,label:"L",min:0,max:100,modelValue:_.l,"onUpdate:modelValue":[n[15]||(n[15]=e=>_.l=e),ae]},null,8,["modelValue"])):Xr("",!0),"HSV"==f.value?(Or(),Pr(QDe,{key:7,label:"H",min:0,max:360,modelValue:w.h,"onUpdate:modelValue":[n[16]||(n[16]=e=>w.h=e),se]},null,8,["modelValue"])):Xr("",!0),"HSV"==f.value?(Or(),Pr(QDe,{key:8,label:"S",min:0,max:100,modelValue:w.s,"onUpdate:modelValue":[n[17]||(n[17]=e=>w.s=e),se]},null,8,["modelValue"])):Xr("",!0),"HSV"==f.value?(Or(),Pr(QDe,{key:9,label:"V",min:0,max:100,modelValue:w.v,"onUpdate:modelValue":[n[18]||(n[18]=e=>w.v=e),se]},null,8,["modelValue"])):Xr("",!0),"CMYK"==f.value?(Or(),Pr(QDe,{key:10,label:"C",min:0,max:100,modelValue:S.c,"onUpdate:modelValue":[n[19]||(n[19]=e=>S.c=e),le]},null,8,["modelValue"])):Xr("",!0),"CMYK"==f.value?(Or(),Pr(QDe,{key:11,label:"M",min:0,max:100,modelValue:S.m,"onUpdate:modelValue":[n[20]||(n[20]=e=>S.m=e),le]},null,8,["modelValue"])):Xr("",!0),"CMYK"==f.value?(Or(),Pr(QDe,{key:12,label:"Y",min:0,max:100,modelValue:S.y,"onUpdate:modelValue":[n[21]||(n[21]=e=>S.y=e),le]},null,8,["modelValue"])):Xr("",!0),"CMYK"==f.value?(Or(),Pr(QDe,{key:13,label:"K",min:0,max:100,modelValue:S.k,"onUpdate:modelValue":[n[22]||(n[22]=e=>S.k=e),le]},null,8,["modelValue"])):Xr("",!0),e.showAlpha?(Or(),Pr(QDe,{key:14,label:"A",min:0,max:100,style:{"margin-right":"2px"},modelValue:c.value.find(e=>1==e.select).a,"onUpdate:modelValue":[n[23]||(n[23]=e=>c.value.find(e=>1==e.select).a=e),n[24]||(n[24]=e=>oe(e,"a"))]},null,8,["modelValue"])):Xr("",!0)])):Xr("",!0),e.showColorList?(Or(),Pr(_Oe,{key:2,"color-list-count":e.colorListCount,"hex-val":p.value,onColorItemClick:he,iconClasses:e.iconClasses,title:e.local.colorPalette},null,8,["color-list-count","hex-val","iconClasses","title"])):Xr("",!0),e.showButtons?(Or(),Nr("div",OOe,[pi(t.$slots,"buttons",{save:me,cancel:ye},()=>[Hr("button",{class:"ck-cp-buttons__button ck-cp-buttons__button--save",type:"button",onClick:me},Y(e.local.btnSaveLabel),1),Hr("button",{class:"ck-cp-buttons__button ck-cp-buttons__button--cancel",type:"button",onClick:ye},Y(e.local.btnCancelLabel),1)])])):Xr("",!0)],10,wOe));var be}});function LOe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ROe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LOe(Object(n),!0).forEach(function(t){NOe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LOe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NOe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function POe(e){return function(e){if(Array.isArray(e))return zOe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zOe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zOe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zOe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var BOe,VOe,FOe=(BOe=function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],i=0;i<arguments.length;i++){var r=arguments[i];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=n.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)t.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()},BOe(VOe={path:undefined,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&VOe.path)}},VOe.exports),VOe.exports),HOe=function(e){return function(t,n){if(!t)return e;var i;"string"==typeof t?i=t:n=t;var r=e;return i&&(r+="__"+i),r+(n?Object.keys(n).reduce(function(e,t){var i=n[t];return i&&(e+=" "+("boolean"==typeof i?r+"--"+t:r+"--"+t+"_"+i)),e},""):"")}};function WOe(e,t,n){var i,r,o,a,s;function l(){var c=Date.now()-a;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(s=e.apply(o,r),o=r=null))}null==t&&(t=100);var c=function(){o=this,r=arguments,a=Date.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(s=e.apply(o,r),o=r=null),s};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(s=e.apply(o,r),o=r=null,clearTimeout(i),i=null)},c}WOe.debounce=WOe;var $Oe=WOe,jOe=function(){return jOe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},jOe.apply(this,arguments)};function GOe(e,t){var n,i;return e&&t?(n=""+e+t[0].toUpperCase()+t.slice(1),i=e+"-"+t):(n=e||t,i=e||t),{name:n,classname:i}}function UOe(e){return/^blob:/.test(e)}function XOe(e){return UOe(e)||/^data:/.test(e)}function qOe(e){return!!(e&&e.constructor&&e.call&&e.apply)}function YOe(e){return void 0===e}function ZOe(e){return"object"==typeof e&&null!==e}function KOe(e,t,n){var i={};return ZOe(e)?(Object.keys(t).forEach(function(r){YOe(e[r])?i[r]=t[r]:ZOe(t[r])?ZOe(e[r])?i[r]=KOe(e[r],t[r],n[r]):i[r]=e[r]?t[r]:n[r]:!0===t[r]||!1===t[r]?i[r]=Boolean(e[r]):i[r]=e[r]}),i):e?t:n}function JOe(e){var t=Number(e);return Number.isNaN(t)?e:t}function QOe(e){return typeof("number"==e||function(e){return"object"==typeof e&&null!==e}(e)&&"[object Number]"==toString.call(e))&&!eEe(e)}function eEe(e){return e!=e}function tEe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var nEe=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},iEe=function(e,t){void 0===t&&(t={}),this.type="resize",this.directions=e,this.params=t},rEe=function(e){this.type="move",this.directions=e},oEe=function(){function e(e,t,n,i,r){this.type="drag",this.nativeEvent=e,this.position=n,this.previousPosition=i,this.element=t,this.anchor=r}return e.prototype.shift=function(){var e=this,t=e.element,n=e.anchor,i=e.position;if(t){var r=t.getBoundingClientRect(),o=r.left,a=r.top;return{left:i.left-o-n.left,top:i.top-a-n.top}}return{left:0,top:0}},e}(),aEe={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&1===e.touches.length&&(this.touches=POe(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce(function(t,n){return{clientX:t.clientX+n.clientX/e.touches.length,clientY:t.clientY+n.clientY/e.touches.length}},{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),n=t.left,i=t.right,r=t.bottom,o=t.top;this.anchor={left:e.clientX-n,top:e.clientY-o,bottom:r-e.clientY,right:i-e.clientX}},processMove:function(e,t){var n=POe(t);if(this.touches.length){if(1===this.touches.length&&1===n.length){var i=this.$refs.draggable;this.$emit("drag",new oEe(e,i,{left:n[0].clientX,top:n[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=n}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"],render:function(e,t,n,i,r,o){return Or(),Pr("div",{ref:"draggable",class:n.classname,onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onMouseover:t[3]||(t[3]=function(){return o.onMouseOver&&o.onMouseOver.apply(o,arguments)}),onMouseleave:t[4]||(t[4]=function(){return o.onMouseLeave&&o.onMouseLeave.apply(o,arguments)})},[pi(e.$slots,"default")],34)}},sEe=HOe("vue-handler-wrapper"),lEe={name:"HandlerWrapper",components:{DraggableElement:aEe},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,n=GOe(this.horizontalPosition,this.verticalPosition);e=sEe((NOe(t={},n.classname,!0),NOe(t,"disabled",this.disabled),t))}else e=sEe({disabled:this.disabled});return{root:e,draggable:sEe("draggable")}}},emits:["leave","enter","drag","drag-end"],render:function(e,t,n,i,r,o){var a=ai("DraggableElement");return Or(),Pr("div",{class:o.classes.root},[Wr(a,{class:o.classes.draggable,onDrag:t[1]||(t[1]=function(t){return e.$emit("drag",t)}),onDragEnd:t[2]||(t[2]=function(t){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(t){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(t){return e.$emit("enter")})},{default:an(function(){return[pi(e.$slots,"default")]}),_:3},8,["class"])],2)}},cEe=HOe("vue-line-wrapper"),uEe={name:"LineWrapper",components:{DraggableElement:aEe},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return cEe((NOe(e={},this.position,!0),NOe(e,"disabled",this.disabled),e))}},emits:["leave","enter","drag","drag-end"],render:function(e,t,n,i,r,o){var a=ai("DraggableElement");return Or(),Pr(a,{class:o.classname,onDrag:t[1]||(t[1]=function(t){return e.$emit("drag",t)}),onDragEnd:t[2]||(t[2]=function(t){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(t){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(t){return e.$emit("enter")})},{default:an(function(){return[pi(e.$slots,"default")]}),_:3},8,["class"])}},hEe=["left","right","top","bottom"],dEe=["left","right"],pEe=["top","bottom"],fEe=["left","top"],gEe=["fill-area","fit-area","stencil","none"],mEe={left:0,top:0,width:0,height:0};function vEe(e,t,n){return!(n=n||["width","height","left","top"]).some(function(n){return e[n]!==t[n]})}function yEe(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function bEe(e,t){return{left:e.left-t.left,top:e.top-t.top}}function xEe(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function _Ee(e,t){var n={left:0,top:0,right:0,bottom:0};return hEe.forEach(function(i){var r=t[i],o=yEe(e)[i];n[i]=void 0!==r&&void 0!==o?"left"===i||"top"===i?Math.max(0,r-o):Math.max(0,o-r):0}),n}function wEe(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function SEe(e){return{left:-e.left,top:-e.top}}function MEe(e,t){return jOe(jOe({},e),{left:e.left+t.left,top:e.top+t.top})}function kEe(e,t,n,i){if(1!==t){if(n){var r=xEe(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(n.left-r.left)*(1-t),top:e.top+e.height*(1-t)/2+(n.top-r.top)*(1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function CEe(e){return e.width/e.height}function TEe(e,t){return Math.min(void 0!==t.right&&void 0!==t.left?(t.right-t.left)/e.width:1/0,void 0!==t.bottom&&void 0!==t.top?(t.bottom-t.top)/e.height:1/0)}function AEe(e,t){var n={left:0,top:0},i=_Ee(e,t);return i.left&&i.left>0?n.left=i.left:i.right&&i.right>0&&(n.left=-i.right),i.top&&i.top>0?n.top=i.top:i.bottom&&i.bottom>0&&(n.top=-i.bottom),n}function IEe(e,t){var n;return t.minimum&&e<t.minimum?n=t.minimum:t.maximum&&e>t.maximum&&(n=t.maximum),n}function DEe(e,t){var n=CEe(e),i=CEe(t);return t.width<1/0&&t.height<1/0?n>i?{width:t.width,height:t.width/n}:{width:t.height*n,height:t.height}:t.width<1/0?{width:t.width,height:t.width/n}:t.height<1/0?{width:t.height*n,height:t.height}:e}function OEe(e,t){var n=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(n))+Math.abs(e.height*Math.sin(n)),height:Math.abs(e.width*Math.sin(n))+Math.abs(e.height*Math.cos(n))}}function EEe(e,t){var n=t*Math.PI/180;return{left:e.left*Math.cos(n)-e.top*Math.sin(n),top:e.left*Math.sin(n)+e.top*Math.cos(n)}}function LEe(e,t){var n=_Ee(REe(e,t),t);return n.left+n.right+n.top+n.bottom?n.left+n.right>n.top+n.bottom?Math.min((e.width+n.left+n.right)/e.width,TEe(e,t)):Math.min((e.height+n.top+n.bottom)/e.height,TEe(e,t)):1}function REe(e,t,n){void 0===n&&(n=!1);var i=AEe(e,t);return MEe(e,n?SEe(i):i)}function NEe(e){return{width:void 0!==e.right&&void 0!==e.left?e.right-e.left:1/0,height:void 0!==e.bottom&&void 0!==e.top?e.bottom-e.top:1/0}}function PEe(e,t,n){void 0===n&&(n=!0);var i={};return hEe.forEach(function(r){var o=e[r],a=t[r];void 0!==o&&void 0!==a?i[r]="left"===r||"top"===r?n?Math.max(o,a):Math.min(o,a):n?Math.min(o,a):Math.max(o,a):void 0!==a?i[r]=a:void 0!==o&&(i[r]=o)}),i}function zEe(e,t){return PEe(e,t,!0)}function BEe(e){var t=e.size,n=e.aspectRatio,i=e.ignoreMinimum,r=e.sizeRestrictions;return Boolean((t.correctRatio||CEe(t)>=n.minimum&&CEe(t)<=n.maximum)&&t.height<=r.maxHeight&&t.width<=r.maxWidth&&t.width&&t.height&&(i||t.height>=r.minHeight&&t.width>=r.minWidth))}function VEe(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function FEe(e){var t=e.width,n=e.height,i=e.sizeRestrictions,r={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},o={width:Math.max(i.minWidth,Math.min(i.maxWidth,t)),height:Math.max(i.minHeight,Math.min(i.maxHeight,n))};function a(e,o){return void 0===o&&(o=!1),e.reduce(function(e,a){return BEe({size:a,aspectRatio:r,sizeRestrictions:i,ignoreMinimum:o})&&(!e||VEe(a,{width:t,height:n})<VEe(e,{width:t,height:n}))?a:e},null)}var s=[];r&&[r.minimum,r.maximum].forEach(function(e){e&&s.push({width:o.width,height:o.width/e,correctRatio:!0},{width:o.height*e,height:o.height,correctRatio:!0})}),BEe({size:o,aspectRatio:r,sizeRestrictions:i})&&s.push(o);var l=a(s)||a(s,!0);return l&&{width:l.width,height:l.height}}function HEe(e){var t=e.event,n=e.coordinates,i=e.positionRestrictions,r=void 0===i?{}:i,o=MEe(n,t.directions);return MEe(o,AEe(o,r))}function WEe(e){e.event;var t=e.getAreaRestrictions,n=e.boundaries,i=e.coordinates,r=e.visibleArea;e.aspectRatio;var o=e.stencilSize,a=e.sizeRestrictions,s=e.positionRestrictions;e.stencilReference;var l,c,u,h=jOe({},i),d=jOe({},r),p=jOe({},o);l=CEe(p),c=CEe(h),void 0===u&&(u=.001),(0===l||0===c?Math.abs(c-l)<u:Math.abs(c/l)<1+u&&Math.abs(c/l)>1-u)||(h=jOe(jOe({},h),FEe({sizeRestrictions:a,width:h.width,height:h.height,aspectRatio:{minimum:CEe(p),maximum:CEe(p)}})));var f=LEe(d=kEe(d,h.width*n.width/(d.width*p.width)),t({visibleArea:d,type:"resize"}));return 1!==f&&(d=kEe(d,f),h=kEe(h,f)),d=REe(d=MEe(d,bEe(xEe(h),xEe(d))),t({visibleArea:d,type:"move"})),{coordinates:h=REe(h,zEe(yEe(d),s)),visibleArea:d}}function $Ee(e){var t=e.event,n=e.getAreaRestrictions,i=e.boundaries,r=e.coordinates,o=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var a=e.positionRestrictions;e.stencilReference;var s=jOe({},r),l=jOe({},o);if(r&&o&&"manipulateImage"!==t.type){var c={width:0,height:0};l.width,i.width,CEe(i)>CEe(s)?(c.height=.8*i.height,c.width=c.height*CEe(s)):(c.width=.8*i.width,c.height=c.width*CEe(s));var u=LEe(l=kEe(l,s.width*i.width/(l.width*c.width)),n({visibleArea:l,type:"resize"}));l=kEe(l,u),1!==u&&(c.height/=u,c.width/=u),l=REe(l=MEe(l,bEe(xEe(s),xEe(l))),n({visibleArea:l,type:"move"})),s=REe(s,zEe(yEe(l),a))}return{coordinates:s,visibleArea:l}}function jEe(e){var t=e.event,n=e.coordinates,i=e.visibleArea,r=e.getAreaRestrictions,o=jOe({},i),a=jOe({},n);if("setCoordinates"===t.type){var s=Math.max(0,a.width-o.width),l=Math.max(0,a.height-o.height);s>l?o=kEe(o,Math.min(a.width/o.width,TEe(o,r({visibleArea:o,type:"resize"})))):l>s&&(o=kEe(o,Math.min(a.height/o.height,TEe(o,r({visibleArea:o,type:"resize"}))))),o=REe(o=MEe(o,SEe(AEe(a,yEe(o)))),r({visibleArea:o,type:"move"}))}return{visibleArea:o,coordinates:a}}function GEe(e){var t=e.imageSize,n=e.visibleArea,i=e.coordinates,r=n||t;return{left:(n?n.left:0)+r.width/2-i.width/2,top:(n?n.top:0)+r.height/2-i.height/2}}function UEe(e){var t=e.imageSize,n=e.visibleArea,i=e.aspectRatio,r=e.sizeRestrictions,o=n||t,a=Math.min(i.maximum||1/0,Math.max(i.minimum||0,CEe(o))),s=o.width<o.height?{width:.8*o.width,height:.8*o.width/a}:{height:.8*o.height,width:.8*o.height*a};return FEe(jOe(jOe({},s),{aspectRatio:i,sizeRestrictions:r}))}function XEe(e){var t,n,i=e.imageSize,r=e.visibleArea,o=e.boundaries,a=e.aspectRatio,s=e.sizeRestrictions,l=e.stencilSize,c=r||i;return CEe(c)>CEe(o)?n=(t=l.height*c.height/o.height)*CEe(l):t=(n=l.width*c.width/o.width)/CEe(l),FEe({width:n,height:t,aspectRatio:a,sizeRestrictions:s})}function qEe(e){var t=e.getAreaRestrictions,n=e.coordinates,i=e.imageSize,r=CEe(e.boundaries);if(n){var o={height:Math.max(n.height,i.height),width:Math.max(n.width,i.width)},a=DEe({width:CEe(o)>r?o.width:o.height*r,height:CEe(o)>r?o.width/r:o.height},NEe(t())),s={left:n.left+n.width/2-a.width/2,top:n.top+n.height/2-a.height/2,width:a.width,height:a.height},l=_Ee(n,yEe(jOe({left:0,top:0},i))),c={};return!l.left&&!l.right&&s.width<=i.width&&(c.left=0,c.right=i.width),!l.top&&!l.bottom&&s.height<=i.height&&(c.top=0,c.bottom=i.height),REe(s,c)}var u=CEe(i);return a={height:u>r?i.height:i.width/r,width:u>r?i.height*r:i.width},{left:i.width/2-a.width/2,top:i.height/2-a.height/2,width:a.width,height:a.height}}function YEe(e,t){return PEe(e,yEe(t))}function ZEe(e){var t=e.directions,n=e.coordinates,i=e.positionRestrictions,r=void 0===i?{}:i,o=e.sizeRestrictions,a=e.preserveRatio,s=e.compensate,l=jOe({},t),c=wEe(n,l).width,u=wEe(n,l).height;c<0&&(l.left<0&&l.right<0?(l.left=-(n.width-o.minWidth)/(l.left/l.right),l.right=-(n.width-o.minWidth)/(l.right/l.left)):l.left<0?l.left=-(n.width-o.minWidth):l.right<0&&(l.right=-(n.width-o.minWidth))),u<0&&(l.top<0&&l.bottom<0?(l.top=-(n.height-o.minHeight)/(l.top/l.bottom),l.bottom=-(n.height-o.minHeight)/(l.bottom/l.top)):l.top<0?l.top=-(n.height-o.minHeight):l.bottom<0&&(l.bottom=-(n.height-o.minHeight)));var h=_Ee(wEe(n,l),r);s&&(h.left&&h.left>0&&0===h.right?(l.right+=h.left,l.left-=h.left):h.right&&h.right>0&&0===h.left&&(l.left+=h.right,l.right-=h.right),h.top&&h.top>0&&0===h.bottom?(l.bottom+=h.top,l.top-=h.top):h.bottom&&h.bottom>0&&0===h.top&&(l.top+=h.bottom,l.bottom-=h.bottom),h=_Ee(wEe(n,l),r));var d={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(hEe.forEach(function(e){var t=h[e];t&&l[e]&&(d[e]=Math.max(0,1-t/l[e]))}),a){var p=Math.min.apply(null,hEe.map(function(e){return d[e]}));p!==1/0&&hEe.forEach(function(e){l[e]*=p})}else hEe.forEach(function(e){d[e]!==1/0&&(l[e]*=d[e])});if(c=wEe(n,l).width,u=wEe(n,l).height,l.right+l.left&&(c>o.maxWidth?d.width=(o.maxWidth-n.width)/(l.right+l.left):c<o.minWidth&&(d.width=(o.minWidth-n.width)/(l.right+l.left))),l.bottom+l.top&&(u>o.maxHeight?d.height=(o.maxHeight-n.height)/(l.bottom+l.top):u<o.minHeight&&(d.height=(o.minHeight-n.height)/(l.bottom+l.top))),a){var f=Math.min(d.width,d.height);f!==1/0&&hEe.forEach(function(e){l[e]*=f})}else d.width!==1/0&&dEe.forEach(function(e){l[e]*=d.width}),d.height!==1/0&&pEe.forEach(function(e){l[e]*=d.height});return l}function KEe(e,t,n){return 0==t&&0==n?e/2:0==t?0:0==n?e:e*Math.abs(t/(t+n))}var JEe=HOe("vue-simple-handler"),QEe=HOe("vue-simple-handler-wrapper"),eLe={name:"SimpleHandler",components:{HandlerWrapper:lEe},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(NOe(e={},this.horizontalPosition,Boolean(this.horizontalPosition)),NOe(e,this.verticalPosition,Boolean(this.verticalPosition)),NOe(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),Boolean(this.verticalPosition&&this.horizontalPosition)),NOe(e,"hover",this.hover),e);return{default:FOe(JEe(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:FOe(QEe(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"],render:function(e,t,n,i,r,o){var a=ai("HandlerWrapper");return Or(),Pr(a,{class:o.classes.wrapper,"vertical-position":n.verticalPosition,"horizontal-position":n.horizontalPosition,disabled:n.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:an(function(){return[Wr("div",{class:o.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])}},tLe=HOe("vue-simple-line"),nLe=HOe("vue-simple-line-wrapper"),iLe={name:"SimpleLine",components:{LineWrapper:uEe},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:FOe(tLe(NOe({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:FOe(nLe(NOe({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"],render:function(e,t,n,i,r,o){var a=ai("LineWrapper");return Or(),Pr(a,{class:o.classes.wrapper,position:n.position,disabled:n.disabled,onDrag:o.onDrag,onDragEnd:o.onDragEnd,onEnter:o.onEnter,onLeave:o.onLeave},{default:an(function(){return[Wr("div",{class:o.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])}},rLe=HOe("vue-bounding-box"),oLe=["east","west",null],aLe=["south","north",null],sLe={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return eLe}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return iLe}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return oLe.forEach(function(t){aLe.forEach(function(n){if(t!==n){var i=GOe(t,n),r=i.name,o=i.classname;e.push({name:r,classname:o,verticalDirection:n,horizontalDirection:t})}})}),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,n=this.linesClasses,i=this.linesWrappersClasses;return{root:rLe(),handlers:e,handlersWrappers:t,lines:n,linesWrappers:i}},lineNodes:function(){var e=this,t=[];return this.points.forEach(function(n){n.horizontalDirection&&n.verticalDirection||!e.lines[n.name]||t.push({name:n.name,component:e.linesComponent,class:FOe(e.classes.lines.default,e.classes.lines[n.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:FOe(e.classes.linesWrappers.default,e.classes.linesWrappers[n.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:n.verticalDirection,horizontalDirection:n.horizontalDirection,disabled:!e.resizable})}),t},handlerNodes:function(){var e=this,t=[],n=this.width,i=this.height;return this.points.forEach(function(r){if(e.handlers[r.name]){var o={name:r.name,component:e.handlersComponent,class:FOe(e.classes.handlers.default,e.classes.handlers[r.name]),wrapperClass:FOe(e.classes.handlersWrappers.default,e.classes.handlersWrappers[r.name]),hoverClass:e.classes.handlers.hover,verticalDirection:r.verticalDirection,horizontalDirection:r.horizontalDirection,disabled:!e.resizable};if(n&&i){var a=r.horizontalDirection,s=r.verticalDirection,l="east"===a?n:"west"===a?0:n/2,c="south"===s?i:"north"===s?0:i/2;o.wrapperClass=rLe("handler"),o.wrapperStyle={transform:"translate(".concat(l,"px, ").concat(c,"px)")},e.transitions&&e.transitions.enabled&&(o.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else o.wrapperClass=rLe("handler",NOe({},r.classname,!0));t.push(o)}}),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,n){var i,r=e.shift(),o=r.left,a=r.top,s={left:0,right:0,top:0,bottom:0};"west"===t?s.left-=o:"east"===t&&(s.right+=o),"north"===n?s.top-=a:"south"===n&&(s.bottom+=a),!n&&t?i="width":n&&!t&&(i="height"),this.resizable&&this.$emit("resize",new iEe(s,{allowedDirections:{left:"west"===t||!t,right:"east"===t||!t,bottom:"south"===n||!n,top:"north"===n||!n},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:i}))}},emits:["resize","resize-end"],render:function(e,t,n,i,r,o){return Or(),Pr("div",{ref:"box",class:o.classes.root,style:o.style},[pi(e.$slots,"default"),Wr("div",null,[(Or(!0),Pr(kr,null,hi(o.lineNodes,function(e){return Or(),Pr(li(e.component),{key:e.name,"default-class":e.class,"hover-class":e.hoverClass,"wrapper-class":e.wrapperClass,position:e.name,disabled:e.disabled,onDrag:function(t){return o.onHandlerDrag(t,e.horizontalDirection,e.verticalDirection)},onDragEnd:t[1]||(t[1]=function(e){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(Or(!0),Pr(kr,null,hi(o.handlerNodes,function(e){return Or(),Pr("div",{key:e.name,style:e.wrapperStyle,class:e.wrapperClass},[(Or(),Pr(li(e.component),{"default-class":e.class,"hover-class":e.hoverClass,"wrapper-class":e.wrapperClass,"horizontal-position":e.horizontalDirection,"vertical-position":e.verticalDirection,disabled:e.disabled,onDrag:function(t){return o.onHandlerDrag(t,e.horizontalDirection,e.verticalDirection)},onDragEnd:t[2]||(t[2]=function(e){return o.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)}},lLe=HOe("vue-draggable-area"),cLe={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:lLe()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&1===e.touches.length;t&&(this.touches=POe(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):tEe({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&0===e.button){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),n=t.left,i=t.top;this.anchor={x:e.clientX-n,y:e.clientY-i}},processMove:function(e,t){var n=POe(t);if(this.touches.length){var i=this.$refs.container.getBoundingClientRect(),r=i.left,o=i.top;1===this.touches.length&&1===n.length&&this.$emit("move",new rEe({left:n[0].clientX-(r+this.anchor.x),top:n[0].clientY-(o+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};function uLe(e){var t,n;return{rotate:e.rotate||0,flip:{horizontal:(null===(t=null==e?void 0:e.flip)||void 0===t?void 0:t.horizontal)||!1,vertical:(null===(n=null==e?void 0:e.flip)||void 0===n?void 0:n.vertical)||!1}}}function hLe(e){var t=e.rotate,n=e.flip,i=e.scaleX,r=e.scaleY,o="";return o+=" rotate("+t+"deg) ",(o+=" scaleX("+i*(n.horizontal?-1:1)+") ")+" scaleY("+r*(n.vertical?-1:1)+") "}function dLe(e,t){var n=t.getBoundingClientRect(),i=n.left,r=n.top,o={left:0,top:0},a=0;return e.forEach(function(t){o.left+=(t.clientX-i)/e.length,o.top+=(t.clientY-r)/e.length}),e.forEach(function(e){a+=tEe({x:o.left,y:o.top},{x:e.clientX-i,y:e.clientY-r})}),{centerMass:o,spread:a,count:e.length}}cLe.render=function(e,t,n,i,r,o){return Or(),Pr("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)})},[pi(e.$slots,"default")],544)};var pLe={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=$Oe(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(1===this.touches.length&&1===t.length)this.$emit("move",new nEe({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var n=dLe(t,this.$refs.container),i=this.oldGeometricProperties;i.count===n.count&&i.count>1&&this.$emit("resize",new nEe({left:i.centerMass.left-n.centerMass.left,top:i.centerMass.top-n.centerMass.top},{factor:i.spread/n.spread,center:n.centerMass})),this.oldGeometricProperties=n}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?!1!==this.eventsFilter(e,this.transforming):(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,n=t.getBoundingClientRect(),i=n.left,r=n.top,o=n.bottom,a=n.right;this.touches=POe(e.touches).filter(function(e){return e.clientX>i&&e.clientX<a&&e.clientY>r&&e.clientY<o}),this.oldGeometricProperties=dLe(this.touches,t)}},onTouchEnd:function(e){0===e.touches.length&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var n=POe(e.touches).filter(function(e){return!e.identifier||t.touches.find(function(t){return t.identifier===e.identifier})});this.processEvent(e)&&(this.processMove(e,n),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&1===e.buttons&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),n=t.left,i=t.top,r=1+this.wheelResize.ratio*(0===(a=+(e.deltaY||e.detail||e.wheelDelta))||eEe(a)?a:a>0?1:-1),o={left:e.clientX-n,top:e.clientY-i};this.$emit("resize",new nEe({},{factor:r,center:o})),this.touches.length||this.debouncedProcessEnd()}var a}},emits:["resize","move","transform-end"],render:function(e,t,n,i,r,o){return Or(),Pr("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return o.onTouchStart&&o.onTouchStart.apply(o,arguments)}),onMousedown:t[2]||(t[2]=function(){return o.onMouseDown&&o.onMouseDown.apply(o,arguments)}),onWheel:t[3]||(t[3]=function(){return o.onWheel&&o.onWheel.apply(o,arguments)})},[pi(e.$slots,"default")],544)}},fLe={components:{TransformableImage:pLe},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"],render:function(e,t,n,i,r,o){var a=ai("transformable-image");return Or(),Pr(a,{"touch-move":n.touchMove,"touch-resize":n.touchResize,"mouse-move":n.mouseMove,"wheel-resize":n.wheelResize,onMove:t[1]||(t[1]=function(t){return e.$emit("move",t)}),onResize:t[2]||(t[2]=function(t){return e.$emit("resize",t)})},{default:an(function(){return[pi(e.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])}},gLe=HOe("vue-preview"),mLe={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:gLe({fill:this.fill}),wrapper:gLe("wrapper"),imageWrapper:gLe("image-wrapper"),image:FOe(gLe("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=ROe(ROe({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),n=this.imageSize.width,i=this.imageSize.height,r=OEe({width:n,height:i},t.rotate),o={width:"".concat(n,"px"),height:"".concat(i,"px"),left:"0px",top:"0px"},a={rotate:{left:(n-r.width)*t.scaleX/2,top:(i-r.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*n/2,top:(1-t.scaleY)*i/2}};return o.transform="translate(\n\t\t\t\t".concat(-this.coordinates.left/e-a.rotate.left-a.scale.left,"px,").concat(-this.coordinates.top/e-a.rotate.top-a.scale.top,"px) ")+hLe(t),this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){e.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}},render:function(e,t,n,i,r,o){return Or(),Pr("div",{ref:"root",class:o.classes.root,style:o.style},[Wr("div",{ref:"wrapper",class:o.classes.wrapper,style:o.wrapperStyle},[sn(Wr("img",{ref:"image",src:n.image&&n.image.src,class:o.classes.image,style:o.imageStyle},null,14,["src"]),[[Go,n.image&&n.image.src]])],6)],6)}},vLe={components:{Preview:mLe},inheritAttrs:!1,render:function(e,t,n,i,r,o){var a=ai("preview");return Or(),Pr(a,Kr(e.$attrs,{fill:!0}),null,16)}},yLe=HOe("vue-rectangle-stencil"),bLe={name:"RectangleStencil",components:{StencilPreview:vLe,BoundingBox:sLe,DraggableArea:cLe},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return eLe}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return iLe}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:FOe(yLe({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:FOe(yLe("preview"),this.previewClass),boundingBox:FOe(yLe("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,n=e.width,i=e.left,r=e.top,o={width:"".concat(n,"px"),height:"".concat(t,"px"),transform:"translate(".concat(i,"px, ").concat(r,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"],render:function(e,t,n,i,r,o){var a=ai("stencil-preview"),s=ai("draggable-area"),l=ai("bounding-box");return Or(),Pr("div",{class:o.classes.stencil,style:o.style},[Wr(l,{width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,transitions:n.transitions,class:o.classes.boundingBox,handlers:n.handlers,"handlers-component":n.handlersComponent,"handlers-classes":n.handlersClasses,"handlers-wrappers-classes":n.handlersWrappersClasses,lines:n.lines,"lines-component":n.linesComponent,"lines-classes":n.linesClasses,"lines-wrappers-classes":n.linesWrappersClasses,resizable:n.resizable,onResize:o.onResize,onResizeEnd:o.onResizeEnd},{default:an(function(){return[Wr(s,{movable:n.movable,onMove:o.onMove,onMoveEnd:o.onMoveEnd},{default:an(function(){return[Wr(a,{image:n.image,coordinates:n.coordinates,width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,class:o.classes.preview,transitions:n.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)}},xLe=["transitions"],_Le=HOe("vue-advanced-cropper"),wLe={name:"Cropper",components:{BackgroundWrapper:fLe},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return bLe}},backgroundWrapperComponent:{type:[Object,String],default:function(){return fLe}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return-1!==gEe.indexOf(e)}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!("string"==typeof e&&"fill"!==e&&"fit"!==e)}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,n=e.coordinates,i=e.aspectRatio,r=e.positionRestrictions,o=e.sizeRestrictions,a=jOe(jOe({},n),{right:n.left+n.width,bottom:n.top+n.height}),s=t.params||{},l=jOe({},t.directions),c=s.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};o.widthFrozen&&(l.left=0,l.right=0),o.heightFrozen&&(l.top=0,l.bottom=0),hEe.forEach(function(e){c[e]||(l[e]=0)});var u=wEe(a,l=ZEe({coordinates:a,directions:l,sizeRestrictions:o,positionRestrictions:r})).width,h=wEe(a,l).height,d=s.preserveRatio?CEe(a):IEe(u/h,i);if(d){var p=s.respectDirection;if(p||(p=a.width>=a.height||1===d?"width":"height"),"width"===p){var f=u/d-a.height;if(c.top&&c.bottom){var g=l.top,m=l.bottom;l.bottom=KEe(f,m,g),l.top=KEe(f,g,m)}else c.bottom?l.bottom=f:c.top?l.top=f:c.right?l.right=0:c.left&&(l.left=0)}else if("height"===p){var v=a.width-h*d;if(c.left&&c.right){var y=l.left,b=l.right;l.left=-KEe(v,y,b),l.right=-KEe(v,b,y)}else c.left?l.left=-v:c.right?l.right=-v:c.top?l.top=0:c.bottom&&(l.bottom=0)}l=ZEe({directions:l,coordinates:a,sizeRestrictions:o,positionRestrictions:r,preserveRatio:!0,compensate:s.compensate})}return u=wEe(a,l).width,h=wEe(a,l).height,(d=s.preserveRatio?CEe(a):IEe(u/h,i))&&Math.abs(d-u/h)>.001&&hEe.forEach(function(e){c[e]||(l[e]=0)}),HEe({event:new rEe({left:-l.left,top:-l.top}),coordinates:{width:n.width+l.right+l.left,height:n.height+l.top+l.bottom,left:n.left,top:n.top},positionRestrictions:r})}},moveAlgorithm:{type:Function,default:HEe},initStretcher:{type:Function,default:function(e){var t=e.stretcher,n=e.imageSize,i=CEe(n);t.style.width=n.width+"px",t.style.height=t.clientWidth/i+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,n=e.coordinates,i=e.aspectRatio,r=e.sizeRestrictions,o=e.positionRestrictions,a=jOe(jOe({},n),FEe({width:n.width,height:n.height,aspectRatio:i,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,r.minHeight),minWidth:Math.min(t.width,r.minWidth)}}));return REe(a=MEe(a,bEe(xEe(n),xEe(a))),zEe(yEe(t),o))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,n=e.boundaries,i=e.getAreaRestrictions,r=e.coordinates,o=jOe({},t);o.height=o.width/CEe(n),o.top+=(t.height-o.height)/2,(r.height-o.height>0||r.width-o.width>0)&&(o=kEe(o,Math.max(r.height/o.height,r.width/o.width)));var a=SEe(AEe(r,yEe(o=kEe(o,LEe(o,i({visibleArea:o,type:"resize"}))))));return o.width<r.width&&(a.left=0),o.height<r.height&&(a.top=0),REe(o=MEe(o,a),i({visibleArea:o,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,n=e.boundaries,i=e.imageSize,r=e.imageRestriction,o=e.type,a={};return"fill-area"===r?a={left:0,top:0,right:i.width,bottom:i.height}:"fit-area"===r&&(CEe(n)>CEe(i)?(a={top:0,bottom:i.height},t&&"move"===o&&(t.width>i.width?(a.left=-(t.width-i.width)/2,a.right=i.width-a.left):(a.left=0,a.right=i.width))):(a={left:0,right:i.width},t&&"move"===o&&(t.height>i.height?(a.top=-(t.height-i.height)/2,a.bottom=i.height-a.top):(a.top=0,a.bottom=i.height)))),a}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,n={};return"none"!==e.imageRestriction&&(n={left:0,top:0,right:t.width,bottom:t.height}),n}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:ROe({},mEe)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=this.imageTransforms.rotate*Math.PI/180;return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return Boolean(this.visibleArea&&this.imageLoaded)},settings:function(){var e=KOe(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:KOe(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:YOe(this.minWidth)?0:JOe(this.minWidth),minHeight:YOe(this.minHeight)?0:JOe(this.minHeight),maxWidth:YOe(this.maxWidth)?1/0:JOe(this.maxWidth),maxHeight:YOe(this.maxHeight)?1/0:JOe(this.maxHeight)});if(e=function(e){var t=e.areaRestrictions,n=e.sizeRestrictions,i=e.boundaries,r=e.positionRestrictions,o=jOe(jOe({},n),{minWidth:void 0!==n.minWidth?n.minWidth:0,minHeight:void 0!==n.minHeight?n.minHeight:0,maxWidth:void 0!==n.maxWidth?n.maxWidth:1/0,maxHeight:void 0!==n.maxHeight?n.maxHeight:1/0});void 0!==r.left&&void 0!==r.right&&(o.maxWidth=Math.min(o.maxWidth,r.right-r.left)),void 0!==r.bottom&&void 0!==r.top&&(o.maxHeight=Math.min(o.maxHeight,r.bottom-r.top));var a=NEe(t),s=DEe(i,a);return a.width<1/0&&(!o.maxWidth||o.maxWidth>s.width)&&(o.maxWidth=Math.min(o.maxWidth,s.width)),a.height<1/0&&(!o.maxHeight||o.maxHeight>s.height)&&(o.maxHeight=Math.min(o.maxHeight,s.height)),o.minWidth>o.maxWidth&&(o.minWidth=o.maxWidth,o.widthFrozen=!0),o.minHeight>o.maxHeight&&(o.minHeight=o.maxHeight,o.heightFrozen=!0),o}({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),n=NEe(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,n.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,n.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:_Le(),image:FOe(_Le("image"),this.imageClass),stencil:_Le("stencil"),boundaries:FOe(_Le("boundaries"),this.boundariesClass),stretcher:FOe(_Le("stretcher")),background:FOe(_Le("background"),this.backgroundClass),foreground:FOe(_Le("foreground"),this.foregroundClass),imageWrapper:FOe(_Le("image-wrapper")),cropperWrapper:FOe(_Le("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,n=e.height,i=e.left,r=e.top;return{width:t/this.coefficient,height:n/this.coefficient,left:(i-this.visibleArea.left)/this.coefficient,top:(r-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t=(e.width-this.imageSize.width)/(2*this.coefficient),n=(e.height-this.imageSize.height)/(2*this.coefficient),i=(1-1/this.coefficient)*e.width/2,r=(1-1/this.coefficient)*e.height/2,o=ROe(ROe({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),a={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t-i-this.imageTransforms.translateX,"px, ").concat(-n-r-this.imageTransforms.translateY,"px)")+hLe(o)};return this.transitionsOptions.enabled&&(a.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),a}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick(function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(n){return e[n]!==t[n]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=$Oe(this.update,this.debounce),this.debouncedDisableTransitions=$Oe(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var e=this.initialized?this.prepareResult(ROe({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:ROe({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var n=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?ROe({},this.visibleArea):null,imageTransforms:t,get canvas(){return n.canvas?n.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?ROe({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transitions,i=void 0===n||n;this.onManipulateImage(new nEe({},{factor:1/e,center:t}),{normalize:!1,transitions:i})},move:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transitions,i=void 0===n||n;this.onManipulateImage(new nEe({left:e||0,top:t||0}),{normalize:!1,transitions:i})},setCoordinates:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.autoZoom,r=void 0===i||i,o=n.transitions,a=void 0===o||o;this.$nextTick(function(){t.imageLoaded?(t.transitionsActive||(a&&t.enableTransitions(),t.coordinates=t.applyTransform(e),r&&t.runAutoZoom("setCoordinates"),a&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e})},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then(function(){e.onChange()}):this.resetVisibleArea().then(function(){e.onChange()})},reset:function(){var e=this;return this.resetVisibleArea().then(function(){e.onChange(!1)})},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){e(),t.awaiting=!1}))},prepareResult:function(e){return this.roundResult?function(e){var t=e.coordinates,n=e.sizeRestrictions,i=e.positionRestrictions,r={width:Math.round(t.width),height:Math.round(t.height),left:Math.round(t.left),top:Math.round(t.top)};return r.width>n.maxWidth?r.width=Math.floor(t.width):r.width<n.minWidth&&(r.width=Math.ceil(t.width)),r.height>n.maxHeight?r.height=Math.floor(t.height):r.height<n.minHeight&&(r.height=Math.ceil(t.height)),REe(r,i)}(ROe(ROe({},this.getPublicProperties()),{},{positionRestrictions:YEe(this.positionRestrictions,this.visibleArea),coordinates:e})):e},processAutoZoom:function(e,t,n,i){var r=this.autoZoomAlgorithm;r||(r=this.stencilSize?WEe:this.autoZoom?$Ee:jEe);var o=r({event:{type:e,params:i},visibleArea:t,coordinates:n,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return ROe(ROe({},o),{},{changed:!vEe(o.visibleArea,t)||!vEe(o.coordinates,n)})},runAutoZoom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transitions,i=void 0!==n&&n,r=function o(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,xLe),a=this.processAutoZoom(e,this.visibleArea,this.coordinates,r),s=a.visibleArea,l=a.coordinates,c=a.changed;i&&c&&this.enableTransitions(),this.visibleArea=s,this.coordinates=l,i&&c&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return function(e){var t=e.event,n=e.visibleArea,i=e.coefficient;if("manipulateImage"===t.type)return jOe(jOe({},t),{move:{left:t.move&&t.move.left?i*t.move.left:0,top:t.move&&t.move.top?i*t.move.top:0},scale:{factor:t.scale&&t.scale.factor?t.scale.factor:1,center:t.scale&&t.scale.center?{left:t.scale.center.left*i+n.left,top:t.scale.center.top*i+n.top}:null}});if("resize"===t.type){var r=jOe(jOe({},t),{directions:jOe({},t.directions)});return hEe.forEach(function(e){r.directions[e]*=i}),r}if("move"===t.type){var o=jOe(jOe({},t),{directions:jOe({},t.directions)});return fEe.forEach(function(e){o.directions[e]*=i}),o}return t}(ROe(ROe({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,n=0!==this.imageTransforms.rotate||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(e,t,n){var i=n.rotate,r=n.flip,o={width:t.naturalWidth,height:t.naturalHeight},a=OEe(o,i),s=e.getContext("2d");e.height=a.height,e.width=a.width,s.save();var l=EEe(xEe(jOe({left:0,top:0},o)),i);return s.translate(-(l.left-a.width/2),-(l.top-a.height/2)),s.rotate(i*Math.PI/180),s.translate(r.horizontal?o.width:0,r.vertical?o.height:0),s.scale(r.horizontal?-1:1,r.vertical?-1:1),s.drawImage(t,0,0,o.width,o.height),s.restore(),e}(this.$refs.sourceCanvas,t,this.imageTransforms):t,i=ROe({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),r=function(e){return e.find(function(e){return t=e,!Number.isNaN(parseFloat(t))&&isFinite(t);var t})},o=FEe({sizeRestrictions:{minWidth:r([i.width,i.minWidth])||0,minHeight:r([i.height,i.minHeight])||0,maxWidth:r([i.width,i.maxWidth])||1/0,maxHeight:r([i.height,i.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(i.maxArea&&o.width*o.height>i.maxArea){var a=Math.sqrt(i.maxArea/(o.width*o.height));o={width:Math.round(a*o.width),height:Math.round(a*o.height)}}return function(e,t,n,i,r){e.width=i?i.width:n.width,e.height=i?i.height:n.height;var o=e.getContext("2d");o.clearRect(0,0,e.width,e.height),r&&(r.imageSmoothingEnabled&&(o.imageSmoothingEnabled=r.imageSmoothingEnabled),r.imageSmoothingQuality&&(o.imageSmoothingQuality=r.imageSmoothingQuality),r.fillColor&&(o.fillStyle=r.fillColor,o.fillRect(0,0,e.width,e.height),o.save()));var a=n.left<0?-n.left:0,s=n.top<0?-n.top:0;o.drawImage(t,n.left+a,n.top+s,n.width,n.height,a*(e.width/n.width),s*(e.height/n.height),e.width,e.height)}(e,n,this.coordinates,o,i),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.visibleArea&&t?function i(e,t){return jOe(jOe({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,r=this.visibleArea&&t?YEe(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return function o(e){var t=e.coordinates,n=e.transform,i=e.imageSize,r=e.sizeRestrictions,o=e.positionRestrictions,a=e.aspectRatio,s=e.visibleArea,l=function(e,t){return HEe({coordinates:e,positionRestrictions:o,event:new rEe({left:t.left-e.left,top:t.top-e.top})})},c=jOe({},t);return(Array.isArray(n)?n:[n]).forEach(function(e){var t,n,o,u;YOe((t="function"==typeof e?e({coordinates:c,imageSize:i,visibleArea:s}):e).width)&&YOe(t.height)||(n=c,o=jOe(jOe({},c),t),u=jOe(jOe(jOe({},n),FEe({width:o.width,height:o.height,sizeRestrictions:r,aspectRatio:a})),{left:0,top:0}),c=l(u,{left:n.left,top:n.top})),YOe(t.left)&&YOe(t.top)||(c=l(c,jOe(jOe({},c),t)))}),c}({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:n,positionRestrictions:r,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?XEe:UEe);var n=this.sizeRestrictions;n.minWidth,n.minHeight,n.maxWidth,n.maxHeight;var i=qOe(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,r=this.defaultPosition||GEe,o=[i,function(t){var n=t.coordinates;return ROe({},qOe(r)?r({coordinates:n,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&o.push.apply(o,POe(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(o,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout(function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,n=this.$refs.cropper;return this.initStretcher({cropper:n,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then(function(){var t,i={cropper:n,imageSize:e.imageSize};if(qOe(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(i):"fit"===e.defaultBoundaries?e.boundaries=function(e){var t=e.cropper,n=e.imageSize,i=t.clientHeight,r=t.clientWidth,o=i,a=n.width*i/n.height;return a>r&&(a=r,o=n.height*r/n.width),{width:a,height:o}}(i):e.boundaries={width:(t=i.cropper).clientWidth,height:t.clientHeight},!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var e=this;return this.appliedImageTransforms=ROe(ROe({},this.defaultImageTransforms),{},{flip:ROe({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){"visible-area"!==e.priority&&(e.visibleArea=null,e.resetCoordinates());var t,n,i,r,o,a=e.defaultVisibleArea||qEe;e.visibleArea=qOe(a)?a({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:"visible-area"!==e.priority?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(n=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions}).boundaries,i=t.getAreaRestrictions,r=jOe({},t.visibleArea),o=CEe(n),r.width/r.height!==o&&(r.height=r.width/o),REe(r,i({visibleArea:r,type:"move"}))),"visible-area"===e.priority?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")}).catch(function(){e.visibleArea=null})},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then(function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")}).catch(function(){e.visibleArea=null})},onChange:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(e){if(XOe(e))return!1;var t=window.location,n=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(e)||[],i={protocol:n[1]||"",host:n[2]||"",port:n[3]||""},r=function(e){return e.port||("http"===(e.protocol||t.protocol)?80:433)};return!(!i.protocol&&!i.host&&!i.port||Boolean(i.protocol&&i.protocol==t.protocol&&i.host&&i.host==t.host&&i.host&&r(i)==r(t)))}(this.src)){var n=YOe(this.crossOrigin)?this.canvas:this.crossOrigin;!0===n&&(n="anonymous"),this.imageAttributes.crossOrigin=n||null}if(this.checkOrientation){var i=(e=this.src,new Promise(function(t){(function n(e){return new Promise(function(t,n){try{if(e)if(/^data:/i.test(e))t(function(e){e=e.replace(/^data:([^;]+);base64,/gim,"");for(var t=atob(e),n=t.length,i=new ArrayBuffer(n),r=new Uint8Array(i),o=0;o<n;o++)r[o]=t.charCodeAt(o);return i}(e));else if(/^blob:/i.test(e)){var i=new FileReader;i.onload=function(e){t(e.target.result)},o=e,a=function(e){i.readAsArrayBuffer(e)},(s=new XMLHttpRequest).open("GET",o,!0),s.responseType="blob",s.onload=function(){200!=this.status&&0!==this.status||a(this.response)},s.send()}else{var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status||0===r.status?t(r.response):n("Warning: could not load an image to parse its orientation"),r=null)},r.onprogress=function(){"image/jpeg"!==r.getResponseHeader("content-type")&&r.abort()},r.withCredentials=!1,r.open("GET",e,!0),r.responseType="arraybuffer",r.send(null)}else n("Error: the image is empty")}catch(l){n(l)}var o,a,s})})(e).then(function(n){var i=function r(e){try{var t,n=new DataView(e),i=void 0,r=void 0,o=void 0,a=void 0;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var s=n.byteLength,l=2;l+1<s;){if(255===n.getUint8(l)&&225===n.getUint8(l+1)){o=l;break}l++}if(o&&(i=o+10,"Exif"===function(e,t,n){var i,r="";for(i=t,n+=t;i<n;i++)r+=String.fromCharCode(e.getUint8(i));return r}(n,o+4,4))){var c=n.getUint16(i);if(((r=18761===c)||19789===c)&&42===n.getUint16(i+2,r)){var u=n.getUint32(i+4,r);u>=8&&(a=i+u)}}if(a)for(var h=n.getUint16(a,r),d=0;d<h;d++)if(l=a+12*d+2,274===n.getUint16(l,r)){l+=8,t=n.getUint16(l,r),n.setUint16(l,1,r);break}return t}catch(p){return null}}(n);t(n?{source:e,arrayBuffer:n,orientation:i}:{source:e,arrayBuffer:null,orientation:null})}).catch(function(n){t({source:e,arrayBuffer:null,orientation:null})})}));setTimeout(function(){i.then(t.onParseImage)},this.transitionTime)}else setTimeout(function(){t.onParseImage({source:t.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){e.$emit("ready"),e.onChange(!1)}))},onParseImage:function(e){var t=this,n=e.source,i=e.arrayBuffer,r=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,i&&r&&r>1?UOe(n)||!XOe(n)?(this.imageAttributes.src=URL.createObjectURL(new Blob([i])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(e){for(var t=[],n=new Uint8Array(e);n.length>0;){var i=n.subarray(0,8192);t.push(String.fromCharCode.apply(null,Array.from?Array.from(i):i.slice())),n=n.subarray(8192)}return"data:image/jpeg;base64,"+btoa(t.join(""))}(i):this.imageAttributes.src=n,qOe(this.defaultTransforms)?this.appliedImageTransforms=uLe(this.defaultTransforms()):ZOe(this.defaultTransforms)?this.appliedImageTransforms=uLe(this.defaultTransforms):this.appliedImageTransforms=function(e){var t=uLe({});if(e)switch(e){case 2:t.flip.horizontal=!0;break;case 3:t.rotate=-180;break;case 4:t.flip.vertical=!0;break;case 5:t.rotate=90,t.flip.vertical=!0;break;case 6:t.rotate=90;break;case 7:t.rotate=90,t.flip.horizontal=!0;break;case 8:t.rotate=-90}return t}(r),this.defaultImageTransforms=ROe(ROe({},this.appliedImageTransforms),{},{flip:ROe({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var e=t.$refs.image;e&&e.complete&&(Boolean(e.naturalWidth)?t.onSuccessLoadImage():t.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender(function(){t.coordinates=t.moveAlgorithm(ROe(ROe({},t.getPublicProperties()),{},{positionRestrictions:YEe(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()})},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var n=t.sizeRestrictions,i=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(ROe(ROe({},t.getPublicProperties()),{},{positionRestrictions:YEe(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(n.maxWidth,t.visibleArea.width),maxHeight:Math.min(n.maxHeight,t.visibleArea.height),minWidth:Math.max(n.minWidth,i),minHeight:Math.max(n.minHeight,i)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1})},onManipulateImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.transitionsOptions.enabled){var n=t.transitions,i=void 0!==n&&n,r=t.normalize,o=void 0===r||r;i&&this.enableTransitions();var a=function c(e){var t=e.event,n=e.coordinates,i=e.visibleArea,r=e.sizeRestrictions,o=e.getAreaRestrictions,a=e.positionRestrictions,s=e.adjustStencil,l=t.scale,c=t.move,u=jOe({},i),h=jOe({},n),d=1,p=1,f=l.factor&&Math.abs(l.factor-1)>.001;u=MEe(u,{left:c.left||0,top:c.top||0});var g={stencil:{minimum:Math.max(r.minWidth?r.minWidth/h.width:0,r.minHeight?r.minHeight/h.height:0),maximum:Math.min(r.maxWidth?r.maxWidth/h.width:1/0,r.maxHeight?r.maxHeight/h.height:1/0,TEe(h,a))},area:{maximum:TEe(u,o({visibleArea:u,type:"resize"}))}};l.factor&&f&&(l.factor<1?(p=Math.max(l.factor,g.stencil.minimum))>1&&(p=1):l.factor>1&&(p=Math.min(l.factor,Math.min(g.area.maximum,g.stencil.maximum)))<1&&(p=1)),p&&(u=kEe(u,p,l.center));var m=n.left-i.left,v=i.width+i.left-(n.width+n.left),y=n.top-i.top,b=i.height+i.top-(n.height+n.top);return u=REe(u=MEe(u,AEe(u,{left:void 0!==a.left?a.left-m*p:void 0,top:void 0!==a.top?a.top-y*p:void 0,bottom:void 0!==a.bottom?a.bottom+b*p:void 0,right:void 0!==a.right?a.right+v*p:void 0})),o({visibleArea:u,type:"move"})),h.width=h.width*p,h.height=h.height*p,h.left=u.left+m*p,h.top=u.top+y*p,h=REe(h,zEe(yEe(u),a)),l.factor&&f&&s&&(l.factor>1?d=Math.min(g.area.maximum,l.factor)/p:l.factor<1&&(d=Math.max(h.height/u.height,h.width/u.width,l.factor/p)),1!==d&&(u=MEe(u=REe(u=kEe(u,d,l.factor>1?l.center:xEe(h)),o({visibleArea:u,type:"move"})),SEe(AEe(h,yEe(u)))))),{coordinates:h,visibleArea:u}}(ROe(ROe({},this.getPublicProperties()),{},{event:o?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),s=a.visibleArea,l=a.coordinates;this.visibleArea=s,this.coordinates=l,this.runAutoZoom("manipulateImage"),this.onChange(),i&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.visibleArea,n=e.type,i=void 0===n?"move":n;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:i})},getAspectRatio:function(e){var t,n,i=this.stencilProps,r=i.aspectRatio,o=i.minAspectRatio,a=i.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var s=this.$refs.stencil.aspectRatios();t=s.minimum,n=s.maximum}if(YOe(t)&&(t=YOe(r)?o:r),YOe(n)&&(n=YOe(r)?a:r),!e&&(YOe(t)||YOe(n))){var l=this.getStencilSize(),c=l?CEe(l):null;YOe(t)&&(t=QOe(c)?c:void 0),YOe(n)&&(n=QOe(c)?c:void 0)}return{minimum:t,maximum:n}},getStencilSize:function(){if(this.stencilSize)return t=(e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)}).boundaries,i=e.aspectRatio,IEe(CEe(r=qOe(n=e.stencilSize)?n({boundaries:t,aspectRatio:i}):n),i)&&(r=FEe({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:i.minimum,maximum:i.maximum}})),(r.width>t.width||r.height>t.height)&&(r=FEe({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:CEe(r),maximum:CEe(r)}})),r;var e,t,n,i,r},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return ROe({},mEe)},flip:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transitions,i=void 0===n||n;if(!this.transitionsActive){i&&this.enableTransitions();var r=ROe({},this.imageTransforms.flip),o=function n(e){var t=e.flip,n=e.previousFlip,i=e.rotate,r=e.getAreaRestrictions,o=e.coordinates,a=e.visibleArea,s=e.imageSize,l=jOe({},o),c=jOe({},a),u=n.horizontal!==t.horizontal,h=n.vertical!==t.vertical;if(u||h){var d=EEe({left:s.width/2,top:s.height/2},-i),p=EEe(xEe(l),-i),f=EEe({left:u?d.left-(p.left-d.left):p.left,top:h?d.top-(p.top-d.top):p.top},i);l=MEe(l,bEe(f,xEe(l))),p=EEe(xEe(c),-i),c=REe(c=MEe(c,bEe(f=EEe({left:u?d.left-(p.left-d.left):p.left,top:h?d.top-(p.top-d.top):p.top},i),xEe(c))),r({visibleArea:c,type:"move"}))}return{coordinates:l,visibleArea:c}}({flip:{horizontal:e?!r.horizontal:r.horizontal,vertical:t?!r.vertical:r.vertical},previousFlip:r,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),a=o.visibleArea,s=o.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=a,this.coordinates=s,this.onChange(),i&&this.debouncedDisableTransitions()}},rotate:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).transitions,n=void 0===t||t;if(!this.transitionsActive){n&&this.enableTransitions();var i=ROe({},this.imageSize);this.appliedImageTransforms.rotate+=e;var r=function t(e){var t=e.aspectRatio,n=e.getAreaRestrictions,i=e.coordinates,r=e.visibleArea,o=e.sizeRestrictions,a=e.positionRestrictions,s=e.imageSize,l=e.previousImageSize,c=e.angle,u=jOe({},i),h=jOe({},r),d=EEe(xEe(jOe({left:0,top:0},l)),c);return(u=jOe(jOe({},FEe({sizeRestrictions:o,aspectRatio:t,width:u.width,height:u.height})),EEe(xEe(u),c))).left-=d.left-s.width/2+u.width/2,u.top-=d.top-s.height/2+u.height/2,h=kEe(h,LEe(h,n({visibleArea:h,type:"resize"}))),{coordinates:u=REe(u,a),visibleArea:h=REe(h=MEe(h,bEe(xEe(u),xEe(i))),n({visibleArea:h,type:"move"}))}}({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:i,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),o=r.visibleArea,a=r.coordinates,s=this.processAutoZoom("rotateImage",o,a);o=s.visibleArea,a=s.coordinates,this.visibleArea=o,this.coordinates=a,this.onChange(),n&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},SLe={key:0,ref:"canvas",style:{display:"none"}},MLe={key:1,ref:"sourceCanvas",style:{display:"none"}};wLe.render=function(e,t,n,i,r,o){return Or(),Pr("div",{ref:"cropper",class:o.classes.cropper},[Wr("div",{ref:"stretcher",class:o.classes.stretcher},null,2),Wr("div",{class:o.classes.boundaries,style:o.boundariesStyle},[(Or(),Pr(li(n.backgroundWrapperComponent),{class:o.classes.cropperWrapper,"wheel-resize":o.settings.resizeImage.wheel,"touch-resize":o.settings.resizeImage.touch,"touch-move":o.settings.moveImage.touch,"mouse-move":o.settings.moveImage.mouse,onMove:o.onManipulateImage,onResize:o.onManipulateImage},{default:an(function(){return[Wr("div",{class:o.classes.background,style:o.boundariesStyle},null,6),Wr("div",{class:o.classes.imageWrapper},[Wr("img",{ref:"image",crossorigin:r.imageAttributes.crossOrigin,src:r.imageAttributes.src,class:o.classes.image,style:o.imageStyle,onMousedown:t[1]||(t[1]=La(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),Wr("div",{class:o.classes.foreground,style:o.boundariesStyle},null,6),sn((Or(),Pr(li(n.stencilComponent),Kr({ref:"stencil",image:o.image,coordinates:r.coordinates,"stencil-coordinates":o.stencilCoordinates,transitions:o.transitionsOptions},n.stencilProps,{onResize:o.onResize,onResizeEnd:o.onResizeEnd,onMove:o.onMove,onMoveEnd:o.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[Go,r.imageLoaded]]),n.canvas?(Or(),Pr("canvas",SLe,null,512)):Xr("",!0),n.canvas?(Or(),Pr("canvas",MLe,null,512)):Xr("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};export{$i as $,Y as A,Pr as B,Tt as C,an as D,$ as E,kr as F,Gl as G,Zn as H,Xr as I,Gr as J,Kk as K,Ul as L,Qn as M,ji as N,Vi as O,pi as P,Yt as Q,di as R,iI as S,Fi as T,go as U,ut as V,La as W,ei as X,sn as Y,Ma as Z,ka as _,Am as a,EOe as a0,li as a1,Ur as a2,Io as a3,MV as a4,kV as a5,sz as a6,lb as a7,yb as a8,Qy as a9,bn as aA,xne as aB,_ne as aC,wLe as aD,bb as aa,cb as ab,wV as ac,WF as ad,jG as ae,ZG as af,eU as ag,$F as ah,aF as ai,BV as aj,PF as ak,DV as al,aW as am,sW as an,lW as ao,cW as ap,W$ as aq,kW as ar,CW as as,WG as at,AV as au,Ta as av,SV as aw,xV as ax,Na as ay,Go as az,Wx as b,Cb as c,defineStore as d,Xy as e,Nr as f,Wr as g,mo as h,jl as i,vl as j,xd as k,Xa as l,Fa as m,Xd as n,Or as o,bf as p,Hr as q,ai as r,ec as s,jy as t,yf as u,Pn as v,_d as w,St as x,hi as y,B as z};
