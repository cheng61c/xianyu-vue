import{Z as e,C as t,_ as a,g as l,a as o,b as i}from"./CommentInput-D498zylI.js";import{v as s,x as n,f as u,o as r,F as d,B as c,I as p,g as v,D as m,q as g,A as h,W as f,C as b,w as x,N as y,y as k,E as _,J as C,r as w,z as $,u as z,U as D,H as j,L as I,G as q,Q as L}from"./lucide-vue-next-Cfi51zEF.js";import{_ as A}from"./ScButton.vue_vue_type_script_setup_true_lang-Ef9ZHzzG.js";import{_ as V}from"./Card.vue_vue_type_script_setup_true_lang-CKUt07f3.js";import{_ as B}from"./Avatar.vue_vue_type_script_setup_true_lang-Cq1EuCfW.js";import{_ as P}from"./ScRole.vue_vue_type_script_setup_true_lang-Bz5l_0n_.js";import{_ as S}from"./ScModal.vue_vue_type_script_setup_true_lang-Go71FWDS.js";import{k as T,Q as U,R as M,f as H,Z as O,w as N,_ as R,T as E,U as F,V as Q,W,X as Y,Y as Z}from"./store-module/admin/service-Dq4pkIEc.js";import{X as G,o as J,D as X,t as K,b as ee,c as te,v as ae,g as le,k as oe,w as ie,x as se,q as ne,r as ue,s as re,p as de,H as ce}from"./vendor-lucide-BLqUBl1f.js";import{_ as pe}from"./ScTag.vue_vue_type_script_setup_true_lang-DsxShMn2.js";import{_ as ve}from"./EmptyState.vue_vue_type_script_setup_true_lang-Bg-k0MPd.js";import{v as me}from"./verify-CgysHlmG.js";import{_ as ge}from"./ScInput.vue_vue_type_script_setup_true_lang-mHghoQCQ.js";import{u as he}from"./store-module/user/userStore-8LCsejjm.js";import{l as fe,i as be,k as xe,m as ye,n as ke,o as _e,d as Ce,r as we,j as $e}from"./store-module/post/service-HXTCd_Ip.js";import{_ as ze}from"./PopupBox.vue_vue_type_script_setup_true_lang-8C3JL_QJ.js";import{d as De,s as je}from"./store-module/comment/service-yDk0Yzpx.js";import"./store-global/deviceStore-KmV5dTi1.js";import"./index-CAt4bNNt.js";import"./store-global/configStore-BTeIPwoA.js";import"./zh-lang-UpYDLdiS.js";import"./en-lang-DIx6Q4dK.js";import"./store-module/post/postStore-D6edmGvH.js";const Ie={class:"text-lg font-bold mb-2"},qe={class:"flex gap-2 items-center"},Le={class:"text-background-content font-bold"},Ae={class:"relative w-screen h-[100dvh] overflow-hidden"},Ve=s({__name:"Author",props:{postData:{type:Object,required:!0}},setup(t){const a=n(!1),l=n("");return(o,i)=>(r(),u(d,null,[t.postData?(r(),c(V,{key:0},{default:m(()=>[g("h3",Ie,h(o.$t("b.zuo-zhe")),1),g("div",qe,[v(B,{src:t.postData.author.headImg||"",alt:t.postData.author.nickname,size:32,onClick:i[0]||(i[0]=f(e=>{return o=t.postData.author.headImg,a.value=!0,void(l.value=T(o));var o},["stop"]))},null,8,["src","alt"]),g("div",{class:"flex flex-wrap gap-x-1 items-center",onClick:i[1]||(i[1]=f(e=>o.$router.push({name:"userPanel",query:{userId:t.postData.author.id}}),["stop"]))},[g("span",Le,h(t.postData.author.nickname),1),v(P,{user:t.postData.author,size:"sm"},null,8,["user"])])])]),_:1})):p("",!0),v(S,{modelValue:a.value,"onUpdate:modelValue":i[4]||(i[4]=e=>a.value=e)},{default:m(()=>[g("div",Ae,[v(e,{src:l.value,onClickOutside:i[2]||(i[2]=e=>a.value=!1)},null,8,["src"]),g("button",{class:"absolute z-[10] top-[1rem] right-[1rem] rounded-full w-10 h-10 border border-error hover:border-active/80 text-error hover:text-active/80",onClick:i[3]||(i[3]=e=>a.value=!1)},[v(b(G),{class:"mx-auto"})])])]),_:1},8,["modelValue"])],64))}}),Be={class:"text-lg font-bold mb-2"},Pe={class:"w-full"},Se=["onClick"],Te={class:"flex flex-col items-center w-4"},Ue=["data-tip"],Me={class:"flex gap-1 items-center py-2 col-start-2 row-start-1 row-span-3"},He={class:"text-lg font-bold mb-2"},Oe={class:"text-gray-content"},Ne={class:"flex justify-between items-center"},Re={class:"text-lg font-semibold"},Ee={key:0},Fe=["innerHTML"],Qe={class:"text-lg font-bold"},We={class:"flex font-semibold py-2 px-4 border-b border-gray-content"},Ye={class:"flex-[2]"},Ze={class:"flex-1"},Ge={class:"flex-1"},Je={class:"flex items-center mb-2"},Xe={class:"flex-[2] break-words whitespace-pre-line"},Ke={class:"flex-1"},et={class:"flex-1"},tt={class:"flex-1 flex gap-2 justify-end flex-wrap"},at={key:1},lt=s({__name:"Releases",props:{postData:{type:Object,required:!0},id:{type:String,required:!1}},setup(e){const{t:t}=x(),a=e,l=n(!1),o=n(null),i=n([]);return y(()=>a.postData,e=>{e&&(i.value=e.postVersions.map(e=>({...e,createdAt:H(e.createdAt,t),files:e.files.map(e=>({...e,createdAt:H(e.createdAt,t)}))})))},{immediate:!0}),(t,a)=>(r(),u(d,null,[i.value&&i.value.length>0?(r(),c(V,{key:0,class:"mb-4",id:e.id},{default:m(()=>[g("h3",Be,h(t.$t("d.zi-yuan-xia-zai")),1),g("div",Pe,[(r(!0),u(d,null,k(i.value,(e,a)=>(r(),u("div",{class:"flex gap-x-2 w-full hover:bg-active/15 px-4 rounded-md cursor-pointer",key:e.id,onClick:t=>(e=>{o.value=e,l.value=!l.value})(e)},[g("div",Te,[g("div",{class:_(["h-1/3 w-1 flex-1",{"bg-active/30":0!=a}])},null,2),g("div",{class:"bg-active h-4 w-4 rounded-full tooltip tooltip-left z-2","data-tip":e.createdAt},null,8,Ue),g("div",{class:_(["h-1/3 w-1 flex-1",{"bg-active/30":a!=i.value.length-1}])},null,2)]),g("div",Me,[0==a?(r(),c(pe,{key:0,size:"sm",status:"success"},{default:m(()=>[C(h(t.$t("b.zui-xin")),1)]),_:1})):p("",!0),v(pe,{size:"sm",status:"info"},{default:m(()=>[C(h(e.version),1)]),_:2},1024),C(" "+h(e.title),1)])],8,Se))),128))])]),_:1},8,["id"])):p("",!0),i.value&&0!=i.value.length?p("",!0):(r(),c(V,{key:1,class:"mb-4",id:e.id},{default:m(()=>[g("h3",He,h(t.$t("d.zi-yuan-xia-zai")),1),g("div",Oe,h(t.$t("d.shi-mo-ye-mei-you")),1)]),_:1},8,["id"])),v(S,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e)},{default:m(()=>[v(V,{class:"gap-4 w-4xl h-full max-h-[80vh] overflow-y-auto"},{default:m(()=>{var e;return[g("div",Ne,[g("h3",Re,h(null==(e=o.value)?void 0:e.title),1),v(A,{class:"text-sm",onClick:a[0]||(a[0]=e=>l.value=!1),icon:b(J),iconSize:"22",noBg:"",noPd:""},null,8,["icon"])]),o.value?(r(),u("div",Ee,[g("div",{class:"tiptap",innerHTML:o.value.content},null,8,Fe),v(V,{class:"mt-6"},{default:m(()=>[g("div",Qe,h(t.$t("d.wen-jian-xia-zai")),1),g("div",We,[g("div",Ye,h(t.$t("d.wen-jian-ming")),1),g("div",Ze,h(t.$t("d.wen-jian-da-xiao")),1),g("div",Ge,h(t.$t("b.fa-bu-shi-jian")),1),a[2]||(a[2]=g("div",{class:"flex-1"},null,-1))]),(r(!0),u(d,null,k(o.value.files,(e,a)=>(r(),u("div",{class:"w-full py-2 px-4 border-b border-gray-content",key:a},[g("div",Je,[g("div",Xe,h(e.filename),1),g("div",Ke,h(b(U)(e.size)),1),g("div",et,h(e.createdAt),1),g("div",tt,[v(A,{class:"text-sm text-error px-4 border hover:border-active",icon:b(X),iconSize:16,onClick:t=>b(M).download(e.url)},{default:m(()=>[C(h(t.$t("b.xia-zai")),1)]),_:1},8,["icon","onClick"])])])]))),128))]),_:1})])):(r(),u("div",at,[v(ve)]))]}),_:1})]),_:1},8,["modelValue"])],64))}}),ot={class:"text-lg font-bold mb-2"},it={class:"space-y-1 text-sm"},st={key:1},nt={key:2},ut={key:3},rt=s({__name:"TableOfContents",props:{postData:{type:Object,required:!0},tocList:{type:Array,default:()=>[]}},setup:e=>(t,a)=>{const l=w("RouterLink");return r(),c(V,null,{default:m(()=>{var a,o;return[g("h3",ot,h(t.$t("d.mu-lu")),1),g("ul",it,[e.tocList.length?(r(!0),u(d,{key:0},k(e.tocList,e=>(r(),u("li",{key:e.id,style:$({paddingLeft:12*(e.level-1)+"px"})},[v(l,{to:{hash:`#${e.id}`},class:"hover:underline text-blue-600 cursor-pointer"},{default:m(()=>[C(h(e.text),1)]),_:2},1032,["to"])],4))),128)):(r(),u("li",st,[v(l,{to:{hash:"#post-top"},class:"hover:underline text-blue-600 cursor-pointer"},{default:m(()=>[C(h(t.$t("b.wen-zhang-zhu-ti")),1)]),_:1})])),2==(null==(a=e.postData)?void 0:a.type)?(r(),u("li",nt,[v(l,{to:{hash:"#releases"},class:"hover:underline text-blue-600 cursor-pointer"},{default:m(()=>[C(h(t.$t("d.zi-yuan-xia-zai")),1)]),_:1})])):p("",!0),2==(null==(o=e.postData)?void 0:o.type)?(r(),u("li",ut,[v(l,{to:{hash:"#score-container"},class:"hover:underline text-blue-600 cursor-pointer"},{default:m(()=>[C(h(t.$t("b.ping-fen")),1)]),_:1})])):p("",!0),g("li",null,[v(l,{to:{hash:"#comment-container"},class:"hover:underline text-blue-600 cursor-pointer"},{default:m(()=>[C(h(t.$t("b.ping-lun-qu")),1)]),_:1})])])]}),_:1})}}),dt={class:"relative flex-shrink-0"},ct={class:"sticky top-16 py-2 w-ful"},pt={key:0,class:"w-4/5 border-1 border-gray mx-auto"},vt={key:2,class:"w-4/5 border-1 border-gray mx-auto"},mt={class:"flex"},gt={class:"text-xl mb-4 mr-4"},ht={key:0,class:"text-error pt-1"},ft={class:"text-active"},bt={class:"flex gap-4 justify-end"},xt=s({__name:"ArticleActions",props:{postData:{type:Object,required:!0}},emits:["updatePost"],setup(e,{emit:t}){const{t:a}=x(),l=he(),o=z(),i=e,s=t,f=n(!1),y=n(""),k=()=>{var e;f.value&&i.postData&&(!1!==l.isLogin?y.value.trim()?_e(a,1,null==(e=i.postData)?void 0:e.id,y.value,()=>{f.value=!1,y.value=""}):o.error(a("t.ju-bao-li-you-bu-neng-wei-kong")):o.error(a("t.qing-xian-deng-lu")))};return(t,n)=>(r(),u(d,null,[g("div",dt,[g("div",ct,[e.postData?(r(),c(V,{key:0,class:"mb-4",noPg:""},{default:m(()=>[v(A,{isCol:"",icon:b(K),"icon-size":24},{default:m(()=>[C(h(e.postData.commentCount),1)]),_:1},8,["icon"]),n[10]||(n[10]=g("div",{class:"w-4/5 border-1 border-gray mx-auto"},null,-1)),v(A,{isCol:"",icon:b(ee),"icon-size":24,class:_({"text-like":e.postData.isLiked}),onClick:n[0]||(n[0]=t=>{return l=e.postData.id,void fe(a,l,()=>{s("updatePost",l)});var l})},{default:m(()=>[C(h(e.postData.likeCount),1)]),_:1},8,["icon","class"]),n[11]||(n[11]=g("div",{class:"w-4/5 border-1 border-gray mx-auto"},null,-1)),v(A,{isCol:"",icon:b(te),"icon-size":24,class:_({" text-bad":e.postData.isBaded}),onClick:n[1]||(n[1]=t=>{return l=e.postData.id,void be(a,l,()=>{s("updatePost",l)});var l})},{default:m(()=>[C(h(e.postData.badCount),1)]),_:1},8,["icon","class"]),n[12]||(n[12]=g("div",{class:"w-4/5 border-1 border-gray mx-auto"},null,-1)),v(A,{isCol:"",icon:b(ae),"icon-size":24,onClick:n[2]||(n[2]=e=>f.value=!0)},{default:m(()=>[C(h(t.$t("b.ju-bao")),1)]),_:1},8,["icon"])]),_:1})):p("",!0),e.postData&&b(me)([1,2,5])?(r(),c(V,{key:1,noPg:"",class:"mb-4"},{default:m(()=>[v(A,{class:_({" text-green":1==e.postData.disabled," text-error":0==e.postData.disabled}),isCol:"",icon:b(le),"icon-size":24,onClick:n[3]||(n[3]=t=>{return l=e.postData.id,void(me([1,2,5])&&xe(a,l,1==(null==(o=i.postData)?void 0:o.disabled)?0:1,()=>{s("updatePost",l)}));var l,o})},{default:m(()=>[C(h(0==e.postData.disabled?t.$t("b.shan-chu"):t.$t("b.hui-fu")),1)]),_:1},8,["class","icon"]),n[13]||(n[13]=g("div",{class:"w-4/5 border-1 border-gray mx-auto"},null,-1)),v(A,{isCol:"",noBg:"",class:_(["group",{"text-primary":0==e.postData.top,"text-warning":0!=e.postData.top}]),icon:0==e.postData.top?b(oe):b(ie),"icon-size":24,onClick:n[4]||(n[4]=t=>{return l=e.postData.id,void((null==(n=i.postData)?void 0:n.id)===l?ke(a,l,0==(null==(u=i.postData)?void 0:u.top)?1:0,()=>{s("updatePost",l)}):o.error(a("t.tie-zi-bu-cun-zai-huo-yi-bei-shan-chu")));var l,n,u})},{default:m(()=>[g("div",{class:_(["w-[4ch] break-all group-hover:text-active",{"text-primary":0==e.postData.top,"text-warning":0!=e.postData.top}])},h(0==e.postData.top?t.$t("b.zhi-ding"):t.$t("b.qu-xiao-zhi-ding")),3)]),_:1},8,["class","icon"]),e.postData.creatorId==b(l).userInfo.id?(r(),u("div",pt)):p("",!0),e.postData.creatorId==b(l).userInfo.id?(r(),c(A,{key:1,class:_({"text-error":1==e.postData.visible,"text-success":2==e.postData.visible}),isCol:"",icon:1==e.postData.visible?b(ie):b(oe),"icon-size":24,onClick:n[5]||(n[5]=t=>{return l=e.postData.id,void((null==(n=i.postData)?void 0:n.id)===l?ye(a,l,1==(null==(u=i.postData)?void 0:u.disabled)?0:1,()=>{s("updatePost",l)}):o.error(a("t.tie-zi-bu-cun-zai-huo-yi-bei-shan-chu")));var l,n,u})},{default:m(()=>[C(h(1==e.postData.visible?t.$t("b.xia-jia"):t.$t("b.fa-bu")),1)]),_:1},8,["class","icon"])):p("",!0),e.postData.creatorId==b(l).userInfo.id?(r(),u("div",vt)):p("",!0),e.postData.creatorId==b(l).userInfo.id?(r(),c(A,{key:3,isCol:"",icon:b(se),"icon-size":24,onClick:n[6]||(n[6]=a=>t.$router.push({name:"publishPost",params:{postId:e.postData.id}}))},{default:m(()=>[C(h(t.$t("b.bian-ji")),1)]),_:1},8,["icon"])):p("",!0)]),_:1})):p("",!0)])]),v(S,{modelValue:f.value,"onUpdate:modelValue":n[9]||(n[9]=e=>f.value=e)},{default:m(()=>[v(V,{class:"p-6 w-2xl"},{default:m(()=>{var a;return[g("div",mt,[g("h3",gt,h(t.$t("d.ju-bao-tie-zi")),1),b(l).isLogin?p("",!0):(r(),u("div",ht,h(t.$t("t.qing-xian-deng-lu-hou-zai-cao-zuo")),1))]),g("div",null,[C(h(t.$t("t.tie-zi-biao-ti"))+" ",1),g("span",ft,h(null==(a=e.postData)?void 0:a.title),1)]),g("div",null,h(t.$t("d.ni-que-ding-yao-ju-bao-ci-ping-lun-ma-qing-ti-gong-ju-bao-li-you-wo-men-hui-jin-kuai-chu-li")),1),v(ge,{class:"mt-4",multiline:"",placeholder:t.$t("d.qing-shu-ru-ju-bao-li-you"),rows:4,maxlength:200,modelValue:y.value,"onUpdate:modelValue":n[7]||(n[7]=e=>y.value=e)},null,8,["placeholder","modelValue"]),g("div",bt,[v(A,{class:"px-4",onClick:k,Border:""},{default:m(()=>[C(h(t.$t("b.ti-jiao")),1)]),_:1}),v(A,{class:"px-4",onClick:n[8]||(n[8]=e=>f.value=!1),Border:""},{default:m(()=>[C(h(t.$t("b.qu-xiao")),1)]),_:1})])]}),_:1})]),_:1},8,["modelValue"])],64))}}),yt={class:"comment-actions flex items-center text-text-gray text-sm"},kt={key:0,class:"mt-3"},_t=s({__name:"CommentReplyButton",props:{likeCount:{type:Number,required:!0},isLike:{type:Number,required:!0},commentId:{type:Number,required:!0},toCommentId:{type:Number,required:!1}},emits:["reply"],setup(e,{emit:a}){const{t:l}=x(),o=z(),i=he(),s=e,c=n(s.likeCount??0),f=n(s.isLike??0),y=n(""),k=a,w=(e,t,a,s)=>{i.isLogin?(k("reply",e,t,a,s),y.value=""):o.error(l("t.qing-xian-deng-lu-hou-zai-fa-biao-ping-lun"))};return(a,s)=>(r(),u(d,null,[g("div",yt,[v(A,{icon:b(ee),class:_(["flex items-center mr-3",{"text-error":1==f.value}]),onClick:s[0]||(s[0]=t=>((e,t)=>{if(!i.isLogin)return void o.error(l("t.qing-xian-deng-lu-hou-zai-dian-zan"));O({id:t||e}).then(e=>{200===e.data.code&&(c.value=e.data.data.likeCount,f.value=e.data.data.liked?1:0)}).catch(e=>{o.error(l("t.dian-zan-shi-bai-qing-shao-hou-zai-shi")+e.msg)})})(e.commentId,e.toCommentId)),noPd:""},{default:m(()=>[g("span",null,h(c.value),1)]),_:1},8,["icon","class"]),v(A,{noPd:"",onClick:s[1]||(s[1]=t=>{return a=e.commentId,s=e.toCommentId,void(i.isLogin?y.value!==`${a}-${s||"0"}`?y.value=`${a}-${s||"0"}`:y.value="":o.error(l("t.qing-xian-deng-lu-hou-zai-fa-biao-ping-lun")));var a,s})},{default:m(()=>[C(h(a.$t("b.hui-fu-0")),1)]),_:1})]),y.value===`${e.commentId}-${e.toCommentId??0}`?(r(),u("div",kt,[v(t,{"comment-id":e.commentId,"to-comment-id":e.toCommentId,onSubmit:w,submitText:a.$t("b.hui-fu-0"),placeholder:a.$t("b.shuo-dian-shi-mo")},null,8,["comment-id","to-comment-id","submitText","placeholder"])])):p("",!0)],64))}}),Ct={class:"flex"},wt={class:"text-xl mb-4 mr-4"},$t={key:0,class:"text-error"},zt={class:"flex gap-4 justify-end"},Dt=s({__name:"CommentMenu",props:{commentId:{type:Number,required:!0},uid:{type:Number,required:!0}},emits:["updateComment"],setup(e,{emit:t}){const{t:a}=x(),l=z(),o=he(),i=e,s=n(!1),f=n(""),y=()=>{s.value=!s.value},k=()=>{o.isLogin?s.value&&(f.value.trim()?N({targetType:2,targetId:i.commentId,reason:f.value}).then(()=>{l.success(a("t.ju-bao-yi-ti-jiao-wo-men-hui-jin-kuai-chu-li")),s.value=!1,f.value=""}).catch(e=>{l.error(a("t.ju-bao-shi-bai")+e.msg)}):l.error(a("t.ju-bao-li-you-bu-neng-wei-kong"))):l.error(a("t.qing-xian-deng-lu"))},_=()=>{De(a,i.commentId,()=>{w("updateComment")})},w=t,$=D(()=>me([1,2,3,5,9]));return(t,a)=>(r(),u(d,null,[v(V,{noPg:"",class:"p-2 w-28"},{default:m(()=>[v(A,{class:"w-full text-error",onClick:y},{default:m(()=>[C(h(t.$t("b.ju-bao")),1)]),_:1}),$.value||e.uid===b(o).userInfo.id?(r(),c(A,{key:0,class:"w-full text-error",onClick:_},{default:m(()=>[C(h(t.$t("b.shan-chu-ping-lun")),1)]),_:1})):p("",!0)]),_:1}),v(S,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value=e)},{default:m(()=>[v(V,{class:"p-6 w-2xl"},{default:m(()=>[g("div",Ct,[g("h3",wt,h(t.$t("d.ju-bao-ping-lun")),1),b(o).isLogin?p("",!0):(r(),u("div",$t,h(t.$t("t.qing-xian-deng-lu-hou-zai-cao-zuo")),1))]),g("div",null,h(t.$t("d.ni-que-ding-yao-ju-bao-ci-ping-lun-ma-qing-ti-gong-ju-bao-li-you-wo-men-hui-jin-kuai-chu-li")),1),v(ge,{class:"mt-4",multiline:"",placeholder:t.$t("d.qing-shu-ru-ju-bao-li-you"),rows:4,maxlength:200,modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e)},null,8,["placeholder","modelValue"]),g("div",zt,[v(A,{class:"px-4",onClick:k,Border:""},{default:m(()=>[C(h(t.$t("b.ti-jiao")),1)]),_:1}),v(A,{class:"px-4",onClick:y,Border:""},{default:m(()=>[C(h(t.$t("b.qu-xiao")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue"])],64))}}),jt={key:0,class:"comment-input flex items-start gap-3 mb-6"},It={class:"flex-1"},qt={class:"flex justify-between items-center border-b border-gray mb-4 pb-2"},Lt={class:"comment-sort flex items-center"},At={class:"mr-3"},Vt={class:"space-y-5"},Bt={class:"flex items-start gap-3"},Pt={class:"flex-1 group/one"},St={class:"flex items-center mb-1"},Tt=["onClick"],Ut=["onClick"],Mt=["onClick"],Ht=["onClick","innerHTML"],Ot={key:0,class:"flex flex-wrap gap-2 mb-2"},Nt=["src","alt","onClick"],Rt={key:1,class:"reply-list mt-3 pl-4 border-l border-gray space-y-3"},Et={class:"flex items-start gap-3 group/item"},Ft={class:"flex-1"},Qt={class:"flex items-center mb-1"},Wt=["onClick"],Yt=["onClick"],Zt=["onClick"],Gt={class:"mb-1"},Jt=["onClick"],Xt=["onClick","innerHTML"],Kt={key:0,class:"flex flex-wrap gap-2 mb-2"},ea=["src","alt","onClick"],ta={class:"text-center mt-6"},aa={class:"relative w-[90vw] h-[90vh] overflow-hidden"},la=s({__name:"CommentArea",props:{postData:{},id:{}},setup(a){const{t:l}=x(),o=z(),i=a,s=he(),w=n(!1),$=n(""),j=D(()=>Ce(l)),I=n(1),q=n(""),L=n(0),P=D(()=>M.value.page>=Math.ceil(M.value.total/M.value.limit)?l("b.dao-di-le"):l("b.jia-zai-geng-duo-ping-lun")),U=n([]),M=n({page:1,limit:10,total:0}),O=e=>{w.value=!0,$.value=e},N=e=>{null!=i.postData&&(M.value.page>=Math.ceil(M.value.total/M.value.limit)&&e>M.value.page||R({postId:i.postData.id,page:e,limit:M.value.limit,orderType:I.value}).then(t=>{if(200===t.data.code){const a=t.data.data.list.map(e=>(e.createdAt=H(e.createdAt,l),e.image=e.image?e.image.map(e=>T(e)):[],e.content=we(e.content),e.children=e.children.map(e=>(e.createdAt=H(e.createdAt,l),e.image=e.image?e.image.map(e=>T(e)):[],e.content=we(e.content),e)),e));1==e?U.value=a:U.value.push(...a),M.value.total=t.data.data.total,M.value.page=t.data.data.page}}).catch(e=>{o.error(l("t.huo-qu-ping-lun-shi-bai-qing-shao-hou-zai-shi")+e.msg)}))},E=(e,t,a,n,u)=>{if(!s.isLogin)return void o.error(l("t.qing-xian-deng-lu-hou-zai-fa-biao-ping-lun"));if(!i.postData)return;if(""===e.trim())return void o.error(l("t.ping-lun-nei-rong-bu-neng-wei-kong"));const r={postId:i.postData.id,content:e};a&&(r.commentId=a),n&&(r.toCommentId=n),t&&t.length>0&&(r.image=t),je(l,r,()=>{u&&u(),N(1)})};return y(()=>i.postData,e=>{e&&N(1)},{immediate:!0}),(l,o)=>(r(),c(V,{class:"comment-container mx-auto",id:a.id},{default:m(()=>[o[6]||(o[6]=g("h3",{class:"text-lg font-bold mb-2"},"评论区",-1)),b(s).isLogin?(r(),u("div",jt,[v(B,{src:b(s).userInfo.headImg,alt:b(s).userInfo.nickname,size:40,class:"flex-shrink-0"},null,8,["src","alt"]),g("div",It,[v(t,{onSubmit:E,submitText:l.$t("b.fa-biao-ping-lun"),placeholder:l.$t("b.shuo-dian-shi-mo")},null,8,["submitText","placeholder"])])])):p("",!0),g("div",qt,[g("div",Lt,[g("span",At,h(l.$t("d.pai-xu-fang-shi")),1),(r(!0),u(d,null,k(j.value,e=>(r(),c(A,{key:e.value,class:"px-3 py-1 mr-2 rounded-md",activation:I.value===e.value,icon:e.icon,Border:"",onClick:t=>{return a=e.value,I.value=a,M.value.page=1,void N(M.value.page);var a}},{default:m(()=>[C(h(e.label),1)]),_:2},1032,["activation","icon","onClick"]))),128))]),g("div",null,[g("span",null,h(l.$t("d.zong-ping-lun-commentspagetotal",[M.value.total])),1)])]),g("div",Vt,[(r(!0),u(d,null,k(U.value,e=>{var t;return r(),u("div",{key:e.id},[g("div",Bt,[v(B,{src:e.author.headImg,alt:e.author.nickname,size:40,class:"flex-shrink-0",onClick:f(t=>O(e.author.headImg),["stop"])},null,8,["src","alt","onClick"]),g("div",Pt,[g("div",St,[g("span",{class:"font-medium mr-2",onClick:f(t=>l.$router.push({name:"userPanel",query:{userId:e.author.id}}),["stop"])},h(e.author.nickname),9,Tt),e.author.id==(null==(t=a.postData)?void 0:t.author.id)?(r(),c(pe,{key:0,size:"sm",bgColor:"#FFADBB",class:"text-xs px-1 rounded"},{default:m(()=>[C(h(l.$t("b.tie-zhu")),1)]),_:1})):p("",!0),g("span",{class:"text-gray-content text-xs ml-2",onClick:t=>q.value=`${e.id}`},h(e.createdAt),9,Ut),g("div",{class:"flex flex-1 justify-end",onClick:t=>q.value=`${e.id}`},[v(ze,{position:"bottom",noActivation:"",noPd:"",class:_(["transition-opacity",{"opacity-100":q.value===`${e.id}`,"opacity-0 group-hover/one:opacity-100":q.value!==`${e.id}`}]),icon:b(ne)},{default:m(()=>[v(Dt,{onUpdateComment:o[0]||(o[0]=e=>N(1)),"comment-id":e.id,uid:e.author.id},null,8,["comment-id","uid"])]),_:2},1032,["class","icon"])],8,Mt)]),g("div",{class:"mb-2",onClick:t=>q.value=`${e.id}`,innerHTML:e.content},null,8,Ht),e.image?(r(),u("div",Ot,[(r(!0),u(d,null,k(e.image,(e,t)=>(r(),u("img",{key:t,src:e,alt:l.$t("d.ping-lun-tu-pian"),class:"w-20 h-20 object-cover rounded-md cursor-pointer",onClick:t=>O(e)},null,8,Nt))),128))])):p("",!0),v(_t,{commentId:e.id,"like-count":e.likeCount,"is-like":e.isLike,onReply:E},null,8,["commentId","like-count","is-like"]),e.children.length>0?(r(),u("div",Rt,[(r(!0),u(d,null,k(e.children.slice(0,L.value===e.id?e.children.length:2),t=>{var i;return r(),u("div",{key:t.id,class:"reply-item"},[g("div",Et,[v(B,{src:t.author.headImg,alt:t.author.nickname,size:32,class:"flex-shrink-0",onClick:f(e=>O(t.author.headImg),["stop"])},null,8,["src","alt","onClick"]),g("div",Ft,[g("div",Qt,[g("span",{class:"font-medium mr-2",onClick:e=>l.$router.push({name:"userPanel",query:{userId:t.author.id}})},h(t.author.nickname),9,Wt),t.author.id==(null==(i=a.postData)?void 0:i.author.id)?(r(),c(pe,{key:0,size:"sm",bgColor:"#FFADBB",class:"text-xs px-1 rounded"},{default:m(()=>[C(h(l.$t("b.tie-zhu")),1)]),_:1})):p("",!0),g("span",{class:"text-gray-content text-xs ml-2",onClick:a=>q.value=`${e.id}-${t.id}`},h(t.createdAt),9,Yt),g("div",{class:"flex flex-1 justify-end",onClick:a=>q.value=`${e.id}-${t.id}`},[v(ze,{position:"bottom",noActivation:"",noPd:"",class:_(["transition-opacity",{"opacity-100":q.value==`${e.id}-${t.id}`,"opacity-0 group-hover/item:opacity-100":q.value!=`${e.id}-${t.id}`}]),icon:b(ne)},{default:m(()=>[v(Dt,{onUpdateComment:o[1]||(o[1]=e=>N(1)),"comment-id":t.id,uid:t.author.id},null,8,["comment-id","uid"])]),_:2},1032,["class","icon"])],8,Zt)]),g("div",Gt,[t.toAuthor?(r(),u("span",{key:0,class:"text-active mr-2",onClick:f(e=>l.$router.push({name:"userPanel",query:{userId:t.toAuthor.id}}),["stop"])}," @"+h(t.toAuthor.nickname),9,Jt)):p("",!0),g("span",{onClick:a=>q.value=`${e.id}-${t.id}`,innerHTML:t.content},null,8,Xt)]),t.image?(r(),u("div",Kt,[(r(!0),u(d,null,k(t.image,(e,t)=>(r(),u("img",{key:t,src:e,alt:l.$t("d.ping-lun-tu-pian"),class:"w-20 h-20 object-cover rounded-md cursor-pointer",onClick:t=>O(e)},null,8,ea))),128))])):p("",!0),v(_t,{commentId:e.id,"to-comment-id":t.id,"like-count":t.likeCount,"is-like":t.isLike,onReply:E},null,8,["commentId","to-comment-id","like-count","is-like"])])])])}),128)),e.children.length>2?(r(),c(A,{key:0,icon:L.value===e.id?b(ue):b(re),activation:"",noBg:"",class:"text-sm flex items-center",onClick:t=>L.value=L.value===e.id?0:e.id},{default:m(()=>[C(h(L.value===e.id?l.$t("b.shou-qi-hui-fu"):l.$t("b.cha-kan-commentchildrenlength-tiao-hui-fu",[e.children.length])),1)]),_:2},1032,["icon","onClick"])):p("",!0)])):p("",!0)])])])}),128))]),g("div",ta,[v(A,{class:"px-4 py-2 rounded-md mx-auto",Border:"",disabled:M.value.page>=Math.ceil(M.value.total/M.value.limit),onClick:o[2]||(o[2]=e=>N(M.value.page+1))},{default:m(()=>[C(h(P.value),1)]),_:1},8,["disabled"])]),v(S,{modelValue:w.value,"onUpdate:modelValue":o[5]||(o[5]=e=>w.value=e)},{default:m(()=>[g("div",aa,[v(e,{src:$.value,onClickOutside:o[3]||(o[3]=e=>w.value=!1)},null,8,["src"]),g("button",{class:"absolute z-[10] top-[5rem] right-[5rem] rounded-full w-10 h-10 border border-error hover:border-active/80 text-error hover:text-active/80",onClick:o[4]||(o[4]=e=>w.value=!1)},[v(b(G),{class:"mx-auto"})])])]),_:1},8,["modelValue"])]),_:1},8,["id"]))}}),oa=["id"],ia={class:"flex gap-4"},sa={class:"mr-4 w-[20rem] min-w-[20rem]"},na={class:"text-lg font-bold"},ua={class:"flex justify-center items-center gap-4"},ra={class:"pr-8 flex flex-col"},da={class:"text-[3.5rem] text-center"},ca={class:"text-sm"},pa={class:"flex flex-col gap-2"},va=["value"],ma={class:"flex-1 overflow-x-auto overflow-y-hidden h-full"},ga={class:"flex justify-between"},ha={class:"text-lg font-bold"},fa={key:0,class:"flex flex-1 gap-2 p-1 overflow-x-auto rounded-md"},ba={class:"flex items-center gap-2"},xa={class:""},ya={class:"flex items-center gap-2"},ka={class:"text-gray-content text-sm"},_a={class:"text-sm mb-2"},Ca={class:"text-sm flex flex-wrap gap-2 justify-between"},wa={class:"text-success"},$a={class:"text-error"},za={key:1,class:"text-gray-content text-center py-4"},Da={class:"flex justify-between items-center"},ja={class:"text-lg font-semibold"},Ia={class:"mr-4"},qa={class:"flex-1"},La={class:"flex items-center gap-2 mb-2"},Aa={class:"text-gray-content"},Va={class:"text-gray-content text-sm"},Ba={class:"mb-2"},Pa={key:0,class:"flex flex-wrap gap-2 mb-2"},Sa=["src","alt","onClick"],Ta={class:"flex justify-end gap-4 items-center"},Ua={class:"flex gap-4"},Ma={class:"relative w-[90vw] h-[90vh] overflow-hidden"},Ha=s({__name:"Score",props:{postId:{type:Number,required:!0},id:{type:String,required:!1}},setup(o){const{t:i}=x(),s=he(),f=z(),y=o,w=n([]),$=n({averageScore:0,totalCount:0,scoreDistribution:{5:0,4:0,3:0,2:0,1:0}}),I=n({label:"",colorClass:""}),q=n(!1),L=n(0),P=n(!1),T=n(""),U=D(()=>Object.entries($.value.scoreDistribution).sort((e,t)=>Number(t[0])-Number(e[0]))),M=e=>{const t=$.value.totalCount;return 0===t?0:e/t*100},H=()=>{E(y.postId).then(e=>{if(200==e.data.code){const t=e.data.data.list;w.value=t.map(e=>({...e,createdAt:F(e.createdAt,i),updatedAt:F(e.updatedAt,i)}))}}).catch(e=>{})},O=()=>{Q(y.postId).then(e=>{if(200==e.data.code){const t=e.data.data;$.value={averageScore:t.averageScore,totalCount:t.totalCount,scoreDistribution:{5:t.scoreDistribution[5]||0,4:t.scoreDistribution[4]||0,3:t.scoreDistribution[3]||0,2:t.scoreDistribution[2]||0,1:t.scoreDistribution[1]||0}};const{colorClass:a,label:o}=l(t.totalCount,$.value,i);I.value.colorClass=a,I.value.label=o}}).catch(e=>{})},N=(e,t,a,l,o)=>{if(!s.isLogin)return void f.error(i("t.qing-xian-deng-lu"));if(L.value<=0)return void f.error(i("t.ping-fen-bu-neng-wei-kong"));const n={postId:y.postId,score:L.value,content:e,image:t.length>0?t:void 0};W(n).then(e=>{200==e.data.code?(f.success(i("t.ping-fen-cheng-gong")),H(),O(),L.value=0,o&&o()):f.error(e.data.msg||i("t.ping-fen-shi-bai-qing-shao-hou-zai-shi"))}).catch(e=>{f.error(i("t.ping-fen-shi-bai-qing-shao-hou-zai-shi"))})},R=(e,t)=>{const a=w.value[e];if(!s.isLogin)return void f.error(i("t.qing-xian-deng-lu"));("like"===t?Y:Z)(a.id).then(e=>{200===e.data.code&&(a.isLiked=e.data.data.isLiked,a.isBaded=e.data.data.isBaded,a.likeCount=e.data.data.likeCount,a.badCount=e.data.data.badCount,f.success(i("t.cao-zuo-cheng-gong")))}).catch(e=>{f.error(i("t.cao-zuo-shi-bai-qing-shao-hou-zai-shi"))})};return j(()=>{H(),O()}),(l,i)=>(r(),u("div",{id:o.id},[b(s).isLogin?(r(),c(V,{key:0,class:"mb-4"},{default:m(()=>[g("div",null,[g("div",ia,[g("span",null,h(l.$t("d.dui-gai-zi-yuan-ping-fen")),1),v(a,{value:L.value,"onUpdate:value":i[0]||(i[0]=e=>L.value=e),readonly:!1,colorClass:"bg-active",class:"mb-4"},null,8,["value"])]),v(t,{"post-id":y.postId,onSubmit:N,submitText:l.$t("d.fa-biao-ping-fen"),placeholder:l.$t("d.dui-gai-zi-yuan-de-ping-jia-shi")},null,8,["post-id","submitText","placeholder"])])]),_:1})):p("",!0),v(V,{noCol:"",class:"overflow-hidden h-60"},{default:m(()=>[g("div",sa,[g("div",na,h(l.$t("d.zi-yuan-ping-fen")),1),g("div",ua,[g("div",ra,[g("div",{class:_(I.value.colorClass)},h(I.value.label),3),g("div",da,h($.value.averageScore.toFixed(1)),1),g("div",ca,h(l.$t("d.ping-fen-ren-shu-scoresummarytotalcount",[$.value.totalCount])),1)]),g("div",pa,[(r(!0),u(d,null,k(U.value,([e,t])=>(r(),u("div",{key:e,class:"flex gap-2 items-center"},[C(h(e)+" ",1),g("progress",{class:"progress w-[10rem] h-3 bg-gray-200",value:M(t),max:"100"},null,8,va)]))),128))])])]),g("div",ma,[g("div",ga,[g("span",ha,h(l.$t("d.zui-xin-ping-fen")),1),v(A,{class:"text-sm",onClick:i[1]||(i[1]=e=>q.value=!0),noBg:"",noPd:""},{endIcon:m(()=>[v(b(de),{size:18})]),default:m(()=>[C(h(l.$t("d.gong-scorelistlength-tiao-ping-fen",[w.value.length]))+" ",1)]),_:1})]),w.value.length?(r(),u("div",fa,[(r(!0),u(d,null,k(w.value,e=>(r(),c(V,{class:"min-w-[14rem] h-full p-4 flex-shrink-0",key:e.id},{default:m(()=>[g("div",ba,[v(B,{src:e.author.headImg},null,8,["src"]),g("span",xa,h(e.author.nickname),1)]),g("div",ya,[v(a,{value:e.score,colorClass:"bg-active",size:"xs"},null,8,["value"]),g("span",ka,h(e.createdAt),1)]),g("div",_a,h(e.content),1),g("div",Ca,[g("p",wa,h(l.$t("d.itemlikecount-ren-jue-de-you-yong",[e.likeCount])),1),g("p",$a,h(l.$t("d.itembadcount-ren-jue-de-mei-yong",[e.badCount])),1)])]),_:2},1024))),128))])):p("",!0),0===w.value.length?(r(),u("div",za,h(l.$t("d.zan-wu-ping-fen")),1)):p("",!0)])]),_:1}),v(S,{modelValue:q.value,"onUpdate:modelValue":i[3]||(i[3]=e=>q.value=e)},{default:m(()=>[v(V,{class:"gap-4 w-4xl h-full max-h-[80vh] overflow-y-auto"},{default:m(()=>[g("div",Da,[g("h3",ja,h(l.$t("d.ping-fen-xiang-qing")),1),v(A,{onClick:i[2]||(i[2]=e=>q.value=!1),icon:b(G),"icon-size":24,noBg:"",noPd:""},null,8,["icon"])]),(r(!0),u(d,null,k(w.value,(e,t)=>(r(),u("div",{key:e.id,class:"border-t border-gray/80 py-2 flex"},[g("div",Ia,[v(B,{src:e.author.headImg},null,8,["src"])]),g("div",qa,[g("div",La,[g("span",Aa,h(e.author.nickname),1),v(a,{value:e.score,colorClass:"bg-active",size:"xs"},null,8,["value"]),g("span",Va,h(l.$t("d.fa-bu-yu-scorecreatedat-scoreupdatedat-scorecreatedat-geng-xin-yu-scoreupdatedat",[e.createdAt,e.updatedAt!=e.createdAt?l.$t("d.geng-xin-yu-scoreupdatedat",[e.updatedAt]):""])),1)]),g("div",Ba,h(e.content),1),e.image?(r(),u("div",Pa,[(r(!0),u(d,null,k(e.image,(e,t)=>(r(),u("img",{key:t,src:e,alt:l.$t("d.ping-lun-tu-pian"),class:"w-20 h-20 object-cover rounded-md cursor-pointer",onClick:t=>(e=>{P.value=!0,T.value=e})(e)},null,8,Sa))),128))])):p("",!0),g("div",Ta,[i[7]||(i[7]=g("div",{class:"text-sm text-gray-content"}," t('d.zhe-dui-ni-shi-fou-you-bang-zhu') ",-1)),g("div",Ua,[v(A,{class:_(["text-sm border",{"text-success border-success":e.isLiked,"text-gray-content border-gray":!e.isLiked}]),onClick:e=>R(t,"like"),noBg:""},{default:m(()=>[C(h(l.$t("b.shi-scorelikecount",[e.likeCount])),1)]),_:2},1032,["class","onClick"]),v(A,{class:_(["text-sm border",{"text-error border-error":e.isBaded,"text-gray-content border-gray":!e.isBaded}]),onClick:e=>R(t,"bad"),noBg:""},{default:m(()=>[C(h(l.$t("b.fou-scorebadcount",[e.badCount])),1)]),_:2},1032,["class","onClick"])])])])]))),128))]),_:1})]),_:1},8,["modelValue"]),v(S,{modelValue:P.value,"onUpdate:modelValue":i[6]||(i[6]=e=>P.value=e)},{default:m(()=>[g("div",Ma,[v(e,{src:T.value,onClickOutside:i[4]||(i[4]=e=>P.value=!1)},null,8,["src"]),g("button",{class:"absolute z-[10] top-[5rem] right-[5rem] rounded-full w-10 h-10 border border-error hover:border-active/80 text-error hover:text-active/80",onClick:i[5]||(i[5]=e=>P.value=!1)},[v(b(G),{class:"mx-auto"})])])]),_:1},8,["modelValue"])],8,oa))}}),Oa={key:0,class:"breadcrumbs text-sm ml-4",id:"post-top"},Na={key:1,class:"flex gap-6 pt-4"},Ra={class:"tiptap flex-1 w-7/10 p-1"},Ea=["innerHTML"],Fa={class:"min-w-2/10 relative"},Qa={class:"flex flex-col gap-4 no-scrollbar p-2"},Wa={class:"text-red-500 text-lg font-bold"},Ya={class:"text-gray-content mt-2"},Za={class:"text-red-500 text-lg font-bold"},Ga={class:"text-gray-content mt-2"},Ja={key:2,class:"flex flex-col items-center justify-center h-full"},Xa={class:"text-xl font-bold mb-4"},Ka={class:"text-gray-content mb-4"},el={class:"relative w-[90vw] h-[90vh] overflow-hidden"},tl=s({__name:"PostDetails",setup(t){const a=I(),l=q(),{t:s}=x(),f=n(null),k=n([]),_=n(!1),$=n(!1),z=n(""),D=n(null),B=n(null),P=n(!1),T=async e=>{const{post:t,toc:a}=await $e(e,s);f.value=t,k.value=a},U=()=>{window.history.length>2?window.history.back():l.push({name:"Home"})},M=()=>{const e=D.value;if(!e)return;e.querySelectorAll("img").forEach(e=>{e.style.cursor="pointer",e.addEventListener("click",H)})},H=e=>{$.value=!0,z.value=e.target.src},O=e=>{const t=e.replace("#",""),a=document.getElementById(t);if(a){const e=80,t=a.getBoundingClientRect(),l=window.pageYOffset||document.documentElement.scrollTop,o=t.top+l-e;window.scrollTo({top:o,behavior:"smooth"}),B.value&&B.value.scrollTo({top:o,behavior:"smooth"})}};return j(async()=>{P.value=!0;const e=a.params.postId,{post:t,toc:l}=await $e(+e,s);f.value=t,k.value=l,t&&(L(()=>{M()}),P.value=!1),a.hash&&L(()=>{O(a.hash),window.scrollTo({top:900,behavior:"smooth"})})}),y(()=>a.hash,e=>{e&&O(e)}),y(()=>a.params.postId,(e,t)=>{e!=t&&T(+e)}),y(f,async()=>{await L(),M()}),(t,a)=>{var l,s,n,x,y,j,I,q,L,M;const H=w("RouterLink");return r(),u(d,null,[P.value?p("",!0):(r(),u("div",{key:0,class:"pb-2 h-[calc(100vh-64px-24px)] overflow-y-auto",ref_key:"postContainer",ref:B},[f.value?(r(),u("div",Oa,[g("ul",null,[g("li",null,[v(A,{noPadding:"",onClick:U},{default:m(()=>[v(b(ce),{size:18})]),_:1})]),g("li",null,[v(H,{to:{name:1==(null==(l=f.value)?void 0:l.type)?"postList":"modList",params:{plateId:null==(s=f.value)?void 0:s.plate.id}}},{default:m(()=>{var e;return[C(h(1==(null==(e=f.value)?void 0:e.type)?t.$t("nav.jiao-liu-tie-zi"):t.$t("nav.zi-yuan-xia-zai")),1)]}),_:1},8,["to"])]),g("li",null,[v(H,{to:{name:1==(null==(n=f.value)?void 0:n.type)?"postList":"modList",params:{plateId:null==(x=f.value)?void 0:x.plate.id}}},{default:m(()=>{var e;return[C(h(null==(e=f.value)?void 0:e.plate.name),1)]}),_:1},8,["to"])]),g("li",null,h(null==(y=f.value)?void 0:y.title),1)])])):p("",!0),!_.value&&f.value?(r(),u("div",Na,[v(xt,{postData:f.value,onUpdatePost:T},null,8,["postData"]),g("div",Ra,[g("div",{ref_key:"htmlContainer",ref:D,innerHTML:null==(j=f.value)?void 0:j.content},null,8,Ea),a[3]||(a[3]=g("div",{class:"border-t border-gray my-8"},null,-1)),v(lt,{postData:f.value,id:"releases"},null,8,["postData"]),f.value&&2==f.value.type?(r(),c(Ha,{key:0,postId:null==(I=f.value)?void 0:I.id,id:"score-container",class:"mb-4"},null,8,["postId"])):p("",!0),v(la,{postData:f.value,id:"comment-container"},null,8,["postData"])]),g("div",Fa,[g("div",Qa,[2==(null==(q=f.value)?void 0:q.status)||1==(null==(L=f.value)?void 0:L.disabled)?(r(),c(V,{key:0},{default:m(()=>[g("div",Wa,h(t.$t("d.gai-tie-zi-yi-bei-feng-jin-huo-jin-yong")),1),g("div",Ya,h(t.$t("d.dang-qian-zheng-zai-shi-yong-guan-li-yuan-quan-xian-cha-kan")),1)]),_:1})):p("",!0),0==(null==(M=f.value)?void 0:M.visible)?(r(),c(V,{key:1},{default:m(()=>[g("div",Za,h(t.$t("d.gai-tie-zi-yi-xia-jia")),1),g("div",Ga,h(t.$t("d.dang-qian-zheng-zai-shi-yong-guan-li-yuan-quan-xian-cha-kan")),1)]),_:1})):p("",!0),v(rt,{postData:f.value,tocList:k.value},null,8,["postData","tocList"]),v(Ve,{postData:f.value},null,8,["postData"]),v(o,{postData:f.value},null,8,["postData"])])])])):(r(),u("div",Ja,[v(V,{class:"w-96 text-center"},{default:m(()=>[g("h2",Xa,h(t.$t("d.tie-zi-jia-zai-shi-bai")),1),a[4]||(a[4]=g("img",{src:i,alt:"Error",class:"w-auto h-40 mb-4 mx-auto"},null,-1)),g("p",Ka,h(t.$t("d.ke-neng-shi-tie-zi-bu-cun-zai-huo-yi-bei-shan-chu-nin-ke-yi-chang-shi-shua-xin-ye-mian-huo-fan-hui-shang-yi-ye")),1),v(A,{onClick:U,class:"mt-2",Border:""},{default:m(()=>[C(h(t.$t("b.fan-hui-shang-yi-ye")),1)]),_:1})]),_:1})]))],512)),v(S,{modelValue:$.value,"onUpdate:modelValue":a[2]||(a[2]=e=>$.value=e)},{default:m(()=>[g("div",el,[v(e,{src:z.value,onClickOutside:a[0]||(a[0]=e=>$.value=!1)},null,8,["src"]),g("button",{class:"absolute z-[10] top-[5rem] right-[5rem] rounded-full w-10 h-10 border border-error hover:border-active/80 text-error hover:text-active/80",onClick:a[1]||(a[1]=e=>$.value=!1)},[v(b(G),{class:"mx-auto"})])])]),_:1},8,["modelValue"])],64)}}});export{tl as default};
