import{u as e}from"./store-module/user/userStore-CYZokpSa.js";import{_ as o}from"./ScTag.vue_vue_type_script_setup_true_lang-Bc1RbIhV.js";import{v as l,U as s,f as t,B as r,I as a,o as u,F as n,y as p,D as v,J as i,A as f,C as x}from"./lucide-vue-next-DYmFLWJU.js";const c=new class g{baseExp;exponent;offset;constructor(e=100,o=1.5,l=0){this.baseExp=e,this.exponent=o,this.offset=l}getExpForLevel(e){return Math.floor(this.baseExp*Math.pow(e,this.exponent)+this.offset)}getTotalExpForLevel(e){let o=0;for(let l=1;l<e;l++)o+=this.getExpForLevel(l);return o}getLevelFromExp(e){let o=1;for(;this.getTotalExpForLevel(o+1)<=e;)o++;return o}}(10,1.7,50),m={key:0},d={key:1},_=l({__name:"ScRole",props:{user:{},size:{default:"md"},isAll:{type:Boolean,default:!1},noRole:{type:Boolean,default:!1},noLevel:{type:Boolean,default:!1}},setup(l){const g=e(),_=l,h=s(()=>{const e=_.user??g.userInfo;return e.roles&&e.roles.sort((e,o)=>e.id-o.id),e});return(e,l)=>_.isAll&&h.value.roles&&h.value.roles.length>0?(u(!0),t(n,{key:0},p(h.value.roles,e=>(u(),r(o,{key:e.id,bgColor:e.color,size:_.size},{default:v(()=>[_.noRole?a("",!0):(u(),t(n,{key:0},[i(f(e.name),1)],64))]),_:2},1032,["bgColor","size"]))),128)):_.isAll&&h.value.roles?(u(),r(o,{key:1,bgColor:h.value.roles[0]?.color??"var(--color-active)",size:_.size,status:h.value.roles[0]?"":"info"},{default:v(()=>[!_.noLevel&&(h.value.level??x(c).getLevelFromExp(h.value.exp))?(u(),t("span",m," Lv"+f(h.value.level?h.value.level:x(c).getLevelFromExp(h.value.exp)),1)):a("",!0),_.noRole?a("",!0):(u(),t("span",d,f(h.value.roles[0]?.name??h.value.rank),1))]),_:1},8,["bgColor","size","status"])):a("",!0)}});export{_};
