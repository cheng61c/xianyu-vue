import{v as e,x as l,U as t,N as a,Q as o,f as r,o as u,B as s,I as n,a1 as i,z as m,E as d,q as h,A as p}from"./lucide-vue-next-DYmFLWJU.js";const x={class:"relative"},f={key:0,class:"flex justify-between"},g={key:0,class:"absolute -bottom-5 left-0 text-xs text-error"},c=e({__name:"ScInput",props:{modelValue:{default:""},type:{default:"text"},placeholder:{default:""},borderColor:{default:"border-gray"},focusBorderColor:{default:"focus:border-blue-300 focus:ring-blue-200"},error:{default:""},multiline:{type:Boolean,default:!1},rows:{default:3},resizable:{type:Boolean,default:!0},maxlength:{default:void 0},showLengthCounter:{type:Boolean,default:!1},maxHeight:{default:"300px"}},emits:["update:modelValue"],setup(e,{emit:c}){const y=e,v=c,b=l(null),H=l({maxHeight:"number"==typeof y.maxHeight?`${y.maxHeight}px`:y.maxHeight,overflowY:"hidden"}),w=t(()=>String(y.modelValue).length),B=t(()=>!!y.maxlength&&w.value>y.maxlength),C=e=>{const l=e.target;v("update:modelValue",l.value),y.multiline&&V()},V=()=>{o(()=>{if(!y.multiline||!b.value)return;const e=b.value;e.style.height="auto";const l=Math.min(e.scrollHeight,"number"==typeof y.maxHeight?y.maxHeight:parseInt(y.maxHeight));e.scrollHeight>l?(H.value.overflowY="auto",e.style.height=`${l}px`):(H.value.overflowY="hidden",e.style.height=`${e.scrollHeight}px`)})};return a(()=>y.modelValue,()=>{y.multiline&&V()}),a(()=>y.maxHeight,e=>{y.multiline&&(H.value.maxHeight="number"==typeof e?`${e}px`:e,V())}),y.multiline&&o(()=>{V()}),(l,t)=>(u(),r("div",x,[(u(),s(i(e.multiline?"textarea":"input"),{ref_key:"inputElement",ref:b,type:e.type,value:e.modelValue,onInput:C,placeholder:e.placeholder,maxlength:e.maxlength,class:d(["w-full px-4 py-1.5 rounded-md border transition-colors","focus:outline-none focus:ring-1 focus:border-opacity-70",e.borderColor,e.focusBorderColor,e.error?"border-error":"",e.multiline?"min-h-[2.5rem]":"",e.multiline&&!e.resizable?"resize-none":""]),style:m(e.multiline?H.value:null),rows:e.multiline?e.rows:null},null,40,["type","value","placeholder","maxlength","class","style","rows"])),e.showLengthCounter?(u(),r("div",f,[e.error?(u(),r("span",g,p(e.error),1)):n("",!0),h("span",{class:d(["text-xs text-gray-500 ml-auto",{"text-error":B.value}])},p(w.value)+" / "+p(e.maxlength),3)])):n("",!0)]))}});export{c as _};
