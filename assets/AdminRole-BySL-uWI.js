import{_ as e}from"./Card.vue_vue_type_script_setup_true_lang-CKUt07f3.js";import{_ as a}from"./ScInput.vue_vue_type_script_setup_true_lang-mHghoQCQ.js";import{_ as l}from"./ScButton.vue_vue_type_script_setup_true_lang-Ef9ZHzzG.js";import{_ as t}from"./EmptyState.vue_vue_type_script_setup_true_lang-Bg-k0MPd.js";import{aj as o,f as s,ak as u,al as n}from"./store-module/admin/service-Dq4pkIEc.js";import{v as i,w as d,u as r,x as c,H as m,f as g,o as v,g as p,I as h,B as _,D as f,q as j,C as b,J as x,A as y,F as $,y as k,a0 as C}from"./lucide-vue-next-Cfi51zEF.js";import{v as V}from"./verify-CgysHlmG.js";import{_ as z}from"./ScTag.vue_vue_type_script_setup_true_lang-DsxShMn2.js";import{_ as w}from"./ScModal.vue_vue_type_script_setup_true_lang-Go71FWDS.js";import{u as B}from"./store-global/themeStore-CaQtZyHC.js";import{$ as q,l as S,a0 as A}from"./vendor-lucide-BLqUBl1f.js";import"./store-global/configStore-BTeIPwoA.js";import"./store-module/user/userStore-8LCsejjm.js";import"./store-module/post/postStore-D6edmGvH.js";const U={class:"flex gap-2"},I={key:0,class:"text-error"},D={class:"overflow-x-auto"},E={class:"table"},R={class:"flex"},T={class:"max-w-lg"},F={class:"flex"},G={key:0},L={class:"flex items-center gap-2"},H={class:"text-xl mb-4"},J={class:"flex items-center gap-4"},M={class:"flex items-center gap-4 mb-2"},K={class:"flex gap-4 justify-end"},N={class:"text-xl mb-4"},O={class:"text-warning"},P={class:"flex items-center gap-4"},Q={class:"flex items-center gap-4 mb-2"},W={class:"flex gap-4 justify-end"},X={class:"text-xl mb-4"},Y={class:"text-warning mb-4"},Z={class:"flex gap-4 justify-end"},ee=i({__name:"AdminRole",setup(i){const{t:ee}=d(),ae=B(),le=r(),te=c([]),oe=c(-1),se=c(!1),ue=c(!1),ne=c(!1),ie=c(V([1])),de=c({color:"#66ccff",name:""}),re=c({color:"",name:""}),ce=(e=!1)=>{o().then(a=>{200===a.data.code&&(te.value=a.data.data.map(e=>(e.createdAt=s(e.createdAt,ee),e.updatedAt=s(e.updatedAt,ee),e)),e&&le.success(ee("t.jiao-se-lie-biao-shua-xin-cheng-gong")))}).catch(e=>{})},me=e=>{const a=te.value[e];if(!se.value)return oe.value=e,re.value.color=a.color,re.value.name=a.name,void(se.value=!0);u({id:a.id,color:re.value.color,name:re.value.name}).then(e=>{200===e.data.code&&(ce(),se.value=!1,le.success(ee("t.jiao-se-geng-xin-cheng-gong")))}).catch(e=>{le.error(ee("t.jiao-se-geng-xin-shi-bai")+e.msg)})},ge=()=>{if(!ue.value)return de.value.name="",void(ue.value=!0);de.value.name?n(de.value).then(e=>{200===e.data.code&&(ce(),ue.value=!1,le.success(ee("t.jiao-se-tian-jia-cheng-gong")))}).catch(e=>{le.error(ee("t.jiao-se-tian-jia-shi-bai")+e.msg)}):le.error(ee("t.jiao-se-ming-cheng-bu-neng-wei-kong"))},ve=(e,a)=>{const l=te.value[e];if(!ne.value)return oe.value=e,void(ne.value=!0);u({id:l.id,status:a}).then(e=>{200===e.data.code&&(ce(),ne.value=!1,le.success(ee("t.jiao-se-shan-chu-cheng-gong")))}).catch(e=>{})};return m(()=>{ce()}),(o,s)=>(v(),g($,null,[p(e,{class:"mb-4"},{default:f(()=>[j("div",U,[p(l,{onClick:s[0]||(s[0]=e=>ce(!0)),icon:b(q),Border:""},{default:f(()=>[x(y(o.$t("b.shua-xin-jiao-se-lie-biao")),1)]),_:1},8,["icon"]),p(l,{onClick:ge,icon:b(S),Border:""},{default:f(()=>[x(y(o.$t("b.tian-jia-xin-jiao-se")),1)]),_:1},8,["icon"])])]),_:1}),ie.value?h("",!0):(v(),g("div",I,y(o.$t("d.dang-qian-quan-xian-bu-zu-wu-fa-jin-hang-cao-zuo")),1)),te.value.length?(v(),_(e,{key:1,class:"mb-4"},{default:f(()=>[j("div",D,[j("table",E,[j("thead",null,[j("tr",null,[s[15]||(s[15]=j("th",null,"ID",-1)),j("th",null,y(o.$t("b.ming-cheng")),1),j("th",null,y(o.$t("b.bei-jing-se")),1),j("th",null,y(o.$t("b.yong-you-ren-shu")),1),j("th",null,y(o.$t("f.zhuang-tai")),1),j("th",null,y(o.$t("b.cao-zuo")),1)])]),j("tbody",null,[(v(!0),g($,null,k(te.value,(e,a)=>(v(),g("tr",{key:e.id},[j("th",null,y(e.id),1),j("td",null,[j("div",R,[p(z,{bgColor:e.color,size:"md"},{default:f(()=>[x(y(e.name),1)]),_:2},1032,["bgColor"])])]),j("td",T,y(e.color),1),j("td",null,y(e.users.length),1),j("td",null,[j("div",F,[p(z,{status:1===e.status?"success":"error",size:"sm"},{default:f(()=>[x(y(1===e.status?o.$t("b.qi-yong"):o.$t("b.jin-yong")),1)]),_:2},1032,["status"])])]),ie.value?(v(),g("td",G,[j("div",L,[p(l,{onClick:e=>me(a),Border:""},{default:f(()=>[x(y(o.$t("b.bian-ji")),1)]),_:1},8,["onClick"]),e.id>10?(v(),_(l,{key:0,onClick:e=>ve(a,0),Border:""},{default:f(()=>[x(y(o.$t("b.jin-yong")),1)]),_:1},8,["onClick"])):h("",!0)])])):h("",!0)]))),128))])])])]),_:1})):(v(),_(t,{key:2,title:o.$t("t.zan-wu-tie-zi"),iconSize:"64",iconColor:"#ccc",icon:b(A),class:"mt-8",action:o.$t("b.dian-ji-shua-xin"),actionIcon:b(q),onActionClick:s[1]||(s[1]=e=>ce(!0))},null,8,["title","icon","action","actionIcon"])),p(w,{modelValue:se.value,"onUpdate:modelValue":s[6]||(s[6]=e=>se.value=e)},{default:f(()=>[p(e,{class:"p-6 w-2xl"},{default:f(()=>[j("div",H,y(o.$t("d.xiu-gai-jiao-se")),1),j("div",J,[j("span",null,y(o.$t("d.ming-cheng")),1),p(a,{modelValue:re.value.name,"onUpdate:modelValue":s[2]||(s[2]=e=>re.value.name=e),placeholder:o.$t("d.jiao-se-ming-cheng"),class:"m-2"},null,8,["modelValue","placeholder"])]),j("div",M,[j("span",null,y(o.$t("d.bei-jing-yan-se")),1),p(z,{bgColor:re.value.color,size:"md"},{default:f(()=>[x(y(re.value.name),1)]),_:1},8,["bgColor"])]),p(b(C),{modelValue:re.value.color,"onUpdate:modelValue":s[3]||(s[3]=e=>re.value.color=e),mode:"solid",showColorList:!1,showEyeDrop:!0,theme:b(ae).darkTheme?"dark":"light",type:"RGBA"},null,8,["modelValue","theme"]),j("div",K,[p(l,{class:"px-4",onClick:s[4]||(s[4]=e=>me(oe.value)),Border:""},{default:f(()=>[x(y(o.$t("b.que-ren-xiu-gai")),1)]),_:1}),p(l,{class:"px-4",onClick:s[5]||(s[5]=e=>se.value=!1),Border:""},{default:f(()=>[x(y(o.$t("b.qu-xiao")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue"]),p(w,{modelValue:ue.value,"onUpdate:modelValue":s[10]||(s[10]=e=>ue.value=e)},{default:f(()=>[p(e,{class:"p-6 w-2xl"},{default:f(()=>[j("div",N,y(o.$t("b.tian-jia-xin-jiao-se")),1),j("div",O,y(o.$t("d.xin-tian-jia-de-jiao-se-bu-hui-you-ren-he-shi-ji-quan-xian")),1),j("div",P,[j("span",null,y(o.$t("d.ming-cheng")),1),p(a,{modelValue:de.value.name,"onUpdate:modelValue":s[7]||(s[7]=e=>de.value.name=e),placeholder:o.$t("d.jiao-se-ming-cheng"),class:"m-2"},null,8,["modelValue","placeholder"])]),j("div",Q,[j("span",null,y(o.$t("d.bei-jing-yan-se")),1),de.value.name?(v(),_(z,{key:0,bgColor:de.value.color,size:"md"},{default:f(()=>[x(y(de.value.name),1)]),_:1},8,["bgColor"])):h("",!0)]),p(b(C),{modelValue:de.value.color,"onUpdate:modelValue":s[8]||(s[8]=e=>de.value.color=e),mode:"solid",showColorList:!1,showEyeDrop:!0,theme:b(ae).darkTheme?"dark":"light",type:"RGBA"},null,8,["modelValue","theme"]),j("div",W,[p(l,{class:"px-4",onClick:ge,Border:""},{default:f(()=>[x(y(o.$t("b.que-ren-tian-jia")),1)]),_:1}),p(l,{class:"px-4",onClick:s[9]||(s[9]=e=>ue.value=!1),Border:""},{default:f(()=>[x(y(o.$t("b.qu-xiao")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue"]),p(w,{modelValue:ne.value,"onUpdate:modelValue":s[14]||(s[14]=e=>ne.value=e)},{default:f(()=>[p(e,{class:"p-6 w-2xl"},{default:f(()=>[j("div",X,y(o.$t("d.jin-yong-jiao-se")),1),j("div",Y,y(o.$t("d.jin-yong-jiao-se-hou-gai-jiao-se-jiang-bu-zai-zhan-shi-bu-hui-shan-chu-gai-jiao-se-de-xiang-guan-shu-ju-zai-zhang-hao-guan-li-zhong-reng-ran-ke-yi-kan-dao-gai-jiao-se-dan-bu-neng-zai-fu-yu-xin-yong-hu")),1),j("div",Z,[p(l,{class:"px-4 border border-error text-error",onClick:s[11]||(s[11]=e=>ve(oe.value,0))},{default:f(()=>[x(y(o.$t("b.que-ren-jin-yong")),1)]),_:1}),p(l,{class:"px-4 border border-success text-success",onClick:s[12]||(s[12]=e=>ve(oe.value,1))},{default:f(()=>[x(y(o.$t("b.hui-fu")),1)]),_:1}),p(l,{class:"px-4",onClick:s[13]||(s[13]=e=>ne.value=!1),Border:""},{default:f(()=>[x(y(o.$t("b.qu-xiao")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue"])],64))}});export{ee as default};
