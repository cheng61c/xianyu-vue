import{k as e}from"./store-module/admin/service-Dq4pkIEc.js";import{v as s,x as a,N as t,f as r,o as l,z as o,E as c,A as i}from"./lucide-vue-next-Cfi51zEF.js";const n=["src","alt"],u={key:1},v=s({__name:"Avatar",props:{src:{},alt:{},size:{default:26},isLocal:{type:Boolean,default:!1}},setup(s){const v=s,f=a(!1),d=a(v.isLocal?v.src:e(v.src)),p=a(!1);t(()=>v.src,()=>{f.value=!1,p.value=!1,d.value=v.isLocal?v.src:e(v.src)});const m=()=>{if(!p.value&&"string"==typeof v.src){const s=/!\/fwfh\/\d+x\d+$/;if(s.test(v.src)){p.value=!0;const a=v.src.replace(s,"");return void(d.value=v.isLocal?a:e(a))}}f.value=!0};return(e,a)=>{var t;return l(),r("div",{class:c(["flex items-center justify-center text-gray-content font-bold overflow-hidden rounded-md flex-shrink-0",{"bg-gray":f.value}]),style:o({width:s.size+"px",height:s.size+"px",fontSize:s.size/2+"px"})},[f.value?(l(),r("span",u,i((null==(t=s.alt)?void 0:t.charAt(0))||"?"),1)):(l(),r("img",{key:0,class:"w-full h-full object-cover",src:d.value,alt:s.alt,onError:m},null,40,n))],6)}}});export{v as _};
