import{_ as e}from"./Avatar.vue_vue_type_script_setup_true_lang-Cb42g1o5.js";import{_ as t}from"./Card.vue_vue_type_script_setup_true_lang-bjhPCac0.js";import{_ as s}from"./ScRole.vue_vue_type_script_setup_true_lang-C07R-pjc.js";import{u as a}from"./store-module/fengyunbang/FengYunBangStore-bVl1B3_I.js";import{g as l}from"./store-module/fengyunbang/service-_DJH3FEf.js";import{_ as o}from"./ScDrawer.vue_vue_type_script_setup_true_lang-Bv8-4mdG.js";import{_ as r}from"./ScButton.vue_vue_type_script_setup_true_lang-BX58BrIO.js";import{v as i,w as u,x as n,N as c,H as p,f as d,o as v,q as m,g,D as f,J as _,A as x,C as y,I as h,F as b,y as j,B as k,E as w,Q as S}from"./lucide-vue-next-DYmFLWJU.js";import{u as C,f as $}from"./vendor-lucide-DYSNolYz.js";import"./store-module/admin/service-B8wAbs3A.js";import"./store-global/configStore-CQ7TO-i0.js";import"./store-module/user/userStore-CYZokpSa.js";import"./store-module/post/postStore-7aBFqooK.js";import"./ScTag.vue_vue_type_script_setup_true_lang-Bc1RbIhV.js";import"./store-global/drawerStore-DAE8QF9R.js";const A={class:"flex flex-col w-[100dvw] h-[100dvh] space-y-4 pb-2 overflow-y-auto"},z={class:"flex h-12 gap-2 items-center justify-between"},T={class:"flex gap-4 items-center pb-4"},B={class:"flex flex-col"},I={class:"text-lg font-bold"},F={class:"mx-auto"},H={class:"flex gap-4 items-center p-1"},M={class:"flex gap-1 flex-wrap"},V={class:"text-lg font-bold flex-shrink-0"},D=["innerHTML"],L={class:"bg-background w-64 h-full p-4 overflow-y-auto"},Y={class:"text-xl px-2"},q={class:"px-2 text-gray-content text-sm"},E={class:"flex flex-col mt-4"},J=["onClick"],N=i({__name:"MobileFengYunBangIndex",setup(i){const{t:N}=u(),P=a(),Q=n(P.list[0]?.id||0),R=n(null),U=n({}),G=n(!1),K=e=>{Q.value=e;const t=U.value[e];let s=null;if(t&&(s=t.$el?t.$el:t),s&&R.value){const e=s.offsetTop-(parseInt(getComputedStyle(R.value).paddingTop)||0)-68;R.value.scrollTo({top:e<0?0:e,behavior:"smooth"})}G.value=!1};return c(()=>P.list,e=>{e.length>0&&S(()=>{Q.value=e[0].id,K(e[0].id)})}),p(()=>{l(N)}),(a,l)=>(v(),d(b,null,[m("div",A,[m("div",z,[g(r,{class:"text-lg font-semibold",icon:y(C),iconSize:22,onClick:l[0]||(l[0]=e=>a.$router.back())},{default:f(()=>[_(x(a.$t("b.ming-ren-tang")),1)]),_:1},8,["icon"]),g(r,{icon:y($),iconSize:22,onClick:l[1]||(l[1]=e=>G.value=!0)},null,8,["icon"])]),m("div",{ref_key:"rightContainer",ref:R,class:"flex-1 h-[100dvh-68px] overflow-y-auto p-2 space-y-4"},[y(P).list.length?(v(!0),d(b,{key:0},j(y(P).list,l=>(v(),k(t,{key:l.id,ref_for:!0,ref:e=>{e&&(U.value[l.id]=e)}},{default:f(()=>[m("div",T,[g(e,{src:l.headImg,size:46},null,8,["src"]),m("div",B,[m("span",I,x(l.title),1),m("span",null,x(a.$t("d.chuang-jian-yu-itemcreatedat",[l.createdAt]))+" "+x(l.createdAt!=l.updatedAt?a.$t("d.zui-hou-geng-xin-yu-itemupdatedat",[l.updatedAt]):""),1)])]),m("div",F,[l.user?(v(),k(t,{key:0,noPg:"",class:""},{default:f(()=>[m("div",H,[g(e,{src:l.user.headImg,size:46},null,8,["src"]),m("div",M,[m("span",V,x(l.user.nickname),1),l.user&&l.user.roles?(v(),k(s,{key:0,user:l.user,isAll:"",size:"sm"},null,8,["user"])):h("",!0)])])]),_:2},1024)):h("",!0)]),m("div",{class:"tiptap",innerHTML:l.content},null,8,D)]),_:2},1024))),128)):h("",!0)],512)]),g(o,{modelValue:G.value,"onUpdate:modelValue":l[2]||(l[2]=e=>G.value=e),position:"right"},{default:f(({close:e})=>[m("div",L,[m("h3",Y,x(a.$t("b.ming-ren-tang")),1),m("div",q,x(a.$t("t.pai-xu-yu-pai-ming-wu-guan")),1),m("div",E,[(v(!0),d(b,null,j(y(P).list,t=>(v(),d("div",{key:t.id,class:w(["py-2 transition-all hover:text-active hover:bg-active/5 px-2 rounded-md hover:text-lg transform cursor-pointer",{"text-active bg-active/5 ":t.id===Q.value}]),onClick:s=>(K(t.id),e())},x(t.title),11,J))),128))])])]),_:1},8,["modelValue"])],64))}});export{N as default};
