import{_ as e}from"./Card.vue_vue_type_script_setup_true_lang-CKUt07f3.js";import{_ as a}from"./ScInput.vue_vue_type_script_setup_true_lang-mHghoQCQ.js";import{_ as l}from"./ScButton.vue_vue_type_script_setup_true_lang-Ef9ZHzzG.js";import{_ as o}from"./EmptyState.vue_vue_type_script_setup_true_lang-Bg-k0MPd.js";import{aj as t,f as s,ak as u,al as i}from"./store-module/admin/service-Dq4pkIEc.js";import{v as n,w as r,u as d,x as c,H as m,f as v,o as g,g as p,I as h,B as _,D as f,q as j,C as b,J as x,A as y,F as $,y as k,a0 as C}from"./lucide-vue-next-Cfi51zEF.js";import{v as V}from"./verify-CgysHlmG.js";import{_ as w}from"./ScTag.vue_vue_type_script_setup_true_lang-DsxShMn2.js";import{_ as z}from"./ScModal.vue_vue_type_script_setup_true_lang-Go71FWDS.js";import{u as B}from"./store-global/themeStore-CaQtZyHC.js";import{$ as q,l as S,a0 as A}from"./vendor-lucide-BLqUBl1f.js";import"./store-global/configStore-BTeIPwoA.js";import"./store-module/user/userStore-8LCsejjm.js";import"./store-module/post/postStore-D6edmGvH.js";const U={class:"flex gap-2"},I={key:0,class:"text-error"},D={class:"overflow-x-auto"},E={class:"table"},R={class:"flex w-22"},T={class:"flex"},F={key:0},G={class:"flex items-center gap-2"},L={class:"text-xl mb-4"},M={class:"flex items-center gap-4"},H={class:"flex items-center gap-4 mb-2"},J={class:"flex gap-4 justify-end"},K={class:"text-xl mb-4"},N={class:"text-warning"},O={class:"flex items-center gap-4"},P={class:"flex items-center gap-4 mb-2"},Q={class:"flex gap-4 justify-end"},W={class:"text-xl mb-4"},X={class:"text-warning mb-4"},Y={class:"flex gap-4 justify-end"},Z=n({__name:"MobileAdminRole",setup(n){const{t:Z}=r(),ee=B(),ae=d(),le=c([]),oe=c(-1),te=c(!1),se=c(!1),ue=c(!1),ie=c(V([1])),ne=c({color:"#66ccff",name:""}),re=c({color:"",name:""}),de=(e=!1)=>{t().then(a=>{200===a.data.code&&(le.value=a.data.data.map(e=>(e.createdAt=s(e.createdAt,Z),e.updatedAt=s(e.updatedAt,Z),e)),e&&ae.success(Z("t.jiao-se-lie-biao-shua-xin-cheng-gong")))}).catch(e=>{})},ce=e=>{const a=le.value[e];if(!te.value)return oe.value=e,re.value.color=a.color,re.value.name=a.name,void(te.value=!0);u({id:a.id,color:re.value.color,name:re.value.name}).then(e=>{200===e.data.code&&(de(),te.value=!1,ae.success(Z("t.jiao-se-geng-xin-cheng-gong")))}).catch(e=>{ae.error(Z("t.jiao-se-geng-xin-shi-bai")+e.msg)})},me=()=>{if(!se.value)return ne.value.name="",void(se.value=!0);ne.value.name?i(ne.value).then(e=>{200===e.data.code&&(de(),se.value=!1,ae.success(Z("t.jiao-se-tian-jia-cheng-gong")))}).catch(e=>{ae.error(Z("t.jiao-se-tian-jia-shi-bai")+e.msg)}):ae.error(Z("t.jiao-se-ming-cheng-bu-neng-wei-kong"))},ve=(e,a)=>{const l=le.value[e];if(!ue.value)return oe.value=e,void(ue.value=!0);u({id:l.id,status:a}).then(e=>{200===e.data.code&&(de(),ue.value=!1,ae.success(Z("t.jiao-se-shan-chu-cheng-gong")))}).catch(e=>{})};return m(()=>{de()}),(t,s)=>(g(),v($,null,[p(e,{class:"mb-4"},{default:f(()=>[j("div",U,[p(l,{onClick:s[0]||(s[0]=e=>de(!0)),icon:b(q),Border:""},{default:f(()=>[x(y(t.$t("b.shua-xin-jiao-se-lie-biao")),1)]),_:1},8,["icon"]),p(l,{onClick:me,icon:b(S),Border:""},{default:f(()=>[x(y(t.$t("b.tian-jia-xin-jiao-se")),1)]),_:1},8,["icon"])])]),_:1}),ie.value?h("",!0):(g(),v("div",I,y(t.$t("d.dang-qian-quan-xian-bu-zu-wu-fa-jin-hang-cao-zuo")),1)),le.value.length?(g(),_(e,{key:1,class:"mb-4"},{default:f(()=>[j("div",D,[j("table",E,[j("thead",null,[j("tr",null,[s[15]||(s[15]=j("th",null,"ID",-1)),j("th",null,y(t.$t("b.ming-cheng")),1),j("th",null,y(t.$t("b.yong-you-ren-shu")),1),j("th",null,y(t.$t("f.zhuang-tai")),1),j("th",null,y(t.$t("b.cao-zuo")),1)])]),j("tbody",null,[(g(!0),v($,null,k(le.value,(e,a)=>(g(),v("tr",{key:e.id},[j("th",null,y(e.id),1),j("td",null,[j("div",R,[p(w,{bgColor:e.color,size:"sm"},{default:f(()=>[x(y(e.name),1)]),_:2},1032,["bgColor"])])]),j("td",null,y(e.users.length),1),j("td",null,[j("div",T,[p(w,{status:1===e.status?"success":"error",size:"sm"},{default:f(()=>[x(y(1===e.status?t.$t("b.qi-yong"):t.$t("b.jin-yong")),1)]),_:2},1032,["status"])])]),ie.value?(g(),v("td",F,[j("div",G,[p(l,{onClick:e=>ce(a),Border:""},{default:f(()=>[x(y(t.$t("b.bian-ji")),1)]),_:1},8,["onClick"]),e.id>10?(g(),_(l,{key:0,onClick:e=>ve(a,0),Border:""},{default:f(()=>[x(y(t.$t("b.jin-yong")),1)]),_:1},8,["onClick"])):h("",!0)])])):h("",!0)]))),128))])])])]),_:1})):(g(),_(o,{key:2,title:t.$t("t.zan-wu-tie-zi"),iconSize:"64",iconColor:"#ccc",icon:b(A),class:"mt-8",action:t.$t("b.dian-ji-shua-xin"),actionIcon:b(q),onActionClick:s[1]||(s[1]=e=>de(!0))},null,8,["title","icon","action","actionIcon"])),p(z,{modelValue:te.value,"onUpdate:modelValue":s[6]||(s[6]=e=>te.value=e)},{default:f(()=>[p(e,{class:"w-[95vw]"},{default:f(()=>[j("div",L,y(t.$t("d.xiu-gai-jiao-se")),1),j("div",M,[j("span",null,y(t.$t("d.ming-cheng")),1),p(a,{modelValue:re.value.name,"onUpdate:modelValue":s[2]||(s[2]=e=>re.value.name=e),placeholder:t.$t("d.jiao-se-ming-cheng"),class:"m-2"},null,8,["modelValue","placeholder"])]),j("div",H,[j("span",null,y(t.$t("d.bei-jing-yan-se")),1),p(w,{bgColor:re.value.color,size:"md"},{default:f(()=>[x(y(re.value.name),1)]),_:1},8,["bgColor"])]),p(b(C),{modelValue:re.value.color,"onUpdate:modelValue":s[3]||(s[3]=e=>re.value.color=e),mode:"solid",showColorList:!1,showEyeDrop:!0,theme:b(ee).darkTheme?"dark":"light",type:"RGBA"},null,8,["modelValue","theme"]),j("div",J,[p(l,{class:"px-4",onClick:s[4]||(s[4]=e=>ce(oe.value)),Border:""},{default:f(()=>[x(y(t.$t("b.que-ren-xiu-gai")),1)]),_:1}),p(l,{class:"px-4",onClick:s[5]||(s[5]=e=>te.value=!1),Border:""},{default:f(()=>[x(y(t.$t("b.qu-xiao")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue"]),p(z,{modelValue:se.value,"onUpdate:modelValue":s[10]||(s[10]=e=>se.value=e)},{default:f(()=>[p(e,{class:"w-[95vw]"},{default:f(()=>[j("div",K,y(t.$t("b.tian-jia-xin-jiao-se")),1),j("div",N,y(t.$t("d.xin-tian-jia-de-jiao-se-bu-hui-you-ren-he-shi-ji-quan-xian")),1),j("div",O,[j("span",null,y(t.$t("d.ming-cheng")),1),p(a,{modelValue:ne.value.name,"onUpdate:modelValue":s[7]||(s[7]=e=>ne.value.name=e),placeholder:t.$t("d.jiao-se-ming-cheng"),class:"m-2"},null,8,["modelValue","placeholder"])]),j("div",P,[j("span",null,y(t.$t("d.bei-jing-yan-se")),1),ne.value.name?(g(),_(w,{key:0,bgColor:ne.value.color,size:"md"},{default:f(()=>[x(y(ne.value.name),1)]),_:1},8,["bgColor"])):h("",!0)]),p(b(C),{modelValue:ne.value.color,"onUpdate:modelValue":s[8]||(s[8]=e=>ne.value.color=e),mode:"solid",showColorList:!1,showEyeDrop:!0,theme:b(ee).darkTheme?"dark":"light",type:"RGBA"},null,8,["modelValue","theme"]),j("div",Q,[p(l,{class:"px-4",onClick:me,Border:""},{default:f(()=>[x(y(t.$t("b.que-ren-tian-jia")),1)]),_:1}),p(l,{class:"px-4",onClick:s[9]||(s[9]=e=>se.value=!1),Border:""},{default:f(()=>[x(y(t.$t("b.qu-xiao")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue"]),p(z,{modelValue:ue.value,"onUpdate:modelValue":s[14]||(s[14]=e=>ue.value=e)},{default:f(()=>[p(e,{class:"w-[95vw]"},{default:f(()=>[j("div",W,y(t.$t("d.jin-yong-jiao-se")),1),j("div",X,y(t.$t("d.jin-yong-jiao-se-hou-gai-jiao-se-jiang-bu-zai-zhan-shi-bu-hui-shan-chu-gai-jiao-se-de-xiang-guan-shu-ju-zai-zhang-hao-guan-li-zhong-reng-ran-ke-yi-kan-dao-gai-jiao-se-dan-bu-neng-zai-fu-yu-xin-yong-hu")),1),j("div",Y,[p(l,{class:"px-4 border border-error text-error",onClick:s[11]||(s[11]=e=>ve(oe.value,0))},{default:f(()=>[x(y(t.$t("b.que-ren-jin-yong")),1)]),_:1}),p(l,{class:"px-4 border border-success text-success",onClick:s[12]||(s[12]=e=>ve(oe.value,1))},{default:f(()=>[x(y(t.$t("b.hui-fu")),1)]),_:1}),p(l,{class:"px-4",onClick:s[13]||(s[13]=e=>ue.value=!1),Border:""},{default:f(()=>[x(y(t.$t("b.qu-xiao")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue"])],64))}});export{Z as default};
